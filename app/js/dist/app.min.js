"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var app=angular.module("app",["ui.router","routesModule","LocalStorageModule","uiGmapgoogle-maps","ngProgress","ui-notification","ngMap","ui.select","ui.select2","ngSanitize","color.picker","ui.bootstrap","datatables","ngTagsInput","ngFileUpload","infinite-scroll","ui.tree","btorfs.multiselect","htmlToPdfSave","dndLists","angular.chips","ui.bootstrap.contextMenu","cloudinary"]);function config(NotificationProvider,uiGmapGoogleMapApiProvider,treeConfig,cloudinaryProvider){uiGmapGoogleMapApiProvider.configure({key:"AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",v:"3.exp",libraries:"places,weather,geometry,visualization"}),NotificationProvider.setOptions({delay:3e3,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"top"}),treeConfig.defaultCollapsed=!0,cloudinaryProvider.set("cloud_name","dktnhmsjx").set("upload_preset","cloudes_frontend")}function routeConfig($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("3dViewer",{url:"/",templateUrl:"/partials/3d-viewer.html",controller:"_3dViewerCtrl as vm"})}app.config(config),angular.module("routesModule",[]).config(routeConfig),function(){angular.module("app").factory("apiFactory",function($http,$state,$location,localStorageService,globals,Upload,Notification){var _ref,url="https://api.staging.cloudes.eu",headers=function(method,token){return{"Content-Type":"GET"===method?void 0:"application/json","x-access-token":token?localStorageService.get("access-token"):void 0,platform:JSON.stringify({source:"web"})}},progress=globals.progress,logout=(globals.userStore,globals.logout);return _defineProperty(_ref={login:function(payload){var promise=this.progressify($http({url:url+"/authenticate",method:"POST",headers:headers("POST"),data:payload}));return promise},forgotPassword:function(payload){var promise=this.progressify($http({url:url+"/forgetPassword",method:"POST",headers:headers("POST"),data:payload}));return promise},registration:function(payload){var promise=this.progressify($http({url:url+"/dashboardRegistration",method:"POST",headers:headers("POST"),data:payload}));return promise},subscribe:function(payload){var promise=this.progressify($http({url:url+"/subscribe",method:"POST",headers:headers("POST"),data:payload}));return promise},getCompanyById:function(companyId){var promise=this.progressify($http({url:url+"/api/getCompanyById/"+companyId,method:"GET",headers:headers("GET",!0)}));return promise},listAllUsers:function(){var promise=this.progressify($http({url:url+"/api/getadminusers",method:"GET",headers:headers("GET",!0)}));return promise},listAllProjects:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllProjects"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllClients:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllClients"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllRoofers:function(){var promise=this.progressify($http({url:url+"/api/listAllRoofers",method:"GET",headers:headers("GET",!0)}));return promise},createProject:function(payload){var promise=this.progressify($http({url:url+"/api/createProject",method:"POST",headers:headers("POST",!0),data:payload}));return promise},createIssue:function(issueobj){var promise=this.progressify(Upload.upload({url:url+"/api/createIssue",method:"POST",data:issueobj,headers:headers("POST",!0)}));return promise},updateIssue:function(issueobj,id){console.log("At apifactory update obj:",issueobj),console.log("At ID:",id);var promise=this.progressify(Upload.upload({url:url+"/api/updateIssue/"+id,method:"PUT",data:issueobj,headers:headers("PUT",!0)}));return promise},getProjectRoofPlans:function(projectId){var promise=this.progressify($http({url:url+"/api/getProjectRoofPlans/"+projectId,method:"GET",headers:headers("GET",!0)}));return promise},saveRoofPlan:function(roofPlanId,payload){var promise=this.progressify($http({url:url+"/api/saveRoofPlan/"+roofPlanId,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise},createMaterials:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createMaterial",data:payload,headers:headers("POST",!0)}));return promise},createEquipment:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createEquipment",data:payload,headers:headers("POST",!0)}));return promise},listAllMaterials:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllMaterials"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllComboMaterials:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listComboMaterials"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllEquipments:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllEquipments"+query,method:"GET",headers:headers("GET",!0)}));return promise},updateMaterialById:function(id,payload){var promise=this.progressify(Upload.upload({url:url+"/api/updateMaterialById/"+id,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise},getMaterialById:function(materialID){var promise=this.progressify($http({url:url+"/api/getMaterialById/"+materialID,method:"GET",headers:headers("GET",!0)}));return promise},getComboMaterialById:function(comboId){var promise=this.progressify($http({url:url+"/api/getComboMaterialById/"+comboId,method:"GET",headers:headers("GET",!0)}));return promise},createComboMaterial:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createComboMaterial",method:"POST",headers:headers("POST",!0),data:payload}));return promise},updateComboMaterialList:function(id,payload){var promise=this.progressify($http({url:url+"/api/updateComboMaterialList/"+id,method:"PUT",headers:headers("POST",!0),data:payload}));return promise},updateComboMaterial:function(id,payload){var promise=this.progressify(Upload.upload({url:url+"/api/updateComboMaterial/"+id,method:"PUT",headers:headers("POST",!0),data:payload}));return promise},showConversionRate:function(payload){var promise=this.progressify($http({url:url+"/api/showConversionRate",method:"POST",headers:headers("POST",!0),data:payload}));return promise}},"getMaterialById",function(id){var promise=this.progressify($http({url:url+"/api/getMaterialById/"+id,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"progressify",function(promise){return new Promise(function(resolve,reject){progress.start(),promise.then(function(resp){progress.complete(),resolve(resp)}).catch(function(err){progress.complete(),401===err.status&&logout(),reject(err)})})}),_defineProperty(_ref,"listAllIssues",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllIssues"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getIssuesList",function(){var promise=this.progressify($http({url:url+"/api/allIssues",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"isTokenValid",function(payload){var promise=this.progressify($http({url:url+"/isTokenValid",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"setPassword",function(payload){var promise=this.progressify($http({url:url+"/resetPasswordAdmin",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"updateRoleBasedAccess",function(payload){var promise=this.progressify($http({url:url+"/api/updateRoleBasedAccess",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"addHierarchy",function(payload){var promise=this.progressify($http({url:url+"/api/addHierarchy",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"getHierarchyChildren",function(hierarchyId){var promise=this.progressify($http({url:url+"/api/getHierarchyChildren/"+hierarchyId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getHierarchy",function(projectId){var promise=this.progressify($http({url:url+"/api/getHierarchy/"+projectId+"?depth=2",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"viewProjectAssets",function(projectId){var promise=this.progressify($http({url:url+"/api/viewProjectAssets/"+projectId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"addFileToHierarchy",function(payload){var promise=this.progressify($http({url:url+"/api/addFileToHierarchy",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"viewHierarchy",function(hierarchyId){var promise=this.progressify($http({url:url+"/api/viewHierarchy/"+hierarchyId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"cloneAssets",function(payload){var promise=this.progressify($http({url:url+"/api/cloneAssets",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"uploadFileInFileManager",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/uploadFileInFileManager",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"dragMoveNodes",function(payload){var promise=this.progressify($http({url:url+"/api/dragMoveNodes",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"moveAssets",function(payload){var promise=this.progressify($http({url:url+"/api/moveAssets",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"deleteAssets",function(payload){var promise=this.progressify($http({url:url+"/api/deleteAssets",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"get3DPage",function(){var token=localStorageService.get("access-token"),Data3D={"x-access-token":token,projectId:"5b697c030a7e97056835a94a"},promise=this.progressify($http({url:"https://cloudes-3d.com",method:"POST",data:Data3D}));return promise}),_defineProperty(_ref,"createClient",function(client){console.log("client in api factory",client);var promise=this.progressify($http({url:url+"/api/createClient",method:"POST",headers:headers("POST",!0),data:client}));return promise}),_defineProperty(_ref,"saveHierarchyTree",function(projectId,name){var promise=this.progressify($http({url:url+"/api/saveHierarchyTree/"+projectId,method:"PUT",headers:headers("POST",!0),data:name}));return promise}),_defineProperty(_ref,"getSystemTag",function(){var promise=this.progressify($http({url:url+"/api/getComboSystemTag",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"bookMarkProject",function(id,added){var promise=this.progressify($http({url:url+"/api/bookMarkProject",method:"PUT",data:{projectId:id,added:added},headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getBookmarks",function(){var promise=this.progressify($http({url:url+"/api/getBookmarks",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getHierarchyTemplate",function(){var promise=this.progressify($http({url:url+"/api/getHierarchyTemplate",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"loadHierarchyTree",function(payload){var promise=this.progressify($http({url:url+"/api/loadHierarchyTree",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"newFileUpload",function(payload){var promise=this.progressify($http({url:url+"/api/newFileUpload",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"showProjectFiles",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/showProjectFiles"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"changeProjectTemplate",function(payload){var promise=this.progressify($http({url:url+"/api/changeProjectTemplate",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_ref})}(),function(){angular.module("app").factory("authFactory",function($http,$location,localStorageService){return{checkUser:function(){var token=localStorageService.get("access-token");return!(!token||""==token)},checkPrivilege:function(type,subType){var _localStorageService$=localStorageService.get("userData"),privilege=_localStorageService$.privilege,_localStorageService$2=localStorageService.get("companyData"),privileges=_localStorageService$2.privileges;return privilege<=privileges[type][subType]}}})}(),function(){angular.module("app").factory("fileManagerFactory",function(apiFactory,Notification){return{clipBoard:(items={type:0,data:[],source:null},{copy:function(item){items.source=null,items.type=0,items.data=[item]},cut:function(item,source){items.source=source,items.type=1,items.data=[item]},paste:function(destId){return new Promise(function(resolve,reject){if(items.data.length<1)return Notification.warning("Clipboard is empty"),void resolve(!1);var apiType=0===items.type?"cloneAssets":"moveAssets",payload={assetId:items.data.map(function(x){return x._id}),sourceId:0===items.type?void 0:items.source,destId:0===items.type?void 0:destId,hierarchyId:0===items.type?destId:void 0};apiFactory[apiType](payload).then(function(resp){Notification.success(resp.data.message),items={type:0,data:[],source:null},resolve(!0)}).catch(function(e){reject(e)})})}}),navigationStack:function(){var stack=[],head=stack.length-1;return{push:function(item){stack.splice(head+1,stack.length,item),head=stack.length-1},forward:function(){if(stack.length&&head!==stack.length-1)return stack[++head]?(stack[head].toggle(),stack[head]):void 0},backward:function(){if(stack.length&&!(head<0))return stack[head]?(stack[head].toggle(),stack[--head]):void 0}}},breadCrumb:function(){var breadCrumbs=[];return{set:function(val){breadCrumbs.push(val)},get:function(){return breadCrumbs}}},splitDestination:function(filesArray){return filesArray.reduce(function(acc,x){return x.size<2e7&&("application/pdf"===x.type||/image*/.test(x.type))?acc.cloudinary.push(x):acc.s3.push(x),acc},{s3:[],cloudinary:[]})},resolveDestType:function(file){return file.size<15e7&&("application/pdf"===file.type||/image*/.test(file.type))?2:1},checkUploadCompletion:function(files){var bool=!0;return files.s3.forEach(function(x){x.completed||x.aborted||!bool||(bool=!1)}),files.cloudinary.forEach(function(x){x.completed||x.aborted||!bool||(bool=!1)}),bool}};var items})}(),function(){angular.module("app").factory("globals",function($http,$state,$location,ngProgressFactory,Notification,localStorageService){var throttler=(enabled=!0,function(fn){enabled&&(enabled=!1,setTimeout(function(){enabled=!0}),fn())});var enabled;return{progress:(progressbar=ngProgressFactory.createInstance(),progressbar),logout:function(){localStorageService.remove("access-token"),localStorageService.remove("userData"),localStorageService.remove("companyData"),localStorageService.remove("currentProject"),localStorageService.remove("inventoryState"),$state.go("preLogin"),throttler(function(){return Notification.error("Please login")})},userStore:(userData=localStorageService.get("userData")||{},{set:function(data){return data.privilege=["admin","manager","sub_contractor","team_leader","worker"].indexOf(data.designation),localStorageService.set("userData",data),userData=data},get:function(){return userData},reset:function(){localStorageService.remove("userData"),userData={}}}),companyStore:(companyData=localStorageService.get("companyData")||null,{set:function(data){return localStorageService.set("companyData",data),companyData=data},get:function(){return companyData},refetch:function(id){$http({method:"GET",headers:{"x-access-token":localStorageService.get("access-token"),platform:JSON.stringify({source:"web"})},url:"https://api.staging.cloudes.eu/api/getCompanyById/"+id}).then(function(resp){localStorageService.set("companyData",resp.data)}).catch(function(e){console.log(e)})},reset:function(){localStorageService.remove("companyData"),companyData={}}}),projectStore:(currentProject=localStorageService.get("currentProject")||null,{set:function(data){return localStorageService.set("currentProject",data),currentProject=data},get:function(){return currentProject},reset:function(){localStorageService.remove("currentProject"),currentProject=null}}),inventoryState:function(){var state=localStorageService.get("inventoryState")||{tab:0,page:{material:1,combo:1}};return{setPage:function(type,value){state.page[type]=value,localStorageService.set("inventoryState",state)},setTab:function(val){state.tab=val,localStorageService.set("inventoryState",state)},get:function(){return state}}},mUnits:[{name:"mt",value:"mt"},{name:"sq.mt",value:"sq.mt"},{value:"cu.mt",name:"cu.mt"},{name:"ft",value:"ft"},{name:"sq.ft",value:"sq.ft"},{value:"cu.ft",name:"cu.ft"},{value:"unit",name:"unit"}],getCurrency:function(){return $http.get("/data/currencies.json")},getCountryCode:function(){return $http.get("/data/CountryCode.json")},getIndustry:function(){return $http.get("/data/industry.json")},debounce:function(rate){var timer=void 0;return function(fn,args){clearTimeout(timer),timer=setTimeout(function(){fn.apply(null,args)},rate)}},genericStore:function(){var item=void 0;return{store:function(val){item=val},get:function(){return item}}}};var currentProject;var companyData;var userData;var progressbar})}(),function(){angular.module("app").factory("uploadFactory",function($http,$location,localStorageService,apiFactory,Upload,cloudinary,Notification){var config={signerUrl:"https://api.staging.cloudes.eu/signv4_auth",aws_key:"AKIAJMO3YJTPKYV5DN5A",bucket:"3dfilesdata/test",awsRegion:"ap-south-1",computeContentMd5:!0,allowS3ExistenceOptimization:!0,cryptoMd5Method:function(data){return AWS.util.crypto.md5(data,"base64")},cryptoHexEncodedHash256:function(data){return AWS.util.crypto.sha256(data,"hex")}};return{init:function(){return Evaporate.create(config)},start:function(handler){var fileUpload=this.init();fileUpload.then(handler).catch(function(e){console.log(e)})},pause:function(file){this.pause("3dfilesdata/test/"+file.name,{force:!0}).then(function(){file.isPaused=!0,console.log("Paused!")}).catch(function(e){console.log(e)})},resume:function(file){this.resume("3dfilesdata/test/"+file.name).then(function(){file.isPaused=!1,console.log("Resumed!")}).catch(function(e){console.log(e)})},abort:function(file){this.cancel("3dfilesdata/test/"+file.name).then(function(){console.log("Canceled!")}).catch(function(e){console.log(e)})}}})}(),function(){angular.module("app").controller("_3dViewerCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,localStorageService,globals,NgMap){this.loggedIn=!0;var logout=globals.logout;globals.userStore,globals.throttler;if(!authFactory.checkUser())return logout(),void(this.loggedIn=!1);this.logout=function(){logout()}})}(),function(){angular.module("app").filter("convertCurrency",function(){return function(input,conversionRate){return input?input*conversionRate:0}}),angular.module("app").filter("roundNum",function(){return function(input,place){return input?Number(input).toFixed(place):0}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJyb3V0ZXMubW9kdWxlLmpzIiwiYXBpLmZhY3RvcnkuanMiLCJhdXRoLmZhY3RvcnkuanMiLCJmaWxlTWFuYWdlci5mYWN0b3J5LmpzIiwiZ2xvYmFscy5mYWN0b3J5LmpzIiwiczN3cmFwcGVyLmZhY3RvcnkuanMiLCIzZC12aWV3ZXIuY29udHJvbGxlci5qcyIsImluZGV4LmZpbHRlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiTm90aWZpY2F0aW9uUHJvdmlkZXIiLCJ1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlciIsInRyZWVDb25maWciLCJjbG91ZGluYXJ5UHJvdmlkZXIiLCJjb25maWd1cmUiLCJrZXkiLCJ2IiwibGlicmFyaWVzIiwic2V0T3B0aW9ucyIsImRlbGF5Iiwic3RhcnRUb3AiLCJzdGFydFJpZ2h0IiwidmVydGljYWxTcGFjaW5nIiwiaG9yaXpvbnRhbFNwYWNpbmciLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJkZWZhdWx0Q29sbGFwc2VkIiwic2V0Iiwicm91dGVDb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiZmFjdG9yeSIsIiRodHRwIiwiJHN0YXRlIiwiJGxvY2F0aW9uIiwibG9jYWxTdG9yYWdlU2VydmljZSIsImdsb2JhbHMiLCJVcGxvYWQiLCJOb3RpZmljYXRpb24iLCJfcmVmIiwiaGVhZGVycyIsIm1ldGhvZCIsInRva2VuIiwiQ29udGVudC1UeXBlIiwidW5kZWZpbmVkIiwieC1hY2Nlc3MtdG9rZW4iLCJnZXQiLCJwbGF0Zm9ybSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzb3VyY2UiLCJwcm9ncmVzcyIsImxvZ291dCIsInVzZXJTdG9yZSIsIl9kZWZpbmVQcm9wZXJ0eSIsImxvZ2luIiwicGF5bG9hZCIsInByb21pc2UiLCJ0aGlzIiwicHJvZ3Jlc3NpZnkiLCJkYXRhIiwiZm9yZ290UGFzc3dvcmQiLCJyZWdpc3RyYXRpb24iLCJzdWJzY3JpYmUiLCJnZXRDb21wYW55QnlJZCIsImNvbXBhbnlJZCIsImxpc3RBbGxVc2VycyIsImxpc3RBbGxQcm9qZWN0cyIsInF1ZXJ5T2JqIiwicXVlcnkiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwiYWNjIiwic3RyIiwic2xpY2UiLCJsaXN0QWxsQ2xpZW50cyIsImxpc3RBbGxSb29mZXJzIiwiY3JlYXRlUHJvamVjdCIsImNyZWF0ZUlzc3VlIiwiaXNzdWVvYmoiLCJ1cGxvYWQiLCJ1cGRhdGVJc3N1ZSIsImlkIiwiY29uc29sZSIsImxvZyIsImdldFByb2plY3RSb29mUGxhbnMiLCJwcm9qZWN0SWQiLCJzYXZlUm9vZlBsYW4iLCJyb29mUGxhbklkIiwiY3JlYXRlTWF0ZXJpYWxzIiwiY3JlYXRlRXF1aXBtZW50IiwibGlzdEFsbE1hdGVyaWFscyIsImxpc3RBbGxDb21ib01hdGVyaWFscyIsImxpc3RBbGxFcXVpcG1lbnRzIiwidXBkYXRlTWF0ZXJpYWxCeUlkIiwiZ2V0TWF0ZXJpYWxCeUlkIiwibWF0ZXJpYWxJRCIsImdldENvbWJvTWF0ZXJpYWxCeUlkIiwiY29tYm9JZCIsImNyZWF0ZUNvbWJvTWF0ZXJpYWwiLCJ1cGRhdGVDb21ib01hdGVyaWFsTGlzdCIsInVwZGF0ZUNvbWJvTWF0ZXJpYWwiLCJzaG93Q29udmVyc2lvblJhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0YXJ0IiwidGhlbiIsInJlc3AiLCJjb21wbGV0ZSIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiaGllcmFyY2h5SWQiLCJEYXRhM0QiLCJjbGllbnQiLCJuYW1lIiwiYWRkZWQiLCJjaGVja1VzZXIiLCJjaGVja1ByaXZpbGVnZSIsInR5cGUiLCJzdWJUeXBlIiwiX2xvY2FsU3RvcmFnZVNlcnZpY2UkIiwicHJpdmlsZWdlIiwiX2xvY2FsU3RvcmFnZVNlcnZpY2UkMiIsInByaXZpbGVnZXMiLCJhcGlGYWN0b3J5IiwiY2xpcEJvYXJkIiwiaXRlbXMiLCJjb3B5IiwiaXRlbSIsImN1dCIsInBhc3RlIiwiZGVzdElkIiwibGVuZ3RoIiwid2FybmluZyIsImFwaVR5cGUiLCJhc3NldElkIiwibWFwIiwieCIsIl9pZCIsInNvdXJjZUlkIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJlIiwibmF2aWdhdGlvblN0YWNrIiwic3RhY2siLCJoZWFkIiwicHVzaCIsInNwbGljZSIsImZvcndhcmQiLCJ0b2dnbGUiLCJiYWNrd2FyZCIsImJyZWFkQ3J1bWIiLCJicmVhZENydW1icyIsInZhbCIsInNwbGl0RGVzdGluYXRpb24iLCJmaWxlc0FycmF5Iiwic2l6ZSIsInRlc3QiLCJjbG91ZGluYXJ5IiwiczMiLCJyZXNvbHZlRGVzdFR5cGUiLCJmaWxlIiwiY2hlY2tVcGxvYWRDb21wbGV0aW9uIiwiZmlsZXMiLCJib29sIiwiZm9yRWFjaCIsImNvbXBsZXRlZCIsImFib3J0ZWQiLCJuZ1Byb2dyZXNzRmFjdG9yeSIsInRocm90dGxlciIsImVuYWJsZWQiLCJmbiIsInNldFRpbWVvdXQiLCJwcm9ncmVzc2JhciIsImNyZWF0ZUluc3RhbmNlIiwicmVtb3ZlIiwiZ28iLCJlcnJvciIsInVzZXJEYXRhIiwiaW5kZXhPZiIsImRlc2lnbmF0aW9uIiwicmVzZXQiLCJjb21wYW55U3RvcmUiLCJjb21wYW55RGF0YSIsInJlZmV0Y2giLCJwcm9qZWN0U3RvcmUiLCJjdXJyZW50UHJvamVjdCIsImludmVudG9yeVN0YXRlIiwidGFiIiwicGFnZSIsIm1hdGVyaWFsIiwiY29tYm8iLCJzZXRQYWdlIiwidmFsdWUiLCJzZXRUYWIiLCJtVW5pdHMiLCJnZXRDdXJyZW5jeSIsImdldENvdW50cnlDb2RlIiwiZ2V0SW5kdXN0cnkiLCJkZWJvdW5jZSIsInJhdGUiLCJ0aW1lciIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJhcHBseSIsImdlbmVyaWNTdG9yZSIsInN0b3JlIiwic2lnbmVyVXJsIiwiYXdzX2tleSIsImJ1Y2tldCIsImF3c1JlZ2lvbiIsImNvbXB1dGVDb250ZW50TWQ1IiwiYWxsb3dTM0V4aXN0ZW5jZU9wdGltaXphdGlvbiIsImNyeXB0b01kNU1ldGhvZCIsIkFXUyIsInV0aWwiLCJjcnlwdG8iLCJtZDUiLCJjcnlwdG9IZXhFbmNvZGVkSGFzaDI1NiIsInNoYTI1NiIsImluaXQiLCJFdmFwb3JhdGUiLCJjcmVhdGUiLCJoYW5kbGVyIiwiZmlsZVVwbG9hZCIsInBhdXNlIiwiZm9yY2UiLCJpc1BhdXNlZCIsInJlc3VtZSIsImFib3J0IiwiY2FuY2VsIiwiJHNjb3BlIiwiJHRpbWVvdXQiLCJhdXRoRmFjdG9yeSIsIk5nTWFwIiwibG9nZ2VkSW4iLCJmaWx0ZXIiLCJpbnB1dCIsImNvbnZlcnNpb25SYXRlIiwicGxhY2UiLCJOdW1iZXIiLCJ0b0ZpeGVkIl0sIm1hcHBpbmdzIjoiaUxBQUEsSUFBQUEsSUFBQUMsUUFBQUMsT0FBQSxNQUFBLENBQ0EsWUFDQSxlQUNBLHFCQUNBLG9CQUNBLGFBQ0Esa0JBQ0EsUUFDQSxZQUNBLGFBQ0EsYUFDQSxlQUNBLGVBQ0EsYUFDQSxjQUNBLGVBQ0Esa0JBQ0EsVUFDQSxxQkFDQSxnQkFDQSxXQUNBLGdCQUNBLDJCQUNBLGVBSUEsU0FBQUMsT0FDQUMscUJBQ0FDLDJCQUNBQyxXQUNBQyxvQkFJQUYsMkJBQUFHLFVBQUEsQ0FDQUMsSUFBQSwwQ0FDQUMsRUFBQSxRQUNBQyxVQUFBLDBDQUtBUCxxQkFBQVEsV0FBQSxDQUNBQyxNQUFBLElBQ0FDLFNBQUEsR0FDQUMsV0FBQSxHQUNBQyxnQkFBQSxHQUNBQyxrQkFBQSxHQUNBQyxVQUFBLFFBQ0FDLFVBQUEsUUFJQWIsV0FBQWMsa0JBQUEsRUFHQWIsbUJBQ0FjLElBQUEsYUFBQSxhQUNBQSxJQUFBLGdCQUFBLG9CQ3pEQSxTQUFBQyxZQUFBQyxlQUFBQyxvQkFDQUEsbUJBQUFDLFVBQUEsS0FDQUYsZUFBQUcsTUFBQSxXQUFBLENBQ0FDLElBQUEsSUFDQUMsWUFBQSwyQkFDQUMsV0FBQSx3QkRrQkE3QixJQUFB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bEQsUUFBQUMsT0FBQSxPQUFBNE8sT0FBQSxrQkFFQSxXQUNBLE9BQUEsU0FBQUMsTUFBQUMsZ0JBQ0EsT0FBQUQsTUFHQUEsTUFBQUMsZUFGQSxLQU9BL08sUUFBQUMsT0FBQSxPQUFBNE8sT0FBQSxXQUVBLFdBQ0EsT0FBQSxTQUFBQyxNQUFBRSxPQUNBLE9BQUFGLE1BR0FHLE9BQUFILE9BQUFJLFFBQUFGLE9BRkEsS0FsQkEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcclxuICBcInVpLnJvdXRlclwiLFxyXG4gIFwicm91dGVzTW9kdWxlXCIsXHJcbiAgXCJMb2NhbFN0b3JhZ2VNb2R1bGVcIixcclxuICBcInVpR21hcGdvb2dsZS1tYXBzXCIsXHJcbiAgXCJuZ1Byb2dyZXNzXCIsXHJcbiAgXCJ1aS1ub3RpZmljYXRpb25cIixcclxuICBcIm5nTWFwXCIsXHJcbiAgXCJ1aS5zZWxlY3RcIixcclxuICAndWkuc2VsZWN0MicsXHJcbiAgXCJuZ1Nhbml0aXplXCIsXHJcbiAgXCJjb2xvci5waWNrZXJcIixcclxuICBcInVpLmJvb3RzdHJhcFwiLFxyXG4gIFwiZGF0YXRhYmxlc1wiLFxyXG4gIFwibmdUYWdzSW5wdXRcIixcclxuICBcIm5nRmlsZVVwbG9hZFwiLFxyXG4gIFwiaW5maW5pdGUtc2Nyb2xsXCIsXHJcbiAgXCJ1aS50cmVlXCIsXHJcbiAgXCJidG9yZnMubXVsdGlzZWxlY3RcIixcclxuICBcImh0bWxUb1BkZlNhdmVcIixcclxuICBcImRuZExpc3RzXCIsXHJcbiAgXCJhbmd1bGFyLmNoaXBzXCIsXHJcbiAgXCJ1aS5ib290c3RyYXAuY29udGV4dE1lbnVcIixcclxuICBcImNsb3VkaW5hcnlcIlxyXG5dKTtcclxuYXBwLmNvbmZpZyhjb25maWcpO1xyXG5cclxuZnVuY3Rpb24gY29uZmlnKFxyXG4gIE5vdGlmaWNhdGlvblByb3ZpZGVyLFxyXG4gIHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyLFxyXG4gIHRyZWVDb25maWcsXHJcbiAgY2xvdWRpbmFyeVByb3ZpZGVyXHJcbikge1xyXG4gIC8qIEdvb2dsZSBtYXAgY29uZmlnICovXHJcblxyXG4gIHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyLmNvbmZpZ3VyZSh7XHJcbiAgICBrZXk6IFwiQUl6YVN5QTNNSUEtbUtXcV82MHExSzB6T0hndXJheFQtMVFQeE5VXCIsXHJcbiAgICB2OiBcIjMuZXhwXCIsXHJcbiAgICBsaWJyYXJpZXM6IFwicGxhY2VzLHdlYXRoZXIsZ2VvbWV0cnksdmlzdWFsaXphdGlvblwiXHJcbiAgfSk7XHJcblxyXG4gIC8qIE5vdGlmaWNhdGlvbiBjb25maWcgKi9cclxuXHJcbiAgTm90aWZpY2F0aW9uUHJvdmlkZXIuc2V0T3B0aW9ucyh7XHJcbiAgICBkZWxheTogMzAwMCxcclxuICAgIHN0YXJ0VG9wOiAyMCxcclxuICAgIHN0YXJ0UmlnaHQ6IDEwLFxyXG4gICAgdmVydGljYWxTcGFjaW5nOiAyMCxcclxuICAgIGhvcml6b250YWxTcGFjaW5nOiAyMCxcclxuICAgIHBvc2l0aW9uWDogXCJyaWdodFwiLFxyXG4gICAgcG9zaXRpb25ZOiBcInRvcFwiXHJcbiAgfSk7XHJcblxyXG4gIC8qIFRyZWUgY29uZmlndXJhdGlvbiAqL1xyXG4gIHRyZWVDb25maWcuZGVmYXVsdENvbGxhcHNlZCA9IHRydWU7XHJcblxyXG4gIC8qIENsb3VkaW5hcnkgY29uZmlnICovXHJcbiAgY2xvdWRpbmFyeVByb3ZpZGVyXHJcbiAgICAuc2V0KFwiY2xvdWRfbmFtZVwiLCBcImRrdG5obXNqeFwiKVxyXG4gICAgLnNldChcInVwbG9hZF9wcmVzZXRcIiwgXCJjbG91ZGVzX2Zyb250ZW5kXCIpO1xyXG59XHJcbiIsImFuZ3VsYXIubW9kdWxlKFwicm91dGVzTW9kdWxlXCIsIFtdKS5jb25maWcocm91dGVDb25maWcpO1xyXG5cclxuZnVuY3Rpb24gcm91dGVDb25maWcoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiM2RWaWV3ZXJcIiwge1xyXG4gICAgdXJsOiBcIi9cIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy8zZC12aWV3ZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJfM2RWaWV3ZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxufVxyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJhcGlGYWN0b3J5XCIsIGFwaUZhY3RvcnkpO1xyXG5cclxuICBmdW5jdGlvbiBhcGlGYWN0b3J5KFxyXG4gICAgJGh0dHAsXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgZ2xvYmFscyxcclxuICAgIFVwbG9hZCxcclxuICAgIE5vdGlmaWNhdGlvblxyXG4gICkge1xyXG4gICAgICBjb25zdCB1cmwgPSBcImh0dHBzOi8vYXBpLnN0YWdpbmcuY2xvdWRlcy5ldVwiLFxyXG4gICAgICAvL2NvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo0MjAwXCIsXHJcbiAgICAgIC8vY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjEzMzdcIixcclxuICAgICAgaGVhZGVycyA9IChtZXRob2QsIHRva2VuKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IG1ldGhvZCA9PT0gXCJHRVRcIiA/IHVuZGVmaW5lZCA6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlblxyXG4gICAgICAgICAgICA/IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgcGxhdGZvcm06IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgc291cmNlOiBcIndlYlwiXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIGhlYWRlcnMzRCA9IChtZXRob2QsIHRva2VuKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IG1ldGhvZCA9PT0gXCJHRVRcIiA/IHVuZGVmaW5lZCA6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlblxyXG4gICAgICAgICAgICA/IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAga2V5OiBcImZhdnlAMTIzXCJcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICB7IHByb2dyZXNzLCB1c2VyU3RvcmUsIGxvZ291dCB9ID0gZ2xvYmFscztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsb2dpbjogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2F1dGhlbnRpY2F0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBmb3Jnb3RQYXNzd29yZDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2ZvcmdldFBhc3N3b3JkXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZWdpc3RyYXRpb246IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9kYXNoYm9hcmRSZWdpc3RyYXRpb25cIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL3N1YnNjcmliZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0Q29tcGFueUJ5SWQ6IGZ1bmN0aW9uKGNvbXBhbnlJZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldENvbXBhbnlCeUlkLyR7Y29tcGFueUlkfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbFVzZXJzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0YWRtaW51c2Vyc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIGxpc3RBbGxDb3VudHJ5Q29kZSA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAvLyAgICRyb290U2NvcGUuYXBpV2FpdCA9IHRydWU7XHJcbiAgICAgIC8vICAgJGh0dHBcclxuICAgICAgLy8gICAgIC5nZXQoXCJhcHAvZGF0YS9jb21tb24tYXBpL0NvdW50cnlDb2RlLmpzb25cIiwgdm0uZ2V0Q29uZmlnKCkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAvLyAgICAgICAkcm9vdFNjb3BlLmFwaVdhaXQgPSBmYWxzZTtcclxuICAgICAgLy8gICAgICAgY2IocmVzLmRhdGEpO1xyXG4gICAgICAvLyAgICAgfSxcclxuICAgICAgLy8gICAgIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgLy8gICAgICAgJHJvb3RTY29wZS5hcGlXYWl0ID0gZmFsc2U7XHJcbiAgICAgIC8vICAgICAgIGlmIChlcnIuc3RhdHVzKSB7XHJcbiAgICAgIC8vICAgICAgICAgdm0uc2hvd0FsZXJ0KHRoaXMsIGVycik7XHJcbiAgICAgIC8vICAgICAgIH1cclxuICAgICAgLy8gICAgICAgZWxzZSB7XHJcbiAgICAgIC8vICAgICAgICAgY2IoZXJyLmRhdGEpO1xyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgIC8vICAgICB9KVxyXG4gICAgICAvL30sXHJcblxyXG4gICAgICBsaXN0QWxsUHJvamVjdHM6IGZ1bmN0aW9uKHF1ZXJ5T2JqKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gIXF1ZXJ5T2JqIC8vIGJ1aWxkaW5nIHF1ZXJ5IHN0cmluZ1xyXG4gICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKHF1ZXJ5T2JqKS5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBzdHIgPSBgJHt2fT0ke3F1ZXJ5T2JqW3ZdfSZgO1xyXG4gICAgICAgICAgICAgIGFjYyArPSBzdHI7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgXCI/XCIpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuc2xpY2UoMCwgLTEpOyAvLyByZW1vdmUgdHJhaWxpbmcgJlxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0QWxsUHJvamVjdHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxDbGllbnRzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIC8vIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgIC8vICAgJGh0dHAoe1xyXG4gICAgICAgIC8vICAgICB1cmw6IHVybCArIFwiXCIsXHJcbiAgICAgICAgLy8gICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAvLyAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgIC8vICAgfSlcclxuICAgICAgICAvLyApO1xyXG4gICAgICAgIC8vIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbENsaWVudHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxSb29mZXJzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbFJvb2ZlcnNcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjcmVhdGVQcm9qZWN0OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZVByb2plY3RcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZUlzc3VlOiBmdW5jdGlvbihpc3N1ZW9iaikge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZUlzc3VlXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGlzc3Vlb2JqLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlSXNzdWU6IGZ1bmN0aW9uKGlzc3Vlb2JqLCBpZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXQgYXBpZmFjdG9yeSB1cGRhdGUgb2JqOlwiLCBpc3N1ZW9iaik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJBdCBJRDpcIiwgaWQpO1xyXG5cclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGRhdGVJc3N1ZS9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGlzc3Vlb2JqLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRQcm9qZWN0Um9vZlBsYW5zOiBmdW5jdGlvbihwcm9qZWN0SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0UHJvamVjdFJvb2ZQbGFucy9cIiArIHByb2plY3RJZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzYXZlUm9vZlBsYW46IGZ1bmN0aW9uKHJvb2ZQbGFuSWQsIHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvc2F2ZVJvb2ZQbGFuL1wiICsgcm9vZlBsYW5JZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjcmVhdGVNYXRlcmlhbHM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jcmVhdGVNYXRlcmlhbFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlRXF1aXBtZW50OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY3JlYXRlRXF1aXBtZW50XCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBsaXN0QWxsTWF0ZXJpYWxzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbE1hdGVyaWFsc1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbENvbWJvTWF0ZXJpYWxzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdENvbWJvTWF0ZXJpYWxzXCIgKyBxdWVyeSxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBsaXN0QWxsRXF1aXBtZW50czogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RBbGxFcXVpcG1lbnRzXCIgKyBxdWVyeSxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVNYXRlcmlhbEJ5SWQ6IGZ1bmN0aW9uKGlkLCBwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdXBkYXRlTWF0ZXJpYWxCeUlkL1wiICsgaWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0TWF0ZXJpYWxCeUlkOiBmdW5jdGlvbihtYXRlcmlhbElEKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvZ2V0TWF0ZXJpYWxCeUlkLyR7bWF0ZXJpYWxJRH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldENvbWJvTWF0ZXJpYWxCeUlkOiBmdW5jdGlvbihjb21ib0lkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvZ2V0Q29tYm9NYXRlcmlhbEJ5SWQvJHtjb21ib0lkfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBjcmVhdGVDb21ib01hdGVyaWFsOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiBgJHt1cmx9L2FwaS9jcmVhdGVDb21ib01hdGVyaWFsYCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgdXBkYXRlQ29tYm9NYXRlcmlhbExpc3Q6IGZ1bmN0aW9uKGlkLCBwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvdXBkYXRlQ29tYm9NYXRlcmlhbExpc3QvJHtpZH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVDb21ib01hdGVyaWFsOiBmdW5jdGlvbihpZCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvdXBkYXRlQ29tYm9NYXRlcmlhbC8ke2lkfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgc2hvd0NvbnZlcnNpb25SYXRlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3Nob3dDb252ZXJzaW9uUmF0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gZ2V0Q3VycmVuY3lCYXNlZE9uQ2FsY3VsYXRpb25EYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgLy8gICAgICRodHRwKHtcclxuICAgICAgLy8gICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0Q3VycmVuY3lCYXNlZE9uQ2FsY3VsYXRpb25EYXRlXCIsXHJcbiAgICAgIC8vICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIC8vICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAvLyAgICAgICBkYXRhOiB7XHJcbiAgICAgIC8vICAgICAgICAgZGF0ZTogbmV3IERhdGUoKVxyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgIC8vICAgICB9KVxyXG4gICAgICAvLyAgICk7XHJcbiAgICAgIC8vICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIC8vIH0sXHJcbiAgICAgIGdldE1hdGVyaWFsQnlJZDogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0TWF0ZXJpYWxCeUlkL1wiICsgaWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICAvKiBEZWNvcmF0ZSBhamF4IGNhbGxzIHdpdGggcHJvZ3Jlc3MgYmFyICovXHJcbiAgICAgIHByb2dyZXNzaWZ5OiBwcm9taXNlID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgcHJvZ3Jlc3Muc3RhcnQoKTtcclxuICAgICAgICAgIHByb21pc2VcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICByZXNvbHZlKHJlc3ApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICBwcm9ncmVzcy5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBsaXN0QWxsSXNzdWVzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbElzc3Vlc1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0SXNzdWVzTGlzdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FsbElzc3Vlc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgaXNUb2tlblZhbGlkOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvaXNUb2tlblZhbGlkXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXRQYXNzd29yZDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL3Jlc2V0UGFzc3dvcmRBZG1pblwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHVwZGF0ZVJvbGVCYXNlZEFjY2VzczogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGRhdGVSb2xlQmFzZWRBY2Nlc3NcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBGaWxlIE1hbmFnZXIgQVBJcyAqL1xyXG4gICAgICBhZGRIaWVyYXJjaHk6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYWRkSGllcmFyY2h5XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEhpZXJhcmNoeUNoaWxkcmVuOiBmdW5jdGlvbihoaWVyYXJjaHlJZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRIaWVyYXJjaHlDaGlsZHJlbi9cIiArIGhpZXJhcmNoeUlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0SGllcmFyY2h5OiBmdW5jdGlvbihwcm9qZWN0SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0SGllcmFyY2h5L1wiICsgcHJvamVjdElkICsgXCI/ZGVwdGg9MlwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgdmlld1Byb2plY3RBc3NldHM6IGZ1bmN0aW9uKHByb2plY3RJZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS92aWV3UHJvamVjdEFzc2V0cy9cIiArIHByb2plY3RJZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBhZGRGaWxlVG9IaWVyYXJjaHk6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYWRkRmlsZVRvSGllcmFyY2h5XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdmlld0hpZXJhcmNoeTogZnVuY3Rpb24oaGllcmFyY2h5SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdmlld0hpZXJhcmNoeS9cIiArIGhpZXJhcmNoeUlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNsb25lQXNzZXRzOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2Nsb25lQXNzZXRzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBcclxuICAgICAgdXBsb2FkRmlsZUluRmlsZU1hbmFnZXI6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGxvYWRGaWxlSW5GaWxlTWFuYWdlclwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZHJhZ01vdmVOb2RlczogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9kcmFnTW92ZU5vZGVzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIG1vdmVBc3NldHM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbW92ZUFzc2V0c1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkZWxldGVBc3NldHM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZGVsZXRlQXNzZXRzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgLy8zRC1zaXRlIHJlZGlyZWN0aW9uIGFwaSBjYWxsXHJcblxyXG4gICAgICBnZXQzRFBhZ2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCB0b2tlbiA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpO1xyXG5cclxuICAgICAgICB2YXIgRGF0YTNEID0ge1xyXG4gICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlbixcclxuICAgICAgICAgIHByb2plY3RJZDogXCI1YjY5N2MwMzBhN2U5NzA1NjgzNWE5NGFcIlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkZXMtM2QuY29tXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IERhdGEzRFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy9jcmVhdGUgbmV3IGNsaWVudFxyXG4gICAgICBjcmVhdGVDbGllbnQ6IGZ1bmN0aW9uKGNsaWVudCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xpZW50IGluIGFwaSBmYWN0b3J5XCIsIGNsaWVudCk7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZUNsaWVudFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogY2xpZW50XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzYXZlSGllcmFyY2h5VHJlZTogZnVuY3Rpb24ocHJvamVjdElkLCBuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3NhdmVIaWVyYXJjaHlUcmVlL1wiICsgcHJvamVjdElkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBuYW1lXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRTeXN0ZW1UYWc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRDb21ib1N5c3RlbVRhZ1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgYm9va01hcmtQcm9qZWN0OiBmdW5jdGlvbihpZCwgYWRkZWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYm9va01hcmtQcm9qZWN0XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIHByb2plY3RJZDogaWQsXHJcbiAgICAgICAgICAgICAgYWRkZWQ6IGFkZGVkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEJvb2ttYXJrczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEJvb2ttYXJrc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0SGllcmFyY2h5VGVtcGxhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRIaWVyYXJjaHlUZW1wbGF0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxvYWRIaWVyYXJjaHlUcmVlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xvYWRIaWVyYXJjaHlUcmVlXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIG5ld0ZpbGVVcGxvYWQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbmV3RmlsZVVwbG9hZFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2hvd1Byb2plY3RGaWxlczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3Nob3dQcm9qZWN0RmlsZXNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgY2hhbmdlUHJvamVjdFRlbXBsYXRlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NoYW5nZVByb2plY3RUZW1wbGF0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiYXV0aEZhY3RvcnlcIiwgYXV0aEZhY3RvcnkpO1xyXG5cclxuICBmdW5jdGlvbiBhdXRoRmFjdG9yeSgkaHR0cCwgJGxvY2F0aW9uLCBsb2NhbFN0b3JhZ2VTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjaGVja1VzZXI6ICgpID0+IHtcclxuICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpO1xyXG4gICAgICAgIGlmICh0b2tlbiAmJiB0b2tlbiAhPSBcIlwiKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgY2hlY2tQcml2aWxlZ2U6ICh0eXBlLCBzdWJUeXBlKSA9PiB7XHJcbiAgICAgICAgbGV0IHsgcHJpdmlsZWdlIH0gPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcInVzZXJEYXRhXCIpO1xyXG4gICAgICAgIGxldCB7IHByaXZpbGVnZXMgfSA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiY29tcGFueURhdGFcIik7XHJcblxyXG4gICAgICAgIGlmIChwcml2aWxlZ2UgPD0gcHJpdmlsZWdlc1t0eXBlXVtzdWJUeXBlXSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJmaWxlTWFuYWdlckZhY3RvcnlcIiwgZmlsZU1hbmFnZXJGYWN0b3J5KTtcclxuXHJcbiAgZnVuY3Rpb24gZmlsZU1hbmFnZXJGYWN0b3J5KGFwaUZhY3RvcnksIE5vdGlmaWNhdGlvbikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2xpcEJvYXJkOiAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLyogICovXHJcbiAgICAgICAgbGV0IGl0ZW1zID0ge1xyXG4gICAgICAgICAgdHlwZTogMCxcclxuICAgICAgICAgIGRhdGE6IFtdLFxyXG4gICAgICAgICAgc291cmNlOiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgY29weTogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICBpdGVtcy5zb3VyY2UgPSBudWxsO1xyXG4gICAgICAgICAgICBpdGVtcy50eXBlID0gMDtcclxuICAgICAgICAgICAgaXRlbXMuZGF0YSA9IFtpdGVtXTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjdXQ6IGZ1bmN0aW9uKGl0ZW0sIHNvdXJjZSkge1xyXG4gICAgICAgICAgICBpdGVtcy5zb3VyY2UgPSBzb3VyY2U7XHJcbiAgICAgICAgICAgIGl0ZW1zLnR5cGUgPSAxO1xyXG4gICAgICAgICAgICBpdGVtcy5kYXRhID0gW2l0ZW1dO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBhc3RlOiBmdW5jdGlvbihkZXN0SWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoaXRlbXMuZGF0YS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24ud2FybmluZyhcIkNsaXBib2FyZCBpcyBlbXB0eVwiKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgY29uc3QgYXBpVHlwZSA9IGl0ZW1zLnR5cGUgPT09IDAgPyBcImNsb25lQXNzZXRzXCIgOiBcIm1vdmVBc3NldHNcIjtcclxuXHJcbiAgICAgICAgICAgICAgLyogQ2hhbmdlIHBheWxvYWQgZGVwZW5kaW5nIHVwb24gY3V0IG9yIGNvcHkgKi9cclxuICAgICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgICAgIGFzc2V0SWQ6IGl0ZW1zLmRhdGEubWFwKHggPT4geC5faWQpLFxyXG4gICAgICAgICAgICAgICAgc291cmNlSWQ6IGl0ZW1zLnR5cGUgPT09IDAgPyB1bmRlZmluZWQgOiBpdGVtcy5zb3VyY2UsXHJcbiAgICAgICAgICAgICAgICBkZXN0SWQ6IGl0ZW1zLnR5cGUgPT09IDAgPyB1bmRlZmluZWQgOiBkZXN0SWQsXHJcbiAgICAgICAgICAgICAgICBoaWVyYXJjaHlJZDogaXRlbXMudHlwZSA9PT0gMCA/IGRlc3RJZCA6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgIGFwaUZhY3RvcnlbYXBpVHlwZV0ocGF5bG9hZClcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgIC8qIENsZWFyIGNsaXBib2FyZCBhZnRlciBwYXN0aW5nICovXHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBudWxsXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKSxcclxuXHJcbiAgICAgIG5hdmlnYXRpb25TdGFjazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IHN0YWNrID0gW10sXHJcbiAgICAgICAgICBoZWFkID0gc3RhY2subGVuZ3RoIC0gMSxcclxuICAgICAgICAgIC8vIFRPRE86IG5vIGFjdGlvbiBoYW5kbGVyIHJlcXVpcmVkIGZvciBub3dcclxuICAgICAgICAgIGF0dGFjaEhhbmRsZXIgPSBhY3Rpb24gPT4ge1xyXG4gICAgICAgICAgICBsZXQgb2JqID0ge307XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBwdXNoOiBpdGVtID0+IHtcclxuICAgICAgICAgICAgc3RhY2suc3BsaWNlKGhlYWQgKyAxLCBzdGFjay5sZW5ndGgsIGl0ZW0pO1xyXG4gICAgICAgICAgICBoZWFkID0gc3RhY2subGVuZ3RoIC0gMTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmb3J3YXJkOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBvYmo7XHJcbiAgICAgICAgICAgIGlmICghc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgLyogSWdub3JlIGZvciBlbXB0eSBzdGFjayAqL1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGVhZCA9PT0gc3RhY2subGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgIC8qIElnbm9yZSBmb3IgZW5kIG9mIHRoZSBzdGFjayAqL1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaGVhZCsrO1xyXG4gICAgICAgICAgICBpZiAoc3RhY2tbaGVhZF0pIHtcclxuICAgICAgICAgICAgICBzdGFja1toZWFkXS50b2dnbGUoKTtcclxuICAgICAgICAgICAgICBvYmogPSBzdGFja1toZWFkXTtcclxuICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYmFja3dhcmQ6ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IG9iajtcclxuICAgICAgICAgICAgaWYgKCFzdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAvKiBJZ25vcmUgZm9yIGVtcHR5IHN0YWNrICovXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaGVhZCA8IDApIHtcclxuICAgICAgICAgICAgICAvKiBJZ25vcmUgZm9yIGVuZCBvZiB0aGUgc3RhY2sgKi9cclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YWNrW2hlYWRdKSB7XHJcbiAgICAgICAgICAgICAgc3RhY2tbaGVhZF0udG9nZ2xlKCk7XHJcbiAgICAgICAgICAgICAgaGVhZC0tO1xyXG4gICAgICAgICAgICAgIG9iaiA9IHN0YWNrW2hlYWRdO1xyXG4gICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgYnJlYWRDcnVtYjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IGJyZWFkQ3J1bWJzID0gW107XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldDogdmFsID0+IHtcclxuICAgICAgICAgICAgYnJlYWRDcnVtYnMucHVzaCh2YWwpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYnJlYWRDcnVtYnM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsZU9ialxyXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgeyBzMzogW2ZpbGVzXSwgY2xvdWRpbmFyeTogW2ZpbGVzXSB9XHJcbiAgICAgICAqL1xyXG5cclxuICAgICAgc3BsaXREZXN0aW5hdGlvbjogZmlsZXNBcnJheSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGZpbGVzQXJyYXkucmVkdWNlKFxyXG4gICAgICAgICAgKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgeC5zaXplIDwgMjAwMDAwMDAgJiZcclxuICAgICAgICAgICAgICAoeC50eXBlID09PSBcImFwcGxpY2F0aW9uL3BkZlwiIHx8IC9pbWFnZSovLnRlc3QoeC50eXBlKSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgYWNjLmNsb3VkaW5hcnkucHVzaCh4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhY2MuczMucHVzaCh4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHsgczM6IFtdLCBjbG91ZGluYXJ5OiBbXSB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmaWxlU2l6ZVxyXG4gICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAgMSAtIGRpcmVjdCBzMywgMiAtIHMzIC0+IGNsb3VkaW5hcnlcclxuICAgICAgICovXHJcblxyXG4gICAgICByZXNvbHZlRGVzdFR5cGU6IGZpbGUgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGZpbGUuc2l6ZSA8IDE1MDAwMDAwMCAmJlxyXG4gICAgICAgICAgKGZpbGUudHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9wZGZcIiB8fCAvaW1hZ2UqLy50ZXN0KGZpbGUudHlwZSkpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjaGVja1VwbG9hZENvbXBsZXRpb246IGZpbGVzID0+IHtcclxuICAgICAgICBsZXQgYm9vbCA9IHRydWU7XHJcbiAgICAgICAgZmlsZXMuczMuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgIGlmICgheC5jb21wbGV0ZWQgJiYgIXguYWJvcnRlZCAmJiBib29sKSB7XHJcbiAgICAgICAgICAgIGJvb2wgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBmaWxlcy5jbG91ZGluYXJ5LmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICBpZiAoIXguY29tcGxldGVkICYmICF4LmFib3J0ZWQgJiYgYm9vbCkge1xyXG4gICAgICAgICAgICBib29sID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGJvb2w7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJnbG9iYWxzXCIsIGdsb2JhbHMpO1xyXG5cclxuICBmdW5jdGlvbiBnbG9iYWxzKFxyXG4gICAgJGh0dHAsXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBuZ1Byb2dyZXNzRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2VcclxuICApIHtcclxuICAgIC8qIFRvIGF2b2lkIHJlZHVuZGFudCBmdW5jdGlvbiBjYWxscyBvZiB0aGUgc2FtZSB0eXBlIChFZy4gbXVsdGlwbGUgdG9rZW4gZXhwaXJlZCBtZXNzYWdlcykgKi9cclxuICAgIGxldCB0aHJvdHRsZXIgPSAoKCkgPT4ge1xyXG4gICAgICBsZXQgZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgIHJldHVybiBmbiA9PiB7XHJcbiAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgIGVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBlbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZm4oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHByb2dyZXNzOiAoKCkgPT4ge1xyXG4gICAgICAgIGxldCBwcm9ncmVzc2JhciA9IG5nUHJvZ3Jlc3NGYWN0b3J5LmNyZWF0ZUluc3RhbmNlKCk7XHJcbiAgICAgICAgcmV0dXJuIHByb2dyZXNzYmFyO1xyXG4gICAgICB9KSgpLFxyXG4gICAgICBsb2dvdXQ6ICgpID0+IHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcImFjY2Vzcy10b2tlblwiKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcInVzZXJEYXRhXCIpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UucmVtb3ZlKFwiY29tcGFueURhdGFcIik7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmUoXCJjdXJyZW50UHJvamVjdFwiKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcImludmVudG9yeVN0YXRlXCIpO1xyXG5cclxuICAgICAgICAkc3RhdGUuZ28oXCJwcmVMb2dpblwiKTtcclxuICAgICAgICB0aHJvdHRsZXIoKCkgPT4gTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGxvZ2luXCIpKTtcclxuICAgICAgfSxcclxuICAgICAgLyogQWNjZXNzIHVzZXIgaW5mbyBnbG9iYWxseSAqL1xyXG4gICAgICB1c2VyU3RvcmU6ICgoKSA9PiB7XHJcbiAgICAgICAgbGV0IHVzZXJEYXRhID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJ1c2VyRGF0YVwiKSB8fCB7fTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldDogZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJSb2xlcyA9IFtcclxuICAgICAgICAgICAgICBcImFkbWluXCIsXHJcbiAgICAgICAgICAgICAgXCJtYW5hZ2VyXCIsXHJcbiAgICAgICAgICAgICAgXCJzdWJfY29udHJhY3RvclwiLFxyXG4gICAgICAgICAgICAgIFwidGVhbV9sZWFkZXJcIixcclxuICAgICAgICAgICAgICBcIndvcmtlclwiXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGRhdGEucHJpdmlsZWdlID0gdXNlclJvbGVzLmluZGV4T2YoZGF0YS5kZXNpZ25hdGlvbik7XHJcblxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcInVzZXJEYXRhXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICB1c2VyRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiB1c2VyRGF0YTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXQ6ICgpID0+IHVzZXJEYXRhLFxyXG4gICAgICAgICAgcmVzZXQ6ICgpID0+IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmUoXCJ1c2VyRGF0YVwiKTtcclxuICAgICAgICAgICAgdXNlckRhdGEgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9KSgpLFxyXG5cclxuICAgICAgY29tcGFueVN0b3JlOiAoKCkgPT4ge1xyXG4gICAgICAgIGxldCBjb21wYW55RGF0YSA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiY29tcGFueURhdGFcIikgfHwgbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldDogZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwiY29tcGFueURhdGFcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbXBhbnlEYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBhbnlEYXRhO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogKCkgPT4gY29tcGFueURhdGEsXHJcbiAgICAgICAgICAvKiBDYWxsIHJlZmV0Y2ggd2hlbiBjb21wYW55IGRlcGVuZGFudCBkYXRhIGlzIG1vZGlmaWVkICovXHJcbiAgICAgICAgICByZWZldGNoOiBpZCA9PiB7XHJcbiAgICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImFjY2Vzcy10b2tlblwiKSxcclxuICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBKU09OLnN0cmluZ2lmeSh7IHNvdXJjZTogXCJ3ZWJcIiB9KVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly9hcGkuc3RhZ2luZy5jbG91ZGVzLmV1L2FwaS9nZXRDb21wYW55QnlJZC8ke2lkfWBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwiY29tcGFueURhdGFcIiwgcmVzcC5kYXRhKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UucmVtb3ZlKFwiY29tcGFueURhdGFcIik7XHJcbiAgICAgICAgICAgIGNvbXBhbnlEYXRhID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKSxcclxuXHJcbiAgICAgIHByb2plY3RTdG9yZTogKCgpID0+IHtcclxuICAgICAgICBsZXQgY3VycmVudFByb2plY3QgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImN1cnJlbnRQcm9qZWN0XCIpIHx8IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldDogZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwiY3VycmVudFByb2plY3RcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0ID0gZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9qZWN0O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogKCkgPT4gY3VycmVudFByb2plY3QsXHJcbiAgICAgICAgICByZXNldDogKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcImN1cnJlbnRQcm9qZWN0XCIpO1xyXG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdCA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKSxcclxuXHJcbiAgICAgIGludmVudG9yeVN0YXRlOiAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHN0YXRlID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJpbnZlbnRvcnlTdGF0ZVwiKSB8fCB7XHJcbiAgICAgICAgICB0YWI6IDAsXHJcbiAgICAgICAgICBwYWdlOiB7XHJcbiAgICAgICAgICAgIG1hdGVyaWFsOiAxLFxyXG4gICAgICAgICAgICBjb21ibzogMVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZXRQYWdlOiAodHlwZSwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgc3RhdGUucGFnZVt0eXBlXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImludmVudG9yeVN0YXRlXCIsIHN0YXRlKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXRUYWI6IHZhbCA9PiB7XHJcbiAgICAgICAgICAgIHN0YXRlLnRhYiA9IHZhbDtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJpbnZlbnRvcnlTdGF0ZVwiLCBzdGF0ZSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbVVuaXRzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogXCJtdFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwibXRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogXCJzcS5tdFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwic3EubXRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFsdWU6IFwiY3UubXRcIixcclxuICAgICAgICAgIG5hbWU6IFwiY3UubXRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogXCJmdFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwiZnRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogXCJzcS5mdFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwic3EuZnRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFsdWU6IFwiY3UuZnRcIixcclxuICAgICAgICAgIG5hbWU6IFwiY3UuZnRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFsdWU6IFwidW5pdFwiLFxyXG4gICAgICAgICAgbmFtZTogXCJ1bml0XCJcclxuICAgICAgICB9XHJcbiAgICAgIF0sXHJcblxyXG4gICAgICBnZXRDdXJyZW5jeTogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvZGF0YS9jdXJyZW5jaWVzLmpzb25cIik7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldENvdW50cnlDb2RlOiAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcIi9kYXRhL0NvdW50cnlDb2RlLmpzb25cIik7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEluZHVzdHJ5OiAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcIi9kYXRhL2luZHVzdHJ5Lmpzb25cIik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkZWJvdW5jZTogcmF0ZSA9PiB7XHJcbiAgICAgICAgbGV0IHRpbWVyO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihmbiwgYXJncykge1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xyXG4gICAgICAgICAgfSwgcmF0ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdlbmVyaWNTdG9yZTogKCkgPT4ge1xyXG4gICAgICAgIGxldCBpdGVtO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdG9yZTogdmFsID0+IHtcclxuICAgICAgICAgICAgaXRlbSA9IHZhbDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXQ6ICgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcInVwbG9hZEZhY3RvcnlcIiwgdXBsb2FkRmFjdG9yeSk7XHJcblxyXG4gIGZ1bmN0aW9uIHVwbG9hZEZhY3RvcnkoXHJcbiAgICAkaHR0cCxcclxuICAgICRsb2NhdGlvbixcclxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgVXBsb2FkLFxyXG4gICAgY2xvdWRpbmFyeSxcclxuICAgIE5vdGlmaWNhdGlvblxyXG4gICkge1xyXG4gICAgLyogQVdTIENPTkZJRyAqL1xyXG4gICAgY29uc3QgYnVja2V0TmFtZSA9IFwiM2RmaWxlc2RhdGFcIjtcclxuICAgIGNvbnN0IGJ1Y2tldFJlZ2lvbiA9IFwiYXAtc291dGgtMVwiO1xyXG4gICAgbGV0IGNvbmZpZyA9IHtcclxuICAgICAgc2lnbmVyVXJsOiBgaHR0cHM6Ly9hcGkuc3RhZ2luZy5jbG91ZGVzLmV1L3NpZ252NF9hdXRoYCxcclxuICAgICAgYXdzX2tleTogXCJBS0lBSk1PM1lKVFBLWVY1RE41QVwiLFxyXG4gICAgICBidWNrZXQ6IFwiM2RmaWxlc2RhdGEvdGVzdFwiLFxyXG4gICAgICBhd3NSZWdpb246IGJ1Y2tldFJlZ2lvbixcclxuICAgICAgY29tcHV0ZUNvbnRlbnRNZDU6IHRydWUsXHJcbiAgICAgIGFsbG93UzNFeGlzdGVuY2VPcHRpbWl6YXRpb246IHRydWUsXHJcbiAgICAgIGNyeXB0b01kNU1ldGhvZDogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBBV1MudXRpbC5jcnlwdG8ubWQ1KGRhdGEsIFwiYmFzZTY0XCIpO1xyXG4gICAgICB9LFxyXG4gICAgICBjcnlwdG9IZXhFbmNvZGVkSGFzaDI1NjogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBBV1MudXRpbC5jcnlwdG8uc2hhMjU2KGRhdGEsIFwiaGV4XCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGluaXQ6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gRXZhcG9yYXRlLmNyZWF0ZShjb25maWcpO1xyXG4gICAgICB9LFxyXG4gICAgICBzdGFydDogZnVuY3Rpb24oaGFuZGxlcikge1xyXG4gICAgICAgIGxldCBmaWxlVXBsb2FkID0gdGhpcy5pbml0KCk7XHJcblxyXG4gICAgICAgIGZpbGVVcGxvYWQudGhlbihoYW5kbGVyKS5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBwYXVzZTogZnVuY3Rpb24oZmlsZSkge1xyXG4gICAgICAgIHRoaXMucGF1c2UoYDNkZmlsZXNkYXRhL3Rlc3QvJHtmaWxlLm5hbWV9YCwgeyBmb3JjZTogdHJ1ZSB9KVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZpbGUuaXNQYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhdXNlZCFcIik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICByZXN1bWU6IGZ1bmN0aW9uKGZpbGUpIHtcclxuICAgICAgICB0aGlzLnJlc3VtZShgM2RmaWxlc2RhdGEvdGVzdC8ke2ZpbGUubmFtZX1gKVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZpbGUuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bWVkIVwiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGFib3J0OiBmdW5jdGlvbihmaWxlKSB7XHJcbiAgICAgICAgdGhpcy5jYW5jZWwoYDNkZmlsZXNkYXRhL3Rlc3QvJHtmaWxlLm5hbWV9YClcclxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL2ZpbGUuYWJvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FuY2VsZWQhXCIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICAvLyB1cGxvYWQ6IGZpbGUgPT4ge1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKFwiZmlsZSEhXCIsIGZpbGUpO1xyXG4gICAgICAvLyAgIC8qIENoZWNrIGZpbGUgc2l6ZSAqL1xyXG4gICAgICAvLyAgIGlmIChmaWxlLnNpemUgPiAxMDAwMDAwMCkge1xyXG4gICAgICAvLyAgICAgLyogczMgZm9yIGZpbGVzIGxhcmdlciB0aGFuIDEwbWIgKi9cclxuICAgICAgLy8gICAgIGNvbnN0IHBhcmFtcyA9IHsgS2V5OiBmaWxlLm5hbWUsIENvbnRlbnRUeXBlOiBmaWxlLnR5cGUsIEJvZHk6IGZpbGUgfTtcclxuICAgICAgLy8gICAgIHMzLnB1dE9iamVjdChwYXJhbXMpXHJcbiAgICAgIC8vICAgICAgIC5vbihcImh0dHBVcGxvYWRQcm9ncmVzc1wiLCBwcm9ncmVzcyA9PiB7XHJcbiAgICAgIC8vICAgICAgICAgLyogVE9ETzogR3JhYmJpbmcgcHJvZ3Jlc3MgZXZlbnQgKi9cclxuICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcInByb2dyZXNcIiwgcHJvZ3Jlc3MpO1xyXG4gICAgICAvLyAgICAgICB9KVxyXG4gICAgICAvLyAgICAgICAuc2VuZCgoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgIC8vICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coXCJkb25lXCIsIGRhdGEpO1xyXG4gICAgICAvLyAgICAgICAgIH1cclxuICAgICAgLy8gICAgICAgfSk7XHJcbiAgICAgIC8vICAgfSBlbHNlIHtcclxuICAgICAgLy8gICAgIC8qIFNlbmQgdG8gY2xvdWRpbmFyeSAqL1xyXG4gICAgICAvLyAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgIC8vICAgICAgIHVybDpcclxuICAgICAgLy8gICAgICAgICBcImh0dHBzOi8vYXBpLmNsb3VkaW5hcnkuY29tL3YxXzEvXCIgK1xyXG4gICAgICAvLyAgICAgICAgIGNsb3VkaW5hcnkuY29uZmlnKCkuY2xvdWRfbmFtZSArXHJcbiAgICAgIC8vICAgICAgICAgXCIvdXBsb2FkXCIsXHJcbiAgICAgIC8vICAgICAgIGRhdGE6IHtcclxuICAgICAgLy8gICAgICAgICB1cGxvYWRfcHJlc2V0OiBjbG91ZGluYXJ5LmNvbmZpZygpLnVwbG9hZF9wcmVzZXQsXHJcbiAgICAgIC8vICAgICAgICAgdGFnczogZmlsZS5uYW1lLFxyXG4gICAgICAvLyAgICAgICAgIGNvbnRleHQ6IFwicGhvdG89XCIgKyBEYXRlLm5vdygpLFxyXG4gICAgICAvLyAgICAgICAgIGZpbGU6IGZpbGVcclxuICAgICAgLy8gICAgICAgfVxyXG4gICAgICAvLyAgICAgfSlcclxuICAgICAgLy8gICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJyZXNwISFcIiwgcmVzcCk7XHJcbiAgICAgIC8vICAgICAgIH0pXHJcbiAgICAgIC8vICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcImVyclwiLCBlKTtcclxuICAgICAgLy8gICAgICAgfSk7XHJcbiAgICAgIC8vICAgfVxyXG4gICAgICAvLyB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJfM2RWaWV3ZXJDdHJsXCIsIF8zZFZpZXdlckN0cmwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIF8zZFZpZXdlckN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgTmdNYXBcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgICAgdm0ubG9nZ2VkSW4gPSB0cnVlXHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCB0aHJvdHRsZXIgfSA9IGdsb2JhbHM7XHJcblxyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgdm0ubG9nZ2VkSW4gPSBmYWxzZVxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZpbHRlcihcImNvbnZlcnRDdXJyZW5jeVwiLCBjb252ZXJ0Q3VycmVuY3kpO1xyXG5cclxuICBmdW5jdGlvbiBjb252ZXJ0Q3VycmVuY3koKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIGNvbnZlcnNpb25SYXRlKSB7XHJcbiAgICAgIGlmICghaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gaW5wdXQgKiBjb252ZXJzaW9uUmF0ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZpbHRlcihcInJvdW5kTnVtXCIsIHJvdW5kTnVtKTtcclxuXHJcbiAgZnVuY3Rpb24gcm91bmROdW0oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHBsYWNlKSB7XHJcbiAgICAgIGlmICghaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gTnVtYmVyKGlucHV0KS50b0ZpeGVkKHBsYWNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIFxyXG4gIFxyXG5cclxufSkoKTtcclxuIl19
