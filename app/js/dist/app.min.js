"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var app=angular.module("app",["ui.router","routesModule","LocalStorageModule","uiGmapgoogle-maps","ngProgress","ui-notification","ngMap","ui.select","ui.select2","ngSanitize","color.picker","ui.bootstrap","datatables","ngTagsInput","ngFileUpload","infinite-scroll","ui.tree","angularMoment","btorfs.multiselect","htmlToPdfSave","dndLists","angular.chips","ui.bootstrap.contextMenu","cloudinary","FileSaver"]);function config(NotificationProvider,uiGmapGoogleMapApiProvider,treeConfig,cloudinaryProvider){uiGmapGoogleMapApiProvider.configure({key:"AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",v:"3.exp",libraries:"places,weather,geometry,visualization"}),NotificationProvider.setOptions({delay:3e3,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"top"}),treeConfig.defaultCollapsed=!0,cloudinaryProvider.set("cloud_name","dktnhmsjx").set("upload_preset","cloudes_frontend")}function routeConfig($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("preLogin",{url:"/",templateUrl:"/partials/preLogin.html",controller:"preLoginCtrl as vm"}),$stateProvider.state("dashboard",{url:"/dashboard",templateUrl:"/partials/dashboard.html",controller:"dashboardCtrl as vm"}),$stateProvider.state("createProject",{url:"/create_project",templateUrl:"/partials/createProject.html",controller:"createProjectCtrl as vm"}),$stateProvider.state("visualPlanner",{url:"/visual_planner",templateUrl:"/partials/visualPlanner.html",controller:"visualPlannerCtrl as vm"}),$stateProvider.state("projects",{url:"/projects",templateUrl:"/partials/projects.html",controller:"projectCtrl as vm"}),$stateProvider.state("materials",{url:"/materials",templateUrl:"/partials/materials.html",controller:"materialCtrl as vm"}),$stateProvider.state("materialView",{url:"/material/:id",templateUrl:"/partials/materialView.html",controller:"materialViewCtrl as vm"}),$stateProvider.state("comboMaterialView",{url:"/combo_material/:id",templateUrl:"/partials/comboMaterialView.html",controller:"comboMaterialViewCtrl as vm"}),$stateProvider.state("equipments",{url:"/equipments",templateUrl:"/partials/equipments.html",controller:"equipmentCtrl as vm"}),$stateProvider.state("equipmentView",{url:"/equipmentView/:id",templateUrl:"/partials/equipmentView.html",controller:"equipmentViewCtrl as vm"}),$stateProvider.state("fileManager",{url:"/file_manager",templateUrl:"/partials/fileManager.html",controller:"fileManagerCtrl as vm"}),$stateProvider.state("payroll",{url:"/payroll",templateUrl:"/partials/payroll.html",controller:"payrollCtrl as vm"}),$stateProvider.state("calculation",{url:"/calculation",templateUrl:"/partials/calculation.html",controller:"calculationCtrl as vm"}),$stateProvider.state("report",{url:"/report",templateUrl:"/partials/reports.html",controller:"reportsCtrl as vm"}),$stateProvider.state("issues",{url:"/issues",templateUrl:"/partials/issues.html",controller:"issuesCtrl as vm"}),$stateProvider.state("issuesDetail",{url:"/issues_details/:id",templateUrl:"/partials/issues_details.html",controller:"issueDetailCtrl as vm"}),$stateProvider.state("reportsDetail",{url:"/reports_details/:id",templateUrl:"/partials/reportsdetails.html",controller:"reportDetailCtrl as vm"}),$stateProvider.state("billingArchive",{url:"/billing_archive",templateUrl:"/partials/billingArchive.html",controller:"billingArchiveCtrl as vm"}),$stateProvider.state("reportsListing",{url:"/reports_listing",templateUrl:"/partials/reportsListing.html",controller:"reportsListingCtrl as vm"}),$stateProvider.state("3dDashboard",{url:"/3d_dashboard",templateUrl:"/partials/3d-dashboard.html",controller:"_3dDashboardCtrl as vm"}),$stateProvider.state("setPassword",{url:"/set_password",templateUrl:"/partials/set_password.html",controller:"setPasswordCtrl as vm"}),$stateProvider.state("setting",{url:"/setting",templateUrl:"/partials/setting.html",controller:"settingCtrl as vm"}),$stateProvider.state("employees",{url:"/employees",templateUrl:"/partials/employee.html",controller:"employeesCtrl as vm"}),$stateProvider.state("3dviewer",{url:"/3dviewer",templateUrl:"/partials/3d-viewer.html",controller:"_3dviewerCtrl as vm"}),$stateProvider.state("clients",{url:"/clients",templateUrl:"/partials/clients.html",controller:"clientsCtrl as vm"}),$stateProvider.state("supplier",{url:"/supplier",templateUrl:"/partials/supplier.html",controller:"supplierCtrl as vm"}),$stateProvider.state("supplierDetail",{url:"/supplier_details/:id",templateUrl:"/partials/supplierdetails.html",controller:"supplierDetailCtrl as vm"}),$stateProvider.state("subcontractor",{url:"/subcontractor",templateUrl:"/partials/subcontractor.html",controller:"subcontractorCtrl as vm"}),$stateProvider.state("subcontractorDetail",{url:"/subcontractor_details/:id",templateUrl:"/partials/subcontractordetails.html",controller:"subcontractorDetailCtrl as vm"}),$stateProvider.state("meetingroom",{url:"/meetingroom",templateUrl:"/partials/meetingRoom.html",controller:"meetingRoomCtrl as vm"}),$stateProvider.state("calender",{url:"/calender",templateUrl:"/partials/calender.html",controller:"calenderCtrl as vm"}),$stateProvider.state("todo",{url:"/todo",templateUrl:"/partials/todo.html",controller:"todoCtrl as vm"}),$stateProvider.state("todoView",{url:"/todoView/:id",templateUrl:"/partials/todoView.html",controller:"todoViewCtrl as vm"})}app.config(config),angular.module("routesModule",[]).config(routeConfig),function(){angular.module("app").factory("apiFactory",function($http,$state,$location,localStorageService,globals,Upload,Notification,$q){var _ref,url="https://api.staging.cloudes.eu",headers=function(method,token){return{"Content-Type":"GET"===method?void 0:"application/json","x-access-token":token?localStorageService.get("access-token"):void 0,platform:JSON.stringify({source:"web"})}},progress=globals.progress,logout=(globals.userStore,globals.logout);return _defineProperty(_ref={login:function(payload){var promise=this.progressify($http({url:url+"/authenticate",method:"POST",headers:headers("POST"),data:payload}));return promise},forgotPassword:function(payload){var promise=this.progressify($http({url:url+"/forgetPassword",method:"POST",headers:headers("POST"),data:payload}));return promise},registration:function(payload){var promise=this.progressify($http({url:url+"/dashboardRegistration",method:"POST",headers:headers("POST"),data:payload}));return promise},subscribe:function(payload){var promise=this.progressify($http({url:url+"/subscribe",method:"POST",headers:headers("POST"),data:payload}));return promise},getCompanyById:function(companyId){var promise=this.progressify($http({url:url+"/api/getCompanyById/"+companyId,method:"GET",headers:headers("GET",!0)}));return promise},listAllUsers:function(){var promise=this.progressify($http({url:url+"/api/getadminusers",method:"GET",headers:headers("GET",!0)}));return promise},listAllProjects:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllProjects"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllClients:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllClients"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllRoofers:function(){var promise=this.progressify($http({url:url+"/api/listAllRoofers",method:"GET",headers:headers("GET",!0)}));return promise},createProject:function(payload){var promise=this.progressify($http({url:url+"/api/createProject",method:"POST",headers:headers("POST",!0),data:payload}));return promise},createIssue:function(issueobj){console.log("in create issue api",issueobj);var promise=this.progressify(Upload.upload({url:url+"/api/createIssue",method:"POST",data:issueobj,headers:headers("POST",!0)}));return promise},createIssueS3Upload:function(issueobj){var promise=this.progressify(Upload.upload({url:url+"/api/createIssueForS3",method:"POST",data:issueobj,headers:headers("POST",!0)}));return promise},getIssueById:function(issueID){var promise=this.progressify($http({url:url+"/api/getIssueById/"+issueID,method:"GET",headers:headers("GET",!0)}));return promise},updateIssue:function(issueobj,id){var promise=this.progressify(Upload.upload({url:url+"/api/updateIssue/"+id,method:"PUT",data:issueobj,headers:headers("PUT",!0)}));return promise},getProjectRoofPlans:function(projectId){var promise=this.progressify($http({url:url+"/api/getProjectRoofPlans/"+projectId,method:"GET",headers:headers("GET",!0)}));return promise},saveRoofPlan:function(roofPlanId,payload){var promise=this.progressify($http({url:url+"/api/saveRoofPlan/"+roofPlanId,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise},createMaterials:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createMaterial",data:payload,headers:headers("POST",!0)}));return promise},createEquipment:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createEquipment",data:payload,headers:headers("POST",!0)}));return promise},listAllMaterials:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllMaterials"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllComboMaterials:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listComboMaterials"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllEquipments:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllEquipments"+query,method:"GET",headers:headers("GET",!0)}));return promise},updateMaterialById:function(id,payload){var promise=this.progressify(Upload.upload({url:url+"/api/updateMaterialById/"+id,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise},getMaterialById:function(materialID){var promise=this.progressify($http({url:url+"/api/getMaterialById/"+materialID,method:"GET",headers:headers("GET",!0)}));return promise},getComboMaterialById:function(comboId){var promise=this.progressify($http({url:url+"/api/getComboMaterialById/"+comboId,method:"GET",headers:headers("GET",!0)}));return promise},getEquipmentById:function(id){var promise=this.progressify($http({url:url+"/api/getEquipmentById/"+id,method:"GET",headers:headers("GET",!0)}));return promise},createComboMaterial:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createComboMaterial",method:"POST",headers:headers("POST",!0),data:payload}));return promise},updateComboMaterialList:function(id,payload){var promise=this.progressify($http({url:url+"/api/updateComboMaterialList/"+id,method:"PUT",headers:headers("POST",!0),data:payload}));return promise},updateComboMaterial:function(id,payload){var promise=this.progressify(Upload.upload({url:url+"/api/updateComboMaterial/"+id,method:"PUT",headers:headers("POST",!0),data:payload}));return promise},showConversionRate:function(payload){var promise=this.progressify($http({url:url+"/api/showConversionRate",method:"POST",headers:headers("POST",!0),data:payload}));return promise}},"getMaterialById",function(id){var promise=this.progressify($http({url:url+"/api/getMaterialById/"+id,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"progressify",function(promise){return new Promise(function(resolve,reject){progress.start(),promise.then(function(resp){progress.complete(),resolve(resp)}).catch(function(err){progress.complete(),401===err.status&&logout(),reject(err)})})}),_defineProperty(_ref,"listAllIssues",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllIssues"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getIssuesList",function(){var promise=this.progressify($http({url:url+"/api/allIssues",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"isTokenValid",function(payload){var promise=this.progressify($http({url:url+"/isTokenValid",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"setPassword",function(payload){var promise=this.progressify($http({url:url+"/resetPasswordAdmin",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"updateRoleBasedAccess",function(payload){var promise=this.progressify($http({url:url+"/api/updateRoleBasedAccess",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"addHierarchy",function(payload){var promise=this.progressify($http({url:url+"/api/addHierarchy",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"getHierarchyChildren",function(hierarchyId){var promise=this.progressify($http({url:url+"/api/getHierarchyChildren/"+hierarchyId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getHierarchy",function(projectId){var promise=this.progressify($http({url:url+"/api/getHierarchy/"+projectId+"?depth=2",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"viewProjectAssets",function(projectId){var promise=this.progressify($http({url:url+"/api/viewProjectAssets/"+projectId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"addFileToHierarchy",function(payload){var promise=this.progressify($http({url:url+"/api/addFileToHierarchy",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"viewHierarchy",function(hierarchyId){var promise=this.progressify($http({url:url+"/api/viewHierarchy/"+hierarchyId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"cloneAssets",function(payload){var promise=this.progressify($http({url:url+"/api/cloneAssets",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"uploadFileInFileManager",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/uploadFileInFileManager",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"dragMoveNodes",function(payload){var promise=this.progressify($http({url:url+"/api/dragMoveNodes",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"moveAssets",function(payload){var promise=this.progressify($http({url:url+"/api/moveAssets",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"deleteAssets",function(payload){var promise=this.progressify($http({url:url+"/api/deleteAssets",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"get3DPage",function(){var token=localStorageService.get("access-token"),Data3D={"x-access-token":token,projectId:"5b697c030a7e97056835a94a"},promise=this.progressify($http({url:"https://cloudes-3d.com",method:"POST",data:Data3D}));return promise}),_defineProperty(_ref,"createClient",function(client){console.log("client in api factory",client);var promise=this.progressify($http({url:url+"/api/createClient",method:"POST",headers:headers("POST",!0),data:client}));return promise}),_defineProperty(_ref,"saveHierarchyTree",function(projectId,name){var promise=this.progressify($http({url:url+"/api/saveHierarchyTree/"+projectId,method:"PUT",headers:headers("POST",!0),data:name}));return promise}),_defineProperty(_ref,"getSystemTag",function(){var promise=this.progressify($http({url:url+"/api/getComboSystemTag",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"bookMarkProject",function(id,added){var promise=this.progressify($http({url:url+"/api/bookMarkProject",method:"PUT",data:{projectId:id,added:added},headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getBookmarks",function(){var promise=this.progressify($http({url:url+"/api/getBookmarks",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getHierarchyTemplate",function(){var promise=this.progressify($http({url:url+"/api/getHierarchyTemplate",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"loadHierarchyTree",function(payload){var promise=this.progressify($http({url:url+"/api/loadHierarchyTree",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"newFileUpload",function(payload){var promise=this.progressify($http({url:url+"/api/newFileUpload",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"showProjectFiles",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/showProjectFiles"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"changeProjectTemplate",function(payload){var promise=this.progressify($http({url:url+"/api/changeProjectTemplate",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"showProjectFiles",function(id,limit){var promise=this.progressify($http({url:url+"/api/showProjectFiles/"+id+"?limit="+limit,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getProjectById",function(id){var promise=this.progressify($http({url:url+"/api/getProjectById/"+id,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"checkAssetDuplicate",function(payload){var promise=this.progressify($http({url:url+"/api/checkAssetDuplicate",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"createNewSupplier",function(supplier){var promise=this.progressify(Upload.upload({url:url+"/api/addsupplier",method:"POST",data:supplier,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getAllSuppliers",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listallsuppliers"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getAllSubcontractors",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listallsubcontractor"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"addProjectRoofPlan",function(payload,projectId){var promise=this.progressify($http({url:url+"/api/addProjectRoofPlan",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"generateRoofPlans",function(payload){var promise=this.progressify($http({url:url+"/api/generateRoofPlans",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"addRoofPlansFromAsset",function(payload){var promise=this.progressify($http({url:url+"/api/addRoofPlansFromAsset",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"getSupplierById",function(supplierID){var promise=this.progressify($http({url:url+"/api/getsupplier/"+supplierID,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"createNewSubcontractor",function(subcontractor){var promise=this.progressify(Upload.upload({url:url+"/api/addsubcontractor",method:"POST",data:subcontractor,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getSubcontractorById",function(supplierID){var promise=this.progressify($http({url:url+"/api/getsubcontractor/"+supplierID,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"issueImage",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/issueImage",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"newIssues3FileUpload",function(payload){console.log("IN S3 ISSUE FUNCTION");var promise=this.progressify($http({url:url+"/api/newIssues3FileUpload",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"postCommentForIssue",function(id,comment){console.log("Comment: ",comment);var promise=this.progressify($http({url:url+"/api/addcomment/"+id,method:"PUT",data:comment,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"saveLocalIssueAsset",function(files){var promise=this.progressify(Upload.upload({url:url+"/api/localFileImages",method:"POST",headers:headers("POST",!0),data:files}));return promise}),_defineProperty(_ref,"postMarkImg",function(dt){console.log("data: ",dt);var promise=this.progressify(Upload.upload({url:url+"/api/postmarkings",method:"POST",headers:headers("POST",!0),data:dt}));return promise}),_defineProperty(_ref,"reOpenIssueStatusUpdate",function(id){var promise=this.progressify($http({url:url+"/api/reopenStatus/"+id,method:"PUT",data:{completionStatus:"OPEN"},headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"getAllAtOnce",function(){var deferred=$q.defer(),infoPromise=$http({url:url+"/api/getadminusers",method:"GET",headers:headers("GET",!0)}),detailsPromise=$http({url:url+"/api/listAllRoofers",method:"GET",headers:headers("GET",!0)});$q.all([infoPromise,detailsPromise]).then(function(data){return deferred.resolve({fruitInfo:data[0],fruitDetails:data[1]}),deferred.promise})}),_defineProperty(_ref,"saveIssueAsComplete",function(id,object){console.log(object);var promise=this.progressify(Upload.upload({url:url+"/api/markissueascomplete/"+id,method:"PUT",data:object,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"getAccessMeetingRoomToken",function(){var promise=$http({url:url+"/api/getAccessMeetingRoomToken",method:"GET",headers:headers("GET",!0)});return promise}),_ref})}(),function(){angular.module("app").factory("authFactory",function($http,$location,localStorageService){return{checkUser:function(){var token=localStorageService.get("access-token");return!(!token||""==token)},checkPrivilege:function(type,subType){var _localStorageService$=localStorageService.get("userData"),privilege=_localStorageService$.privilege,_localStorageService$2=localStorageService.get("companyData"),privileges=_localStorageService$2.privileges;return privilege<=privileges[type][subType]}}})}(),function(){angular.module("app").factory("fileManagerFactory",function(apiFactory,Notification){return{clipBoard:(items={type:0,data:[],source:null},{copy:function(item){items.source=null,items.type=0,items.data=[item]},cut:function(item,source){items.source=source,items.type=1,items.data=[item]},paste:function(destId){return new Promise(function(resolve,reject){if(items.data.length<1)return Notification.warning("Clipboard is empty"),void resolve(!1);var apiType=0===items.type?"cloneAssets":"moveAssets",payload={assetId:items.data.map(function(x){return x._id}),sourceId:0===items.type?void 0:items.source,destId:0===items.type?void 0:destId,hierarchyId:0===items.type?destId:void 0};apiFactory[apiType](payload).then(function(resp){Notification.success(resp.data.message),items={type:0,data:[],source:null},resolve(!0)}).catch(function(e){console.log(e),reject(!1)})})}}),navigationStack:function(){var stack=[],head=stack.length-1;return{push:function(item){stack.splice(head+1,stack.length,item),head=stack.length-1},forward:function(){if(stack.length&&head!==stack.length-1)return stack[++head]?(stack[head].toggle(),stack[head]):void 0},backward:function(){if(stack.length&&!(head<0))return stack[head]?(stack[head].toggle(),stack[--head]):void 0}}},breadCrumb:function(){var breadCrumbs=[];return{set:function(val){breadCrumbs.push(val)},get:function(){return breadCrumbs}}},splitDestination:function(filesArray){return filesArray.reduce(function(acc,x){return x.size<5e7&&("application/pdf"===x.type||/image*/.test(x.type))?acc.cloudinary.push(x):acc.s3.push(x),acc},{s3:[],cloudinary:[]})},resolveDestType:function(file){return file.size<5e7&&("application/pdf"===file.type||/image*/.test(file.type))?2:1},checkUploadCompletion:function(files){var bool=!0;return files.s3.forEach(function(x){x.completed||x.aborted||!bool||(bool=!1)}),files.cloudinary.forEach(function(x){x.completed||x.aborted||!bool||(bool=!1)}),bool},checkDuplicateFiles:function(files,destId){return new Promise(function(resolve,reject){apiFactory.checkAssetDuplicate({assetNames:files.map(function(x){return x.name}),destId:destId}).then(function(resp){var duplicateFiles=files.map(function(x){return x.action="rename",x.assetName=x.name,x}).reduce(function(acc,x){return-1===resp.data.duplicates.indexOf(x.name)?acc.uploadFiles.push(x):acc.duplicates.push(x),acc},{duplicates:[],uploadFiles:[]});resolve(duplicateFiles)}).catch(function(e){reject(e)})})},checkNameChange:function(files){return files.filter(function(x){return"rename"===x.action}).reduce(function(acc,x){return acc=acc||x.assetName===x.name},!1)},generateVersion:function(fileName){return fileName+" (v"+Date.now()+")"},generateThumbnail:function(file){var reader=new FileReader;reader.onload=function(){pdfjsLib.getDocument({url:reader.result}).then(function(doc){doc.getPage(1).then(function(page){console.log("page!!!",page);var viewport=page.getViewport(1),canvas=document.createElement("canvas"),context=canvas.getContext("2d");canvas.height=viewport.height,canvas.width=viewport.width;var task=page.render({canvasContext:context,viewport:viewport});task.promise.then(function(){var dataURL=canvas.toDataURL("image/png"),link=document.createElement("a");link.download="roofplan_image_"+Date.now(),link.href=dataURL,document.body.appendChild(link),link.click(),document.body.removeChild(link)})})})},reader.readAsDataURL(file)},splitFileDest:function(filesArray){return filesArray.reduce(function(acc,x){return x.file.size<5e7&&("application/pdf"===x.file.type||/image*/.test(x.file.type))?acc.cloudinary.push(x):acc.s3.push(x),acc},{s3:[],cloudinary:[]})}};var items})}(),function(){angular.module("app").factory("globals",function($http,$state,$location,ngProgressFactory,Notification,localStorageService){var throttler=(enabled=!0,function(fn){enabled&&(enabled=!1,setTimeout(function(){enabled=!0}),fn())});var enabled;return{progress:(progressbar=ngProgressFactory.createInstance(),progressbar),logout:function(){localStorageService.remove("access-token"),localStorageService.remove("userData"),localStorageService.remove("companyData"),localStorageService.set("currentProject",null),localStorageService.remove("inventoryState"),$state.go("preLogin"),throttler(function(){return Notification.error("Please login")})},userStore:(userData=localStorageService.get("userData")||{},{set:function(data){return data.privilege=["admin","manager","sub_contractor","team_leader","worker"].indexOf(data.designation),localStorageService.set("userData",data),userData=data},get:function(){return userData},reset:function(){localStorageService.remove("userData"),userData={}}}),companyStore:(companyData=localStorageService.get("companyData")||null,{set:function(data){return localStorageService.set("companyData",data),companyData=data},get:function(){return companyData},refetch:function(id){$http({method:"GET",headers:{"x-access-token":localStorageService.get("access-token"),platform:JSON.stringify({source:"web"})},url:"https://api.staging.cloudes.eu/api/getCompanyById/"+id}).then(function(resp){localStorageService.set("companyData",resp.data)}).catch(function(e){console.log(e)})},reset:function(){localStorageService.remove("companyData"),companyData={}}}),projectStore:function(){localStorageService.get("currentProject");return{set:function(data){return localStorageService.set("currentProject",data),data},get:function(){return localStorageService.get("currentProject")},reset:function(){localStorageService.remove("currentProject"),null}}}(),inventoryState:function(){var state=localStorageService.get("inventoryState")||{tab:0,searchText:"",page:{material:1,combo:1}};return{setPage:function(type,value){state.page[type]=value,localStorageService.set("inventoryState",state)},setTab:function(val){state.tab=val,localStorageService.set("inventoryState",state)},text:function(_text){_text&&(state.searchText=_text,localStorageService.set("inventoryState",state))},get:function(){return state}}},mUnits:[{name:"mt",value:"mt"},{name:"sq.mt",value:"sq.mt"},{value:"cu.mt",name:"cu.mt"},{name:"ft",value:"ft"},{name:"sq.ft",value:"sq.ft"},{value:"cu.ft",name:"cu.ft"},{value:"unit",name:"unit"}],getCurrency:function(){return $http.get("/data/currencies.json")},getCountryCode:function(){return $http.get("/data/CountryCode.json")},getIndustry:function(){return $http.get("/data/industry.json")},debounce:function(rate){var timer=void 0;return function(fn,args){clearTimeout(timer),timer=setTimeout(function(){fn.apply(null,args)},rate)}},genericStore:function(){var item=void 0;return{store:function(val){item=val},get:function(){return item}}},extractPagesFromPdf:function(pdfLink,pageCount){return[].concat(_toConsumableArray(Array(pageCount).keys())).reduce(function(acc,_,i){var pageObj={pageNo:i,url:pdfLink.replace("/upload/","/upload/pg_"+(i+1)+"/").replace(/\.pdf$/,".png"),title:"title_"+Date.now(),selected:!1,description:""};return acc.push(pageObj),acc},[])},createPagesFromPdf:function(pdf){return new Promise(function(resolve,reject){pdfjsLib.getDocument(pdf.secure_url).promise.then(function(doc){Promise.all([].concat(_toConsumableArray(Array(doc.numPages).keys())).map(function(_,i){return doc.getPage(i+1)})).then(function(pages){resolve(pages.map(function(x,i){return x.pageNo=i,x.title="title_"+Date.now(),x.selected=!1,x.description="",x}))}).catch(function(e){reject(e)})}).catch(function(e){console.log(e),reject(e)})})},renderPage:function(page,canvas){var viewport=page.getViewport(canvas.width/page.getViewport(1).width),context=canvas.getContext("2d");canvas.height=viewport.height;page.render({canvasContext:context,viewport:viewport})}};var companyData;var userData;var progressbar})}(),function(){angular.module("app").factory("issuecreateFactory",function($http,$state,$location,localStorageService,globals,Upload,Notification,$q,apiFactory,uploadFactory,fileManagerFactory){var _globals,vm=this,s3FileObjets=[];return headers=function(method,token){return{"Content-Type":"GET"===method?void 0:"application/json","x-access-token":token?localStorageService.get("access-token"):void 0,platform:JSON.stringify({source:"web"})}},_globals=globals,progress=_globals.progress,userStore=_globals.userStore,logout=_globals.logout,{getAllAtOnce:function(object,filesarray){if(console.log("OBJECT: ",object),console.log("ARRAY OF FILES: ",filesarray),console.log("ARRAY OF FILES s3: ",filesarray.s3),console.log("ARRAY OF FILES cloudinary: ",filesarray.cloudinary),$q.defer(),filesarray.s3.length&&filesarray.s3.forEach(function(x,i,array){console.log(x,i),uploadFactory.start(function(evaporate){x.file.pause=uploadFactory.pause.bind(evaporate,x),x.file.resume=uploadFactory.resume.bind(evaporate,x),x.file.abort=uploadFactory.abort.bind(evaporate,x);var addConfig={name:x.file.name,file:x.file,progress:function(p,stats){x.file.progress=x.file.progress>Math.round(100*p)?x.file.progress:Math.round(100*p),vm.completedAll=fileManagerFactory.checkUploadCompletion(filesarray)},complete:function(_xhr,awsKey){x.file.completed=!0,console.log("Complete!")}};evaporate.add(addConfig).then(function(awsObjectKey){console.log(x);var payload={type:fileManagerFactory.resolveDestType(x.file),assetData:{assetName:x.file.name,assetdescription:x.comment,bucket:"3dfilesdata",key:"test/"+x.file.name,mimetype:x.file.type,bytes:x.file.size}};$http({url:url+"/api/newIssues3FileUpload",method:"POST",data:payload,headers:headers("POST",!0)}).then(function(resp){console.log("s3 resp: ",resp),s3FileObjets.push(resp),i==filesarray.s3.length-1&&(alert("alerts called"),console.log(i),console.log("array:",x))}).catch(function(e){console.log(e)})},function(reason){x.aborted=!0,vm.completedAll=fileManagerFactory.checkUploadCompletion(filesarray)})})}),filesarray.cloudinary.length){var cloudinaryPayload={files:filesarray.cloudinary};Upload.upload({url:url+"/api/issueImage",method:"POST",data:cloudinaryPayload,headers:headers("POST",!0)}).then(function(resp){console.log("response of cloudinary: ",resp),vm.completedAll=fileManagerFactory.checkUploadCompletion(filesarray)}).catch(function(e){console.log(e)})}},sendData:function(object,files){console.log(object),console.log(files)}}})}(),function(){angular.module("app").factory("uploadFactory",function($http,$location,localStorageService,apiFactory,Upload,cloudinary,Notification){var config={signerUrl:"https://api.staging.cloudes.eu/signv4_auth",aws_key:"AKIAJMO3YJTPKYV5DN5A",bucket:"3dfilesdata/test",awsRegion:"ap-south-1",computeContentMd5:!0,allowS3ExistenceOptimization:!0,cryptoMd5Method:function(data){return AWS.util.crypto.md5(data,"base64")},cryptoHexEncodedHash256:function(data){return AWS.util.crypto.sha256(data,"hex")}};return{init:function(){return Evaporate.create(config)},start:function(handler){var fileUpload=this.init();fileUpload.then(handler).catch(function(e){console.log(e)})},pause:function(file){this.pause("3dfilesdata/test/"+file.name,{force:!0}).then(function(){file.isPaused=!0,console.log("Paused!")}).catch(function(e){console.log(e)})},resume:function(file){this.resume("3dfilesdata/test/"+file.name).then(function(){file.isPaused=!1,console.log("Resumed!")}).catch(function(e){console.log(e)})},abort:function(file){this.cancel("3dfilesdata/test/"+file.name).then(function(){console.log("Canceled!")}).catch(function(e){console.log(e)})}}})}(),function(){angular.module("app").factory("SBchannel",function($http,$location,localStorageService,SBcommon,Notification){var sb=SBcommon.getInstance();return{createChannel:function(channelName,id){return new Promise(function(resolve,reject){var params=new sb.GroupChannelParams;params.isPublic=!1,params.isEphemeral=!1,params.isDistinct=!1,params.addUserIds([id]),params.operators=[id],params.name=channelName,sb.GroupChannel.createChannel(params,function(groupChannel,error){error?reject(err):resolve(groupChannel)})})},createParams:function(){},listChannels:function(){return new Promise(function(resolve,reject){var channelListQuery=sb.GroupChannel.createMyGroupChannelListQuery();channelListQuery.includeEmpty=!0,channelListQuery.hasNext&&channelListQuery.next(function(channelList,error){error?reject(err):resolve(channelList)})})}}})}(),function(){angular.module("app").factory("SBcommon",function($http,$location,localStorageService,Notification){var sb=new SendBird({appId:"C83D94E0-F82E-4F22-A7AD-F9922569AAB4"});return{getInstance:function(){return sb},connect:function(id,token){return new Promise(function(resolve,reject){sb.connect(id,token,function(user,err){err?(console.log(err),reject(err)):resolve(user)})})},disconnect:function(){return new Promise(function(resolve,reject){sb.disconnect(function(){resolve("Disconnected successfully")})})},error:function(e){Notification.error("Something went wrong"),console.log(e)}}})}(),function(){angular.module("app").factory("commonVPFactory",function($rootScope){return{createStage:function(divId,initialSize,plannerData){var stage;plannerData&&plannerData.jsonString?((stage=Konva.Node.create(plannerData.jsonString,"stage")).width(initialSize.width),stage.height(initialSize.height)):stage=new Konva.Stage({container:divId,x:1,y:1,width:initialSize.width,height:initialSize.height});var getStageSize=this.getStageSize;return stage.on("windowResized",function(){var dimensions=getStageSize(divId);stage.width(dimensions.width),stage.height(dimensions.height),stage.draw()}),stage},getStageSize:function(divId){var el=document.getElementById(divId);return{height:el.clientHeight,width:el.clientWidth}},shapeId:function(){var defaultCount={shapes:{rectangle:0,square:0,circle:0,ellipse:0,calibrator:0,freeHand:0,polygon:0},markings:{line:0,singleArrow:0,doubleArrow:0,bezier:0,freehand:0,text:0,selection:0},measurement:{rectangle:0,square:0,circle:0,ellipse:0,calibrator:0,polygon:0,freeHand:0}},currentCount=defaultCount;return{load:function(count){currentCount=count},getCount:function(type,shape){return currentCount[type][shape]++,currentCount[type][shape]},get:function(){return currentCount},reset:function(){currentCount=defaultCount}}},drawState:function(){var initialDrawStates={shapes:{rectangle:!1,square:!1,circle:!1,ellipse:!1,calibrator:!1,polygon:!1},markings:{line:!1,singleArrow:!1,doubleArrow:!1,bezier:!1,freehand:!1,text:!1,selection:!1},measurement:{rectangle:!1,square:!1,circle:!1,ellipse:!1,calibrator:!1,polygon:!1,freeHand:!1}},drawStates=angular.copy(initialDrawStates);return{set:function(type){var keys=type.split(".");this.reset(),drawStates[keys[0]][keys[1]]=!0,$rootScope.$broadcast("drawStateChange",drawStates)},check:function(type){var keys=type?type.split("."):"";return type?drawStates[keys[0]][keys[1]]:drawStates},reset:function(){drawStates=angular.copy(initialDrawStates),$rootScope.$broadcast("drawStateChange",drawStates)}}},calibrationState:function(){var state={value:1,unit:"units"};return{set:function(obj){state=obj},get:function(){return state}}},actionStates:function(actions){var stack=actions||[],head=stack.length-1;return{push:function(val){stack.splice(head+1,stack.length,val),head=stack.length-1},show:function(){return stack},peek:function(){return stack[head]},undo:function(){head>-1&&(stack[head].delete(),head-=1)},redo:function(){head<stack.length&&(head=head===stack.length-1?head:head+1,stack[head].restore())}}},actionHandler:function(stage,entity,process,actionType,props){var entity=entity,stage=stage,process=process,props=props,handlers={create:{delete:function(){entity.remove(),stage.batchDraw()},restore:function(){process.add(entity),stage.batchDraw()}},move:{delete:function(){entity.position(props.start),stage.batchDraw()},restore:function(){entity.position(props.end),stage.batchDraw()}},delete:{delete:function(){process.add(entity),stage.batchDraw()},restore:function(){entity.remove(),stage.batchDraw()}},shapeProps:{delete:function(){for(var key in props.start)entity[key](props.start[key]);stage.batchDraw()},restore:function(){for(var key in props.end)entity[key](props.end[key]);stage.batchDraw()}}};return{entity:entity,restore:handlers[actionType].restore,delete:handlers[actionType].delete}},movement:function(){var start;return{add:function(position){if(start)return{start:start,end:position};start=position}}},shapePropertyHistory:function(){var start;return{add:function(props){if(start)return{start:start,end:props};start=props}}},transformers:function(layer){var layer=layer,transformers=[];return{add:function(transformer){transformers.push(transformer)},removeAll:function(){angular.forEach(transformers,function(x){x.remove()}),layer.draw()}}},dragOffset:function(stagePosition,layerOffset,stageScale){return{x:(stagePosition.x-layerOffset.x)/stageScale.x,y:(stagePosition.y-layerOffset.y)/stageScale.y}},selectedShape:function(shape){return{get:function(){return shape},set:function(val){shape=val},reset:function(){shape=void 0}}},selectionStore:function(){var selections=[];return{store:function(shapes){selections=shapes},get:function(){return selections},pull:function(shapeName){selections=selections.filter(function(shape){return shape.name()!==shapeName})},push:function(shape){var shapeNames=selections.map(function(shape){return shape.name()});shapeNames.indexOf(shape.name())>-1||selections.push(shape)},clear:function(){selections=[]}}},associations:function(){var associations={},methods={createAssociation:function(shapeId,entityId,type){var key=shapeId+"-"+entityId+"-"+Date.now();return associations[key]={shapeId:shapeId,entityId:entityId,type:type},key},getAssociations:function(key){return key?associations[key]:associations},getAssociationsForSave:function(){return Object.keys(associations).reduce(function(acc,x){var obj={shapeId:associations[x].shapeId,type:associations[x].type};switch(associations[x].type){case 1:obj.materialId=associations[x].entityId;break;case 2:obj.comboId=associations[x].entityId;break;case 3:obj.equipmentId=associations[x].entityId}return acc.push(obj),acc},[])},removeAssociation:function(key){associations[key]=void 0},reset:function(){associations={}}};return Object.freeze(methods)}}})}(),function(){angular.module("app").factory("eventsVPFactory",function($rootScope){return{windowEvents:function(windowObject){var entities=[];return windowObject.addEventListener("resize",function(ev){angular.forEach(entities,function(v){v.fire("windowResized")})}),{register:function(entity){entities.push(entity)},show:function(){}}},stageEvents:function(stage){var stage=stage,events=[];return{register:function(event,handler){stage&&(events.push(event),stage.on(event,handler))}}},shapeEvents:function(shape){var shape=shape,events=[];return{register:function(event,handler){events.indexOf(event)>-1||(events.push(event),shape.on(event,handler))}}},layerEvents:function(layer){var layer=layer,events=[];return{register:function(event,handler){events.indexOf(event)>-1||(events.push(event),layer.on(event,handler))}}}}})}(),function(){angular.module("app").factory("layersVPFactory",function($rootScope){return{createLayer:function(stage){var layer=new Konva.Layer;return stage.add(layer),layer},initiateProcess:function(stage,baseLayer){var head,processes=[];return{createProcess:function(){var group=new Konva.Group({name:"process-"+Date.now()});processes.push(group),head=processes.length-1,baseLayer.add(group)},getProcesses:function(){return processes},getCurrent:function(){return processes[head]},setCurrent:function(index){head=index},showProcess:function(index){void 0!==index?baseLayer.add(processes[index]):angular.forEach(processes,function(x){baseLayer.add(x)}),baseLayer.draw()},hideProcess:function(index){void 0!==index?processes[index].remove():angular.forEach(processes,function(x){x.remove()}),baseLayer.draw()},loadProcesses:function(processesFromJson){head=(processes=processesFromJson).length-1}}}}})}(),function(){angular.module("app").factory("shapesVPFactory",function($rootScope,eventsVPFactory,commonVPFactory,toolsVPFactory){var createdShape,shapeTools,shapeId=commonVPFactory.shapeId(),polygonOptions={init:!1,points:[],pointSet:!0};return{getShapeTools:function(obj){shapeTools=obj},loadShapeId:function(obj){shapeId.load(obj)},getShapeId:function(){return shapeId.get()},createShape:function(type,position){if(createdShape)return{start:!1,shape:createdShape};var shape,shapeProps=shapeTools.get();switch(type){case 0:shape=new Konva.Line({points:[position.x,position.y,position.x,position.y,position.x,position.y,position.x,position.y,position.x,position.y],stroke:shapeProps.stroke||"black",name:"Rect"+shapeId.getCount("shapes","rectangle"),strokeWidth:shapeProps.strokeWidth||1,fill:shapeProps.fill,draggable:!0,closed:!0});break;case 1:shape=new Konva.Ellipse({x:position.x,y:position.y,radius:{x:1,y:1},stroke:shapeProps.stroke||"black",name:"Ellipse"+shapeId.getCount("shapes","ellipse"),strokeWidth:shapeProps.strokeWidth||1,fill:shapeProps.fill,draggable:!0})}return{start:!0,shape:createdShape=shape}},drawShape:function(position,shapeLock,misc){if(createdShape)switch(createdShape.className){case"Line":this.drawRectangle(position,createdShape,shapeLock,misc);break;case"Ellipse":createdShape.radius({x:Math.abs(position.x-createdShape.x()),y:Math.abs(shapeLock?position.x-createdShape.x():position.y-createdShape.y())})}},drawRectangle:function(position,shape,shapelock,misc){var points=shape.points();switch(points[4]=position.x,points[5]=shapelock?Math.abs(points[1]+(position.x-points[0])):position.y,points[7]=shapelock?Math.abs(points[1]+(position.x-points[0])):position.y,points[2]=position.x,misc){case"grabber":shape.dash([10,10]);break;case"wrapper":shape.stroke("grey"),shape.draggable(!1)}shape.points(points)},destroyShape:function(){createdShape=void 0,polygonOptions={init:!1,points:[],pointSet:!0}},cancelDrawing:function(selection){var selectionPoints=createdShape.points();return document.body.style.cursor="default",createdShape&&createdShape.remove(),createdShape=void 0,polygonOptions={init:!1,points:[],pointSet:!0},selectionPoints},createPolygon:function(position,freeHand,freeHandMarker){if(!polygonOptions.init&&!createdShape){var shapeProps=shapeTools.get();return polygonOptions.points=[position.x,position.y],createdShape=freeHandMarker?new Konva.Line({name:"markerFreeHand"+shapeId.getCount("markings","freehand"),points:polygonOptions.points,fill:shapeProps.fill,stroke:shapeProps.stroke||"black",strokeWidth:shapeProps.strokeWidth||1}):new Konva.Line({name:freeHand?"freeHand"+shapeId.getCount("shapes","freeHand"):"polygon"+shapeId.getCount("shapes","polygon"),points:polygonOptions.points,fill:shapeProps.fill,stroke:shapeProps.stroke||"black",strokeWidth:shapeProps.strokeWidth||1}),polygonOptions.init=!0,{start:!0,polygon:createdShape}}return freeHandMarker?(polygonOptions.pointSet=!0,createdShape.draggable(!0),{start:!1,polygon:createdShape}):this.checkThreshold(position)?(polygonOptions.points.splice(-2),polygonOptions.points.push(polygonOptions.points[0],polygonOptions.points[1]),createdShape.points(polygonOptions.points),polygonOptions.pointSet=!0,createdShape.closed(!0),createdShape.draggable(!0),{start:!1,polygon:createdShape}):(polygonOptions.points.splice(-2),polygonOptions.points.push(position.x,position.y),createdShape.points(polygonOptions.points),void(polygonOptions.pointSet=!0))},drawPolygon:function(position,freeHand){createdShape&&(freeHand?(polygonOptions.points.push(position.x,position.y),createdShape.points(polygonOptions.points)):polygonOptions.pointSet?(polygonOptions.points.push(position.x,position.y),polygonOptions.pointSet=!1,createdShape.points(polygonOptions.points)):(polygonOptions.points[polygonOptions.points.length-2]=position.x,polygonOptions.points[polygonOptions.points.length-1]=position.y,createdShape.points(polygonOptions.points)))},createLine:function(position,type){if(createdShape)return{start:!1,line:createdShape};var line,shapeProps=shapeTools.get();switch(type){case"line":line=new Konva.Line({name:"lineSimple"+shapeId.getCount("markings","line"),points:[position.x,position.y],strokeWidth:shapeProps.strokeWidth||1,stroke:shapeProps.stroke||"black",draggable:!0});break;case"singleArrow":line=new Konva.Arrow({name:"lineArrow"+shapeId.getCount("markings","singleArrow"),points:[position.x,position.y],strokeWidth:1,stroke:shapeProps.stroke||"black",fill:shapeProps.fill||"black",draggable:!0,pointerLength:10,pointerWidth:10});break;case"doubleArrow":line=new Konva.Arrow({name:"lineArrowDouble"+shapeId.getCount("markings","doubleArrow"),points:[position.x,position.y],strokeWidth:shapeProps.strokeWidth||1,stroke:shapeProps.stroke||"black",fill:shapeProps.fill||"black",draggable:!0,pointerLength:10,pointerWidth:10,pointerAtBeginning:!0})}return{start:!0,line:createdShape=line}},drawLine:function(position){if(createdShape){var points=createdShape.points();points[2]=position.x,points[3]=position.y,createdShape.points(points)}},createBezierLine:function(position){if(createdShape){var createdPoints=createdShape.points(),q=[.5*(createdPoints[2]-createdPoints[0])+createdPoints[0],.5*(createdPoints[3]-createdPoints[1])+createdPoints[1]];createdPoints[2],createdPoints[0],createdPoints[0],createdPoints[3],createdPoints[1],createdPoints[1],createdPoints[2],createdPoints[0],createdPoints[0],createdPoints[3],createdPoints[1],createdPoints[1];return createdPoints.push(q[0],q[1]),createdShape.points(createdPoints),createdShape.tension(1.1),{start:!1,line:createdShape}}var shapeProps=shapeTools.get(),bezier=new Konva.Line({name:"bezier"+shapeId.getCount("markings","bezier"),lineJoin:"round",points:[position.x,position.y],strokeWidth:shapeProps.strokeWidth||1,stroke:shapeProps.stroke||"black",draggable:!0});return{start:!0,line:createdShape=bezier}},drawBezierLine:function(position){if(createdShape){var points=createdShape.points();points[2]=position.x,points[3]=position.y,createdShape.points(points)}},createText:function(props){var textShape=new Konva.Text({x:props.position.x,y:props.position.y,name:"text",text:"Placeholder text",width:props.width,fontSize:16,fontFamily:"Calibri",fill:"black"});return textShape},createTextGroup:function(){var textGroup=new Konva.Group({name:"textGroup"+shapeId.getCount("markings","text"),draggable:!0});return textGroup},calibrator:function(stage,layer){var line,points=[],isDone=!1,init=!0;return function(position,set,kill){if(kill)return line.destroy(),void layer.draw();position={x:position.x/stage.scale().x,y:position.y/stage.scale().y},isDone||(init&&set?(points.push(position.x,position.y),line=new Konva.Line({points:points,fill:"grey",stroke:"black",strokeWidth:1,dash:[5,1]}),init=!1,layer.add(line)):init||(set?(points[2]=position.x,points[3]=position.y,line.points(points),isDone=!0,$rootScope.$broadcast("calibrated",line)):(points[2]=position.x,points[3]=position.y,line.points(points)))),layer.draw()}},checkThreshold:function(position){var xUpperThreshold=polygonOptions.points[0]+10,yUpperThreshold=polygonOptions.points[1]+10,xLowerThreshold=polygonOptions.points[0]-10,yLowerThreshold=polygonOptions.points[1]-10;return xUpperThreshold>position.x&&xLowerThreshold<position.x&&yUpperThreshold>position.y&&yLowerThreshold<position.y},extractAllShapes:function(layer){var allShapes=layer.find("Group").reduce(function(acc,x){return/process*/.test(x.name())&&angular.forEach(x.getChildren(),function(child){acc.push(child)}),acc},[]);return allShapes},selectShapes:function(layer,points){var allShapes=this.extractAllShapes(layer),min=(points[0],points[1],points[4],points[5],{x:points[0]>points[4]?points[4]:points[0],y:points[1]>points[5]?points[5]:points[1]}),max={x:points[0]<points[4]?points[4]:points[0],y:points[1]<points[5]?points[5]:points[1]},checkSelection=this.checkSelection,selectedShapes=allShapes.filter(function(x){var shapeName=x.name();if(/Rect*/.test(shapeName)||/polygon*/.test(shapeName)||/freeHand*/.test(shapeName)||/markerFreeHand/.test(shapeName)){for(var points=x.points(),positionOffset=x.position(),vertices=[],i=0;i<points.length-2;i+=2)vertices.push([points[i]+positionOffset.x,points[i+1]+positionOffset.y]);return checkSelection({min:min,max:max},vertices,"rectangle")}if(/line*/.test(shapeName)){for(var points=x.points(),positionOffset=x.position(),vertices=[],i=0;i<points.length;i+=2)vertices.push([points[i]+positionOffset.x,points[i+1]+positionOffset.y]);return checkSelection({min:min,max:max},vertices,"rectangle")}return!!/Ellipse*/.test(shapeName)&&checkSelection({min:min,max:max},x.position(),"ellipse")});return selectedShapes},checkSelection:function(range,prop,type){if("rectangle"===type){for(var i=0;i<prop.length;i++)if(prop[i][0]>=range.min.x&&prop[i][0]<=range.max.x&&prop[i][1]>=range.min.y&&prop[i][1]<=range.max.y)return!0;return!1}if("ellipse"===type)return prop.x>=range.min.x&&prop.x<=range.max.x&&prop.y>=range.min.y&&prop.y<=range.max.y}}})}(),function(){angular.module("app").factory("toolsVPFactory",function($rootScope,eventsVPFactory){return{polygonArea:function(points,scale){for(var result,det=0,chunkedArray=[],chunk=[],i=0;i<points.length;i++)chunk.length<2?chunk.push(points[i]):(chunkedArray.push({x:chunk[0],y:chunk[1]}),(chunk=[]).push(points[i]));var l=chunkedArray.length;chunkedArray[0]!=chunkedArray[chunkedArray.length-1]&&(chunkedArray=chunkedArray.concat(chunkedArray[0]));for(var i=0;i<l;i++)det+=chunkedArray[i].x*chunkedArray[i+1].y-chunkedArray[i].y*chunkedArray[i+1].x;return result=scale?Math.abs(det)/2*scale:Math.abs(det)/2,Number.parseFloat(result).toFixed(2)},rectangleArea:function(height,width,scale){var area=height*width*scale;return area},ellipseArea:function(radii,scale){var area=Math.PI*radii.x*radii.y,result=scale?area*scale:area;return Number.parseFloat(result).toFixed(2)},ellipseTransfomer:function(stage,layer,ellipse){var vertices=[],group=new Konva.Group({name:"transformers"});return{set:function(radius){var ellipsePosition=ellipse.position();vertices.push([ellipsePosition.x-radius.x,ellipsePosition.y],[ellipsePosition.x+radius.x,ellipsePosition.y],[ellipsePosition.x,ellipsePosition.y+radius.y],[ellipsePosition.x,ellipsePosition.y-radius.y]);var inc=0;return angular.forEach(vertices,function(x,$index){var circle=new Konva.Circle({x:x[0],y:x[1],radius:5/layer.scaleX(),name:($index+inc).toString()+","+($index+inc+1).toString(),fill:"white",stroke:"black",strokeWidth:3/layer.scaleX(),dragBoundFunc:function(pos){return{x:$index>1?this.getAbsolutePosition().x:pos.x,y:$index<=1?this.getAbsolutePosition().y:pos.y}},draggable:!0});inc++;var circleEvent=eventsVPFactory.shapeEvents(circle);circleEvent.register("dragmove.transformer",function(){var previousRadius=ellipse.radius(),selectedVertex=circle.name(),isNegative=!1;switch(selectedVertex){case"0,1":isNegative=ellipse.position().x-circle.x()<0,ellipse.radius({x:Math.abs(ellipse.position().x-circle.x()),y:previousRadius.y}),angular.forEach(group.children,function(z){"2,3"===z.name()&&(isNegative?z.x(ellipse.position().x-ellipse.radius().x):z.x(ellipse.position().x+ellipse.radius().x))});break;case"2,3":isNegative=ellipse.position().x-circle.x()<0,ellipse.radius({x:Math.abs(ellipse.position().x-circle.x()),y:previousRadius.y}),angular.forEach(group.children,function(z){"0,1"===z.name()&&(isNegative?z.x(ellipse.position().x-ellipse.radius().x):z.x(ellipse.position().x+ellipse.radius().x))});break;case"4,5":isNegative=ellipse.position().y-circle.y()<0,ellipse.radius({x:previousRadius.x,y:Math.abs(ellipse.position().y-circle.y())}),angular.forEach(group.children,function(z){"6,7"===z.name()&&(isNegative?z.y(ellipse.position().y-ellipse.radius().y):z.y(ellipse.position().y+ellipse.radius().y))});break;case"6,7":isNegative=ellipse.position().y-circle.y()<0,ellipse.radius({x:previousRadius.x,y:Math.abs(ellipse.position().y-circle.y())}),angular.forEach(group.children,function(z){"4,5"===z.name()&&(isNegative?z.y(ellipse.position().y-ellipse.radius().y):z.y(ellipse.position().y+ellipse.radius().y))})}layer.draw(),ellipse.fire("transformEllipse")}),circleEvent.register("scaleOnZoom",function(e){e.target.radius(5/layer.scaleX()),e.target.strokeWidth(3/layer.scaleX()),layer.draw()}),circleEvent.register("mouseenter",function(e){document.body.style.cursor="move"}),circleEvent.register("mouseleave",function(e){document.body.style.cursor="default"}),group.add(circle)}),ellipse.fire("transformEllipse"),!0,layer.add(group),group},getGroup:function(){return group},destroy:function(){group.destroy()}}},customTransformer:function(stage,layer,polygon,isRectangle){var vertices=[],group=new Konva.Group({name:"transformers"}),polygon=polygon;return{set:function(points){for(var i=0;i<points.length-2;i+=2)vertices.push([points[i],points[i+1]]);var inc=0;return angular.forEach(vertices,function(x,$index){var circle=new Konva.Circle({x:x[0],y:x[1],radius:5/layer.scaleX(),name:($index+inc).toString()+","+($index+inc+1).toString(),fill:"white",stroke:"black",strokeWidth:3/layer.scaleX(),draggable:!0});inc++;var circleEvent=eventsVPFactory.shapeEvents(circle);circleEvent.register("dragmove.transformer",function(e){if(isRectangle){var selectedVertex=circle.name();switch(selectedVertex){case"0,1":vertices[0]=[circle.x(),circle.y()],vertices[1][1]=circle.y(),vertices[3][0]=circle.x(),angular.forEach(group.children,function(z){"6,7"===z.name()&&z.x(circle.x()),"2,3"===z.name()&&z.y(circle.y())});break;case"2,3":vertices[1]=[circle.x(),circle.y()],vertices[0][1]=circle.y(),vertices[2][0]=circle.x(),angular.forEach(group.children,function(z){"4,5"===z.name()&&z.x(circle.x()),"0,1"===z.name()&&z.y(circle.y())});break;case"4,5":vertices[2]=[circle.x(),circle.y()],vertices[3][1]=circle.y(),vertices[1][0]=circle.x(),angular.forEach(group.children,function(z){"2,3"===z.name()&&z.x(circle.x()),"6,7"===z.name()&&z.y(circle.y())});break;case"6,7":vertices[3]=[circle.x(),circle.y()],vertices[2][1]=circle.y(),vertices[0][0]=circle.x(),angular.forEach(group.children,function(z){"0,1"===z.name()&&z.x(circle.x()),"4,5"===z.name()&&z.y(circle.y())})}}else{var temp=[];angular.forEach(group.children,function(x){temp.push([x.x(),x.y()])}),vertices=angular.copy(temp)}polygon.fire("transformPolygon")}),circleEvent.register("scaleOnZoom",function(e){e.target.radius(5/layer.scaleX()),e.target.strokeWidth(3/layer.scaleX()),layer.draw()}),circleEvent.register("mouseenter",function(e){document.body.style.cursor="move"}),circleEvent.register("mouseleave",function(e){document.body.style.cursor="default"}),group.add(circle)}),!0,layer.add(group),group},update:function(offset){group.x(offset.x),group.y(offset.y),layer.draw()},getPoints:function(){return vertices.reduce(function(acc,x,i){return acc.push(x[0],x[1]),i===vertices.length-1&&acc.push(vertices[0],vertices[1]),acc},[])},getGroup:function(){return group}}},bezierTransformer:function(stage,layer,bezier){var vertices=[],group=new Konva.Group({name:"transformers"}),bezier=bezier;return{set:function(points){for(var i=0;i<points.length;i+=2)vertices.push([points[i],points[i+1]]);var inc=0;return angular.forEach(vertices,function(x,$index){var circle=new Konva.Circle({x:x[0],y:x[1],radius:5/layer.scaleX(),name:($index+inc).toString()+","+($index+inc+1).toString(),fill:"white",stroke:"black",strokeWidth:3/layer.scaleX(),draggable:!0});inc++;var circleEvent=eventsVPFactory.shapeEvents(circle);circleEvent.register("dragmove.transformer",function(e){var temp=[];angular.forEach(group.children,function(x){temp.push([x.x(),x.y()])}),vertices=angular.copy(temp),bezier.fire("transformBezier")}),circleEvent.register("scaleOnZoom",function(e){e.target.radius(5/layer.scaleX()),e.target.strokeWidth(3/layer.scaleX()),layer.draw()}),circleEvent.register("mouseenter",function(e){document.body.style.cursor="move"}),circleEvent.register("mouseleave",function(e){document.body.style.cursor="default"}),group.add(circle)}),!0,layer.add(group),group},update:function(offset){group.x(offset.x),group.y(offset.y),layer.draw()},getPoints:function(){return vertices.reduce(function(acc,x,i){return acc.push(x[0],x[1]),i===vertices.length-1&&acc.push(vertices[0],vertices[1]),acc},[])},getGroup:function(){return group}}},scaleTransformerBasedOnZoom:function(baseLayer){var transformerGroup=baseLayer.find(".transformers");transformerGroup.length&&angular.forEach(transformerGroup[0].getChildren(),function(child){child.fire("scaleOnZoom")})},metrics:function(){var shapeInfo;return{setShapeInfo:function(info){shapeInfo=info},getShapeInfo:function(){return shapeInfo}}},colorPicker:function(){var props={stroke:"black",opacity:1,fill:"rgba(255, 255, 255, 0)",strokeWidth:1};return{set:function(obj){props=Object.assign(props,obj)},get:function(prop){return prop?props[prop]:props}}}}})}(),function(){angular.module("app").controller("_3dDashboardCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,localStorageService,globals,NgMap){this.loggedIn=!0;var logout=globals.logout;globals.userStore,globals.throttler;if(!authFactory.checkUser())return logout(),void(this.loggedIn=!1);this.logout=function(){logout()}})}(),function(){angular.module("app").controller("_3dviewerCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var logout=globals.logout;authFactory.checkUser()||logout();this.logout=function(){logout()}})}(),function(){angular.module("app").controller("billingArchiveCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()},"/payroll"==$location.path()&&$(".payrollMenu").css("display","block !important");$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("calculationCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()},$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("calenderCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload){$scope.invitees=[{id:"1",img:"/assets/images/user_pic2.png",name:"Lisa Guerrero",lb:!0,status:!1},{id:"2",img:"/assets/images/user_pic3.png",name:"Peter Gregor",lb:!1,status:!1},{id:"3",img:"/assets/images/user_pic2.png",name:"Lisa Guerrero",lb:!1,status:!1},{id:"4",img:"/assets/images/user_pic3.png",name:"Peter Gregor",lb:!1,status:!1}];var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.logout=function(){logout()},this.userData=userStore.get()})}(),function(){angular.module("app").controller("clientsCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,debounce=globals.debounce,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},$scope.$watch("vm.clientData.clientContact.dialCode",function(value){$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")}),$(".clientsList").DataTable(),$scope.activeJustified=0,vm.currentPage=1,vm.toggleObj={toggleClient:{clientName:!1,phoneNo:!1,email:!1,primaryAdd:!1,created:!0}},vm.searchText="",vm.sortclients=function(type,resource){void 0===vm.toggleObj[resource][type]?vm.toggleObj[resource][type]=!0:vm.toggleObj[resource][type]=!vm.toggleObj[resource][type],apiFactory.listAllClients({page:1,chunk:10,sort:type,search:vm.searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allClients=resp.data.list,vm.clientCount=resp.data.total,$timeout(function(){$("#pagination").pagination({items:vm.clientCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllClients({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.allClients=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.searchText="";var searchDebounce=debounce(250);vm.searchClients=function(text){searchDebounce(function(){apiFactory.listAllClients({page:1,chunk:10,search:text,sort:"created",sortType:!1}).then(function(resp){vm.allClients=resp.data.list,vm.clientCount=resp.data.total,$timeout(function(){$("#pagination").pagination({items:vm.clientCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllClients({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allClients=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},[text])},vm.sortclients("created","toggleClient"),vm.dtOptions={paging:!1,info:!1,ordering:!1,searching:!1},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),globals.getIndustry().then(function(resp){vm.getIndustries=resp.data,vm.loadIndustry=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),globals.getCurrency().then(function(resp){vm.getCurrencies=resp.data,vm.loadCurrency=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.addNewClient=function(valid,clientdata){var client={},industries=[];null==clientdata&&Notification.error("Cannot save empty record"),void 0===clientdata.clientName?Notification.error("Please enter name of client"):client.clientName=clientdata.clientName,void 0===clientdata.clientContact?Notification.error("Please enter phone details"):client.clientContact={dialCode:clientdata.clientContact.dialCode[0].dialCode,phoneNumber:clientdata.clientContact.phoneNumber},null!=clientdata.description&&(client.description=clientdata.description),null!=clientdata.yearFounded&&(client.yearFounded=clientdata.yearFounded),null!=clientdata.clientWebsite&&(client.clientWebsite=clientdata.clientWebsite),null!=clientdata.email&&(client.email=clientdata.email),null!=clientdata.industry&&(clientdata.industry.forEach(function(element){industries.push(element.type)}),client.industry=industries),null!=clientdata.clientContactPerson&&(clientdata.clientContactPerson.dialCode?(console.log("dial code exist"),client.clientContactPerson={firstName:clientdata.clientContactPerson.firstName,middleName:clientdata.clientContactPerson.middleName,lastName:clientdata.clientContactPerson.lastName,email:clientdata.clientContactPerson.email,mobile:{dialCode:clientdata.clientContactPerson.dialCode[0].dialCode,phoneNumber:clientdata.clientContactPerson.phoneNumber}}):client.clientContactPerson={firstName:clientdata.clientContactPerson.firstName,middleName:clientdata.clientContactPerson.middleName,lastName:clientdata.clientContactPerson.lastName,email:clientdata.clientContactPerson.email,mobile:{phoneNumber:clientdata.clientContactPerson.phoneNumber}}),null!=clientdata.annualRevenue&&(clientdata.annualRevenue.currencyCode?client.annualRevenue={value:clientdata.annualRevenue.value,currencyCode:clientdata.annualRevenue.currencyCode[0].cc}:client.annualRevenue={value:clientdata.annualRevenue.value}),null!=clientdata.address2&&(clientdata.address2.countryCode?client.address2={line1:clientdata.address2.line1,line2:clientdata.address2.line2,line3:clientdata.address2.line3,city:clientdata.address2.city,postalCode:clientdata.address2.postalCode,countryCode:clientdata.address2.countryCode[0].code}:client.address2={line1:clientdata.address2.line1,line2:clientdata.address2.line2,line3:clientdata.address2.line3,city:clientdata.address2.city,postalCode:clientdata.address2.postalCode}),null!=clientdata.address1&&(clientdata.address1.countryCode?client.address1={line1:clientdata.address1.line1,line2:clientdata.address1.line2,line3:clientdata.address1.line3,city:clientdata.address1.city,postalCode:clientdata.address1.postalCode,countryCode:clientdata.address1.countryCode[0].code}:client.address1={line1:clientdata.address1.line1,line2:clientdata.address1.line2,line3:clientdata.address1.line3,city:clientdata.address1.city,postalCode:clientdata.address1.postalCode}),apiFactory.createClient(client).then(function(resp){Notification.success("Issue has been saved successfully"),vm.clientData={},$("#addClient").modal("hide"),vm.sortclients("created","toggleClient")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})}})}(),function(){angular.module("app").controller("comboMaterialViewCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,globals,$location,Upload){var vm=this,logout=globals.logout;globals.userStore;if(!authFactory.checkUser())return void logout();function getComboMatDetail(){apiFactory.getComboMaterialById(vm.comboId).then(function(resp){vm.comboData=resp.data.data,vm.comboMmatrialName=vm.comboData.name,vm.description=vm.comboData.description,vm.uom=vm.comboData.unit,console.log(vm.comboData),angular.forEach(vm.comboData.comboMaterialList,function(item){vm.materialCost=item.materialId.currentRate.materialCost.value*item.quantity,vm.materialTotal=vm.materialTotal+vm.materialCost,vm.rooferCost=item.materialId.currentRate.rooferCost.value*item.quantity,vm.rooferTotal=vm.rooferTotal+vm.rooferCost}),console.log(vm.comboData),$timeout(imgSlider,1500)}).catch(function(e){console.log(e)})}function imgSlider(){$("#comboCarousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:75,itemMargin:5,asNavFor:"#comboSlider"}),$("#comboSlider").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,sync:"#comboCarousel"})}vm.editFlag=!1,vm.comboId=$stateParams.id,vm.mUnits=globals.mUnits,vm.removedFiles=[],vm.comboMaterialList=[],vm.materialTotal=0,vm.rooferTotal=0,getComboMatDetail(),vm.removeImg=function(img){vm.removedFiles.push(vm.matrialData.files[img]._id),vm.matrialData.files.splice(img,1)},vm.editComboMaterialList=function(item){vm.materialList=vm.comboData.comboMaterialList[item],vm.materialQty=vm.materialList.quantity,vm.selectedMaterialCost=vm.materialQty*vm.materialList.materialId.currentRate.materialCost.value,vm.selectedMaterialRooferCost=vm.materialQty*vm.materialList.materialId.currentRate.rooferCost.value,0!=vm.materialList.percentageAdditions.length&&null!=vm.materialList.percentageAdditions.length?vm.percentageAddition=vm.materialList.percentageAdditions:vm.percentageAddition=[],vm.materialIndex=item,$("#editComboMaterial").modal("show"),"new"==item?$("#editComboMaterial .modal-header h5").text("Add Combo Material Details"):$("#editComboMaterial .modal-header h5").text("Update Combo Material Details")},vm.addPercentageValue=function(){vm.percentageAddition.push({percentageType:"",value:""})},vm.removePercentageAddition=function(index){vm.percentageAddition.splice(index,1)},vm.fileUpdated=function(files,event){var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name})},vm.tabChange=function(val,flag){function nextPrevTab(val){$(".dcp_modal .nav-tabs li .nav-link").removeClass("active"),$(".dcp_modal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".dcp_modal .tab-content .tab-pane").removeClass("active"),$(".dcp_modal .tab-content .tab-pane").removeClass("show"),$(".dcp_modal .tab-content .tab-pane").eq(val).addClass("show"),$(".dcp_modal .tab-content .tab-pane").eq(val).addClass("active")}1==val?vm.editComboMaterial.name?vm.selectedUnit?nextPrevTab(val):Notification.error("Please select material unit"):Notification.error("Please enter material name"):2==val&&0==vm.comboMaterialList.length&&0==vm.editComboMaterial.comboMaterialList.length?Notification.error("Please add Combination list"):nextPrevTab(val)},vm.editCombo=function(val){if(1==val)vm.editFlag=!0,vm.editComboMaterial=angular.copy(vm.comboData),vm.selectedUnit=vm.editComboMaterial.unit,$("#todo_modal.dcp_modal").modal("show");else if(2==val){$(".materialDetail textarea, .materialDetail input, .materialDetail select").attr("disabled",!0),vm.editFlag=!1;var comboListData={comboListArray:vm.comboData.comboMaterialList},comboMaterialData={name:vm.comboMmatrialName,description:vm.description,unit:vm.uom,files:vm.inputFiles};console.log(comboListData),apiFactory.updateComboMaterialList(vm.comboData._id,comboListData).then(function(resp){console.log(resp),apiFactory.updateComboMaterial(vm.comboData._id,comboMaterialData).then(function(resp){console.log(resp),Notification.success(resp.data.message),getComboMatDetail(),vm.fileNames=[],$timeout(imgSlider,1e3)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},vm.updateCombo=function(item,data){vm.comboData.comboMaterialList[item].quantity=vm.materialQty,vm.comboData.comboMaterialList[item].percentageAdditions=data,console.log(vm.comboData.comboMaterialList[item].percentageAdditions),$("#editComboMaterial").modal("hide")},apiFactory.listAllMaterials().then(function(resp){vm.allmaterilaList=resp.data.list,vm.comboList={quantity:1,materialCost:0,rooferCost:0}}).catch(function(e){console.log(e)}),vm.getMaterialInfo=function(material){var materialInfo=JSON.parse(material);material&&(vm.comboList.materialCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.rooferCost.value*100)/100),$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3"))},vm.removeMateril=function(item,flag){"new"==flag?vm.comboMaterialList.splice(item,1):vm.editComboMaterial.comboMaterialList.splice(item,1)}})}(),function(){angular.module("app").controller("createProjectCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals){var vm=this,logout=globals.logout;globals.userStore,globals.companyStore;authFactory.checkUser()||logout();if(!authFactory.checkPrivilege("project","createProject"))return Notification.warning("Insufficient permissions"),void $state.go("dashboard");vm.clients=[],$scope.$watch("vm.projectData.client",function(value){$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")}),Promise.all([apiFactory.listAllClients(),apiFactory.getHierarchyTemplate()]).then(function(resp){vm.clients=resp[0].data.list,vm.templateList=resp[1].data.data;vm.templateList.filter(function(item){return"5b8910fbdd6fa81a20bfe745"==item._id});vm.filemanagerTemplate="5b8910fbdd6fa81a20bfe745"}).catch(function(e){console.log(e)}),vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU&libraries=places",markers:[],styles:[],center:"41,-87",zoom:3},vm.projectData={address:{}},$scope.select2Options={allowClear:!0},vm.placeMarker=function(map){var placeData=this.getPlace().geometry.location;vm.gmap.markers=[[placeData.lat(),placeData.lng()]],vm.gmap.zoom=15,vm.gmap.center=placeData.lat()+","+placeData.lng(),vm.projectData.address.loc={coordinates:[placeData.lat(),placeData.lng()]}},vm.addProject=function(formData){formData.client=formData.client._id,apiFactory.createProject(formData).then(function(resp){Notification.success("Project has been created successfully");var payload={projectId:resp.data._id,templateId:resp.data._id&&vm.filemanagerTemplate&&"false"!=vm.filemanagerTemplate?vm.filemanagerTemplate:"5b8910fbdd6fa81a20bfe745"};apiFactory.loadHierarchyTree(payload).then(function(resp){console.log(resp.data.message)}).catch(function(e){console.log(e)}),console.log("projectid",resp.data._id),$state.go("dashboard")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})},vm.updateMarker=function(){var pos=this.getPosition();vm.projectData.address.loc={coordinates:[pos.lat(),pos.lng()]}},NgMap.getMap().then(function(map){vm.map=map,map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoomControl:!0,zoom:1,center:{lat:0,lng:0}})}),vm.logout=function(){logout()},vm.assignTemplate=function(){vm.filemanagerTemplate=vm.selectedTemplate._id,$("#assignTemplateModal").modal("hide")}})}(),function(){angular.module("app").controller("dashboardCtrl",function($scope,$timeout,authFactory,$state,$window,$location,apiFactory,Notification,localStorageService,globals,NgMap){var vm=this;vm.loggedIn=!0;var logout=globals.logout,userStore=globals.userStore,companyStore=globals.companyStore,projectStore=globals.projectStore;globals.throttler;if(!authFactory.checkUser())return logout(),void(vm.loggedIn=!1);vm.loader=!1,vm.userData=userStore.get(),vm.clientUrl="https://res.cloudinary.com/dktnhmsjx/image/upload/v1486129234/default/company.png",vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],markers:[]},Promise.all([apiFactory.getCompanyById(vm.userData.companyId),apiFactory.listAllProjects(),apiFactory.listAllClients()]).then(function(data){var projectList,mxLat,mxLng,mnLat,mnLng,markers;companyStore.set(data[0].data),vm.gmap.markers=(projectList=data[1].data.list,mxLat=0,mxLng=0,mnLat=0,mnLng=0,markers=[],projectList.forEach(function(element){if(element.address&&(0!=element.address.loc.coordinates[0]||0!=element.address.loc.coordinates[1])){var mrkr={id:element._id,latitude:element.address.loc.coordinates[1],longitude:element.address.loc.coordinates[0]};mxLat=mxLat>mrkr.latitude?mrkr.latitude:mxLat,mnLat=mnLat<mrkr.latitude?mrkr.latitude:mnLat,mxLng=mxLng>mrkr.longitude?mrkr.longitude:mxLng,mnLng=mnLng<mrkr.longitude?mrkr.longitude:mnLng,markers.push([mrkr.latitude,mrkr.longitude])}}),markers),vm.dashboardData={company:data[0].data,projects:data[1].data.list,clients:data[2].data.list}}).catch(function(e){console.log(e)}),NgMap.getMap().then(function(map){map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoom:1,center:{lat:0,lng:0}})});var enabled=!0,chunkSize=5;if(vm.projectSearch="",vm.enableLazyLoad=!1,vm.sortParams={field:"created",type:!1},vm.projectName="PROJECT",$scope.getBookmarkedProject=function(){apiFactory.getBookmarks().then(function(resp){vm.bookmarkedProject=resp.data.bookmarks,vm.bookmarkedProjectList=angular.copy(vm.bookmarkedProject),vm.bookmarkedProjectList.push({_id:"others",projectName:"All Project List"})}).catch(function(e){console.log(e)})},$scope.getBookmarkedProject(),vm.loadProjectFiles=function(id){apiFactory.showProjectFiles(id,5).then(function(resp){vm.projectFiles=resp.data.data})},vm.bookmarkFlag=!1,vm.selectedProject=function(project){"others"==project._id?apiFactory.listAllProjects().then(function(resp){vm.projectPickerData=resp.data.list,$("#chooseProject").modal("show")}).catch(function(e){console.log(e)}):(vm.bookmarkFlag=!1,angular.forEach(vm.bookmarkedProject,function(x){if(x._id==project._id)return vm.bookmarkFlag=!0}),vm.projectName=project.projectName,projectStore.set(project),vm.loadProjectFiles(project._id))},vm.chooseProject=function(project){var index=vm.bookmarkedProjectList.findIndex(function(x){return"others"==x._id});vm.bookmarkedProjectList.splice(index,1);var alreadyExist=!0;angular.forEach(vm.bookmarkedProject,function(x){x._id==project._id&&(alreadyExist=!1)}),alreadyExist&&vm.bookmarkedProjectList.push(project),vm.bookmarkedProjectList.push({_id:"others",projectName:"All Project List"}),vm.project=project,vm.projectName=project.projectName,vm.bookmarkFlag=!1,projectStore.set(project),$("#chooseProject").modal("hide")},localStorageService.get("currentProject")){var currentProject=localStorageService.get("currentProject");vm.project=currentProject,vm.projectName=currentProject.projectName,vm.loadProjectFiles(vm.project._id);var alreadyBookmarked=!1;angular.forEach(vm.bookmarkedProject,function(x){if(x._id==currentProject._id)return alreadyBookmarked=!0}),alreadyBookmarked||$timeout(function(){var index=vm.bookmarkedProjectList.findIndex(function(x){return"others"==x._id});vm.bookmarkedProjectList.splice(index,1),vm.bookmarkedProjectList.push(currentProject),vm.bookmarkedProjectList.push({_id:"others",projectName:"All Project List"})},1500)}$("#chooseProject").on("hide.bs.modal",function(){vm.enableLazyLoad=!1}),vm.closeProjectPicker=function(){$("#chooseProject").modal("hide"),vm.project=null,projectStore.set("")},vm.checkBookmark=function(data){var bookmark=!0,alreadyBookmarked=!1;angular.forEach(vm.bookmarkedProject,function(x){if(x._id==data._id)return alreadyBookmarked=!0}),bookmark=!alreadyBookmarked,apiFactory.bookMarkProject(projectStore.get()._id,bookmark).then(function(resp){if(bookmark)Notification.success("Project successfully bookmarked"),vm.bookmarkedProject.push(data),vm.bookmarkFlag=!0;else{Notification.success("Project successfully removed from bookmark list");var index=vm.bookmarkedProject.findIndex(function(x){return x._id==data._id});vm.bookmarkedProject.splice(index,1),vm.bookmarkFlag=!1}}).catch(function(err){console.log(err)})},vm.addMore=function(){enabled&&(enabled=!1,$timeout(function(){enabled=!0},500),chunkSize+=5,apiFactory.listAllProjects({search:vm.projectSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.projectPickerData=resp.data.list}).catch(function(e){console.log(e)}))},vm.filePickerOptions={filter:"pdf"},vm.searchProjects=function(text){apiFactory.listAllProjects({search:vm.projectSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.projectPickerData=resp.data.list}).catch(function(e){console.log(e)})},vm.sort=function(field){vm.sortParams.field===field?vm.sortParams.type=!vm.sortParams.type:(vm.sortParams.field=field,vm.sortParams.type=!0),apiFactory.listAllProjects({search:vm.projectSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.projectPickerData=resp.data.list}).catch(function(e){console.log(e)})},vm.logout=function(){logout()},$scope.redirectTo3D=function(){console.log("rediection called"),apiFactory.get3DPage().then(function(response){console.log("response:",response)})},vm.goToFileManager=function(){console.log("project",projectStore.get()),projectStore.get()?$state.go("fileManager"):(Notification.warning("Please select a project"),$("html, body").animate({scrollTop:$(".project").offset().top},500,function(){$("#selectProject").focus().addClass("blink"),setTimeout(function(){$("#selectProject").removeClass("blink")},1e3)}))},vm.planPickerPlans=[],vm.rootFolders=[],vm.openPlanPicker=function(){projectStore.get()?(apiFactory.getProjectRoofPlans(projectStore.get()._id).then(function(resp){var roofPlans=resp.data.data;localStorageService.set("roofPlanProject",projectStore.get()._id),localStorageService.set("roofPlans",roofPlans),vm.planPickerPlans=roofPlans,$("#chooseRoofModal").modal("show")}).catch(function(e){console.log(e)}),apiFactory.getHierarchy(projectStore.get()._id).then(function(resp){vm.showTree=!0,vm.rootFolders=resp.data.data.hierarchies}).catch(function(e){console.log(e)})):Notification.warning("No project selected")},vm.choosePlan=function(plan){$("#chooseRoofModal").modal("hide"),localStorageService.set("selectedPlan",plan),$state.go("visualPlanner")},vm.allModalClose=function(){$("#chooseFile, #selectFileCanvas, #selectFile, #chooseRoofModal").modal("hide")},vm.fileChoose=function(){vm.pickerFolders=angular.copy(vm.rootFolders),$("#chooseFile").modal("show"),$("#chooseFile").css("display","block"),$("#chooseFile .modal-dialog").css({"-webkit-box-shadow":"0px 0px 47px 6px rgba(0, 0, 0, 0.75)","-moz-box-shadow":"0px 0px 47px 6px rgba(0, 0, 0, 0.75)","box-shadow":"0px 0px 47px 6px rgba(0, 0, 0, 0.75)"}),$(".rootFolder").show(),$(".childFolder").hide(),vm.moveto="move To",$scope.folderName="Root Folder","Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1},$scope.$on("loader",function(e,data){vm.loader=data,vm.loader?$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),$scope.$on("selectedRoofPlanDoc",function(e,data){vm.selectedAssetForPlan=data,vm.roofplanBreadCrumb=data.breadCrumbs.reduce(function(acc,x){return acc+=x.name+" > "},"")+data.assetName,/cloudinary/.test(data.secure_url)?(vm.fileArray=globals.extractPagesFromPdf(data.secure_url,data.pages),vm.loader=!1,$("#chooseRoofModal").css("visibility","hidden"),$("#selectFile").modal("show"),$("#selectFile").css("display","block"),vm.pdfFiles=angular.copy(vm.fileArray),console.log(vm.fileArray)):data.planDocument?($timeout(function(){$scope.$apply()}),vm.pdfPagesData=vm.pdfFiles=data.planImages.map(function(x,i){var obj={pageNo:i,title:"title_"+Date.now(),url:x,selected:!1,description:""};return obj}),vm.loader=!1,$("#chooseRoofModal").css("visibility","hidden"),$("#selectFile").modal("show"),$("#selectFile").css("display","block")):globals.createPagesFromPdf(data).then(function(pages){$timeout(function(){$scope.$apply()}),vm.pdfPagesData=pages,vm.pdfFiles=pages,vm.loader=!1,$("#chooseRoofModal").css("visibility","hidden"),$("#selectFileCanvas").modal("show"),$("#selectFileCanvas").css("display","block")})}),vm.hideSelectFile=function(){$("#chooseRoofModal").css("visibility","visible"),$("#selectFile").css("display","none")},vm.selectedFileList=function(val,type,asset){if("submit"==val)if($("#chooseFile, #selectFile, #selectFileCanvas").css("display","none"),$("#chooseRoofModal").css("visibility","visible"),vm.selectedFiles=[],angular.forEach(vm.pdfFiles,function(x){x.selected&&vm.selectedFiles.push(x)}),1===type){var endpoint=!asset.planDocument&&/cloudinary/.test(asset.secure_url)?"addProjectRoofPlan":"addRoofPlansFromAsset",payload={assetId:asset._id,projectId:projectStore.get()._id,pages:vm.selectedFiles};apiFactory[endpoint](payload).then(function(resp){Notification.success(resp.data.message),apiFactory.getProjectRoofPlans(projectStore.get()._id).then(function(resp){var roofPlans=resp.data.data;localStorageService.set("roofPlanProject",projectStore.get()._id),localStorageService.set("roofPlans",roofPlans),vm.planPickerPlans=roofPlans}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}else{var _payload={assetId:asset._id,pdfUrl:asset.secure_url,projectId:projectStore.get()._id,pages:vm.selectedFiles.reduce(function(acc,x){var obj={title:x.title,description:x.description,pageNo:x.pageNo};return acc.push(obj),acc},[])};apiFactory.generateRoofPlans(_payload).then(function(resp){Notification.success(resp.data.message),apiFactory.getProjectRoofPlans(projectStore.get()._id).then(function(resp){var roofPlans=resp.data.data;localStorageService.set("roofPlanProject",projectStore.get()._id),localStorageService.set("roofPlans",roofPlans),vm.planPickerPlans=roofPlans}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}else"close"==val&&($("#chooseFile, #selectFile, #selectFileCanvas").css("display","none"),$("#chooseRoofModal").css("visibility","visible"))}})}(),function(){angular.module("app").controller("employeesCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var logout=globals.logout;authFactory.checkUser()||logout();this.logout=function(){logout()}})}(),function(){angular.module("app").controller("equipmentCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload){$scope.equipment=[{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Car",tag:"NR. 99"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Car",tag:"NR. 99"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Car",tag:"NR. 99"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"}],$scope.img_upload=[{img:"/assets/images/equipment3.png"},{img:"/assets/images/equipment3.png"},{img:"/assets/images/equipment3.png"}],$scope.equipdocuments=[{img:"/assets/images/pdf.png",type:"Document_1.pdf"},{img:"/assets/images/pdf.png",type:"Document_2.pdf"},{img:"/assets/images/pdf.png",type:"Document_3.pdf"}];var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();$(".payrollMenu").hide(),vm.userData=userStore.get(),vm.logout=function(){logout()},$(".materialList").DataTable(),apiFactory.listAllEquipments().then(function(resp){vm.equipment=resp.data.list}).catch(function(e){console.log(e)}),vm.dtOptions={paging:!1,info:!1,ordering:!1},$(".equipmentList").DataTable(),$scope.activeJustified=0,vm.currentPage=1,vm.toggleObj={systemTag:!0,materialCost:!1,rooferCost:!1,createdAt:!1,name:!1},vm.searchText="",vm.sortEquipment=function(type){void 0===vm.toggleObj[type]?vm.toggleObj[type]=!0:vm.toggleObj[type]=!vm.toggleObj[type],apiFactory.listAllEquipments({page:1,chunk:10,sort:type,search:vm.searchText,sortType:vm.toggleObj[type]}).then(function(resp){vm.equipment=resp.data.list,vm.equipmentCount=resp.data.total,$timeout(function(){$("#equipmentPagination").pagination({items:vm.equipmentCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllEquipments({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.equipment=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.searchEquipment=function(text){apiFactory.listAllEquipments({page:1,chunk:10,search:text,sort:"createdDate",sortType:!1}).then(function(resp){vm.equipment=resp.data.list,vm.equipmentCount=resp.data.total,$timeout(function(){$("#equipmentPagination").pagination({items:vm.equipmentCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllEquipments({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.equipment=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.sortEquipment("createdAt"),vm.addMaterial={conversionFactor:1},vm.tabSettings={disable:!0},apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.addMaterial.currency=vm.companyData.currentCurrency.currencyCode}).then(function(e){console.log(e)}),vm.showConversionRate=function(from,to){var currencyData={from:from,to:to};apiFactory.showConversionRate(currencyData).then(function(resp){vm.addMaterial.conversionFactor=resp.data.conversionFactor}).catch(function(e){console.log(e)})},vm.mUnits=globals.mUnits,globals.getCurrency().then(function(resp){vm.currencies=resp.data}),vm.tabStyle=function(){void 0!==vm.addMaterial.materialName&&" "!==vm.addMaterial.materialName&&void 0!==vm.addMaterial.materialUnit&&" "!==vm.addMaterial.materialUnit&&void 0!==vm.addMaterial.currency&&""!==vm.addMaterial.currency&&void 0!==vm.addMaterial.conversionFactor&&""!==vm.addMaterial.conversionFactor?($("uib-tab-heading.info i.fa").attr("style","display: inline-block !important; color: #3cbdaa"),$("uib-tab-heading.info .number").hide(),$(".btn-success.next").attr("disabled",!1)):($("uib-tab-heading.info i.fa").attr("style","display: none !important; color: #3cbdaa"),$("uib-tab-heading.info .number").show(),$(".btn-success.next").attr("disabled",!0))},vm.addMaterialNext=function(){null!=vm.addMaterial.materialName&&" "!=vm.addMaterial.materialName?null!=vm.addMaterial.materialUnit&&" "!=vm.addMaterial.materialUnit?null!=vm.addMaterial.currency&&" "!=vm.addMaterial.currency?$scope.activeJustified=1:Notification.error("Please select Currency"):Notification.error("Please select material Unit"):Notification.error("Please enter material name")},vm.changeCost=function(cost,conversionRate){return cost*conversionRate},vm.addMaterialDetails=function(){var formData={name:vm.addMaterial.materialName,unit:vm.addMaterial.materialUnit,equipmentCosts:{value:vm.changeCost(vm.addMaterial.equipmentCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},rooferCost:{value:vm.changeCost(vm.addMaterial.rooferCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},files:vm.inputFiles};apiFactory.createEquipment(formData).then(function(resp){$("#addEquipments").modal("hide"),Notification.success(resp.data.message),vm.sortEquipment("createdAt"),vm.addMaterial={conversionFactor:1}}).catch(function(e){console.log(e)})}})}(),function(){angular.module("app").controller("equipmentViewCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,$stateParams,Upload){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.logout=function(){logout()},this.userData=userStore.get(),this.equipmentId=$stateParams.id,apiFactory.getEquipmentById(this.equipmentId).then(function(resp){console.log(resp)}).catch(function(e){console.log(e)}),$scope.slider2=[{img:"/assets/images/equipment2.jpg"},{img:"/assets/images/equipment2.jpg"},{img:"/assets/images/equipment2.jpg"}],$scope.equip_table=[{unit:"Currency",mt:"Danish Krone"},{unit:"Conversion Factor",mt:"1"},{unit:"Equipment Cost (DKK)",mt:"---"},{unit:"Worker Cost (DKK)",mt:"---"},{unit:"Worker ID",mt:"NNS1 - Kim Mosegaard"}]})}(),function(){angular.module("app").controller("fileManagerCtrl",function($scope,$http,$window,$timeout,authFactory,$state,apiFactory,Notification,globals,fileManagerFactory,uploadFactory){var vm=this,logout=globals.logout,userStore=globals.userStore,projectStore=globals.projectStore,genericStore=globals.genericStore,clipBoard=(globals.breakcrumbStore,fileManagerFactory.clipBoard);if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},apiFactory.listAllProjects().then(function(resp){vm.projectList=resp.data;var selectedProject=projectStore.get();vm.selectedProject=selectedProject._id,vm.getPrimaryFolders(selectedProject)}).catch(function(e){console.log(e)}),vm.rootFolders=[],vm.backupFolders=projectStore.get().backupFolders,vm.windowItems={folderData:"",folders:[],files:[]},vm.resolveAssetIcon=function(assetObj){var assetFormat=assetObj.format.trim(),icon=void 0;return/jp*g/.test(assetFormat)?icon="jpg":/png/.test(assetFormat)?icon="png":/pdf/.test(assetFormat)&&(icon="pdf"),icon},vm.showTree=!1,vm.getPrimaryFolders=function(selectedProject,list){list?projectStore.set(list.filter(function(x){return x._id===selectedProject})[0]):projectStore.set(selectedProject),vm.backupFolders=projectStore.get().backupFolders,Promise.all([apiFactory.getHierarchy(projectStore.get()._id),apiFactory.viewProjectAssets(projectStore.get()._id)]).then(function(resp){vm.showTree=!0,vm.rootFolders=resp[0].data.data.hierarchies,vm.projectFiles=resp[1].data.data,vm.loadFilesToAutoComplete=function($query){return new Promise(function(resolve,reject){resolve(vm.projectFiles)})}}).catch(function(e){console.log(e)})},vm.getFolder=function(id){apiFactory.getHierarchyChildren(id).then(function(resp){console.log(resp.data)}).catch(function(e){console.log(e)})};var fileDestination=genericStore();vm.treeOptions={accept:function(source,dest,destIndex){return!source.file||(fileDestination.store(dest),!1)},dragStop:function(event){var source=event.source;event.dest;if(source.nodeScope.file){var destination=fileDestination.get();if(!destination.$nodeScope)return;var payload={assetId:source.nodeScope.file._id,sourceId:source.nodeScope.$parent.$nodeScope.$modelValue._id,destId:destination.$nodeScope.$modelValue._id};apiFactory.moveAssets(payload).then(function(resp){Notification.success(resp.data.message)}).catch(function(e){console.log(e)}),destination.$nodeScope.$modelValue.files?destination.$nodeScope.$modelValue.files.push(source.nodeScope.file):destination.$nodeScope.$modelValue.files=[source.nodeScope.file],source.nodeScope.$parent.$nodeScope.$modelValue.files=source.nodeScope.$parent.$nodeScope.$modelValue.files.filter(function(x){return x._id!==source.nodeScope.file._id})}},dropped:function(event){var source=event.source,dest=event.dest,payload=void 0;null===dest.nodesScope.$nodeScope&&null===source.nodeScope.$parentNodeScope||(payload=null===dest.nodesScope.$nodeScope&&null!==source.nodeScope.$parentNodeScope?{type:1,hierarchyId:source.nodeScope.$modelValue._id,parentId:source.nodeScope.$parentNodeScope.$modelValue._id,projectId:projectStore.get()._id}:null!==dest.nodesScope.$nodeScope&&null===source.nodeScope.$parentNodeScope?{type:2,hierarchyId:source.nodeScope.$modelValue._id,projectId:projectStore.get()._id,destId:dest.nodesScope.$nodeScope.$modelValue._id}:{type:3,hierarchyId:source.nodeScope.$modelValue._id,parentId:source.nodeScope.$parentNodeScope.$modelValue._id,destId:dest.nodesScope.$nodeScope.$modelValue._id},apiFactory.dragMoveNodes(payload).then(function(resp){Notification.success(resp.data.message)}).catch(function(e){console.log(e)}))}};var rootFolderStore=genericStore();vm.setRootFolder=function(obj){rootFolderStore.store(obj)},vm.addModalActiveTab=0,$("#addModal").on("hide.bs.modal",function(){vm.fileNames=[],vm.addModalActiveTab=0}),vm.addPrimaryFolder=function(name,projectId){var payload={name:name,isParent:!0,projectId:projectId},nodeObj=rootFolderStore.get();$("#addModal").modal("hide"),apiFactory.addHierarchy(payload).then(function(resp){nodeObj.$nodesScope.$modelValue.push(resp.data.data),Notification.success(resp.data.message),console.log("rootfolder",rootFolderStore.get())}).catch(function(e){console.log(e)})},vm.openAddModal=function(source,obj){vm.addModalSource=source,vm.nodeObj=obj,$("#addModal").modal("show")},vm.showLoader=!1,vm.toggleFolder=function(folder,icon,node){folder.$modelValue.backup||($(folder.$treeScope.$element[0]).find(".folder-open").removeClass("folder-open"),$(folder.$element[0]).find(".row").first().addClass("folder-open"),vm.showLoader=!0,apiFactory.viewHierarchy(folder.$modelValue._id).then(function(resp){vm.windowItems={folderData:folder,folders:folder.$modelValue.children,files:resp.data.files},vm.breadCrumbList=resp.data.breadcrumbs,vm.showLoader=!1,folder.$modelValue.files=resp.data.files,navigationStack.push(folder)}).catch(function(e){console.log(e)}),folder.collapsed?folder.toggle():icon&&navigationStack.push(folder))};var navigationStack=fileManagerFactory.navigationStack();vm.navigate=function(forward){var folder=forward?navigationStack.forward():navigationStack.backward();folder&&(vm.showLoader=!0,apiFactory.viewHierarchy(folder.$modelValue._id).then(function(resp){vm.windowItems={folderData:folder,folders:folder.$modelValue.children,files:resp.data.files},vm.showLoader=!1,folder.$modelValue.files=resp.data.files}).catch(function(e){console.log(e)}))},vm.openFolder=function(id){var folderData=vm.windowItems.folderData.childNodes().reduce(function(acc,x){return x.$modelValue._id===id&&(acc=x),acc},null);vm.showLoader=!0,apiFactory.viewHierarchy(id).then(function(resp){navigationStack.push(folderData),vm.windowItems={folderData:folderData,folders:resp.data.folders,files:resp.data.files},vm.breadCrumbList=resp.data.breadcrumbs,vm.showLoader=!1}).catch(function(e){console.log(e)})},vm.addFolder=function(name,folder){$("#addModal").modal("hide");var payload={name:name,isParent:!1,parent:folder};apiFactory.addHierarchy(payload).then(function(resp){folder.children.push(resp.data.data),Notification.success(resp.data.message)}).catch(function(e){console.log(e)})},vm.addFileToHierarchy=function(assets,folder){$("#addModal").modal("hide");var assetId=assets.map(function(x){return x._id}),hierarchyId=folder._id;apiFactory.addFileToHierarchy({assetId:assetId,hierarchyId:hierarchyId}).then(function(resp){console.log(resp),Notification.success(resp.data.message)}).catch(function(e){console.log(e)})},vm.deleteFile=function(id,folderData){$("#fileView").modal("hide"),apiFactory.deleteAssets({assetId:id}).then(function(resp){vm.showLoader=!0,apiFactory.viewHierarchy(folderData.$modelValue._id).then(function(resp){vm.windowItems={folderData:folderData,folders:folderData.$modelValue.children,files:resp.data.files},vm.showLoader=!1,folderData.$modelValue.files=resp.data.files}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},vm.uploadState=!1,vm.completedAll=!1,vm.fileUpdated=function(files,event){var fileObj=event.target.files;vm.uploadState=!1,vm.completedAll=!1,vm.fileNames=Object.keys(fileObj).map(function(x){var val=fileObj[x];return val.progress=0,val.isPaused=!1,val.completed=!1,val.aborted=!1,val.plan=!1,val})},vm.toggleUploadViewMaximize=function(val){vm.uploadViewMaximize=!val},vm.preUpload=function(files,folder){console.log(files),$("#addModal").modal("hide"),fileManagerFactory.checkDuplicateFiles(files,folder._id).then(function(processed){processed.duplicates.length?(vm.preUploadFiles=processed,console.log(vm.preUploadFiles),$("#versioningModal").modal("show")):(console.log(processed),vm.uploadFile(processed,projectStore.get()._id,folder))}).catch(function(e){console.log(e)})},vm.processDuplicateFileName=function(file){"version"===file.action?file.assetName=fileManagerFactory.generateVersion(file.name):file.assetName=file.name},vm.uploadFile=function(files,projectId,folder){if(fileManagerFactory.checkNameChange(files.duplicates))Notification.warning("File names can't be the same");else if($("#versioningModal").modal("hide"),files=[].concat(_toConsumableArray(files.duplicates),_toConsumableArray(files.uploadFiles)),vm.uploadState=!0,$("#addModal").modal("hide"),vm.uploadViewFiles=fileManagerFactory.splitDestination(files),angular.forEach(vm.uploadViewFiles.s3,function(x){uploadFactory.start(function(evaporate){x.pause=uploadFactory.pause.bind(evaporate,x),x.resume=uploadFactory.resume.bind(evaporate,x),x.abort=uploadFactory.abort.bind(evaporate,x);var addConfig={name:x.name,file:x,progress:function(p,stats){x.progress=x.progress>Math.round(100*p)?x.progress:Math.round(100*p),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()})},complete:function(_xhr,awsKey){x.completed=!0,$timeout(function(){$scope.$apply()}),console.log("Complete!")}};evaporate.add(addConfig).then(function(awsObjectKey){var payload={type:fileManagerFactory.resolveDestType(x),projectId:projectStore.get()._id,folderId:folder._id,assetData:{assetName:x.assetName,bucket:"3dfilesdata",key:"test/"+x.name,mimetype:x.type,bytes:x.size,planDocument:x.plan}};apiFactory.newFileUpload(payload).then(function(resp){folder&&folder.files.push(resp.data.data)}).catch(function(e){console.log(e)}),Notification.success("File successfully uploaded"),console.log("File successfully uploaded to:",awsObjectKey)},function(reason){x.aborted=!0,vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),console.log("File did not upload sucessfully:",reason)})})}),vm.uploadViewFiles.cloudinary.length){var cloudinaryPayload={files:vm.uploadViewFiles.cloudinary,assetNames:vm.uploadViewFiles.cloudinary.map(function(x){return x.assetName}),projectId:projectId,hierarchyId:folder._id};apiFactory.uploadFileInFileManager(cloudinaryPayload).then(function(resp){vm.uploadViewFiles.cloudinary=vm.uploadViewFiles.cloudinary.map(function(x){return x.completed=!0,x}),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),folder&&resp.data.data.forEach(function(x){folder.files.push(x)}),Notification.success(resp.data.message)}).catch(function(e){console.log(e)})}},vm.closeUploadView=function(){vm.uploadState=!1},vm.fileView=function(file){$("#fileView").modal("show"),vm.previewData=file,vm.previewData.customUrl="pdf"===file.format?file.secure_url.replace(/\.pdf/,".png"):file.secure_url},vm.editEnabled=!1,vm.toggleEdit=function(bool){vm.editEnabled=bool},$scope.backBtnView=!1,vm.contextMenuOptions={explorer:[{text:"Paste item(s)",click:function($itemScope,$event,modelValue,text,$li){vm.windowItems.folderData?clipBoard.paste(vm.windowItems.folderData.$modelValue._id).then(function(resp){resp&&apiFactory.viewHierarchy(vm.windowItems.folderData.$modelValue._id).then(function(resp){vm.windowItems={folderData:vm.windowItems.folderData,folders:resp.data.folders,files:resp.data.files}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}):Notification.warning("Cannot paste file in root location")}}],file:[{text:"Copy",click:function($itemScope,$event,modelValue,text,$li){clipBoard.copy($itemScope.file)}},{text:"Cut",click:function($itemScope,$event,modelValue,text,$li){clipBoard.cut($itemScope.file,vm.windowItems.folderData.$modelValue._id)}},{text:"Move to",click:function($itemScope){vm.pdfonly=!1,vm.pickerFolders=angular.copy(vm.rootFolders),vm.moveToSourceFile=$itemScope.file,$("#moveTo").modal("show"),$(".rootFolder").show(),$(".childFolder").hide(),vm.moveto="move To",$scope.folderName="Root Folder","Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1}}]},vm.childFolderView=function(val){vm.childFolders=val.children,vm.moveto=val.name,$(".rootFolder").hide(),$(".childFolder").show()},$scope.backBtnView=!1,"Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1;vm.saveHierarchyTree=function(name){if(name){$("#saveTemplateModal").modal("hide");var data={name:name};apiFactory.saveHierarchyTree(projectStore.get()._id,data).then(function(resp){Notification.success(resp.data.message)}).console.log(function(e){console.log(e)})}else Notification.error("Please enter template name")},vm.selectedTemplate="",apiFactory.getHierarchyTemplate().then(function(resp){vm.templateList=resp.data.data}).catch(function(e){console.log(e)}),vm.assignTemplate=function(){var data={projectId:projectStore.get()._id,templateId:vm.selectedTemplate._id};$("#assignTemplateModal").modal("hide"),apiFactory.changeProjectTemplate(data).then(function(resp){Notification.success(resp.data.message),vm.getPrimaryFolders(projectStore.get()),apiFactory.getProjectById(projectStore.get()._id).then(function(resp){projectStore.set(resp.data),vm.backupFolders=projectStore.get().backupFolders}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},vm.showBackupFiles=!1,vm.showRecentFiles=!1,vm.toggleBookmarks=function(val,key){vm[key]=!val},vm.loadProjectFiles=function(id){apiFactory.showProjectFiles(id,5).then(function(response){vm.projectFiles=response.data.data})},vm.loadProjectFiles(projectStore.get()._id)})}(),function(){angular.module("app").controller("issueDetailCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService,FileSaver){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.issueId=$stateParams.id,vm.ImageAssets=[],vm.DocumentAssets=[],$scope.currentPage=1,$scope.itemsPerPage=3,vm.getIssueDetail=function(){apiFactory.getIssueById(vm.issueId).then(function(resp){vm.issueData=resp.data,console.log("issuedata: ",vm.issueData),vm.totalItems=vm.issueData.comments.length,$scope.ArrayComments=vm.issueData.comments.reverse(),$scope.ArrayActivities=vm.issueData.issueActivity.reverse(),vm.allComments=$scope.ArrayComments.slice(0,3),vm.allActivities=$scope.ArrayActivities.slice(0,6),$timeout(function(){$("#pagination").pagination({items:vm.totalItems,itemsOnPage:$scope.itemsPerPage,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),function(page){var pagedData=vm.issueData.comments.slice((page-1)*$scope.itemsPerPage,page*$scope.itemsPerPage);vm.allComments=pagedData,$scope.$apply()}(page)}}),$("#paginationActivity").pagination({items:vm.issueData.issueActivity.length,itemsOnPage:7,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),function(page){var pagedData=vm.issueData.issueActivity.slice(7*(page-1),7*page);vm.allActivities=pagedData,$scope.$apply()}(page)}})}),vm.issueData.listAssets.map(function(x){"image/png"==x.mimetype||"image/jpg"==x.mimetype?vm.ImageAssets.push(x):vm.DocumentAssets.push(x)})})},vm.getIssueDetail(),vm.postComment=function(comment){console.log("comment: ",comment);var comment1=comment.replace(/\n\r?/g,"<br />");if(console.log("comment: ",comment1),null==comment)Notification.error("Please add comment.");else{var commentobj={comment:comment};apiFactory.postCommentForIssue(vm.issueId,commentobj).then(function(resp){console.log("esp:",resp),vm.getIssueDetail(),$("#commentarea").val(""),Notification.success("Comment added successfully..")}).catch(function(e){Notification.error("Couldn't update comment")})}},$scope.changeCompletionStatus=function(){alert("completion")},vm.downloadFile=function(docs){console.log("docs",docs);var blob=new Blob([docs],{type:docs.mimetype});console.log("blob",blob),saveAs(blob,docs.origionalname)},$scope.reOpenIssue=function(){apiFactory.reOpenIssueStatusUpdate(vm.issueId).then(function(resp){vm.getIssueDetail(),$("#confirmmodal").modal("hide"),Notification.success("Issue status is now open")}).catch(function(e){Notification.error("could not update Status")})},$scope.markIssueAsComplete=function(comment,imageFiles){console.log(comment),console.log(imageFiles);var editObject={comment:comment,Images:imageFiles};apiFactory.saveIssueAsComplete(vm.issueId,editObject).then(function(resp){vm.getIssueDetail(),$("#completionstatusmodal").modal("hide"),Notification.success("Issue is been marked as completed")}).catch(function(e){Notification.error("Something wrong happened. couldent update changes")})}})}(),function(){angular.module("app").controller("issuesCtrl",function($scope,$rootScope,$timeout,authFactory,$state,$q,apiFactory,Notification,globals,fileManagerFactory,Upload,localStorageService,uploadFactory){var vm=this;vm.backImg;var logout=globals.logout,userStore=globals.userStore,debounce=globals.debounce;if($scope.UploadedFiles=[],vm.issueData={},$scope.issueModel={},$scope.file,$scope.comment="",$scope.inputFiles=[],$scope.openEdit=!1,$scope.filesToRemove=[],$scope.isSelectedBtn=!1,$scope.updateform=!1,$scope.UndoArray=[],$scope.redoArray=[],vm.planToMark=[],vm.LocalImgs=[],$scope.searchingText=!1,$scope.openFillColor=!1,$scope.colorpick="#0000ff",$scope.colorWell,$scope.fillWell,$scope.fillColor="transparent",$scope.textForm=!1,vm.errorImage="assets/images/enduserissue.png",$scope.btnMarker="../assets/images/gps.png",$scope.btnCircle="../assets/images/circle-shape-outline.png",$scope.btnLine="../assets/images/lineicon.png",$scope.btnText="../assets/images/text-option-interface-symbol.png",!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},$(".issuesList").DataTable(),$scope.activeJustified=0,vm.currentPage=1,vm.toggleObj={toggleIssue:{systemTag:!1,title:!1,description:!1,projectName:!1,created:!0}},vm.searchText="",vm.sortissues=function(type,resource){void 0===vm.toggleObj[resource][type]?vm.toggleObj[resource][type]=!0:vm.toggleObj[resource][type]=!vm.toggleObj[resource][type],apiFactory.listAllIssues({page:1,chunk:10,sort:type,search:vm.searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allIssues=resp.data.list,vm.issueCount=resp.data.total,$timeout(function(){$scope.searchingText=!1,$("#pagination").pagination({items:vm.issueCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllIssues({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.allIssues=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})};var searchDebounce=debounce(250);function dragStartLine(e){$scope.isLine=!0,$scope.dragging=!0;var x=Math.floor((e.clientX-$scope.rect.left)/($scope.rect.right-$scope.rect.left)*$scope.canvas.width),y=Math.floor((e.clientY-$scope.rect.top)/($scope.rect.bottom-$scope.rect.top)*$scope.canvas.height);$scope.dragStartLocation={X:x,Y:y},$scope.snapshot=$scope.context1.getImageData(0,0,$scope.canvas.width,$scope.canvas.height)}function dragLine(e){var position,x=Math.floor((e.clientX-$scope.rect.left)/($scope.rect.right-$scope.rect.left)*$scope.canvas.width),y=Math.floor((e.clientY-$scope.rect.top)/($scope.rect.bottom-$scope.rect.top)*$scope.canvas.height);!0===$scope.dragging&&($scope.context1.putImageData($scope.snapshot,0,0),position={X:x,Y:y},$scope.context1.beginPath(),$scope.context1.moveTo($scope.dragStartLocation.X,$scope.dragStartLocation.Y),$scope.context1.lineTo(position.X,position.Y),$scope.context1.strokeStyle=$scope.colorpick,$scope.context1.lineWidth=2,$scope.context1.lineCap="round",$scope.context1.stroke())}function dragStopLine(e){var position;$scope.dragging=!1,$scope.context1.putImageData($scope.snapshot,0,0);var x=Math.floor((e.clientX-$scope.rect.left)/($scope.rect.right-$scope.rect.left)*$scope.canvas.width),y=Math.floor((e.clientY-$scope.rect.top)/($scope.rect.bottom-$scope.rect.top)*$scope.canvas.height);position={X:x,Y:y},$scope.context1.beginPath(),$scope.context1.moveTo($scope.dragStartLocation.X,$scope.dragStartLocation.Y),$scope.context1.lineTo(position.X,position.Y),$scope.context1.strokeStyle=$scope.colorpick,$scope.context1.lineWidth=2,$scope.context1.lineCap="round",$scope.context1.stroke();var imageData=$scope.context1.getImageData(0,0,$scope.canvas.width,$scope.canvas.height);$scope.UndoArray.push(imageData),console.log("undoArray: ",$scope.UndoArray)}function dragStart(e){$scope.isCircle=!0,$scope.last_mousex=parseInt((e.clientX-$scope.rect1.left)/($scope.rect1.right-$scope.rect1.left)*$scope.canvas.width),$scope.last_mousey=parseInt((e.clientY-$scope.rect1.top)/($scope.rect1.bottom-$scope.rect1.top)*$scope.canvas.height),$scope.mousedown=!0,$scope.snapshotCircle=$scope.ctx.getImageData(0,0,$scope.canvas.width,$scope.canvas.height)}function drag(e){if($scope.mousex=parseInt((e.clientX-$scope.rect1.left)/($scope.rect1.right-$scope.rect1.left)*$scope.canvas.width),$scope.mousey=parseInt((e.clientY-$scope.rect1.top)/($scope.rect1.bottom-$scope.rect1.top)*$scope.canvas.height),$scope.mousedown){$scope.ctx.save(),$scope.ctx.putImageData($scope.snapshotCircle,0,0),$scope.ctx.beginPath();var scalex=($scope.mousex-$scope.last_mousex)/2*1,scaley=($scope.mousey-$scope.last_mousey)/2*1;$scope.ctx.scale(scalex,scaley),$scope.centerx=$scope.last_mousex/scalex+1,$scope.centery=$scope.last_mousey/scaley+1,$scope.ctx.arc($scope.centerx,$scope.centery,1,0,2*Math.PI),$scope.ctx.restore(),$scope.ctx.strokeStyle=$scope.colorpick,$scope.ctx.fillStyle=$scope.fillColor,$scope.ctx.fill(),$scope.ctx.lineWidth=2,$scope.ctx.stroke()}}function dragStop(e){$scope.mousedown=!1;var imageData=$scope.ctx.getImageData(0,0,$scope.canvas.width,$scope.canvas.height);$scope.UndoArray.push(imageData)}function MarkWrite(e){$scope.isMarker=!0;var mousex=parseInt((e.clientX-$scope.rectmarker.left)/($scope.rectmarker.right-$scope.rectmarker.left)*$scope.canvas.width),mousey=parseInt((e.clientY-$scope.rectmarker.top)/($scope.rectmarker.bottom-$scope.rectmarker.top)*$scope.canvas.height);$scope.markercontext.beginPath(),$scope.markercontext.arc(mousex,mousey,8,0,2*Math.PI),$scope.markercontext.strokeStyle=$scope.colorpick,$scope.markercontext.fillStyle="blue",$scope.markercontext.fill(),$scope.markercontext.stroke();var imageData=$scope.markercontext.getImageData(0,0,$scope.canvas.width,$scope.canvas.height);$scope.UndoArray.push(imageData)}function TextWrite(e){$scope.isText=!0,$scope.cntxt=$scope.canvas.getContext("2d");var coords=$scope.canvas.getBoundingClientRect(),mousex=parseInt((e.clientX-coords.left)/(coords.right-coords.left)*$scope.canvas.width),mousey=parseInt((e.clientY-coords.top)/(coords.bottom-coords.top)*$scope.canvas.height);$scope.cntxt.font="15px Times New Roman",$scope.cntxt.fillStyle=$scope.colorpick,$scope.cntxt.strokeText($scope.placeDataAtPixel,mousex,mousey);var imageData=$scope.cntxt.getImageData(0,0,$scope.canvas.width,$scope.canvas.height);$scope.UndoArray.push(imageData),$scope.placeDataAtPixel=""}vm.searchIssues=function(text){searchDebounce(function(){apiFactory.listAllIssues({page:1,chunk:10,search:text,sort:"created",sortType:!1}).then(function(resp){vm.allIssues=resp.data.list,vm.issueCount=resp.data.total,$timeout(function(){$scope.searchingText=!0,$("#paging").pagination({items:vm.issueCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllIssues({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allIssues=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},[text])},vm.sortissues("created","toggleIssue"),vm.dtOptions={paging:!1,info:!1,ordering:!1,searching:!1},$scope.issueCategory=["Safety","Quality","Issue"],apiFactory.listAllUsers().then(function(resp){vm.allUsers=resp.data.list}),apiFactory.listAllRoofers().then(function(resp){vm.allRoofers=resp.data.list}),apiFactory.listAllProjects().then(function(resp){vm.allProjects=resp.data.list}),apiFactory.getIssuesList().then(function(resp){vm.listOfIssue=resp.data.list}),$scope.readImg=function(fileImg){var output=document.getElementById("blah");output.src=URL.createObjectURL(fileImg)},$scope.addFile=function(file,comment){$scope.inputFiles.push({file:file,comment:comment,source:"NS"}),console.log("input:",$scope.inputFiles)},$scope.deleteImg=function(index,array){array.splice(index,1)},$scope.fileUpEvent=function(file){$scope.thumbnail="",console.log("file event",file),null!==file&&file.length>0&&file.forEach(function(onefile){if("image/png"==onefile.type||"image/jpg"==onefile.type||"image/jpeg"==onefile.type){var SRC=URL.createObjectURL(onefile);$scope.thumbnail=SRC}else"application/pdf"==onefile.type?$scope.thumbnail="assets/images/file_icon/pdficon.jpg":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"==onefile.type?$scope.thumbnail="assets/images/file_icon/msword.png":"application/vnd.ms-excel"==onefile.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==onefile.type?$scope.thumbnail="assets/images/file_icon/excel.jpg":"application/x-zip-compressed"==onefile.type?$scope.thumbnail="assets/images/file_icon/zip.png":$scope.thumbnail="assets/images/file_icon/anytype.jpg";$scope.inputFiles.push({file:onefile,image:$scope.thumbnail})})},$scope.getDescription=function(index,array,coment){array[index].comment=coment},vm.files3Update=function(array,issuedata){console.log("in s3 function",issuedata),array.forEach(function(x,i,array){uploadFactory.start(function(evaporate){Notification.info(x.file.name+" is uploading ..."),x.file.pause=uploadFactory.pause.bind(evaporate,x),x.file.resume=uploadFactory.resume.bind(evaporate,x),x.file.abort=uploadFactory.abort.bind(evaporate,x);var addConfig={name:x.file.name,file:x.file,progress:function(p,stats){x.file.progress=x.file.progress>Math.round(100*p)?x.file.progress:Math.round(100*p),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()})},complete:function(_xhr,awsKey){x.file.completed=!0,$timeout(function(){$scope.$apply()}),console.log("Complete!")}};evaporate.add(addConfig).then(function(awsObjectKey){console.log(x);var payload={type:fileManagerFactory.resolveDestType(x.file),assetData:{assetName:x.file.name,assetdescription:x.comment,bucket:"3dfilesdata",key:"test/"+x.file.name,mimetype:x.file.type,bytes:x.file.size,issueId:issuedata.data._id}};console.log("INDEX:  ",i),apiFactory.newIssues3FileUpload(payload).then(function(resp){i===array.length-1&&($scope.inputFiles=[],vm.issueData={},$("#issue_modal").modal("hide"),$("#issue_marker").modal("show"),vm.sortissues("created","toggleIssue"),Notification.success("Asset saved successfully"))}).catch(function(e){console.log(e),Notification.error("Could not save asset object")})},function(reason){x.aborted=!0,vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()})})})})},vm.filescloudinaryUpdate=function(array){array.length?($scope.cloudinaryPayload={files:array},apiFactory.issueImage($scope.cloudinaryPayload).then(function(resp){return console.log("response of cloudinary: ",resp.data),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),Notification.success(resp.data.message),"response from cloudinary"}).catch(function(e){console.log(e)})):console.log("No file found to save n cloudinary")},vm.saveIssueDetail=function(issueData){var issueObject={};issueObject.title=issueData.title,issueObject.description=issueData.description,issueObject.project=issueData.project._id,issueObject.issueCategory=issueData.category,issueObject.ownerId=issueData.owner._id,issueObject.deadLine=issueData.deadLine,issueObject.dependencyOn&&(issueObject.dependencyOn=issueData.dependencyOn._id),issueObject.issueStatus=issueData.issueStatus,console.log("issueObj:",issueData),apiFactory.createIssue(issueObject).then(function(resp){return Notification.success("Issue has been saved successfully"),$scope.inputFiles=[],$scope.updateform=!1,vm.sortissues("created","toggleIssue"),resp}).catch(function(e){console.log(e)})},vm.ADDISSUE=function(issueData){$("#issue_modal").modal("hide"),$("#issue_marker").modal("show")},vm.localFiles=[],$scope.getFilesFromLocal=function(files){if(console.log("local files: ",files),files){files.forEach(function(onefile){var SRC=URL.createObjectURL(onefile);vm.planToMark.push({url:SRC})}),console.log("after src called"),$("#issue_marker").modal("hide");vm.planToMark.slice(-1);$("#carousellist").carousel("pause").removeData(),$("#carousellist").carousel(vm.planToMark)}else Notification.error("No Files selected.")},$("#issue_marker").on("hidden.bs.modal",function(e){$(this).removeData("bs.modal"),$("#chooseIssueRoofModal").is(":visible")?console.log("Modal is open"):(console.log("Modal is closed"),$(this).modal("show"))}),$scope.getImagesInCarosel=function(){apiFactory.getProjectRoofPlans("58eb9d2ec921d67036787832").then(function(resp){var ProjectPlans=resp.data.data;vm.planPickerPlans=ProjectPlans,console.log("planpicker: ",vm.planPickerPlans),$("#issue_marker").modal("hide"),$("#chooseIssueRoofModal").modal("show")}).catch(function(e){console.log(e)})},vm.choosePlanData=function(plan){vm.planToMark.push(plan.assetObj)},vm.choosePlanData1=function(plan){vm.planToMark.push(plan)},$scope.addToDetails=function(imgarray){$("#chooseIssueRoofModal").modal("hide"),$("#issue_marker").modal("show"),console.log("vm.plan to mrk:",vm.planToMark);imgarray.slice(-1);$("#carousellist").carousel("pause").removeData(),$("#carousellist").carousel(vm.planToMark)},$scope.getDetail=function(issue){$("#issuedetail").modal(),$scope.issueModel=issue,$scope.Title=$scope.issueModel.title,$scope.Description=$scope.issueModel.description,$scope.DeadLineDate=new Date($scope.issueModel.deadLine),document.getElementById("deadline").defaultValue=$scope.DeadLineDate,$scope.day=$scope.DeadLineDate.getDate()-1,$scope.month=$scope.DeadLineDate.getMonth()+1,$scope.year=$scope.DeadLineDate.getFullYear(),$scope.deadLineDate=$scope.month+"/"+$scope.day+"/"+$scope.year,$scope.Status=$scope.issueModel.issueStatus},$scope.addFileToUpdate=function(file,comment){$scope.inputFiles.push({file:file,comment:comment}),console.log($scope.inputFiles),$scope.file="",$scope.comment=""},$scope.updateRequest=function(updateobj){console.log("to update data",updateobj),$scope.updateform=!0,$scope.openEdit=!1},$scope.removeFiles=function(index,array,imageId){array.splice(index,1),console.log("removing files","index",index,"imageId",imageId),$scope.filesToRemove.push(imageId),console.log("removing files",$scope.filesToRemove)},vm.closeUpdteModel=function(){$scope.updateform=!1},$scope.openEditDate=function(){$scope.openEdit=!0},$scope.closeEditDate=function(){$scope.openEdit=!1},vm.updateIssueDetails=function(formData){var issueObject={};null==vm.updateIssue?(console.log("update issue is undefined"),issueObject.Title=$scope.issueModel.title,issueObject.description=$scope.issueModel.description,issueObject.deadLine=$scope.issueModel.deadLine,issueObject.issueStatus=$scope.issueModel.issueStatus):(console.log("update isuue is not undfined so in esle case"),null==vm.updateIssue.title?issueObject.Title=$scope.issueModel.title:issueObject.Title=vm.updateIssue.title,null==vm.updateIssue.description?issueObject.description=$scope.issueModel.description:issueObject.description=vm.updateIssue.description,null==vm.updateIssue.deadLine?issueObject.deadLine=$scope.issueModel.deadLine:issueObject.deadLine=vm.updateIssue.deadLine,null==vm.updateIssue.issueStatus?issueObject.issueStatus=$scope.issueModel.issueStatus:issueObject.issueStatus=vm.updateIssue.issueStatus),$scope.inputFiles.length>0&&(issueObject.files=$scope.inputFiles),$scope.filesToRemove.length>0&&(console.log("files to remove",$scope.filesToRemove),issueObject.removedFiles=$scope.filesToRemove),console.log("ISUUEOBJECT",issueObject),apiFactory.updateIssue(issueObject,$scope.issueModel._id).then(function(resp){Notification.success("Issue has been updated successfully"),$scope.inputFiles=[],$scope.filesToRemove=[],$scope.updateform=!1,$("#issuedetail").modal("hide"),vm.sortissues("created","toggleIssue")}).catch(function(e){console.log(e),$scope.inputFiles=[],$scope.filesToRemove=[],$scope.updateform=!1,Notification.error("Something went wrong")})},$scope.imageTempUrl="../assets/images/rooftestimages/image1.jpg",$scope.rooftestDemo=function(string){console.log("string",string),$scope.imageTempUrl=".."+string},$scope.canvas=document.getElementById("slideCanvas"),$("#issue_marker").on("shown.bs.modal",function(e){$("#carousellist").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:200,itemMargin:3})}),$scope.openSliderImage=function(url,index){$scope.context=$scope.canvas.getContext("2d");var base_image=new Image;base_image.src=url,base_image.crossOrigin="Anonymous",console.log(base_image.width),console.log($scope.canvas.width),console.log($scope.canvas.height),console.log(base_image.height);var canvas=$scope.canvas,hRatio=$scope.canvas.width/base_image.width,vRatio=canvas.height/base_image.height,ratio=Math.min(hRatio,vRatio),centerShift_x=($scope.canvas.width-base_image.width*ratio)/2,centerShift_y=($scope.canvas.height-base_image.height*ratio)/2;$scope.context.clearRect(0,0,$scope.canvas.width,$scope.canvas.height),$scope.context.drawImage(base_image,0,0,base_image.width,base_image.height,centerShift_x,centerShift_y,base_image.width*ratio,base_image.height*ratio)},$scope.isLine=!1,$scope.isCircle=!1,$scope.isMarker=!1,$scope.isText=!1,$scope.drawLineOnCanvas=function(){$scope.openFillColor=!1,$scope.snapshot,$scope.textForm=!1,$scope.dragging=!1,$scope.dragStartLocation,$("#gpsbtn").css("background-color","#D3D3D3"),$scope.btnMarker="../assets/images/gps.png",$scope.btnCircle="../assets/images/circle-shape-outline.png",$scope.btnLine="../assets/images/linewhite.png",$scope.btnText="../assets/images/text-option-interface-symbol.png",$("#txtbtn").css("background-color","#D3D3D3"),$("#circlebtn").css("background-color","#D3D3D3"),$("#linebutton").css("background-color","#009ACD"),$scope.context1=$scope.canvas.getContext("2d"),$scope.rect=$scope.canvas.getBoundingClientRect(),1!=$scope.isCircle&&1!=$scope.isMarker&&1!=$scope.isText||($scope.canvas.removeEventListener("mousedown",dragStart),$scope.canvas.removeEventListener("mousemove",drag),$scope.canvas.removeEventListener("mouseup",dragStop),$scope.canvas.removeEventListener("mousedown",MarkWrite),$scope.canvas.removeEventListener("mousedown",TextWrite)),$scope.canvas.addEventListener("mousedown",dragStartLine),$scope.canvas.addEventListener("mousemove",dragLine),$scope.canvas.addEventListener("mouseup",dragStopLine)},$scope.drawCircleOnCanvas=function(){$scope.openFillColor=!0,$scope.textForm=!1,$("#gpsbtn").css("background-color","#D3D3D3"),$scope.btnMarker="../assets/images/gps.png",$scope.btnCircle="../assets/images/circlewhite.png",$scope.btnLine="../assets/images/lineicon.png",$scope.btnText="../assets/images/text-option-interface-symbol.png",$("#linebutton").css("background-color","#D3D3D3"),$("#txtbtn").css("background-color","#D3D3D3"),$("#circlebtn").css("background-color","#009ACD"),$("#circlebtn").css("color","#ffffff"),$scope.ctx=$scope.canvas.getContext("2d"),$scope.canvasx=$($scope.canvas).offset().left,$scope.canvasy=$($scope.canvas).offset().top,$scope.last_mousey,$scope.mousey,$scope.last_mousex=$scope.last_mousey=0,$scope.mousex=$scope.mousey=0,$scope.mousedown=!1,$scope.rect1=$scope.canvas.getBoundingClientRect(),1!=$scope.isLine&&1!=$scope.isMarker||($scope.canvas.removeEventListener("mousedown",dragStartLine),$scope.canvas.removeEventListener("mousemove",dragLine),$scope.canvas.removeEventListener("mouseup",dragStopLine),$scope.canvas.removeEventListener("mousedown",MarkWrite),$scope.canvas.removeEventListener("mousedown",TextWrite)),$scope.canvas.addEventListener("mousedown",dragStart),$scope.canvas.addEventListener("mousemove",drag),$scope.canvas.addEventListener("mouseup",dragStop)},$scope.drawmarkerOnCanvas=function(){$scope.openFillColor=!0,$scope.textForm=!1,$scope.markercontext=$scope.canvas.getContext("2d"),1!=$scope.isCircle&&1!=$scope.isLine&&1!=$scope.isText||($scope.canvas.removeEventListener("mousedown",dragStart),$scope.canvas.removeEventListener("mousemove",drag),$scope.canvas.removeEventListener("mouseup",dragStop),$scope.canvas.removeEventListener("mousedown",dragStartLine),$scope.canvas.removeEventListener("mousemove",dragLine),$scope.canvas.removeEventListener("mouseup",dragStopLine),$scope.canvas.removeEventListener("mousedown",TextWrite)),$("#gpsbtn").css("background-color","#009ACD"),$scope.btnMarker="../assets/images/gpswhite.png",$scope.btnCircle="../assets/images/circle-shape-outline.png",$scope.btnLine="../assets/images/lineicon.png",$scope.btnText="../assets/images/text-option-interface-symbol.png",$("#txtbtn").css("background-color","#D3D3D3"),$("#circlebtn").css("background-color","#D3D3D3"),$("#linebutton").css("background-color","#D3D3D3"),$scope.rectmarker=$scope.canvas.getBoundingClientRect(),$scope.canvas.addEventListener("mousedown",MarkWrite)},$scope.fillTextOnCanvas=function(){$scope.openFillColor=!1,$scope.textForm=!0,$("#gpsbtn").css("background-color","#D3D3D3"),$scope.btnMarker="../assets/images/gps.png",$scope.btnCircle="../assets/images/circle-shape-outline.png",$scope.btnLine="../assets/images/lineicon.png",$scope.btnText="../assets/images/textwhite.png",$("#txtbtn").css("background-color","#009ACD"),$("#circlebtn").css("background-color","#D3D3D3"),$("#linebutton").css("background-color","#D3D3D3"),1!=$scope.isCircle&&1!=$scope.isLine&&1!=$scope.isMarker||($scope.canvas.removeEventListener("mousedown",dragStart),$scope.canvas.removeEventListener("mousemove",drag),$scope.canvas.removeEventListener("mouseup",dragStop),$scope.canvas.removeEventListener("mousedown",dragStartLine),$scope.canvas.removeEventListener("mousemove",dragLine),$scope.canvas.removeEventListener("mouseup",dragStopLine),$scope.canvas.removeEventListener("mousedown",MarkWrite)),$scope.canvas.addEventListener("mousedown",TextWrite)},$scope.UndoDrawing=function(){if($scope.UndoArray.length>0){var undoCtx=$scope.canvas.getContext("2d");undoCtx.clearRect(0,0,$scope.canvas.width,$scope.canvas.height);var imgdata=$scope.UndoArray.pop();$scope.redoArray.push(imgdata),$scope.UndoArray.forEach(function(element){undoCtx.putImageData(element,0,0)})}},$scope.RedoDrawing=function(){var undoCtx=$scope.canvas.getContext("2d");if($scope.redoArray.length>0){var redo=$scope.redoArray.pop();undoCtx.putImageData(redo,0,0)}},vm.saveMarkInfo=function(){var dataImage=$scope.canvas.toDataURL("image/png");console.log(dataImage),console.log(vm.backImg);var link=document.getElementById("link");link.setAttribute("download","MintyPaper.png");link.setAttribute("href",$scope.canvas.toDataURL("image/jpg").replace("image/jpg","image/octet-stream"));link.click()}})}(),function(){angular.module("app").controller("materialCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload,moment){var _this=this,vm=this,logout=globals.logout,userStore=globals.userStore,debounce=globals.debounce;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.inputImg=[],vm.inputFiles=[],vm.dtOptions={retrieve:!0,paging:!1,info:!1,ordering:!1};var inventoryState=globals.inventoryState();vm.activeTab=inventoryState.get().tab,$(".tab-content .tab-pane").eq(inventoryState.get().tab).addClass("show"),vm.currentPage=1,vm.toggleTab=function(val){inventoryState.setTab(val)},vm.toggleObj={material:{systemTag:!0,materialCost:!1,rooferCost:!1,createdAt:!0,name:!1},combo:{systemTag:!0,materialCost:!1,rooferCost:!1,createdAt:!0,name:!1}},apiFactory.getAllSuppliers().then(function(resp){vm.suppliers=resp.data.list}).catch(function(e){console.log(e)}),vm.searchText=inventoryState.get().searchText,$scope.$watch("vm.searchText",function(text){inventoryState.text(text)},!0),vm.unitSelect=function(data){vm.selectedUnit=data.name},vm.sortDisplay=function(type,resource){if(type&&resource)return"Sorted By: "+type+" - "+(vm.toggleObj[resource][type]?"ASC":"DSC")},vm.sortMaterials=function(type,resource){void 0===vm.toggleObj[resource][type]?vm.toggleObj[resource][type]=!0:vm.toggleObj[resource][type]=!vm.toggleObj[resource][type];var apiName="material"===resource?"listAllMaterials":"listAllComboMaterials";apiFactory[apiName]({page:inventoryState.get().page[resource],chunk:10,sort:type,search:inventoryState.get().searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm[resource]=resp.data.list,vm[resource+"Count"]=resp.data.total,$timeout(function(){$("#"+resource+"Pagination").pagination({items:vm[resource+"Count"],itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:inventoryState.get().page[resource],onPageClick:function(page,event){event.preventDefault(),inventoryState.setPage(resource,page),apiFactory[apiName]({page:page,chunk:10,sort:type,search:inventoryState.get().searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm[resource]=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})};var searchDebounce=debounce(250);vm.searchMaterials=function(text,resource){searchDebounce(function(){var apiName="material"===resource?"listAllMaterials":"listAllComboMaterials";apiFactory[apiName]({page:1,chunk:10,search:text,sort:"createdDate",sortType:!1}).then(function(resp){vm[resource]=resp.data.list,vm[resource+"Count"]=resp.data.total,$timeout(function(){$("#"+resource+"Pagination").pagination({items:vm[resource+"Count"],itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory[apiName]({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.materials=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},[text,resource])},vm.sortMaterials("createdAt","material"),vm.sortMaterials("createdAt","combo");vm.addMaterial={conversionFactor:1,maintenancePeriod:90,maintenanceDate:moment().add(90,"days").format()},vm.changeMaintenancePeriod=function(days){vm.addMaterial.maintenanceDate=moment().add(days,"days").format()},vm.tabSettings={disable:!0},vm.tabChange=function(val,flag){if("combo"==flag){var tabChangeFun=function(val){$(".dcp_modal .nav-tabs li .nav-link").removeClass("active"),$(".dcp_modal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".dcp_modal .tab-content .tab-pane").removeClass("active"),$(".dcp_modal .tab-content .tab-pane").removeClass("show"),$(".dcp_modal .tab-content .tab-pane").eq(val).addClass("show"),$(".dcp_modal .tab-content .tab-pane").eq(val).addClass("active")};if(0==val)tabChangeFun(val);else if(1==val){if(!vm.addComboMaterialForm.name||!vm.editComboMaterial.name)return void Notification.error("Please enter combo material name");if(!vm.selectedUnit)return void Notification.error("Please select unit");if(!vm.addComboMaterialForm.description||!vm.editComboMaterial.description)return void Notification.error("Please enter combo description");tabChangeFun(val)}else if(2==val){if(0==vm.comboMaterialList.length)return void Notification.error("Please add Combination list");vm.TotalMC=0,vm.TotalRC=0,angular.forEach(vm.comboMaterialList,function(value){vm.TotalMC=parseFloat(vm.TotalMC)+parseFloat(value.materialCost),vm.TotalRC=parseFloat(vm.TotalRC)+parseFloat(value.rooferCost)}),vm.TotalMC=parseFloat(Math.round(100*vm.TotalMC)/100),vm.TotalRC=parseFloat(Math.round(100*vm.TotalRC)/100),tabChangeFun(val)}}else if(0==val&&($(".material_modal .nav-tabs li .nav-link").removeClass("active"),$(".material_modal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("active")),1==val){if(!vm.addMaterial.materialName)return void Notification.error("Please enter material name");if(!vm.selectedUnit)return void Notification.error("Please select material unit");$(".material_modal .nav-tabs li .nav-link").removeClass("active"),$(".material_modal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("active")}},apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.addMaterial.currency=angular.copy(vm.companyData.currentCurrency.currencyCode)}).then(function(e){console.log(e)}),$scope.$watch("vm.addMaterial.currency",function(value){$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")}),vm.showConversionRate=function(from,to){$(".loader").show();var currencyData={from:from,to:to};apiFactory.showConversionRate(currencyData).then(function(resp){vm.addMaterial.conversionFactor=resp.data.conversionFactor,$timeout(function(){$(".loader").hide()},500)}).catch(function(e){console.log(e)})},vm.addMaterialNext=function(){console.log(vm.addMaterial.materialUnit),null!=vm.addMaterial.materialName||""!=vm.addMaterial.materialName?vm.addMaterial.materialUnit||""!=vm.addMaterial.materialUnit?null!=vm.addMaterial.currency||""!=vm.addMaterial.currency?$scope.activeJustified=1:Notification.error("Please select Currency"):Notification.error("Please select material Unit"):Notification.error("Please enter material name")},vm.changeCost=function(cost,conversionRate){return cost*conversionRate},vm.deleteFile=function(indexVal,type){"image"==type?vm.inputImg.splice(indexVal,1):vm.inputFiles.splice(indexVal,1)},vm.descriptionPopover=function(indexVal,type){$scope.fileType=type,$scope.fileIndex=indexVal},vm.addDescription=function(index,data){"image"==$scope.fileType?vm.inputImg[index].description=data:vm.inputFiles[index].description=data,$(_this).closest(".popover").addClass("Mohamed")},vm.clearData=function(val){"dcp"==val?(vm.addComboMaterialForm={},vm.inputImg=[],vm.inputFiles=[],vm.selectedUnit=""):(vm.addMaterial={conversionFactor:1,maintenancePeriod:90,currency:angular.copy(vm.companyData.currentCurrency.currencyCode)},console.log(vm.addMaterial),vm.inputImg=[],vm.inputFiles=[],vm.selectedUnit="",$("#profile-tab, #dcp1").removeClass("active"),$("#home-tab, #material1").addClass("active"),$("#material1").addClass("show"),vm.changeMaintenancePeriod(vm.addMaterial.maintenancePeriod))},vm.addMaterialDetails=function(){if(vm.selectedUnit)if(vm.addMaterial.materialCostValue)if(vm.addMaterial.rooferCostValue){$scope.uploadFiles=[].concat(vm.inputImg,vm.inputFiles),console.log($scope.uploadFiles);var formData={name:vm.addMaterial.materialName,unit:vm.selectedUnit,materialCost:{value:vm.changeCost(vm.addMaterial.materialCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.addMaterial.currency},rooferCost:{value:vm.changeCost(vm.addMaterial.rooferCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.addMaterial.currency},suppliers:vm.addMaterial.suppliers,files:$scope.uploadFiles,assetObj:$scope.uploadFiles.map(function(x,i){return{assetDescription:x.description}})};apiFactory.createMaterials(formData).then(function(resp){$scope.tab=1,Notification.success(resp.data.message),$("#todo_modal").modal("hide"),$("#profile-tab, #dcp1").removeClass("active"),$("#home-tab, #material1").addClass("active"),$("#material1").addClass("show"),vm.inputImg=[],vm.inputFiles=[],vm.selectedUnit="",vm.toggleObj.material.createdAt=!0,vm.sortMaterials("createdAt","material"),vm.addMaterial={conversionFactor:1}}).catch(function(e){console.log(e)})}else Notification.error("Please Select roofer cost value");else Notification.error("Please Select material cost value");else Notification.error("Please Select Unit")},vm.getMaterialById=function(id){apiFactory.getMaterialById(id).then(function(resp){console.log(resp)}).catch(function(e){console.log(e)})},$("#addMaterial").on("hide.bs.modal",function(){$scope.activeJustified=0,vm.addMaterial={conversionFactor:1}}),vm.comboMaterialList=[],vm.addComboMaterialForm={},vm.percentageAddition=[],vm.mUnits=globals.mUnits,globals.getCurrency().then(function(resp){vm.currencies=resp.data,vm.loadCurrencies=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),apiFactory.listAllMaterials().then(function(resp){vm.allmaterilaList=resp.data.list}).catch(function(e){console.log(e)}),vm.comboList={quantity:1,materialCost:0,rooferCost:0},vm.getMaterialInfo=function(material){var materialInfo=JSON.parse(material);material&&(vm.comboList.materialCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.rooferCost.value*100)/100),$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3"))},vm.QtyChange=function(val,data){var material=JSON.parse(data);""==val||0==val?(vm.comboList.quantity=1,val=1,vm.comboList.materialCost=parseFloat(Math.round(val*material.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(val*material.currentRate.rooferCost.value*100)/100)):(vm.comboList.materialCost=parseFloat(Math.round(val*material.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(val*material.currentRate.rooferCost.value*100)/100))},vm.addPercentageValue=function(){vm.percentageAddition.push({percentageType:"",percentageValue:""})},vm.removePercentageAddition=function(index){vm.percentageAddition.splice(index,1)},vm.materialCombination=function(material){var data=JSON.parse(material);console.log("material--",data),""!=data&&(vm.comboMaterialList.push({materialId:data._id,name:data.name,quantity:vm.comboList.quantity,materialCost:vm.comboList.materialCost,rooferCost:vm.comboList.rooferCost,percentageAdditions:vm.percentageAddition}),vm.percentageAddition=[],vm.comboList={quantity:1,materialCost:0,rooferCost:0},vm.addComboMaterialForm.comboMaterial="",$(".select2-choice .select2-chosen").text(""))},vm.fileUpdated=function(files,event,model){var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),angular.forEach(files,function(x,index){x.description=""})},vm.createComboMaterialList=function(){var cmList=[];vm.comboMaterialList.forEach(function(x){var perAdditions={};0!==x.percentageAdditions.length&&x.percentageAdditions.forEach(function(x){perAdditions[x.percentageType]=Number(x.percentageValue)}),cmList.push({materialId:x.materialId,quantity:x.quantity,percentageAdditions:perAdditions})});var data={name:vm.addComboMaterialForm.name,unit:vm.selectedUnit,comboMaterialList:cmList,files:vm.inputImg};apiFactory.getSystemTag().then(function(resp){data.systemTag=resp.data.comboTag,apiFactory.createComboMaterial(data).then(function(resp){Notification.success(resp.data.message),$("#addComboMaterial").modal("hide")}).catch(function(e){Notification.error(e.data.message)})}).catch(function(e){Notification.error(e.data.message)})},vm.removeMateril=function(item){vm.comboMaterialList.splice(item,1)}})}(),function(){angular.module("app").controller("materialViewCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,globals,$location,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.inputImg=[],vm.inputFiles=[],vm.clearData=function(){vm.inputImg=[],vm.inputFiles=[],vm.selectedUnit=""},apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data}).then(function(e){console.log(e)}),vm.materialId=$stateParams.id,vm.mUnits=globals.mUnits,globals.getCurrency().then(function(resp){vm.currencies=resp.data,vm.loadCurrencies=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.showConversionRate=function(from,to){$(".loader").show();var currencyData={from:from,to:to};from&&apiFactory.showConversionRate(currencyData).then(function(resp){vm.editMaterial.conversionFactor=resp.data.conversionFactor,$timeout(function(){$(".loader").hide()},500)}).catch(function(e){console.log(e)})},vm.tabChange=function(val){0==val||1==val&&(vm.editMaterial.name?vm.selectedUnit?($(".material_modal .nav-tabs li .nav-link").removeClass("active"),$(".material_modal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("active")):Notification.error("Please select material unit"):Notification.error("Please enter material name"))},apiFactory.getAllSuppliers().then(function(resp){vm.suppliers=resp.data.list}).catch(function(e){console.log(e)}),vm.editFlag=!1,vm.removedFiles=[],$scope.getMatDetail=function(){apiFactory.getMaterialById(vm.materialId).then(function(resp){vm.matrialData=resp.data,console.log(vm.matrialData),vm.matrialName=vm.matrialData.name,vm.matrialUnit=vm.matrialData.unit,vm.matrialCost=Number(vm.matrialData.currentRate.materialCost.value).toFixed(2),vm.matrialCurrencyCode=vm.matrialData.currentRate.materialCost.currencyCode,vm.matrialRooferCost=Number(vm.matrialData.currentRate.rooferCost.value).toFixed(2),vm.matrialRooferCurrencyCode=vm.matrialData.currentRate.rooferCost.currencyCode,vm.matrialCreatedBy=vm.matrialData.providerData.updatedBy.name,vm.matrialCreatedAt=vm.matrialData.createdAt,vm.matrialUpdatedAt=vm.matrialData.createdAt,$scope.gray_box=[{img:"/assets/images/Unit-Icon.png",title:"Unit",value:vm.matrialUnit},{img:"/assets/images/Dollar-Icon.png",title:"Material Cost",value:vm.matrialCost,currencyCode:vm.matrialCurrencyCode},{img:"/assets/images/Dollar-Icon.png",title:"Roofer Cost",value:vm.matrialRooferCost,currencyCode:vm.matrialRooferCurrencyCode}],$scope.nextMaintanceDateCalc(vm.matrialData.createdAt,vm.matrialData.maintenancePeriod)}).catch(function(e){console.log(e)})},$scope.getMatDetail(),$scope.nextMaintanceDateCalc=function(createdAt,maintenancePeriod){var createdDate=moment(createdAt).format("X"),nextMaintanceDate=moment(createdAt).add(maintenancePeriod,"days").format("X");if(createdDate<nextMaintanceDate)vm.nextMaintenanceDate=moment(createdAt).add(maintenancePeriod,"days").format("MMM DD, YYYY");else{alert();var createdDate1=moment.utc(createdAt).add(maintenancePeriod,"days").format();$scope.nextMaintanceDateCalc(createdDate1,maintenancePeriod)}},vm.removeImg=function(indexVal,type){"materialImg"==type?(vm.removedFiles.push(vm.matrialData.files.images[indexVal]._id),vm.materialImg.splice(indexVal,1)):"image"==type?vm.inputImg.splice(indexVal,1):"materialDocument"==type?(vm.removedFiles.push(vm.matrialData.files.docs[indexVal]._id),vm.materialFiles.splice(indexVal,1)):"document"==type&&vm.inputFiles.splice(indexVal,1)},vm.descriptionPopover=function(indexVal,type){$scope.fileType=type,$scope.fileIndex=indexVal},vm.addDescription=function(index,data){"materialImg"==$scope.fileType?(vm.materialImg[index].description=data,vm.materialImg[index].assetDescription=data):"image"==$scope.fileType?vm.inputImg[index].description=data:"materialDocument"==$scope.fileType?(vm.materialFiles[index].description=data,vm.materialFiles[index].assetDescription=data):"document"==$scope.fileType&&(vm.inputFiles[index].description=data)},vm.changeMaintenancePeriod=function(days){vm.editMaterial.maintenanceDate=moment(vm.editMaterial.createdAt).add(days,"days").format()},vm.editMaterialFunction=function(val){if(1==val)vm.editFlag=!0,vm.editMaterial=angular.copy(vm.matrialData),vm.changeMaintenancePeriod(vm.matrialData.maintenancePeriod),vm.selectedUnit=vm.editMaterial.unit,vm.currentCurrency=vm.editMaterial.currentRate.rooferCost.currencyCode,vm.editMaterial.currency=vm.editMaterial.currentRate.rooferCost.currencyCode,vm.materialImg=vm.editMaterial.files.images,vm.materialFiles=vm.editMaterial.files.docs,vm.materialCostValue=vm.editMaterial.currentRate.materialCost.value,vm.rooferCostValue=vm.editMaterial.currentRate.rooferCost.value,vm.showConversionRate(vm.currentCurrency,vm.editMaterial.currency),angular.forEach(vm.materialImg,function(x,index){x.description=""}),angular.forEach(vm.materialFiles,function(x,index){x.description=""}),console.log(vm.editMaterial),$("#todo_modal.material_modal").modal("show");else if(2==val){console.log(vm.inputImg,vm.inputFiles),$scope.uploadFiles=[].concat(vm.inputImg,vm.inputFiles),$scope.uploadallFiles=[].concat(vm.inputImg,vm.inputFiles,vm.materialImg,vm.materialFiles),console.log($scope.uploadallFiles),vm.editFlag=!1;var description="";(vm.inputImg.length>0||vm.inputFiles.length>0)&&(description=$scope.uploadallFiles.map(function(x,i){return{assetDescription:x.description}}));var materialupdatedata={name:vm.editMaterial.name,unit:vm.selectedUnit,removedFiles:vm.removedFiles,suppliers:vm.editMaterial.suppliers,currentRate:{materialCost:{value:vm.materialCostValue,currencyCode:vm.editMaterial.currency},rooferCost:{value:vm.rooferCostValue,currencyCode:vm.editMaterial.currency}},files:$scope.uploadFiles,assetObj:description};apiFactory.updateMaterialById(vm.materialId,materialupdatedata).then(function(resp){Notification.success(resp.data.message),$("#todo_modal.material_modal").modal("hide"),$scope.getMatDetail(),vm.fileNames=[]}).catch(function(e){console.log(e)})}},vm.fileUpdated=function(files,event){var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),angular.forEach(files,function(x,index){x.description=""})}})}(),function(){angular.module("app").controller("meetingRoomCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload,SBcommon,SBchannel){var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get();var room=SBcommon;apiFactory.getAccessMeetingRoomToken().then(function(resp){return resp.data.accessToken}).then(function(token){if(!token)throw new Error("Token unavailable");return room.connect(userStore.get().email,token)}).then(function(connectedUser){return Notification.success("Connected to meeting room"),SBchannel.listChannels()}).then(function(channelList){vm.newMeeting={},console.log("channeldata",channelList),vm.channelList=channelList}).catch(room.error),vm.createChannel=function(formData){SBchannel.createChannel(formData.name,"leo@askpundit.com").then(function(channel){console.log("CreatedChannel",channel),SBchannel.listChannels().then(function(channelList){vm.channelList=channelList})}).catch(room.error)},vm.logout=function(){logout()}})}(),function(){angular.module("app").controller("payrollCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()};$location.path();$(".payrollMenu").css("display","block !important"),$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("preLoginCtrl",function($scope,$timeout,$state,authFactory,apiFactory,globals,localStorageService,Notification,NgMap){var vm=this,userStore=(globals.progress,globals.logout,globals.userStore);if(vm.loggedIn=!1,authFactory.checkUser())return $state.go("dashboard"),void(vm.loggedIn=!0);vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],markers:[[28.7041,77.1025],[13.0827,80.2707]]},NgMap.getMap().then(function(map){map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoom:2,center:{lat:28.7041,lng:77.1025}})}),vm.regsiterModal=function(){$("#loginModal, #forgotPassModal").modal("hide"),$("#registerModal").modal("show")},vm.loginModal=function(){$("#registerModal, #forgotPassModal").modal("hide"),$("#loginModal").modal("show")},vm.forgotPassModal=function(){$("#loginModal").modal("hide"),$("#forgotPassModal").modal("show")},vm.login=function(isValid,formData){console.log(formData),apiFactory.login(formData).then(function(resp){$("#loginModal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").hide(),localStorageService.set("access-token",resp.data.token),userStore.set(resp.data.user),$state.go("dashboard"),Notification.success("Login success")}).catch(function(err){Notification.error(err.data.message)})},vm.forgotPass=function(isValid,formData){if(null==formData)Notification.error("please Valid mail Id");else{var data=formData;apiFactory.forgotPassword(data).then(function(resp){$("#forgotPassModal").modal("hide"),Notification.success(resp.data.message)}).catch(function(err){Notification.error(err.data.message)})}},vm.register=function(isValid,formData){apiFactory.registration(formData).then(function(resp){$("#registerModal").modal("hide"),Notification.success(resp.data.message)}).catch(function(err){$("#registerModal").modal("hide"),Notification.error(err.data.message)})},vm.subscribe=function(email){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)?apiFactory.subscribe({email:email}).then(function(resp){vm.subscribeEmail="",Notification.success(resp.data.message)}).catch(function(err){Notification.error(err.data.message)}):Notification.error("Invalid email")}})}(),function(){angular.module("app").controller("projectCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),apiFactory.listAllProjects().then(function(resp){console.log(resp.data)}).catch(function(e){console.log(e)}),this.logout=function(){logout()}})}(),function(){angular.module("app").controller("reportDetailCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this;$scope.image1="../assets/images/reportimgs/rep.jpg",$scope.image2="../assets/images/reportimgs/file.jpg";var logout=globals.logout;$scope.reportObj={},$scope.shwCommentSection=!1,$scope.ReportIssue={},$scope.issueToAdd=[],$scope.models={selected:null},authFactory.checkUser()||logout();vm.logout=function(){logout()},$scope.exportToPdf=function(){var img=new Image;img.src="../assets/images/reportimgs/rep.jpg";var img1=new Image;img1.src="../assets/images/reportimgs/file.jpg";var doc=new jsPDF("p");doc.addImage(img,"png",15,20,90,90),doc.addImage(img1,"png",110,20,90,90),doc.autoTable({html:"#statictable",margin:{top:120},pageBreak:"auto",tableWidth:"auto",showHeader:"everyPage"}),doc.setFontSize(25),doc.text(20,150,"Comments"),doc.setFontSize(10),doc.setFont("helvetica"),doc.text(20,160,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor"),doc.text(20,170,"incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco"),doc.text(20,180," laboris nisi ut aliquip ex ea commodo consequat."),doc.save("column8.pdf")};var enabled=!0,chunkSize=5;vm.issueSearch="",vm.enableLazyLoad=!1,vm.sortParams={field:"created",type:!1},$scope.openReportPicker=function(){vm.enableLazyLoad=!0,apiFactory.listAllIssues({search:vm.issueSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.issuePickerData=[],$scope.issueToAdd.length>0&&$scope.issueToAdd.forEach(function(element){resp.data.list.forEach(function(resdata,index){element._id==resdata._id?resp.data.list.splice(index,1):console.log("false")})}),$timeout(function(){vm.issuePickerData=resp.data.list,$("#listissuesmodal").modal("hide"),$("#chooseIssueModal").modal("show"),$scope.EditMode=!1})}).catch(function(e){console.log(e)})},$("#chooseIssueModal").on("hide.bs.modal",function(){vm.enableLazyLoad=!1}),vm.closeIssuePicker=function(){$("#chooseIssueModal").modal("hide"),vm.issueSearch=""},$scope.addMore=function(){console.log("calling add more"),enabled&&(enabled=!1,$timeout(function(){enabled=!0},500),chunkSize+=5,apiFactory.listAllIssues({search:vm.issueSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.issuePickerData=[],$scope.issueToAdd.length>0&&$scope.issueToAdd.forEach(function(element){resp.data.list.forEach(function(resdata,index){element._id==resdata._id&&resp.data.list.splice(index,1)})}),$timeout(function(){vm.issuePickerData=resp.data.list})}).catch(function(e){console.log(e)}))},vm.searchIssues=function(text){console.log("serchtext",text),apiFactory.listAllIssues({search:vm.issueSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.issuePickerData=resp.data.list}).catch(function(e){console.log(e)})},$scope.remarkData=[],$scope.addRemark=function(title,value){null==title&&null==value||($scope.remarkData.push({Title:title,Value:value}),$("#remarktitle").val(""),$("#remarkvalue").val(""))},vm.chooseIssues=function(issue,index,array){issue?(array.splice(index,1),$scope.issueToAdd.push(issue),$("#chooseIssueModal").modal("hide"),$("#listissuesmodal").modal("show")):Notification.error("No selection")},vm.addToListIssuePicker=function(){$("#chooseIssueModal").modal("hide"),$("#listissuesmodal").modal("show")},$scope.sendIssueToPdf=function(){$("#listissuesmodal").modal("hide"),$scope.shwCommentSection=!0},$scope.coverPageModal=function(){$("#coverpagemodal").modal("show")},$scope.aboutUsModal=function(){$("#aboutusmodal").modal("show")},$scope.projectMetaModal=function(){$("#projectmetamodal").modal("show")},$scope.reportremarkModal=function(){$("#reportremarkmodal").modal("show")},$scope.listIssueModelClick=function(){$("#listissuesmodal").modal("show")},$scope.setReportObj=function(object){console.log(object),$scope.ReportIssue.title=object.title,$scope.ReportIssue.description=object.description,$scope.ReportIssue.companyName=object.companyName,$scope.ReportIssue.email=object.email,$scope.ReportIssue.website=object.website,$scope.ReportIssue.phone=object.phone,$scope.ReportIssue.projectName=object.projectName,$scope.ReportIssue.serialNo=object.serialNo,$scope.ReportIssue.enterprise=object.enterprise,$scope.issueToAdd.length>0&&($scope.ReportIssue.issueToAdd=$scope.issueToAdd),$scope.remarkData.length>0&&($scope.ReportIssue.remarkData=$scope.remarkData),$scope.ReportIssue.authorName=object.authorName,$scope.ReportIssue.remarkDate=object.remarkDate,$("#coverpagemodal").modal("hide"),$("#aboutusmodal").modal("hide"),$("#projectmetamodal").modal("hide"),$("#reportremarkmodal").modal("hide"),$("#chooseIssueModal").modal("hide")},$scope.EditMode=!1,$scope.EditIssueData=function(){$scope.EditMode=!0},$scope.removeFromIssueList=function(index,array){array.splice(index,1),console.log($scope.issueToAdd)}})}(),function(){angular.module("app").controller("reportsCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout;globals.userStore;authFactory.checkUser()||logout();$scope.currentUser=localStorageService.get("userData"),$scope.reportCategory=["issueReport","safetyReport","qaReport"],apiFactory.listAllUsers().then(function(resp){vm.allAdminUsers=resp.data.list}),apiFactory.listAllProjects().then(function(resp){vm.projectList=resp.data}).catch(function(e){console.log(e)}),vm.logout=function(){logout()}})}(),function(){angular.module("app").controller("reportsListingCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()},"/payroll"==$location.path()&&$(".payrollMenu").css("display","block !important");$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("setPasswordCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var vm=this,token=$location.search().token;if(!token)return;apiFactory.isTokenValid({token:token}).then(function(resp){console.log(resp.data),resp.data.tokenValid?(vm.user=resp.data.user,$(".forgotPassModal").modal("show")):$(".tokenInvalid").modal("show")}).catch(function(e){console.log(e)}),vm.resetPass=function(isValid,data){if($(".forgotPassModal").modal("hide"),vm.resetPass.password===vm.resetPass.c_password){var data={password:vm.resetPass.password,user:vm.user};console.log(data),apiFactory.setPassword(data).then(function(resp){Notification.success(resp.data.message),$state.go("preLogin")}).catch(function(e){console.log(e)})}else Notification.error("Password Mismatch, Please enter same password")},vm.back=function(){$(".tokenInvalid").modal("hide"),$timeout(function(){$state.go("preLogin")})}})}(),function(){angular.module("app").controller("settingCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore,companyStore=globals.companyStore;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),companyStore.get()?(vm.companyData=companyStore.get(),vm.privileges=vm.companyData.privileges):apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.privileges=vm.companyData.privileges}).catch(function(e){console.log(e)});vm.submitRoleSettings=function(formData){apiFactory.updateRoleBasedAccess(formData).then(function(resp){Notification.success(resp.data.message),companyStore.refetch(vm.userData.companyId)}).catch(function(e){Notification.error("Something went wrong"),console.log(e)})},vm.goToDashboard=function(){$state.go("dashboard")},vm.logout=function(){logout()}})}(),function(){angular.module("app").controller("subcontractorCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this;vm.selectedMaterials=[],vm.members2=[];var logout=globals.logout;globals.debounce,globals.userStore;authFactory.checkUser()||logout();vm.getSubcontractors=function(type){apiFactory.getAllSubcontractors({page:1,chunk:10,sort:type}).then(function(resp){vm.allSubcontractor=resp.data.list,vm.subcontractorsCount=resp.data.total,console.log("suppliers are:",vm.allSubcontractor),$timeout(function(){$("#pagination").pagination({items:vm.subcontractorsCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.getAllSubcontractors({page:page,chunk:10}).then(function(resp){vm.allSubcontractor=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.getSubcontractors("created"),vm.addSubcontractorNext=function(){$("#home").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#home").removeClass("show"),$("#home").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active")):$("#profile-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#contact-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#contact").addClass("show"),$("#contact").addClass("active"))},vm.addSubcontractorPrevious=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active"))},$scope.deleteMaterial=function(index,array){array.splice(index,1)},$scope.deleteStaff=function(index,array){array.splice(index,1)},$scope.onChange=function(files){null!=files[0]&&($scope.FILEIMG=URL.createObjectURL(files[0]),$scope.fileExt=files[0].name.split(".").pop())},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),apiFactory.listAllMaterials().then(function(resp){vm.allMaterials=resp.data.list}),vm.addMaterial=function(item){vm.selectedMaterials.push(item)},vm.addMember=function(name){vm.members2.push(name)},$scope.createSubcontractor=function(subcontractor){subcontractor.supplies=[],subcontractor.staff=[],console.log("subcontractor",subcontractor),vm.selectedMaterials.length>0&&vm.selectedMaterials.forEach(function(element){subcontractor.supplies.push(element._id)}),vm.members2.length>0&&vm.members2.forEach(function(element){subcontractor.staff.push(element)}),console.log("subcontractor",subcontractor),apiFactory.createNewSubcontractor(subcontractor).then(function(resp){Notification.success("Sub-contractor has been saved successfully"),vm.supplier={},vm.selectedMaterials=[],vm.mambers2=[],$scope.inputFiles=[],subcontractor.supplies=[],subcontractor.staff=[],$("#sub-contractor_modal").modal("hide"),vm.getSubcontractors("created")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})},$scope.contracts=[{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"}]})}(),function(){angular.module("app").controller("subcontractorDetailCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.subcontractorId=$stateParams.id,$scope.getSubcontractorDetail=function(){apiFactory.getSubcontractorById(vm.subcontractorId).then(function(resp){vm.subcontractorData=resp.data})},$scope.getSubcontractorDetail()})}(),function(){angular.module("app").controller("supplierCtrl",function($scope,$rootScope,$timeout,authFactory,$state,apiFactory,Notification,globals,fileManagerFactory,Upload,localStorageService){var vm=this;vm.selectedMaterials=[],vm.members2=[];var logout=globals.logout;globals.debounce,globals.userStore;$scope.activeJustified=0,authFactory.checkUser()||logout();vm.getSuppliers=function(type){apiFactory.getAllSuppliers({page:1,chunk:10,sort:type}).then(function(resp){vm.allSuppliers=resp.data.list,vm.suppiersCount=resp.data.total,console.log("suppliers are:",vm.allSuppliers),$timeout(function(){$("#pagination").pagination({items:vm.suppiersCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.getAllSuppliers({page:page,chunk:10}).then(function(resp){vm.allSuppliers=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.getSuppliers("created"),$scope.onChange=function(files){null!=files[0]&&($scope.FILEIMG=URL.createObjectURL(files[0]),$scope.fileExt=files[0].name.split(".").pop())},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),apiFactory.listAllMaterials().then(function(resp){vm.allMaterials=resp.data.list}),vm.addMaterial=function(item){vm.selectedMaterials.push(item)},vm.addMember=function(name){vm.members2.push(name)},vm.addSupplierNext=function(){$("#home").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#home").removeClass("show"),$("#home").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active")):$("#profile-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#contact-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#contact").addClass("show"),$("#contact").addClass("active"))},vm.addSupplierPrevious=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active"))},$scope.deleteMaterial=function(index,array){array.splice(index,1)},$scope.deleteStaff=function(index,array){array.splice(index,1)},$scope.createSupplier=function(supplier){supplier.supplies=[],supplier.staff=[],console.log("supplier",supplier),vm.selectedMaterials.length>0&&vm.selectedMaterials.forEach(function(element){supplier.supplies.push(element._id)}),vm.members2.length>0&&vm.members2.forEach(function(element){supplier.staff.push(element)}),console.log("supplier",supplier),apiFactory.createNewSupplier(supplier).then(function(resp){Notification.success("Supplier has been saved successfully"),vm.supplier={},vm.selectedMaterials=[],vm.mambers2=[],$scope.inputFiles=[],supplier.supplies=[],supplier.staff=[],$("#supplier_modal").modal("hide"),vm.getSuppliers("created")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})},$scope.contracts=[{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"}]})}(),function(){angular.module("app").controller("supplierDetailCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.supplierId=$stateParams.id,$scope.getSupplierDetail=function(){apiFactory.getSupplierById(vm.supplierId).then(function(resp){vm.supplierData=resp.data})},$scope.getSupplierDetail()})}(),function(){angular.module("app").controller("todoCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload){$scope.todo_list=[{img:"/assets/images/To-Do-Icon.png",subtitle:"1.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 1 Hour",classname:"red-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"2.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 1 Day",classname:"yellow-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"3.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 1 Week",classname:"green-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"4.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 2 Weeks",classname:"gray-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"5.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 3 Weeks",classname:"gray-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"6.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 4 Weeks",classname:"gray-color"}];var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.logout=function(){logout()},this.userData=userStore.get()})}(),function(){angular.module("app").controller("todoViewCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload){$scope.todo_list=[{img:"/assets/images/To-Do-Icon.png",subtitle:"1.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 1 Hour",classname:"red-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"2.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 1 Day",classname:"yellow-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"3.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 1 Week",classname:"green-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"4.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 2 Weeks",classname:"gray-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"5.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 3 Weeks",classname:"gray-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"6.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 4 Weeks",classname:"gray-color"}];var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.logout=function(){logout()},this.userData=userStore.get()})}(),function(){angular.module("app").controller("visualPlannerCtrl",function($scope,$timeout,$state,$location,globals,authFactory,apiFactory,Notification,commonVPFactory,toolsVPFactory,shapesVPFactory,localStorageService,eventsVPFactory,layersVPFactory){var logout=globals.logout;globals.userStore;if(!authFactory.checkUser())return void logout();if($(".drag_element").mousedown(function(){!function(elmnt,e){var pos1=0,pos2=0,pos3=0,pos4=0;function dragMouseDown(e){(e=e||window.event).preventDefault(),pos3=e.clientX,pos4=e.clientY,document.onmouseup=closeDragElement,document.onmousemove=elementDrag}function elementDrag(e){(e=e||window.event).preventDefault(),pos1=pos3-e.clientX,pos2=pos4-e.clientY,pos3=e.clientX,pos4=e.clientY,elmnt.style.top=elmnt.offsetTop-pos2+"px",elmnt.style.left=elmnt.offsetLeft-pos1+"px"}function closeDragElement(){document.onmouseup=null,document.onmousemove=null}document.getElementById(elmnt.id+"header")?document.getElementById(elmnt.id+"header").onmousedown=dragMouseDown:elmnt.onmousedown=dragMouseDown}(document.getElementById($(this).closest("div").attr("id")))}),!authFactory.checkUser())return;var vm=this;function loadPlanner(roofPlan){var loadFromJson=!!roofPlan.plannerData&&!!roofPlan.plannerData.initialized,selectedShape=commonVPFactory.selectedShape(),colorPicker=toolsVPFactory.colorPicker();shapesVPFactory.getShapeTools(colorPicker),vm.shapeProps={colorType:"strokeColor",strokeColor:"rgba(0 ,0 , 0 , 1)",fillColor:"rgba(255, 255, 255, 0.57)",strokeWidth:1},vm.cpOptions={swatch:!0,inputClass:"h-30",format:"rgb",case:"lower",alpha:!0},vm.cpEvents={onChange:function(api,color,$event){var obj={};obj.stroke=vm.shapeProps.strokeColor,obj.fill=vm.shapeProps.fillColor,colorPicker.set(obj)}},vm.changeStrokeWidth=function(){colorPicker.set({strokeWidth:vm.shapeProps.strokeWidth})};var stage=commonVPFactory.createStage("stage",{height:window.innerHeight,width:window.innerWidth},roofPlan.plannerData),stageEvents=eventsVPFactory.stageEvents(stage);stageEvents.register("mousemove",function(){vm.pointerPosition={x:stage.getPointerPosition().x,y:stage.getPointerPosition().y},$scope.$apply()});var drawState=commonVPFactory.drawState();$scope.$on("drawStateChange",function(e,drawStates){vm.currentDrawState=drawStates});var baseLayer=loadFromJson?stage.getChildren()[0]:layersVPFactory.createLayer(stage),processStore=layersVPFactory.initiateProcess(stage,baseLayer),selectionStore=commonVPFactory.selectionStore(),transformerStore=commonVPFactory.transformers(baseLayer),calibrator=shapesVPFactory.calibrator(stage,baseLayer),calibrationState=commonVPFactory.calibrationState(),metrics=toolsVPFactory.metrics();if(vm.showPanel=!1,vm.zoomLevel=100,vm.shapeInfo,loadFromJson){if(roofPlan.plannerData&&roofPlan.plannerData.calibration){calibrationState.set(roofPlan.plannerData.calibration);var loadedProcesses=stage.getChildren()[0].getChildren().filter(function(x){return!!/process*/.test(x.name())});loadedProcesses.length>0?processStore.loadProcesses(loadedProcesses):processStore.createProcess()}roofPlan.plannerData&&roofPlan.plannerData.countData&&shapesVPFactory.loadShapeId(roofPlan.plannerData.countData)}else processStore.createProcess();vm.calibrationData=calibrationState.get(),vm.formatCalibration=function(val){return val.toFixed(3)},vm.processes=processStore.getProcesses(),vm.associations=commonVPFactory.associations();var imageObj=new Image;imageObj.crossOrigin="Anonymous",roofPlan.plannerData&&roofPlan.plannerData.jsonString?(imageObj.src=roofPlan.assetObj.url,imageObj.onload=function(){var imageContainer=baseLayer.get("#bgImage")[0];imageContainer.image(imageObj),vm.imageProps={x:Math.round(imageContainer.width()),y:Math.round(imageContainer.height())},stage.draw()}):(imageObj.src=roofPlan.assetObj.url,imageObj.onload=function(){var imageHeight=Math.round(stage.height()-75),aspectRatio=imageObj.height/imageHeight,imageWidth=Math.round(imageObj.width/aspectRatio);vm.imageProps={x:imageWidth,y:imageHeight};var bgImage=new Konva.Image({image:imageObj,name:"bgImage",id:"bgImage",height:imageHeight,shadowOffsetX:1,shadowOffsetY:1,shadowOpacity:.5,x:stage.width()/2-imageWidth/2,y:20,width:imageWidth});bgImage.on("click",function(e){transformerStore.removeAll()}),baseLayer.add(bgImage),baseLayer.draw(),baseLayer.moveToBottom()});var actionStates=commonVPFactory.actionStates(),windowEvent=eventsVPFactory.windowEvents(window);windowEvent.register(stage),vm.historyPos={x:void 0,y:void 0},window.addEventListener("wheel",function(e){"visualPlanner"===$state.$current.name&&!/modal-open/.test(document.getElementsByTagName("body")[0].className)&&e.preventDefault();Math.round(stage.height()/2),Math.round(stage.width()/2);if(e.ctrlKey){var oldScale=baseLayer.scaleX(),mousePointTo={x:stage.getPointerPosition().x/oldScale-baseLayer.x()/oldScale,y:stage.getPointerPosition().y/oldScale-baseLayer.y()/oldScale},newScale=e.deltaY<0?1.15*oldScale:oldScale/1.15;baseLayer.scale({x:newScale,y:newScale});var newPos={x:-(mousePointTo.x-stage.getPointerPosition().x/newScale)*newScale,y:-(mousePointTo.y-stage.getPointerPosition().y/newScale)*newScale},imageProps={y:Math.round(baseLayer.find("#bgImage")[0].height()*newScale),x:Math.round(baseLayer.find("#bgImage")[0].width()*newScale)};vm.imageProps=imageProps,vm.zoomLevel=Math.round(100*baseLayer.scale().x),toolsVPFactory.scaleTransformerBasedOnZoom(baseLayer),$scope.$apply(),baseLayer.position(newPos),stage.batchDraw()}}),window.addEventListener("contextmenu",function(e){"CANVAS"===e.target.tagName&&(e.preventDefault(),shapesVPFactory.cancelDrawing(),baseLayer.draw(),drawState.reset())}),vm.zoomButton=function(type){var centerY=Math.round(stage.height()/2),centerX=Math.round(stage.width()/2),oldScale=baseLayer.scaleX(),mousePointTo={x:centerX/oldScale-baseLayer.x()/oldScale,y:centerY/oldScale-baseLayer.y()/oldScale},newScale=type>0?1.15*oldScale:oldScale/1.15;baseLayer.scale({x:newScale,y:newScale});var newPos={x:-(mousePointTo.x-centerX/newScale)*newScale,y:-(mousePointTo.y-centerY/newScale)*newScale},imageProps={y:Math.round(baseLayer.find("#bgImage")[0].height()*newScale),x:Math.round(baseLayer.find("#bgImage")[0].width()*newScale)};vm.imageProps=imageProps,toolsVPFactory.scaleTransformerBasedOnZoom(baseLayer),vm.zoomLevel=Math.round(100*baseLayer.scale().x),baseLayer.position(newPos),stage.batchDraw()},vm.zoomSlider=function(percentage){var centerY=Math.round(stage.height()/2),centerX=Math.round(stage.width()/2),oldScale=baseLayer.scaleX(),mousePointTo={x:centerX/oldScale-baseLayer.x()/oldScale,y:centerY/oldScale-baseLayer.y()/oldScale},newScale=percentage/100;baseLayer.scale({x:newScale,y:newScale});var newPos={x:-(mousePointTo.x-centerX/newScale)*newScale,y:-(mousePointTo.y-centerY/newScale)*newScale},imageProps={y:Math.round(baseLayer.find("#bgImage")[0].height()*newScale),x:Math.round(baseLayer.find("#bgImage")[0].width()*newScale)};vm.imageProps=imageProps,toolsVPFactory.scaleTransformerBasedOnZoom(baseLayer),vm.zoomLevel=Math.round(100*baseLayer.scale().x),baseLayer.position(newPos),stage.batchDraw()},vm.resetZoom=function(){vm.zoomLevel=100,baseLayer.position({x:0,y:0}),baseLayer.scale({x:1,y:1}),stage.batchDraw()};var baseLayerEvent=eventsVPFactory.layerEvents(baseLayer);function rectangleEventWrapper(shapeObject,shapeType,process){var rectangleEvent=eventsVPFactory.shapeEvents(shapeObject.shape);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.shape),currentProcess.moveToTop()}var customTransformer=toolsVPFactory.customTransformer(stage,baseLayer,shapeObject.shape,!0);customTransformer.set(shapeObject.shape.points()),transformerStore.add(customTransformer.getGroup()),rectangleEvent.register("dragmove."+shapeType,function(e){customTransformer.update({x:shapeObject.shape.x(),y:shapeObject.shape.y()})}),rectangleEvent.register("transformPolygon",function(){var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.shape.points(),scale),unit:calibrationState.get().unit}),$scope.$apply(),vm.shapeInfo=metrics.getShapeInfo(),shapeObject.shape.points(customTransformer.getPoints())}),rectangleEvent.register("click."+shapeType,function(){shapeObject.shape.moveToTop(),selectedShape.set(shapeObject.shape),baseLayer.draw(),customTransformer.update({x:shapeObject.shape.x(),y:shapeObject.shape.y()}),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.shape.points(),scale),unit:calibrationState.get().unit}),$timeout(function(){$scope.$apply()}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.add(customTransformer.getGroup()),baseLayer.draw()});var movement=commonVPFactory.movement();rectangleEvent.register("dragstart."+shapeType,function(e){movement.add(e.target.getPosition())}),rectangleEvent.register("dragend."+shapeType,function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))})}function ellipseEventWrapper(shapeObject,shapeType,process){var ellipseEvent=eventsVPFactory.shapeEvents(shapeObject.shape);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.shape),currentProcess.moveToTop()}var ellipseTransfomer=toolsVPFactory.ellipseTransfomer(stage,baseLayer,shapeObject.shape);ellipseTransfomer.set(shapeObject.shape.radius()),transformerStore.add(ellipseTransfomer.getGroup()),ellipseEvent.register("dragmove.ellipse",function(e){ellipseTransfomer.destroy(),(ellipseTransfomer=toolsVPFactory.ellipseTransfomer(stage,baseLayer,shapeObject.shape)).set(shapeObject.shape.radius()),transformerStore.add(ellipseTransfomer.getGroup())}),ellipseEvent.register("click.ellipse",function(e){shapeObject.shape.moveToTop(),baseLayer.draw(),transformerStore.removeAll(),selectedShape.set(shapeObject.shape),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.ellipseArea(shapeObject.shape.radius(),scale),unit:calibrationState.get().unit}),ellipseTransfomer.destroy(),(ellipseTransfomer=toolsVPFactory.ellipseTransfomer(stage,baseLayer,shapeObject.shape)).set(shapeObject.shape.radius()),transformerStore.add(ellipseTransfomer.getGroup()),baseLayer.draw(),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,$timeout(function(){$scope.$apply()})}),ellipseEvent.register("transformEllipse",function(e){var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.ellipseArea(shapeObject.shape.radius(),scale),unit:calibrationState.get().unit}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0});var movement=commonVPFactory.movement();ellipseEvent.register("dragstart.ellipse",function(e){movement.add(e.target.getPosition())}),ellipseEvent.register("dragend.ellipse",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))})}function polygonEventWrapper(shapeObject,process){var polygonEvent=eventsVPFactory.shapeEvents(shapeObject.polygon);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.polygon),currentProcess.moveToTop()}var customTransformer=toolsVPFactory.customTransformer(stage,baseLayer,shapeObject.polygon,!1);customTransformer.set(shapeObject.polygon.points()),transformerStore.add(customTransformer.getGroup()),polygonEvent.register("dragmove.polygon",function(e){customTransformer.update({x:shapeObject.polygon.x(),y:shapeObject.polygon.y()})}),polygonEvent.register("click.polygon",function(e){customTransformer.update({x:shapeObject.polygon.x(),y:shapeObject.polygon.y()})});var movement=commonVPFactory.movement();polygonEvent.register("dragstart.polygon",function(e){movement.add(e.target.getPosition())}),polygonEvent.register("dragend.polygon",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),polygonEvent.register("transformPolygon",function(){var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.polygon.points(),scale),unit:calibrationState.get().unit}),$timeout(function(){$scope.$apply()}),vm.shapeInfo=metrics.getShapeInfo(),shapeObject.polygon.points(customTransformer.getPoints())}),polygonEvent.register("click",function(){shapeObject.polygon.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.polygon),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.polygon.points(),scale),unit:calibrationState.get().unit}),$scope.$apply(),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.add(customTransformer.getGroup()),baseLayer.draw()})}function freeHandEventWrapper(shapeObject,process){var freeHandEvent=eventsVPFactory.shapeEvents(shapeObject.polygon);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.polygon),currentProcess.moveToTop()}var movement=commonVPFactory.movement();freeHandEvent.register("dragstart.polygon",function(e){movement.add(e.target.getPosition())}),freeHandEvent.register("dragend.polygon",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),freeHandEvent.register("click",function(){shapeObject.polygon.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.polygon),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.polygon.points(),scale),unit:calibrationState.get().unit}),$timeout(function(){$scope.$apply()}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.draw()})}function lineEventWrapper(shapeObject,process){var lineEvent=eventsVPFactory.shapeEvents(shapeObject.line);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.line),currentProcess.moveToTop()}var movement=commonVPFactory.movement();lineEvent.register("dragstart.line",function(e){movement.add(e.target.getPosition())}),lineEvent.register("dragend.line",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),lineEvent.register("click",function(){shapeObject.line.moveToTop(),selectedShape.set(shapeObject.line),vm.openInfoWidget(),transformerStore.removeAll(),baseLayer.draw()})}function freeHandMarkerWrapper(shapeObject,process){var freeHandEvent=eventsVPFactory.shapeEvents(shapeObject.polygon);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.polygon),currentProcess.moveToTop()}var movement=commonVPFactory.movement();freeHandEvent.register("dragstart.freeHandMarker",function(e){movement.add(e.target.getPosition())}),freeHandEvent.register("dragend.freeHandMarker",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),freeHandEvent.register("click.freeHandMarker",function(){shapeObject.polygon.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.polygon),vm.openInfoWidget(),transformerStore.removeAll(),baseLayer.draw()})}function textEventWrapper(group,process){var textEvent=eventsVPFactory.shapeEvents(group);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(group),currentProcess.moveToTop()}var customTransformer=toolsVPFactory.customTransformer(stage,baseLayer,group,!0),wrapper=group.getChildren()[0],text=group.getChildren()[1];customTransformer.set(wrapper.points()),transformerStore.add(customTransformer.getGroup()),textEvent.register("dragmove.textGroup",function(e){customTransformer.update({x:group.x(),y:group.y()})}),textEvent.register("transformPolygon",function(){wrapper.points(customTransformer.getPoints());var updatedPoints=wrapper.points();text.width(Math.abs(updatedPoints[0]-updatedPoints[2])-10),text.position({x:updatedPoints[0]+5,y:updatedPoints[1]+5}),baseLayer.draw()}),textEvent.register("click.textGroup",function(){group.moveToTop(),selectedShape.set(text),baseLayer.draw(),customTransformer.update({x:group.x(),y:group.y()}),$timeout(function(){$scope.$apply()}),transformerStore.removeAll(),baseLayer.add(customTransformer.getGroup()),wrapper.stroke("grey"),baseLayer.draw(),vm.openTextInfoWidget()});var movement=commonVPFactory.movement();textEvent.register("dragstart.textGroup",function(e){movement.add(e.target.getPosition())}),textEvent.register("dragend.textGroup",function(e){actionStates.push(commonVPFactory.actionHandler(stage,group,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))})}baseLayerEvent.register("click",function(e){"Image"===e.target.className&&(transformerStore.removeAll(),vm.closeInfoWidget(),vm.closeTextInfoWidget(),selectedShape.reset())}),loadFromJson&&(angular.forEach(baseLayer.getChildren(),function(x){/process*/.test(x.name())&&angular.forEach(x.getChildren(),function(child){if("Ellipse"===child.className)ellipseEventWrapper({shape:child},"ellipse",!0);else if("Line"===child.className||"Arrow"===child.className){var shapeName=child.name();/Rect*/.test(shapeName)?rectangleEventWrapper({shape:child},"rectangle",!0):/polygon*/.test(shapeName)?polygonEventWrapper({polygon:child},!0):/line*/.test(shapeName)?lineEventWrapper({line:child},!0):/freeHand*/.test(shapeName)?freeHandEventWrapper({polygon:child},!0):/markerFreeHand*/.test(shapeName)&&freeHandMarkerWrapper({polygon:child},!0)}else/textGroup*/.test(child.name())&&textEventWrapper(child,!0)})}),transformerStore.removeAll()),vm.rectangle=function(square){var shapeType=square?"square":"rectangle";drawState.set("shapes."+shapeType),document.body.style.cursor="crosshair",console.log(vm.currentDrawState.shapes.square),baseLayerEvent.register("click."+shapeType,function(){if(drawState.check("shapes."+shapeType)){var shapeObject=shapesVPFactory.createShape(0,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject.start?(baseLayer.add(shapeObject.shape),actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"create")),baseLayer.draw()):(rectangleEventWrapper(shapeObject,shapeType),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())}}),baseLayerEvent.register("mousemove."+shapeType,function(){drawState.check("shapes."+shapeType)&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),square),baseLayer.draw())})},vm.ellipse=function(circle){var shapeType=circle?"circle":"ellipse";drawState.set("shapes."+shapeType),document.body.style.cursor="crosshair",baseLayerEvent.register("click."+shapeType,function(){if(drawState.check("shapes."+shapeType)){var shapeObject=shapesVPFactory.createShape(1,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject.start?(baseLayer.add(shapeObject.shape),actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"create")),baseLayer.draw()):(document.body.style.cursor="default",ellipseEventWrapper(shapeObject,shapeType),drawState.reset(),shapesVPFactory.destroyShape())}}),baseLayerEvent.register("mousemove."+shapeType,function(){drawState.check("shapes."+shapeType)&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),circle),baseLayer.draw())})},vm.polygon=function(){drawState.set("shapes.polygon"),document.body.style.cursor="crosshair",baseLayerEvent.register("click.polygon",function(){if(drawState.check("shapes.polygon")){var shapeObject=shapesVPFactory.createPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.polygon)):(polygonEventWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.polygon",function(){drawState.check("shapes.polygon")&&(shapesVPFactory.drawPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale())),baseLayer.draw())})},vm.freeHand=function(){drawState.set("measurement.freeHand"),document.body.style.cursor="crosshair",baseLayerEvent.register("mousedown.freehand",function(){if(drawState.check("measurement.freeHand")){var shapeObject=shapesVPFactory.createPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0);shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.polygon)):(freeHandEventWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.freehand",function(){drawState.check("measurement.freeHand")&&(shapesVPFactory.drawPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0),baseLayer.draw())})},vm.simpleLine=function(type){drawState.set("markings."+type),document.body.style.cursor="crosshair",baseLayerEvent.register("click."+type,function(){if(drawState.check("markings."+type)){var shapeObject=shapesVPFactory.createLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),type);shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.line),baseLayer.draw()):(lineEventWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove."+type,function(){drawState.check("markings."+type)&&(shapesVPFactory.drawLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale())),baseLayer.draw())})},vm.bezierLine=function(){drawState.set("markings.bezier"),document.body.style.cursor="crosshair",baseLayerEvent.register("click.bezier",function(){if(drawState.check("markings.bezier")){var shapeObject=shapesVPFactory.createBezierLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.line),baseLayer.draw()):(!function(shapeObject,process){var bezierEvent=eventsVPFactory.shapeEvents(shapeObject.line);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.line),currentProcess.moveToTop()}var bezierTransformer=toolsVPFactory.bezierTransformer(stage,baseLayer,shapeObject.line);bezierTransformer.set(shapeObject.line.points()),transformerStore.add(bezierTransformer.getGroup()),bezierEvent.register("dragmove.polygon",function(e){bezierTransformer.update({x:shapeObject.line.x(),y:shapeObject.line.y()})}),bezierEvent.register("click.polygon",function(e){bezierTransformer.update({x:shapeObject.line.x(),y:shapeObject.line.y()})});var movement=commonVPFactory.movement();bezierEvent.register("dragstart.polygon",function(e){movement.add(e.target.getPosition())}),bezierEvent.register("dragend.polygon",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),bezierEvent.register("transformBezier",function(){shapeObject.line.points(bezierTransformer.getPoints())}),bezierEvent.register("click",function(){shapeObject.line.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.line),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.line.points(),scale),unit:calibrationState.get().unit}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.add(bezierTransformer.getGroup()),baseLayer.draw()})}(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.bezier",function(){drawState.check("markings.bezier")&&(shapesVPFactory.drawBezierLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale())),baseLayer.draw())})},vm.freehandMarker=function(){drawState.set("shapes.freeHand"),document.body.style.cursor="crosshair",baseLayerEvent.register("mousedown.freehand",function(){if(drawState.check("shapes.freeHand")){var shapeObject=shapesVPFactory.createPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0,!0);shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.polygon)):(freeHandMarkerWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.freehand",function(){drawState.check("shapes.freeHand")&&(shapesVPFactory.drawPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0),baseLayer.draw())})},vm.textWidget=function(){drawState.set("shapes.text"),document.body.style.cursor="crosshair",baseLayerEvent.register("click.textWrapper",function(){if(drawState.check("shapes.text")){var shapeObject=shapesVPFactory.createShape(0,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));if(shapeObject.start)baseLayer.add(shapeObject.shape),actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"create"));else{var textGroup=shapesVPFactory.createTextGroup();textGroup.add(shapeObject.shape);var points=shapeObject.shape.points(),textProps={position:{x:points[0]+10,y:points[1]+10},width:Math.abs(points[0]-points[2])-10},textObj=shapesVPFactory.createText(textProps);textGroup.add(textObj),textEventWrapper(textGroup),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape(),baseLayer.draw()}}}),baseLayerEvent.register("mousemove.textWrapper",function(){drawState.check("shapes.text")&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!1,"wrapper"),baseLayer.draw())})},vm.manualSelection=function(shapeObj){transformerStore.removeAll(),selectedShape.reset();selectedShape.set(shapeObj);shapeObj.fire("click")},vm.dragSelection=function(){drawState.set("markings.selection"),document.body.style.cursor="crosshair",baseLayerEvent.register("mousedown.selection",function(){if(drawState.check("markings.selection")){vm.selectAllShapes(!1);var shapeObject=shapesVPFactory.createShape(0,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));baseLayer.add(shapeObject.shape),baseLayer.draw()}}),baseLayerEvent.register("mouseup.selection",function(){if(drawState.check("markings.selection")){document.body.style.cursor="default",drawState.reset();var selectionPoints=shapesVPFactory.cancelDrawing(),selectedShapes=shapesVPFactory.selectShapes(baseLayer,selectionPoints),selectedShapeNames=selectedShapes.map(function(x){return x.name()});selectionStore.store(selectedShapes),angular.forEach(vm.processes,function(process){angular.forEach(process.getChildren(),function(child){selectedShapeNames.indexOf(child.name())>-1&&(child.selected=!0)})}),baseLayer.draw()}}),baseLayerEvent.register("mousemove.selection",function(){drawState.check("markings.selection")&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!1,"grabber"),baseLayer.draw())})},vm.selectAllShapes=function(toggleValue){var allShapes=shapesVPFactory.extractAllShapes(baseLayer);toggleValue?selectionStore.store(allShapes):selectionStore.clear(),angular.forEach(allShapes,function(x){x.selected=!!toggleValue})},vm.toggleShapeVisibility=function(shape){transformerStore.removeAll(),shape.visible(!shape.visible()),baseLayer.draw()},vm.calibrator=function(){drawState.set("measurement.calibrator"),calibrator=shapesVPFactory.calibrator(stage,baseLayer),baseLayerEvent.register("click.calibrator",function(){drawState.check("measurement.calibrator")&&calibrator(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0)}),baseLayerEvent.register("mousemove.calibrator",function(){drawState.check("measurement.calibrator")&&calibrator(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!1)})},$scope.$on("calibrated",function(e,calibratedLine){$("#calibrateModal").modal("show");var points=calibratedLine.points(),distance=Math.sqrt(Math.pow(points[0]-points[2],2)+Math.pow(points[1]-points[3],2));vm.calibrationDistance=distance,vm.saveCalibration=function(){var scale,value=vm.calibrationScale.value;scale=parseInt(value)/distance,calibrationState.set({value:scale,unit:vm.calibrationScale.unit}),vm.calibrationData=calibrationState.get(),vm.showPanel=!0,vm.shapeInfo=metrics.getShapeInfo(),calibratedLine.destroy(),baseLayer.draw(),$("#calibrateModal").modal("hide")},$("#calibrateModal").on("hide.bs.modal",function(e){calibratedLine.destroy(),baseLayer.draw()})}),vm.deleteShape=function(shapeObj){var shape=shapeObj||selectedShape.get();shape&&(transformerStore.removeAll(),actionStates.push(commonVPFactory.actionHandler(stage,shape,shape.getParent(),"delete")),shape.remove(),baseLayer.draw(),vm.closeInfoWidget(),vm.closeTextInfoWidget(),selectedShape.reset())},vm.openInfoWidget=function(){var shape=selectedShape.get();vm.infoWidgetProps={name:shape.name(),colorType:"stroke",stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()},vm.shapeInfoWidget=!0},vm.colorTypes=[{type:"Stroke",value:"stroke"},{type:"Fill",value:"fill"}],vm.textColorTypes=[{type:"Background",value:"stroke"},{type:"Font",value:"fill"}],vm.fontStyles=[{type:"Normal",value:"normal"},{type:"Bold",value:"bold"},{type:"Italic",value:"italic"}],vm.webSafeFonts=["Arial","Calibri","Helvetica","Times New Roman","Times","Courier New","Courier","Verdana","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Arial Black","Impact"],vm.openTextInfoWidget=function(){var shape=selectedShape.get();vm.textInfoWidgetProps={colorType:"stroke",text:shape.text(),fontSize:shape.fontSize(),fontStyle:shape.fontStyle(),fontFamily:shape.fontFamily(),stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()},vm.textInfoWidget=!0,$scope.$apply()},vm.changeTextInfo=function(prop,value){var shape=selectedShape.get();shape[prop](value),baseLayer.draw()},vm.infoWidgetStroke=function(val){var shape=selectedShape.get();shape.strokeWidth(val),baseLayer.draw()};var shapePropHistory=commonVPFactory.shapePropertyHistory();vm.infoWidgetEvents={onChange:function(api,color,$event){var shape=selectedShape.get();"fill"===vm.infoWidgetProps.colorType?shape.fill(color):"stroke"===vm.infoWidgetProps.colorType&&shape.stroke(color),baseLayer.draw()},onOpen:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};shapePropHistory.add(props)},onClose:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};actionStates.push(commonVPFactory.actionHandler(stage,shape,processStore.getCurrent(),"shapeProps",shapePropHistory.add(props))),shapePropHistory=commonVPFactory.shapePropertyHistory()}},vm.textInfoWidgetEvents={onChange:function(api,color,$event){var shape=selectedShape.get();if("fill"===vm.textInfoWidgetProps.colorType)shape.fill(color);else if("stroke"===vm.textInfoWidgetProps.colorType){var wrapper=shape.getParent().find("Line");wrapper.fill(color)}baseLayer.draw()},onOpen:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};shapePropHistory.add(props)},onClose:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};actionStates.push(commonVPFactory.actionHandler(stage,shape,processStore.getCurrent(),"shapeProps",shapePropHistory.add(props))),shapePropHistory=commonVPFactory.shapePropertyHistory()}},vm.closeInfoWidget=function(){vm.shapeInfoWidget=!1},vm.closeTextInfoWidget=function(){var text=selectedShape.get();if(text&&"text"===text.name()){var group=text.getParent(),wrapper=group.find("Line")[0];wrapper.stroke(null),baseLayer.draw(),transformerStore.removeAll()}vm.textInfoWidget=!1},vm.currentPanState=!0,vm.panImage=function(){vm.currentPanState=baseLayer.draggable(),vm.currentPanState?document.body.style.cursor="default":document.body.style.cursor="move",baseLayer.draggable(!vm.currentPanState),baseLayer.draw()},vm.undoOrRedo=function(type){transformerStore.removeAll(),1===type?actionStates.redo():actionStates.undo()},vm.downloadImage=function(){var dataURL=stage.toDataURL(),link=document.createElement("a");link.download="roofplan_image_"+Date.now(),link.href=dataURL,document.body.appendChild(link),link.click(),document.body.removeChild(link)},vm.downloadFile=function(){var json=stage.toJSON(),file=new Blob([json],{type:"application/json"}),link=document.createElement("a");link.href=URL.createObjectURL(file),link.download="roofplan_json_"+Date.now(),document.body.appendChild(link),link.click(),document.body.removeChild(link)},vm.saveRoofPlan=function(){transformerStore.removeAll();var json=stage.toJSON();apiFactory.saveRoofPlan(roofPlan._id,{jsonString:json,calibration:calibrationState.get(),countData:shapesVPFactory.getShapeId(),associations:vm.associations.getAssociationsForSave()}).then(function(resp){Notification.success(resp.data.message),apiFactory.getProjectRoofPlans(localStorageService.get("roofPlanProject")).then(function(resp){localStorageService.set("roofPlans",resp.data.data)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},vm.hideProcess=function(index){transformerStore.removeAll(),processStore.hideProcess(index)},vm.showProcess=function(index){processStore.showProcess(index)},vm.addProcess=function(){processStore.createProcess(),vm.processes=processStore.getProcesses()},vm.selectLayer=function(i){vm.selectedIndex=i,processStore.setCurrent(i)},vm.selectLayer(0),vm.selectOrUnselect=function(shape){shape.selected?selectionStore.push(shape):selectionStore.pull(shape.name())},vm.layerIconName=function(shapeName){return/Rect*/.test(shapeName)?"square":/Ellipse*/.test(shapeName)?"circle":/polygon*/.test(shapeName)?"polygon":/line*/.test(shapeName)?"line":/textGroup*/.test(shapeName)?"text":/freeHand*/.test(shapeName)?"pencil":void 0},vm.hideSelection=function(){var selectedShapes=selectionStore.get();console.log(selectedShapes),transformerStore.removeAll(),angular.forEach(selectedShapes,function(shape){shape.visible(!1)}),baseLayer.draw()},vm.deleteSelection=function(){var selectedShapes=selectionStore.get();transformerStore.removeAll(),angular.forEach(selectedShapes,function(shape){actionStates.push(commonVPFactory.actionHandler(stage,shape,shape.getParent(),"delete")),shape.remove()}),baseLayer.draw()},vm.loadMaterial=function(shapeProp){$("#loadMaterial").modal("show")},vm.createAssociation=function(shapeId,entityId,type){vm.associations.createAssociation(shapeId,entityId,type),$("#loadMaterial").modal("hide")},$scope.$on("selectedMaterial",function(e,data){console.log("selectedMaterial----",data)})}vm.hideInitModal=!1,vm.roofPlans=localStorageService.get("roofPlans"),vm.selectPlan=function(plan){vm.selectedPlan=plan._id,loadPlanner(plan),vm.hideInitModal=!0},vm.selectPlan(localStorageService.get("selectedPlan")),vm.closeVisualPlanner=function(){document.body.style.cursor="default",$("#chooseRoofModal").modal("hide"),$state.go("dashboard")}})}(),function(){angular.module("app").directive("canvasPdf",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"A",scope:{current:"="},link:function($scope,elem,attrs){globals.renderPage($scope.current,elem[0]),$timeout(function(){$scope.$apply()})}}})}(),function(){angular.module("app").directive("filePicker",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"E",templateUrl:"/partials/filePicker.html",scope:{folders:"=",options:"=",source:"=",sourcefile:"=",sourcedir:"="},link:function($scope,elem,attrs){var folderPaths=[],projectStore=globals.projectStore;$scope.files=[],$scope.folderName="Root Folder",$scope.currentFolder="",$scope.selectedFolder=null,$scope.backBtnView=!1,$scope.viewFolder=function(folder){var name=folder.name;folderPaths.push(folder),$scope.selectedFolder,apiFactory.viewHierarchy(folder._id).then(function(resp){$scope.selectedFolder=folder,$scope.currentFolder=folder.name,$scope.folders=resp.data.folders,$scope.files=resp.data.files,$scope.breadCrumbs=resp.data.breadcrumbs,$scope.folderName=name,"Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1}).catch(function(e){console.log(e)})},$scope.selectFile=function(file,breadCrumbs){file.breadCrumbs=breadCrumbs,$rootScope.$broadcast("loader",!0),$rootScope.$broadcast("selectedRoofPlanDoc",file)},$scope.back=function(){folderPaths.pop();var previous=folderPaths[folderPaths.length-1],apiName=previous?"viewHierarchy":"getHierarchy",param=previous?previous._id:projectStore.get()._id;apiFactory[apiName](param).then(function(resp){$scope.selectedFolder=previous||null,$scope.currentFolder=previous?previous.name:null,$scope.folders=previous?resp.data.folders:resp.data.data.hierarchies,$scope.files=previous?resp.data.files:[],$scope.folderName=previous?previous.name:"Root Folder","Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1}).catch(function(e){console.log(e)})},$scope.moveTo=function(folder,source){if(folder){var payload={assetId:$scope.sourcefile._id,sourceId:source.$modelValue._id,destId:folder._id};apiFactory.moveAssets(payload).then(function(resp){$scope.sourcedir&&($scope.sourcedir=$scope.sourcedir.filter(function(x){return x._id!==$scope.sourcefile._id})),Notification.success("File Moved Successfully"),$("#moveTo").modal("hide")}).catch(function(e){console.log(e)})}}}}})}(),angular.module("app").directive("autoComplete",function($timeout){return function(scope,iElement,iAttrs){iElement.autocomplete({source:scope[iAttrs.uiItems],select:function(){$timeout(function(){iElement.trigger("input")},0)}})}}),angular.module("app").directive("errSrc",function(){return{link:function(scope,element,attrs){element.bind("error",function(){attrs.src!=attrs.errSrc&&attrs.$set("src",attrs.errSrc)})}}}),function(){angular.module("app").directive("materialPicker",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"E",templateUrl:"/partials/materialPicker.html",scope:{materialType:"=",selectedMaterial:"=",currentShape:"=",associations:"="},link:function($scope,elem,attrs){$scope.materialList=[],$scope.entityType=1,apiFactory.listAllMaterials().then(function(resp){$scope.materialList=resp.data.list,$scope.selectedMaterial=angular.copy($scope.materialList[0])}).catch(function(e){}),$scope.dcpList=[],apiFactory.listAllComboMaterials().then(function(resp){$scope.dcpList=resp.data.list}).catch(function(e){}),$scope.equipmentList=[],apiFactory.listAllEquipments().then(function(resp){$scope.equipmentList=resp.data.list}).catch(function(e){}),$scope.selectedMaterialInfo=function(material){$rootScope.$broadcast("selectedMaterial",material),console.log(material),$scope.materialImages=material},$scope.materialSelection=function(item){$scope.selectedMaterial=item},$scope.resetSelectedMaterial=function(val){$scope.selectedMaterial&&(console.log($scope.currentShape),0==val?($scope.selectedMaterial=angular.copy($scope.materialList[0]),$scope.entityType=val+1):1==val?($scope.selectedMaterial=angular.copy($scope.dcpList[0]),$scope.entityType=val+1):($scope.selectedMaterial=angular.copy($scope.equipmentList[0]),$scope.entityType=val+1))},$scope.assignMaterial=function(shapeId,entityId,type){$("#loadMaterial").modal("hide"),$scope.associations.createAssociation(shapeId,entityId,type)}}}})}(),function(){angular.module("app").filter("convertCurrency",function(){return function(input,conversionRate){return input?input*conversionRate:0}}),angular.module("app").filter("roundNum",function(){return function(input,place){return input?Number(input).toFixed(place):0}}),angular.module("app").filter("fetchThumbnail",function(){return function(input){if(input)return/cloudinary/.test(input.secure_url)?input.secure_url.replace(/\.pdf/,".png"):input.thumbnail}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJyb3V0ZXMubW9kdWxlLmpzIiwiYXBpLmZhY3RvcnkuanMiLCJhdXRoLmZhY3RvcnkuanMiLCJmaWxlTWFuYWdlci5mYWN0b3J5LmpzIiwiZ2xvYmFscy5mYWN0b3J5LmpzIiwiaXNzdWVjcmVhdGlvbi5mYWN0b3J5LmpzIiwiczN3cmFwcGVyLmZhY3RvcnkuanMiLCJtZWV0aW5nUm9vbS9TQmNoYW5uZWwuZmFjdG9yeS5qcyIsIm1lZXRpbmdSb29tL1NCY29tbW9uLmZhY3RvcnkuanMiLCJ2aXN1YWxfcGxhbm5lci9jb21tb24uZmFjdG9yeS5qcyIsInZpc3VhbF9wbGFubmVyL2V2ZW50cy5mYWN0b3J5LmpzIiwidmlzdWFsX3BsYW5uZXIvbGF5ZXJzLmZhY3RvcnkuanMiLCJ2aXN1YWxfcGxhbm5lci9zaGFwZXMuZmFjdG9yeS5qcyIsInZpc3VhbF9wbGFubmVyL3Rvb2xzLmZhY3RvcnkuanMiLCIzZC1kYXNoYm9hcmQuY29udHJvbGxlci5qcyIsIjNkdmlld2VyLmNvbnRyb2xsZXIuanMiLCJiaWxsaW5nQXJjaGl2ZS5jb250cm9sbGVyLmpzIiwiY2FsY3VsYXRpb24uY29udHJvbGxlci5qcyIsImNhbGVuZGVyLmNvbnRyb2xsZXIuanMiLCJjbGllbnRzLmNvbnRyb2xsZXIuanMiLCJjb21ib01hdGVyaWFsVmlldy5jb250cm9sbGVyLmpzIiwiY3JlYXRlUHJvamVjdC5jb250cm9sbGVyLmpzIiwiZGFzaGJvYXJkLmNvbnRyb2xsZXIuanMiLCJlbXBsb3llZXMuY29udHJvbGxlci5qcyIsImVxdWlwbWVudC5jb250cm9sbGVyLmpzIiwiZXF1aXBtZW50Vmlldy5jb250cm9sbGVyLmpzIiwiZmlsZU1hbmFnZXIuY29udHJvbGxlci5qcyIsImlzc3VlRGV0YWlscy5jb250cm9sbGVyLmpzIiwiaXNzdWVzLmNvbnRyb2xsZXIuanMiLCJtYXRlcmlhbHMuY29udHJvbGxlci5qcyIsIm1hdGVyaWFsVmlldy5jb250cm9sbGVyLmpzIiwibWVldGluZ1Jvb20uY29udHJvbGxlci5qcyIsInBheXJvbGwuY29udHJvbGxlci5qcyIsInByZUxvZ2luLmNvbnRyb2xsZXIuanMiLCJwcm9qZWN0LmNvbnRyb2xsZXIuanMiLCJyZXBvcnREZXRhaWxzLmNvbnRyb2xsZXIuanMiLCJyZXBvcnRzLmNvbnRyb2xsZXIuanMiLCJyZXBvcnRzTGlzdGluZy5jb250cm9sbGVyLmpzIiwic2V0UGFzc3dvcmQuY29udHJvbGxlci5qcyIsInNldHRpbmcuY29udHJvbGxlci5qcyIsInN1YmNvbnRyYWN0b3IuY29udHJvbGxlci5qcyIsInN1YmNvbnRyYWN0b3JEZXRhaWwuY29udHJvbGxlci5qcyIsInN1cHBsaWVyLmNvbnRyb2xsZXIuanMiLCJzdXBwbGllckRldGFpbC5jb250cm9sbGVyLmpzIiwidG9kby5jb250cm9sbGVyLmpzIiwidG9kb1ZpZXcuY29udHJvbGxlci5qcyIsInZpc3VhbF9wbGFubmVyLmNvbnRyb2xsZXIuanMiLCJjYW52YXNQZGYuZGlyZWN0aXZlLmpzIiwiZmlsZVBpY2tlci5kaXJlY3RpdmUuanMiLCJpbmRleC5kaXJlY3RpdmUuanMiLCJtYXRlcmlhbFBpY2tlci5kaXJlY3RpdmUuanMiLCJpbmRleC5maWx0ZXIuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIk5vdGlmaWNhdGlvblByb3ZpZGVyIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJ0cmVlQ29uZmlnIiwiY2xvdWRpbmFyeVByb3ZpZGVyIiwiY29uZmlndXJlIiwia2V5IiwidiIsImxpYnJhcmllcyIsInNldE9wdGlvbnMiLCJkZWxheSIsInN0YXJ0VG9wIiwic3RhcnRSaWdodCIsInZlcnRpY2FsU3BhY2luZyIsImhvcml6b250YWxTcGFjaW5nIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwiZGVmYXVsdENvbGxhcHNlZCIsInNldCIsInJvdXRlQ29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImZhY3RvcnkiLCIkaHR0cCIsIiRzdGF0ZSIsIiRsb2NhdGlvbiIsImxvY2FsU3RvcmFnZVNlcnZpY2UiLCJnbG9iYWxzIiwiVXBsb2FkIiwiTm90aWZpY2F0aW9uIiwiJHEiLCJfcmVmIiwiaGVhZGVycyIsIm1ldGhvZCIsInRva2VuIiwiQ29udGVudC1UeXBlIiwidW5kZWZpbmVkIiwieC1hY2Nlc3MtdG9rZW4iLCJnZXQiLCJwbGF0Zm9ybSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzb3VyY2UiLCJwcm9ncmVzcyIsImxvZ291dCIsInVzZXJTdG9yZSIsIl9kZWZpbmVQcm9wZXJ0eSIsImxvZ2luIiwicGF5bG9hZCIsInByb21pc2UiLCJ0aGlzIiwicHJvZ3Jlc3NpZnkiLCJkYXRhIiwiZm9yZ290UGFzc3dvcmQiLCJyZWdpc3RyYXRpb24iLCJzdWJzY3JpYmUiLCJnZXRDb21wYW55QnlJZCIsImNvbXBhbnlJZCIsImxpc3RBbGxVc2VycyIsImxpc3RBbGxQcm9qZWN0cyIsInF1ZXJ5T2JqIiwicXVlcnkiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwiYWNjIiwic3RyIiwic2xpY2UiLCJsaXN0QWxsQ2xpZW50cyIsImxpc3RBbGxSb29mZXJzIiwiY3JlYXRlUHJvamVjdCIsImNyZWF0ZUlzc3VlIiwiaXNzdWVvYmoiLCJjb25zb2xlIiwibG9nIiwidXBsb2FkIiwiY3JlYXRlSXNzdWVTM1VwbG9hZCIsImdldElzc3VlQnlJZCIsImlzc3VlSUQiLCJ1cGRhdGVJc3N1ZSIsImlkIiwiZ2V0UHJvamVjdFJvb2ZQbGFucyIsInByb2plY3RJZCIsInNhdmVSb29mUGxhbiIsInJvb2ZQbGFuSWQiLCJjcmVhdGVNYXRlcmlhbHMiLCJjcmVhdGVFcXVpcG1lbnQiLCJsaXN0QWxsTWF0ZXJpYWxzIiwibGlzdEFsbENvbWJvTWF0ZXJpYWxzIiwibGlzdEFsbEVxdWlwbWVudHMiLCJ1cGRhdGVNYXRlcmlhbEJ5SWQiLCJnZXRNYXRlcmlhbEJ5SWQiLCJtYXRlcmlhbElEIiwiZ2V0Q29tYm9NYXRlcmlhbEJ5SWQiLCJjb21ib0lkIiwiZ2V0RXF1aXBtZW50QnlJZCIsImNyZWF0ZUNvbWJvTWF0ZXJpYWwiLCJ1cGRhdGVDb21ib01hdGVyaWFsTGlzdCIsInVwZGF0ZUNvbWJvTWF0ZXJpYWwiLCJzaG93Q29udmVyc2lvblJhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0YXJ0IiwidGhlbiIsInJlc3AiLCJjb21wbGV0ZSIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiaGllcmFyY2h5SWQiLCJEYXRhM0QiLCJjbGllbnQiLCJuYW1lIiwiYWRkZWQiLCJsaW1pdCIsInN1cHBsaWVyIiwic3VwcGxpZXJJRCIsInN1YmNvbnRyYWN0b3IiLCJjb21tZW50IiwiZmlsZXMiLCJkdCIsImNvbXBsZXRpb25TdGF0dXMiLCJkZWZlcnJlZCIsImRlZmVyIiwiaW5mb1Byb21pc2UiLCJkZXRhaWxzUHJvbWlzZSIsImFsbCIsImZydWl0SW5mbyIsImZydWl0RGV0YWlscyIsIm9iamVjdCIsImNoZWNrVXNlciIsImNoZWNrUHJpdmlsZWdlIiwidHlwZSIsInN1YlR5cGUiLCJfbG9jYWxTdG9yYWdlU2VydmljZSQiLCJwcml2aWxlZ2UiLCJfbG9jYWxTdG9yYWdlU2VydmljZSQyIiwicHJpdmlsZWdlcyIsImFwaUZhY3RvcnkiLCJjbGlwQm9hcmQiLCJpdGVtcyIsImNvcHkiLCJpdGVtIiwiY3V0IiwicGFzdGUiLCJkZXN0SWQiLCJsZW5ndGgiLCJ3YXJuaW5nIiwiYXBpVHlwZSIsImFzc2V0SWQiLCJtYXAiLCJ4IiwiX2lkIiwic291cmNlSWQiLCJzdWNjZXNzIiwibWVzc2FnZSIsImUiLCJuYXZpZ2F0aW9uU3RhY2siLCJzdGFjayIsImhlYWQiLCJwdXNoIiwic3BsaWNlIiwiZm9yd2FyZCIsInRvZ2dsZSIsImJhY2t3YXJkIiwiYnJlYWRDcnVtYiIsImJyZWFkQ3J1bWJzIiwidmFsIiwic3BsaXREZXN0aW5hdGlvbiIsImZpbGVzQXJyYXkiLCJzaXplIiwidGVzdCIsImNsb3VkaW5hcnkiLCJzMyIsInJlc29sdmVEZXN0VHlwZSIsImZpbGUiLCJjaGVja1VwbG9hZENvbXBsZXRpb24iLCJib29sIiwiZm9yRWFjaCIsImNvbXBsZXRlZCIsImFib3J0ZWQiLCJjaGVja0R1cGxpY2F0ZUZpbGVzIiwiY2hlY2tBc3NldER1cGxpY2F0ZSIsImFzc2V0TmFtZXMiLCJkdXBsaWNhdGVGaWxlcyIsImFjdGlvbiIsImFzc2V0TmFtZSIsImR1cGxpY2F0ZXMiLCJpbmRleE9mIiwidXBsb2FkRmlsZXMiLCJjaGVja05hbWVDaGFuZ2UiLCJmaWx0ZXIiLCJnZW5lcmF0ZVZlcnNpb24iLCJmaWxlTmFtZSIsIkRhdGUiLCJub3ciLCJnZW5lcmF0ZVRodW1ibmFpbCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJwZGZqc0xpYiIsImdldERvY3VtZW50IiwicmVzdWx0IiwiZG9jIiwiZ2V0UGFnZSIsInBhZ2UiLCJ2aWV3cG9ydCIsImdldFZpZXdwb3J0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY29udGV4dCIsImdldENvbnRleHQiLCJoZWlnaHQiLCJ3aWR0aCIsInRhc2siLCJyZW5kZXIiLCJjYW52YXNDb250ZXh0IiwiZGF0YVVSTCIsInRvRGF0YVVSTCIsImxpbmsiLCJkb3dubG9hZCIsImhyZWYiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwicmVhZEFzRGF0YVVSTCIsInNwbGl0RmlsZURlc3QiLCJuZ1Byb2dyZXNzRmFjdG9yeSIsInRocm90dGxlciIsImVuYWJsZWQiLCJmbiIsInNldFRpbWVvdXQiLCJwcm9ncmVzc2JhciIsImNyZWF0ZUluc3RhbmNlIiwicmVtb3ZlIiwiZ28iLCJlcnJvciIsInVzZXJEYXRhIiwiZGVzaWduYXRpb24iLCJyZXNldCIsImNvbXBhbnlTdG9yZSIsImNvbXBhbnlEYXRhIiwicmVmZXRjaCIsInByb2plY3RTdG9yZSIsImludmVudG9yeVN0YXRlIiwidGFiIiwic2VhcmNoVGV4dCIsIm1hdGVyaWFsIiwiY29tYm8iLCJzZXRQYWdlIiwidmFsdWUiLCJzZXRUYWIiLCJ0ZXh0IiwiX3RleHQiLCJtVW5pdHMiLCJnZXRDdXJyZW5jeSIsImdldENvdW50cnlDb2RlIiwiZ2V0SW5kdXN0cnkiLCJkZWJvdW5jZSIsInJhdGUiLCJ0aW1lciIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJhcHBseSIsImdlbmVyaWNTdG9yZSIsInN0b3JlIiwiZXh0cmFjdFBhZ2VzRnJvbVBkZiIsInBkZkxpbmsiLCJwYWdlQ291bnQiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJBcnJheSIsIl8iLCJpIiwicGFnZU9iaiIsInBhZ2VObyIsInJlcGxhY2UiLCJ0aXRsZSIsInNlbGVjdGVkIiwiZGVzY3JpcHRpb24iLCJjcmVhdGVQYWdlc0Zyb21QZGYiLCJwZGYiLCJzZWN1cmVfdXJsIiwibnVtUGFnZXMiLCJwYWdlcyIsInJlbmRlclBhZ2UiLCJ1cGxvYWRGYWN0b3J5IiwiZmlsZU1hbmFnZXJGYWN0b3J5IiwiX2dsb2JhbHMiLCJ2bSIsInMzRmlsZU9iamV0cyIsImdldEFsbEF0T25jZSIsImZpbGVzYXJyYXkiLCJhcnJheSIsImV2YXBvcmF0ZSIsInBhdXNlIiwiYmluZCIsInJlc3VtZSIsImFib3J0IiwiYWRkQ29uZmlnIiwicCIsInN0YXRzIiwiTWF0aCIsInJvdW5kIiwiY29tcGxldGVkQWxsIiwiX3hociIsImF3c0tleSIsImFkZCIsImF3c09iamVjdEtleSIsImFzc2V0RGF0YSIsImFzc2V0ZGVzY3JpcHRpb24iLCJidWNrZXQiLCJtaW1ldHlwZSIsImJ5dGVzIiwiYWxlcnQiLCJyZWFzb24iLCJjbG91ZGluYXJ5UGF5bG9hZCIsInNlbmREYXRhIiwic2lnbmVyVXJsIiwiYXdzX2tleSIsImF3c1JlZ2lvbiIsImNvbXB1dGVDb250ZW50TWQ1IiwiYWxsb3dTM0V4aXN0ZW5jZU9wdGltaXphdGlvbiIsImNyeXB0b01kNU1ldGhvZCIsIkFXUyIsInV0aWwiLCJjcnlwdG8iLCJtZDUiLCJjcnlwdG9IZXhFbmNvZGVkSGFzaDI1NiIsInNoYTI1NiIsImluaXQiLCJFdmFwb3JhdGUiLCJjcmVhdGUiLCJoYW5kbGVyIiwiZmlsZVVwbG9hZCIsImZvcmNlIiwiaXNQYXVzZWQiLCJjYW5jZWwiLCJTQmNvbW1vbiIsInNiIiwiZ2V0SW5zdGFuY2UiLCJjcmVhdGVDaGFubmVsIiwiY2hhbm5lbE5hbWUiLCJwYXJhbXMiLCJHcm91cENoYW5uZWxQYXJhbXMiLCJpc1B1YmxpYyIsImlzRXBoZW1lcmFsIiwiaXNEaXN0aW5jdCIsImFkZFVzZXJJZHMiLCJvcGVyYXRvcnMiLCJHcm91cENoYW5uZWwiLCJncm91cENoYW5uZWwiLCJjcmVhdGVQYXJhbXMiLCJsaXN0Q2hhbm5lbHMiLCJjaGFubmVsTGlzdFF1ZXJ5IiwiY3JlYXRlTXlHcm91cENoYW5uZWxMaXN0UXVlcnkiLCJpbmNsdWRlRW1wdHkiLCJoYXNOZXh0IiwibmV4dCIsImNoYW5uZWxMaXN0IiwiU2VuZEJpcmQiLCJhcHBJZCIsImNvbm5lY3QiLCJ1c2VyIiwiZGlzY29ubmVjdCIsIiRyb290U2NvcGUiLCJjcmVhdGVTdGFnZSIsImRpdklkIiwiaW5pdGlhbFNpemUiLCJwbGFubmVyRGF0YSIsInN0YWdlIiwianNvblN0cmluZyIsIktvbnZhIiwiTm9kZSIsIlN0YWdlIiwiY29udGFpbmVyIiwieSIsImdldFN0YWdlU2l6ZSIsIm9uIiwiZGltZW5zaW9ucyIsImRyYXciLCJlbCIsImdldEVsZW1lbnRCeUlkIiwiY2xpZW50SGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJzaGFwZUlkIiwiZGVmYXVsdENvdW50Iiwic2hhcGVzIiwicmVjdGFuZ2xlIiwic3F1YXJlIiwiY2lyY2xlIiwiZWxsaXBzZSIsImNhbGlicmF0b3IiLCJmcmVlSGFuZCIsInBvbHlnb24iLCJtYXJraW5ncyIsImxpbmUiLCJzaW5nbGVBcnJvdyIsImRvdWJsZUFycm93IiwiYmV6aWVyIiwiZnJlZWhhbmQiLCJzZWxlY3Rpb24iLCJtZWFzdXJlbWVudCIsImN1cnJlbnRDb3VudCIsImxvYWQiLCJjb3VudCIsImdldENvdW50Iiwic2hhcGUiLCJkcmF3U3RhdGUiLCJpbml0aWFsRHJhd1N0YXRlcyIsImRyYXdTdGF0ZXMiLCJzcGxpdCIsIiRicm9hZGNhc3QiLCJjaGVjayIsImNhbGlicmF0aW9uU3RhdGUiLCJ1bml0Iiwib2JqIiwiYWN0aW9uU3RhdGVzIiwiYWN0aW9ucyIsInNob3ciLCJwZWVrIiwidW5kbyIsImRlbGV0ZSIsInJlZG8iLCJyZXN0b3JlIiwiYWN0aW9uSGFuZGxlciIsImVudGl0eSIsInByb2Nlc3MiLCJhY3Rpb25UeXBlIiwicHJvcHMiLCJoYW5kbGVycyIsImJhdGNoRHJhdyIsIm1vdmUiLCJwb3NpdGlvbiIsImVuZCIsInNoYXBlUHJvcHMiLCJtb3ZlbWVudCIsInNoYXBlUHJvcGVydHlIaXN0b3J5IiwidHJhbnNmb3JtZXJzIiwibGF5ZXIiLCJ0cmFuc2Zvcm1lciIsInJlbW92ZUFsbCIsImRyYWdPZmZzZXQiLCJzdGFnZVBvc2l0aW9uIiwibGF5ZXJPZmZzZXQiLCJzdGFnZVNjYWxlIiwic2VsZWN0ZWRTaGFwZSIsInNlbGVjdGlvblN0b3JlIiwic2VsZWN0aW9ucyIsInB1bGwiLCJzaGFwZU5hbWUiLCJzaGFwZU5hbWVzIiwiY2xlYXIiLCJhc3NvY2lhdGlvbnMiLCJtZXRob2RzIiwiY3JlYXRlQXNzb2NpYXRpb24iLCJlbnRpdHlJZCIsImdldEFzc29jaWF0aW9ucyIsImdldEFzc29jaWF0aW9uc0ZvclNhdmUiLCJtYXRlcmlhbElkIiwiZXF1aXBtZW50SWQiLCJyZW1vdmVBc3NvY2lhdGlvbiIsImZyZWV6ZSIsIndpbmRvd0V2ZW50cyIsIndpbmRvd09iamVjdCIsImVudGl0aWVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwiZmlyZSIsInJlZ2lzdGVyIiwic3RhZ2VFdmVudHMiLCJldmVudHMiLCJldmVudCIsInNoYXBlRXZlbnRzIiwibGF5ZXJFdmVudHMiLCJjcmVhdGVMYXllciIsIkxheWVyIiwiaW5pdGlhdGVQcm9jZXNzIiwiYmFzZUxheWVyIiwicHJvY2Vzc2VzIiwiY3JlYXRlUHJvY2VzcyIsImdyb3VwIiwiR3JvdXAiLCJnZXRQcm9jZXNzZXMiLCJnZXRDdXJyZW50Iiwic2V0Q3VycmVudCIsImluZGV4Iiwic2hvd1Byb2Nlc3MiLCJoaWRlUHJvY2VzcyIsImxvYWRQcm9jZXNzZXMiLCJwcm9jZXNzZXNGcm9tSnNvbiIsImV2ZW50c1ZQRmFjdG9yeSIsImNvbW1vblZQRmFjdG9yeSIsInRvb2xzVlBGYWN0b3J5IiwiY3JlYXRlZFNoYXBlIiwic2hhcGVUb29scyIsInBvbHlnb25PcHRpb25zIiwicG9pbnRzIiwicG9pbnRTZXQiLCJnZXRTaGFwZVRvb2xzIiwibG9hZFNoYXBlSWQiLCJnZXRTaGFwZUlkIiwiY3JlYXRlU2hhcGUiLCJMaW5lIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJmaWxsIiwiZHJhZ2dhYmxlIiwiY2xvc2VkIiwiRWxsaXBzZSIsInJhZGl1cyIsImRyYXdTaGFwZSIsInNoYXBlTG9jayIsIm1pc2MiLCJjbGFzc05hbWUiLCJkcmF3UmVjdGFuZ2xlIiwiYWJzIiwic2hhcGVsb2NrIiwiZGFzaCIsImRlc3Ryb3lTaGFwZSIsImNhbmNlbERyYXdpbmciLCJzZWxlY3Rpb25Qb2ludHMiLCJzdHlsZSIsImN1cnNvciIsImNyZWF0ZVBvbHlnb24iLCJmcmVlSGFuZE1hcmtlciIsImNoZWNrVGhyZXNob2xkIiwiZHJhd1BvbHlnb24iLCJjcmVhdGVMaW5lIiwiQXJyb3ciLCJwb2ludGVyTGVuZ3RoIiwicG9pbnRlcldpZHRoIiwicG9pbnRlckF0QmVnaW5uaW5nIiwiZHJhd0xpbmUiLCJjcmVhdGVCZXppZXJMaW5lIiwiY3JlYXRlZFBvaW50cyIsInEiLCJ0ZW5zaW9uIiwibGluZUpvaW4iLCJkcmF3QmV6aWVyTGluZSIsImNyZWF0ZVRleHQiLCJ0ZXh0U2hhcGUiLCJUZXh0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiY3JlYXRlVGV4dEdyb3VwIiwidGV4dEdyb3VwIiwiaXNEb25lIiwia2lsbCIsImRlc3Ryb3kiLCJzY2FsZSIsInhVcHBlclRocmVzaG9sZCIsInlVcHBlclRocmVzaG9sZCIsInhMb3dlclRocmVzaG9sZCIsInlMb3dlclRocmVzaG9sZCIsImV4dHJhY3RBbGxTaGFwZXMiLCJhbGxTaGFwZXMiLCJmaW5kIiwiZ2V0Q2hpbGRyZW4iLCJjaGlsZCIsInNlbGVjdFNoYXBlcyIsIm1pbiIsIm1heCIsImNoZWNrU2VsZWN0aW9uIiwic2VsZWN0ZWRTaGFwZXMiLCJwb3NpdGlvbk9mZnNldCIsInZlcnRpY2VzIiwicmFuZ2UiLCJwcm9wIiwicG9seWdvbkFyZWEiLCJkZXQiLCJjaHVua2VkQXJyYXkiLCJjaHVuayIsImwiLCJOdW1iZXIiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsInJlY3RhbmdsZUFyZWEiLCJhcmVhIiwiZWxsaXBzZUFyZWEiLCJyYWRpaSIsIlBJIiwiZWxsaXBzZVRyYW5zZm9tZXIiLCJlbGxpcHNlUG9zaXRpb24iLCJpbmMiLCIkaW5kZXgiLCJDaXJjbGUiLCJzY2FsZVgiLCJ0b1N0cmluZyIsImRyYWdCb3VuZEZ1bmMiLCJwb3MiLCJnZXRBYnNvbHV0ZVBvc2l0aW9uIiwiY2lyY2xlRXZlbnQiLCJwcmV2aW91c1JhZGl1cyIsInNlbGVjdGVkVmVydGV4IiwiaXNOZWdhdGl2ZSIsImNoaWxkcmVuIiwieiIsInRhcmdldCIsImdldEdyb3VwIiwiY3VzdG9tVHJhbnNmb3JtZXIiLCJpc1JlY3RhbmdsZSIsInRlbXAiLCJ1cGRhdGUiLCJvZmZzZXQiLCJnZXRQb2ludHMiLCJiZXppZXJUcmFuc2Zvcm1lciIsInNjYWxlVHJhbnNmb3JtZXJCYXNlZE9uWm9vbSIsInRyYW5zZm9ybWVyR3JvdXAiLCJtZXRyaWNzIiwic2hhcGVJbmZvIiwic2V0U2hhcGVJbmZvIiwiaW5mbyIsImdldFNoYXBlSW5mbyIsImNvbG9yUGlja2VyIiwib3BhY2l0eSIsImFzc2lnbiIsIiRzY29wZSIsIiR0aW1lb3V0IiwiYXV0aEZhY3RvcnkiLCJOZ01hcCIsImxvZ2dlZEluIiwicGF0aCIsIiQiLCJjc3MiLCJEYXRhVGFibGUiLCJpbnZpdGVlcyIsImltZyIsImxiIiwiJHdhdGNoIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImFjdGl2ZUp1c3RpZmllZCIsImN1cnJlbnRQYWdlIiwidG9nZ2xlT2JqIiwidG9nZ2xlQ2xpZW50IiwiY2xpZW50TmFtZSIsInBob25lTm8iLCJlbWFpbCIsInByaW1hcnlBZGQiLCJjcmVhdGVkIiwic29ydGNsaWVudHMiLCJyZXNvdXJjZSIsInNvcnQiLCJzZWFyY2giLCJzb3J0VHlwZSIsImFsbENsaWVudHMiLCJsaXN0IiwiY2xpZW50Q291bnQiLCJ0b3RhbCIsInBhZ2luYXRpb24iLCJpdGVtc09uUGFnZSIsImNzc1N0eWxlIiwiaHJlZlRleHRQcmVmaXgiLCJvcmRlcmluZyIsIm9uUGFnZUNsaWNrIiwicHJldmVudERlZmF1bHQiLCJzZWFyY2hEZWJvdW5jZSIsInNlYXJjaENsaWVudHMiLCJkdE9wdGlvbnMiLCJwYWdpbmciLCJzZWFyY2hpbmciLCJsb2FkQ291bnRyeUNvZGUiLCIkcXVlcnkiLCJnZXRJbmR1c3RyaWVzIiwibG9hZEluZHVzdHJ5IiwiZ2V0Q3VycmVuY2llcyIsImxvYWRDdXJyZW5jeSIsImFkZE5ld0NsaWVudCIsInZhbGlkIiwiY2xpZW50ZGF0YSIsImluZHVzdHJpZXMiLCJjbGllbnRDb250YWN0IiwiZGlhbENvZGUiLCJwaG9uZU51bWJlciIsInllYXJGb3VuZGVkIiwiY2xpZW50V2Vic2l0ZSIsImluZHVzdHJ5IiwiZWxlbWVudCIsImNsaWVudENvbnRhY3RQZXJzb24iLCJmaXJzdE5hbWUiLCJtaWRkbGVOYW1lIiwibGFzdE5hbWUiLCJtb2JpbGUiLCJhbm51YWxSZXZlbnVlIiwiY3VycmVuY3lDb2RlIiwiY2MiLCJhZGRyZXNzMiIsImNvdW50cnlDb2RlIiwibGluZTEiLCJsaW5lMiIsImxpbmUzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb2RlIiwiYWRkcmVzczEiLCJjcmVhdGVDbGllbnQiLCJjbGllbnREYXRhIiwibW9kYWwiLCIkc3RhdGVQYXJhbXMiLCJnZXRDb21ib01hdERldGFpbCIsImNvbWJvRGF0YSIsImNvbWJvTW1hdHJpYWxOYW1lIiwidW9tIiwiY29tYm9NYXRlcmlhbExpc3QiLCJtYXRlcmlhbENvc3QiLCJjdXJyZW50UmF0ZSIsInF1YW50aXR5IiwibWF0ZXJpYWxUb3RhbCIsInJvb2ZlckNvc3QiLCJyb29mZXJUb3RhbCIsImltZ1NsaWRlciIsImZsZXhzbGlkZXIiLCJhbmltYXRpb24iLCJjb250cm9sTmF2IiwiYW5pbWF0aW9uTG9vcCIsInNsaWRlc2hvdyIsIml0ZW1XaWR0aCIsIml0ZW1NYXJnaW4iLCJhc05hdkZvciIsInN5bmMiLCJlZGl0RmxhZyIsInJlbW92ZWRGaWxlcyIsInJlbW92ZUltZyIsIm1hdHJpYWxEYXRhIiwiZWRpdENvbWJvTWF0ZXJpYWxMaXN0IiwibWF0ZXJpYWxMaXN0IiwibWF0ZXJpYWxRdHkiLCJzZWxlY3RlZE1hdGVyaWFsQ29zdCIsInNlbGVjdGVkTWF0ZXJpYWxSb29mZXJDb3N0IiwicGVyY2VudGFnZUFkZGl0aW9ucyIsInBlcmNlbnRhZ2VBZGRpdGlvbiIsIm1hdGVyaWFsSW5kZXgiLCJhZGRQZXJjZW50YWdlVmFsdWUiLCJwZXJjZW50YWdlVHlwZSIsInJlbW92ZVBlcmNlbnRhZ2VBZGRpdGlvbiIsImZpbGVVcGRhdGVkIiwiZmlsZU9iaiIsImZpbGVOYW1lcyIsInRhYkNoYW5nZSIsImZsYWciLCJuZXh0UHJldlRhYiIsImVxIiwiZWRpdENvbWJvTWF0ZXJpYWwiLCJzZWxlY3RlZFVuaXQiLCJlZGl0Q29tYm8iLCJhdHRyIiwiY29tYm9MaXN0RGF0YSIsImNvbWJvTGlzdEFycmF5IiwiY29tYm9NYXRlcmlhbERhdGEiLCJpbnB1dEZpbGVzIiwidXBkYXRlQ29tYm8iLCJhbGxtYXRlcmlsYUxpc3QiLCJjb21ib0xpc3QiLCJnZXRNYXRlcmlhbEluZm8iLCJtYXRlcmlhbEluZm8iLCJwYXJzZSIsInJlbW92ZU1hdGVyaWwiLCJjbGllbnRzIiwiZ2V0SGllcmFyY2h5VGVtcGxhdGUiLCJ0ZW1wbGF0ZUxpc3QiLCJmaWxlbWFuYWdlclRlbXBsYXRlIiwiZ21hcCIsIm1hcmtlcnMiLCJzdHlsZXMiLCJjZW50ZXIiLCJ6b29tIiwicHJvamVjdERhdGEiLCJhZGRyZXNzIiwic2VsZWN0Mk9wdGlvbnMiLCJhbGxvd0NsZWFyIiwicGxhY2VNYXJrZXIiLCJwbGFjZURhdGEiLCJnZXRQbGFjZSIsImdlb21ldHJ5IiwibG9jYXRpb24iLCJsYXQiLCJsbmciLCJsb2MiLCJjb29yZGluYXRlcyIsImFkZFByb2plY3QiLCJmb3JtRGF0YSIsInRlbXBsYXRlSWQiLCJsb2FkSGllcmFyY2h5VHJlZSIsInVwZGF0ZU1hcmtlciIsImdldFBvc2l0aW9uIiwiZ2V0TWFwIiwiZGlzYWJsZURlZmF1bHRVSSIsInpvb21Db250cm9sIiwiYXNzaWduVGVtcGxhdGUiLCJzZWxlY3RlZFRlbXBsYXRlIiwiJHdpbmRvdyIsImxvYWRlciIsImNsaWVudFVybCIsImVsZW1lbnRUeXBlIiwic3R5bGVycyIsImNvbG9yIiwidmlzaWJpbGl0eSIsImZlYXR1cmVUeXBlIiwicHJvamVjdExpc3QiLCJteExhdCIsIm14TG5nIiwibW5MYXQiLCJtbkxuZyIsIm1ya3IiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImRhc2hib2FyZERhdGEiLCJjb21wYW55IiwicHJvamVjdHMiLCJjaHVua1NpemUiLCJwcm9qZWN0U2VhcmNoIiwiZW5hYmxlTGF6eUxvYWQiLCJzb3J0UGFyYW1zIiwiZmllbGQiLCJwcm9qZWN0TmFtZSIsImdldEJvb2ttYXJrZWRQcm9qZWN0IiwiZ2V0Qm9va21hcmtzIiwiYm9va21hcmtlZFByb2plY3QiLCJib29rbWFya3MiLCJib29rbWFya2VkUHJvamVjdExpc3QiLCJsb2FkUHJvamVjdEZpbGVzIiwic2hvd1Byb2plY3RGaWxlcyIsInByb2plY3RGaWxlcyIsImJvb2ttYXJrRmxhZyIsInNlbGVjdGVkUHJvamVjdCIsInByb2plY3QiLCJwcm9qZWN0UGlja2VyRGF0YSIsImNob29zZVByb2plY3QiLCJmaW5kSW5kZXgiLCJhbHJlYWR5RXhpc3QiLCJjdXJyZW50UHJvamVjdCIsImFscmVhZHlCb29rbWFya2VkIiwiY2xvc2VQcm9qZWN0UGlja2VyIiwiY2hlY2tCb29rbWFyayIsImJvb2ttYXJrIiwiYm9va01hcmtQcm9qZWN0IiwiYWRkTW9yZSIsImZpbGVQaWNrZXJPcHRpb25zIiwic2VhcmNoUHJvamVjdHMiLCJyZWRpcmVjdFRvM0QiLCJnZXQzRFBhZ2UiLCJyZXNwb25zZSIsImdvVG9GaWxlTWFuYWdlciIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJ0b3AiLCJmb2N1cyIsInBsYW5QaWNrZXJQbGFucyIsInJvb3RGb2xkZXJzIiwib3BlblBsYW5QaWNrZXIiLCJyb29mUGxhbnMiLCJnZXRIaWVyYXJjaHkiLCJzaG93VHJlZSIsImhpZXJhcmNoaWVzIiwiY2hvb3NlUGxhbiIsInBsYW4iLCJhbGxNb2RhbENsb3NlIiwiZmlsZUNob29zZSIsInBpY2tlckZvbGRlcnMiLCItd2Via2l0LWJveC1zaGFkb3ciLCItbW96LWJveC1zaGFkb3ciLCJib3gtc2hhZG93IiwiaGlkZSIsIm1vdmV0byIsImZvbGRlck5hbWUiLCJiYWNrQnRuVmlldyIsIiRvbiIsInNlbGVjdGVkQXNzZXRGb3JQbGFuIiwicm9vZnBsYW5CcmVhZENydW1iIiwiZmlsZUFycmF5IiwicGRmRmlsZXMiLCJwbGFuRG9jdW1lbnQiLCIkYXBwbHkiLCJwZGZQYWdlc0RhdGEiLCJwbGFuSW1hZ2VzIiwiaGlkZVNlbGVjdEZpbGUiLCJzZWxlY3RlZEZpbGVMaXN0IiwiYXNzZXQiLCJzZWxlY3RlZEZpbGVzIiwiZW5kcG9pbnQiLCJwZGZVcmwiLCJnZW5lcmF0ZVJvb2ZQbGFucyIsImVxdWlwbWVudCIsInN1YnRpdGxlIiwid29yayIsInRhZyIsImltZ191cGxvYWQiLCJlcXVpcGRvY3VtZW50cyIsInN5c3RlbVRhZyIsImNyZWF0ZWRBdCIsInNvcnRFcXVpcG1lbnQiLCJlcXVpcG1lbnRDb3VudCIsInNlYXJjaEVxdWlwbWVudCIsImFkZE1hdGVyaWFsIiwiY29udmVyc2lvbkZhY3RvciIsInRhYlNldHRpbmdzIiwiZGlzYWJsZSIsImN1cnJlbmN5IiwiY3VycmVudEN1cnJlbmN5IiwiZnJvbSIsInRvIiwiY3VycmVuY3lEYXRhIiwiY3VycmVuY2llcyIsInRhYlN0eWxlIiwibWF0ZXJpYWxOYW1lIiwibWF0ZXJpYWxVbml0IiwiYWRkTWF0ZXJpYWxOZXh0IiwiY2hhbmdlQ29zdCIsImNvc3QiLCJjb252ZXJzaW9uUmF0ZSIsImFkZE1hdGVyaWFsRGV0YWlscyIsImVxdWlwbWVudENvc3RzIiwiZXF1aXBtZW50Q29zdFZhbHVlIiwicm9vZmVyQ29zdFZhbHVlIiwic2xpZGVyMiIsImVxdWlwX3RhYmxlIiwibXQiLCJicmVha2NydW1iU3RvcmUiLCJnZXRQcmltYXJ5Rm9sZGVycyIsImJhY2t1cEZvbGRlcnMiLCJ3aW5kb3dJdGVtcyIsImZvbGRlckRhdGEiLCJmb2xkZXJzIiwicmVzb2x2ZUFzc2V0SWNvbiIsImFzc2V0T2JqIiwiYXNzZXRGb3JtYXQiLCJmb3JtYXQiLCJ0cmltIiwiaWNvbiIsInZpZXdQcm9qZWN0QXNzZXRzIiwibG9hZEZpbGVzVG9BdXRvQ29tcGxldGUiLCJnZXRGb2xkZXIiLCJnZXRIaWVyYXJjaHlDaGlsZHJlbiIsImZpbGVEZXN0aW5hdGlvbiIsInRyZWVPcHRpb25zIiwiYWNjZXB0IiwiZGVzdCIsImRlc3RJbmRleCIsImRyYWdTdG9wIiwibm9kZVNjb3BlIiwiZGVzdGluYXRpb24iLCIkbm9kZVNjb3BlIiwiJHBhcmVudCIsIiRtb2RlbFZhbHVlIiwibW92ZUFzc2V0cyIsImRyb3BwZWQiLCJub2Rlc1Njb3BlIiwiJHBhcmVudE5vZGVTY29wZSIsInBhcmVudElkIiwiZHJhZ01vdmVOb2RlcyIsInJvb3RGb2xkZXJTdG9yZSIsInNldFJvb3RGb2xkZXIiLCJhZGRNb2RhbEFjdGl2ZVRhYiIsImFkZFByaW1hcnlGb2xkZXIiLCJpc1BhcmVudCIsIm5vZGVPYmoiLCJhZGRIaWVyYXJjaHkiLCIkbm9kZXNTY29wZSIsIm9wZW5BZGRNb2RhbCIsImFkZE1vZGFsU291cmNlIiwic2hvd0xvYWRlciIsInRvZ2dsZUZvbGRlciIsImZvbGRlciIsIm5vZGUiLCJiYWNrdXAiLCIkdHJlZVNjb3BlIiwiJGVsZW1lbnQiLCJmaXJzdCIsInZpZXdIaWVyYXJjaHkiLCJicmVhZENydW1iTGlzdCIsImJyZWFkY3J1bWJzIiwiY29sbGFwc2VkIiwibmF2aWdhdGUiLCJvcGVuRm9sZGVyIiwiY2hpbGROb2RlcyIsImFkZEZvbGRlciIsInBhcmVudCIsImFkZEZpbGVUb0hpZXJhcmNoeSIsImFzc2V0cyIsImRlbGV0ZUZpbGUiLCJkZWxldGVBc3NldHMiLCJ1cGxvYWRTdGF0ZSIsInRvZ2dsZVVwbG9hZFZpZXdNYXhpbWl6ZSIsInVwbG9hZFZpZXdNYXhpbWl6ZSIsInByZVVwbG9hZCIsInByb2Nlc3NlZCIsInByZVVwbG9hZEZpbGVzIiwidXBsb2FkRmlsZSIsInByb2Nlc3NEdXBsaWNhdGVGaWxlTmFtZSIsInVwbG9hZFZpZXdGaWxlcyIsImZvbGRlcklkIiwibmV3RmlsZVVwbG9hZCIsInVwbG9hZEZpbGVJbkZpbGVNYW5hZ2VyIiwiY2xvc2VVcGxvYWRWaWV3IiwiZmlsZVZpZXciLCJwcmV2aWV3RGF0YSIsImN1c3RvbVVybCIsImVkaXRFbmFibGVkIiwidG9nZ2xlRWRpdCIsImNvbnRleHRNZW51T3B0aW9ucyIsImV4cGxvcmVyIiwiJGl0ZW1TY29wZSIsIiRldmVudCIsIm1vZGVsVmFsdWUiLCIkbGkiLCJwZGZvbmx5IiwibW92ZVRvU291cmNlRmlsZSIsImNoaWxkRm9sZGVyVmlldyIsImNoaWxkRm9sZGVycyIsInNhdmVIaWVyYXJjaHlUcmVlIiwiY2hhbmdlUHJvamVjdFRlbXBsYXRlIiwiZ2V0UHJvamVjdEJ5SWQiLCJzaG93QmFja3VwRmlsZXMiLCJzaG93UmVjZW50RmlsZXMiLCJ0b2dnbGVCb29rbWFya3MiLCJGaWxlU2F2ZXIiLCJpc3N1ZUlkIiwiSW1hZ2VBc3NldHMiLCJEb2N1bWVudEFzc2V0cyIsIml0ZW1zUGVyUGFnZSIsImdldElzc3VlRGV0YWlsIiwiaXNzdWVEYXRhIiwidG90YWxJdGVtcyIsImNvbW1lbnRzIiwiQXJyYXlDb21tZW50cyIsInJldmVyc2UiLCJBcnJheUFjdGl2aXRpZXMiLCJpc3N1ZUFjdGl2aXR5IiwiYWxsQ29tbWVudHMiLCJhbGxBY3Rpdml0aWVzIiwicGFnZWREYXRhIiwic2V0UGFnaW5nRGF0YSIsInNldEFjdGl2aXR5UGFnaW5nRGF0YSIsImxpc3RBc3NldHMiLCJwb3N0Q29tbWVudCIsImNvbW1lbnQxIiwiY29tbWVudG9iaiIsInBvc3RDb21tZW50Rm9ySXNzdWUiLCJjaGFuZ2VDb21wbGV0aW9uU3RhdHVzIiwiZG93bmxvYWRGaWxlIiwiZG9jcyIsImJsb2IiLCJCbG9iIiwic2F2ZUFzIiwib3JpZ2lvbmFsbmFtZSIsInJlT3Blbklzc3VlIiwicmVPcGVuSXNzdWVTdGF0dXNVcGRhdGUiLCJtYXJrSXNzdWVBc0NvbXBsZXRlIiwiaW1hZ2VGaWxlcyIsImVkaXRPYmplY3QiLCJJbWFnZXMiLCJzYXZlSXNzdWVBc0NvbXBsZXRlIiwiYmFja0ltZyIsIlVwbG9hZGVkRmlsZXMiLCJpc3N1ZU1vZGVsIiwib3BlbkVkaXQiLCJmaWxlc1RvUmVtb3ZlIiwiaXNTZWxlY3RlZEJ0biIsInVwZGF0ZWZvcm0iLCJVbmRvQXJyYXkiLCJyZWRvQXJyYXkiLCJwbGFuVG9NYXJrIiwiTG9jYWxJbWdzIiwic2VhcmNoaW5nVGV4dCIsIm9wZW5GaWxsQ29sb3IiLCJjb2xvcnBpY2siLCJjb2xvcldlbGwiLCJmaWxsV2VsbCIsImZpbGxDb2xvciIsInRleHRGb3JtIiwiZXJyb3JJbWFnZSIsImJ0bk1hcmtlciIsImJ0bkNpcmNsZSIsImJ0bkxpbmUiLCJidG5UZXh0IiwidG9nZ2xlSXNzdWUiLCJzb3J0aXNzdWVzIiwibGlzdEFsbElzc3VlcyIsImFsbElzc3VlcyIsImlzc3VlQ291bnQiLCJkcmFnU3RhcnRMaW5lIiwiaXNMaW5lIiwiZHJhZ2dpbmciLCJmbG9vciIsImNsaWVudFgiLCJyZWN0IiwibGVmdCIsInJpZ2h0IiwiY2xpZW50WSIsImJvdHRvbSIsImRyYWdTdGFydExvY2F0aW9uIiwiWCIsIlkiLCJzbmFwc2hvdCIsImNvbnRleHQxIiwiZ2V0SW1hZ2VEYXRhIiwiZHJhZ0xpbmUiLCJwdXRJbWFnZURhdGEiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsImxpbmVDYXAiLCJkcmFnU3RvcExpbmUiLCJpbWFnZURhdGEiLCJkcmFnU3RhcnQiLCJpc0NpcmNsZSIsImxhc3RfbW91c2V4IiwicGFyc2VJbnQiLCJyZWN0MSIsImxhc3RfbW91c2V5IiwibW91c2Vkb3duIiwic25hcHNob3RDaXJjbGUiLCJjdHgiLCJkcmFnIiwibW91c2V4IiwibW91c2V5Iiwic2F2ZSIsInNjYWxleCIsInNjYWxleSIsImNlbnRlcngiLCJjZW50ZXJ5IiwiYXJjIiwiZmlsbFN0eWxlIiwiTWFya1dyaXRlIiwiaXNNYXJrZXIiLCJyZWN0bWFya2VyIiwibWFya2VyY29udGV4dCIsIlRleHRXcml0ZSIsImlzVGV4dCIsImNudHh0IiwiY29vcmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZm9udCIsInN0cm9rZVRleHQiLCJwbGFjZURhdGFBdFBpeGVsIiwic2VhcmNoSXNzdWVzIiwiaXNzdWVDYXRlZ29yeSIsImFsbFVzZXJzIiwiYWxsUm9vZmVycyIsImFsbFByb2plY3RzIiwiZ2V0SXNzdWVzTGlzdCIsImxpc3RPZklzc3VlIiwicmVhZEltZyIsImZpbGVJbWciLCJvdXRwdXQiLCJzcmMiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhZGRGaWxlIiwiZGVsZXRlSW1nIiwiZmlsZVVwRXZlbnQiLCJ0aHVtYm5haWwiLCJvbmVmaWxlIiwiU1JDIiwiaW1hZ2UiLCJnZXREZXNjcmlwdGlvbiIsImNvbWVudCIsImZpbGVzM1VwZGF0ZSIsImlzc3VlZGF0YSIsIm5ld0lzc3VlczNGaWxlVXBsb2FkIiwiZmlsZXNjbG91ZGluYXJ5VXBkYXRlIiwiaXNzdWVJbWFnZSIsInNhdmVJc3N1ZURldGFpbCIsImlzc3VlT2JqZWN0IiwiY2F0ZWdvcnkiLCJvd25lcklkIiwib3duZXIiLCJkZWFkTGluZSIsImRlcGVuZGVuY3lPbiIsImlzc3VlU3RhdHVzIiwiQURESVNTVUUiLCJsb2NhbEZpbGVzIiwiZ2V0RmlsZXNGcm9tTG9jYWwiLCJjYXJvdXNlbCIsInJlbW92ZURhdGEiLCJpcyIsImdldEltYWdlc0luQ2Fyb3NlbCIsIlByb2plY3RQbGFucyIsImNob29zZVBsYW5EYXRhIiwiY2hvb3NlUGxhbkRhdGExIiwiYWRkVG9EZXRhaWxzIiwiaW1nYXJyYXkiLCJnZXREZXRhaWwiLCJpc3N1ZSIsIlRpdGxlIiwiRGVzY3JpcHRpb24iLCJEZWFkTGluZURhdGUiLCJkZWZhdWx0VmFsdWUiLCJkYXkiLCJnZXREYXRlIiwibW9udGgiLCJnZXRNb250aCIsInllYXIiLCJnZXRGdWxsWWVhciIsImRlYWRMaW5lRGF0ZSIsIlN0YXR1cyIsImFkZEZpbGVUb1VwZGF0ZSIsInVwZGF0ZVJlcXVlc3QiLCJ1cGRhdGVvYmoiLCJyZW1vdmVGaWxlcyIsImltYWdlSWQiLCJjbG9zZVVwZHRlTW9kZWwiLCJvcGVuRWRpdERhdGUiLCJjbG9zZUVkaXREYXRlIiwidXBkYXRlSXNzdWVEZXRhaWxzIiwiaW1hZ2VUZW1wVXJsIiwicm9vZnRlc3REZW1vIiwic3RyaW5nIiwib3BlblNsaWRlckltYWdlIiwiYmFzZV9pbWFnZSIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJoUmF0aW8iLCJ2UmF0aW8iLCJyYXRpbyIsImNlbnRlclNoaWZ0X3giLCJjZW50ZXJTaGlmdF95IiwiY2xlYXJSZWN0IiwiZHJhd0ltYWdlIiwiZHJhd0xpbmVPbkNhbnZhcyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkcmF3Q2lyY2xlT25DYW52YXMiLCJjYW52YXN4IiwiY2FudmFzeSIsImRyYXdtYXJrZXJPbkNhbnZhcyIsImZpbGxUZXh0T25DYW52YXMiLCJVbmRvRHJhd2luZyIsInVuZG9DdHgiLCJpbWdkYXRhIiwicG9wIiwiUmVkb0RyYXdpbmciLCJzYXZlTWFya0luZm8iLCJkYXRhSW1hZ2UiLCJzZXRBdHRyaWJ1dGUiLCJtb21lbnQiLCJfdGhpcyIsImlucHV0SW1nIiwicmV0cmlldmUiLCJhY3RpdmVUYWIiLCJ0b2dnbGVUYWIiLCJnZXRBbGxTdXBwbGllcnMiLCJzdXBwbGllcnMiLCJ1bml0U2VsZWN0Iiwic29ydERpc3BsYXkiLCJzb3J0TWF0ZXJpYWxzIiwiYXBpTmFtZSIsInNlYXJjaE1hdGVyaWFscyIsIm1hdGVyaWFscyIsIm1haW50ZW5hbmNlUGVyaW9kIiwibWFpbnRlbmFuY2VEYXRlIiwiY2hhbmdlTWFpbnRlbmFuY2VQZXJpb2QiLCJkYXlzIiwidGFiQ2hhbmdlRnVuIiwiYWRkQ29tYm9NYXRlcmlhbEZvcm0iLCJUb3RhbE1DIiwiVG90YWxSQyIsImluZGV4VmFsIiwiZGVzY3JpcHRpb25Qb3BvdmVyIiwiZmlsZVR5cGUiLCJmaWxlSW5kZXgiLCJhZGREZXNjcmlwdGlvbiIsImNsb3Nlc3QiLCJjbGVhckRhdGEiLCJtYXRlcmlhbENvc3RWYWx1ZSIsImFzc2V0RGVzY3JpcHRpb24iLCJsb2FkQ3VycmVuY2llcyIsIlF0eUNoYW5nZSIsInBlcmNlbnRhZ2VWYWx1ZSIsIm1hdGVyaWFsQ29tYmluYXRpb24iLCJjb21ib01hdGVyaWFsIiwibW9kZWwiLCJjcmVhdGVDb21ib01hdGVyaWFsTGlzdCIsImNtTGlzdCIsInBlckFkZGl0aW9ucyIsImdldFN5c3RlbVRhZyIsImNvbWJvVGFnIiwiZWRpdE1hdGVyaWFsIiwiZ2V0TWF0RGV0YWlsIiwibWF0cmlhbE5hbWUiLCJtYXRyaWFsVW5pdCIsIm1hdHJpYWxDb3N0IiwibWF0cmlhbEN1cnJlbmN5Q29kZSIsIm1hdHJpYWxSb29mZXJDb3N0IiwibWF0cmlhbFJvb2ZlckN1cnJlbmN5Q29kZSIsIm1hdHJpYWxDcmVhdGVkQnkiLCJwcm92aWRlckRhdGEiLCJ1cGRhdGVkQnkiLCJtYXRyaWFsQ3JlYXRlZEF0IiwibWF0cmlhbFVwZGF0ZWRBdCIsImdyYXlfYm94IiwibmV4dE1haW50YW5jZURhdGVDYWxjIiwiY3JlYXRlZERhdGUiLCJuZXh0TWFpbnRhbmNlRGF0ZSIsIm5leHRNYWludGVuYW5jZURhdGUiLCJjcmVhdGVkRGF0ZTEiLCJ1dGMiLCJpbWFnZXMiLCJtYXRlcmlhbEltZyIsIm1hdGVyaWFsRmlsZXMiLCJlZGl0TWF0ZXJpYWxGdW5jdGlvbiIsInVwbG9hZGFsbEZpbGVzIiwibWF0ZXJpYWx1cGRhdGVkYXRhIiwiU0JjaGFubmVsIiwicm9vbSIsImdldEFjY2Vzc01lZXRpbmdSb29tVG9rZW4iLCJhY2Nlc3NUb2tlbiIsIkVycm9yIiwiY29ubmVjdGVkVXNlciIsIm5ld01lZXRpbmciLCJjaGFubmVsIiwicmVnc2l0ZXJNb2RhbCIsImxvZ2luTW9kYWwiLCJmb3Jnb3RQYXNzTW9kYWwiLCJpc1ZhbGlkIiwiZm9yZ290UGFzcyIsInN1YnNjcmliZUVtYWlsIiwiaW1hZ2UxIiwiaW1hZ2UyIiwicmVwb3J0T2JqIiwic2h3Q29tbWVudFNlY3Rpb24iLCJSZXBvcnRJc3N1ZSIsImlzc3VlVG9BZGQiLCJtb2RlbHMiLCJleHBvcnRUb1BkZiIsImltZzEiLCJqc1BERiIsImFkZEltYWdlIiwiYXV0b1RhYmxlIiwiaHRtbCIsIm1hcmdpbiIsInBhZ2VCcmVhayIsInRhYmxlV2lkdGgiLCJzaG93SGVhZGVyIiwic2V0Rm9udFNpemUiLCJzZXRGb250IiwiaXNzdWVTZWFyY2giLCJvcGVuUmVwb3J0UGlja2VyIiwiaXNzdWVQaWNrZXJEYXRhIiwicmVzZGF0YSIsIkVkaXRNb2RlIiwiY2xvc2VJc3N1ZVBpY2tlciIsInJlbWFya0RhdGEiLCJhZGRSZW1hcmsiLCJWYWx1ZSIsImNob29zZUlzc3VlcyIsImFkZFRvTGlzdElzc3VlUGlja2VyIiwic2VuZElzc3VlVG9QZGYiLCJjb3ZlclBhZ2VNb2RhbCIsImFib3V0VXNNb2RhbCIsInByb2plY3RNZXRhTW9kYWwiLCJyZXBvcnRyZW1hcmtNb2RhbCIsImxpc3RJc3N1ZU1vZGVsQ2xpY2siLCJzZXRSZXBvcnRPYmoiLCJjb21wYW55TmFtZSIsIndlYnNpdGUiLCJwaG9uZSIsInNlcmlhbE5vIiwiZW50ZXJwcmlzZSIsImF1dGhvck5hbWUiLCJyZW1hcmtEYXRlIiwiRWRpdElzc3VlRGF0YSIsInJlbW92ZUZyb21Jc3N1ZUxpc3QiLCJjdXJyZW50VXNlciIsInJlcG9ydENhdGVnb3J5IiwiYWxsQWRtaW5Vc2VycyIsImlzVG9rZW5WYWxpZCIsInRva2VuVmFsaWQiLCJyZXNldFBhc3MiLCJwYXNzd29yZCIsImNfcGFzc3dvcmQiLCJzZXRQYXNzd29yZCIsImJhY2siLCJzdWJtaXRSb2xlU2V0dGluZ3MiLCJ1cGRhdGVSb2xlQmFzZWRBY2Nlc3MiLCJnb1RvRGFzaGJvYXJkIiwic2VsZWN0ZWRNYXRlcmlhbHMiLCJtZW1iZXJzMiIsImdldFN1YmNvbnRyYWN0b3JzIiwiZ2V0QWxsU3ViY29udHJhY3RvcnMiLCJhbGxTdWJjb250cmFjdG9yIiwic3ViY29udHJhY3RvcnNDb3VudCIsImFkZFN1YmNvbnRyYWN0b3JOZXh0IiwiaGFzQ2xhc3MiLCJhZGRTdWJjb250cmFjdG9yUHJldmlvdXMiLCJkZWxldGVNYXRlcmlhbCIsImRlbGV0ZVN0YWZmIiwib25DaGFuZ2UiLCJGSUxFSU1HIiwiZmlsZUV4dCIsImFsbE1hdGVyaWFscyIsImFkZE1lbWJlciIsImNyZWF0ZVN1YmNvbnRyYWN0b3IiLCJzdXBwbGllcyIsInN0YWZmIiwiY3JlYXRlTmV3U3ViY29udHJhY3RvciIsIm1hbWJlcnMyIiwiY29udHJhY3RzIiwidGltZSIsInN1YmNvbnRyYWN0b3JJZCIsImdldFN1YmNvbnRyYWN0b3JEZXRhaWwiLCJnZXRTdWJjb250cmFjdG9yQnlJZCIsInN1YmNvbnRyYWN0b3JEYXRhIiwiZ2V0U3VwcGxpZXJzIiwiYWxsU3VwcGxpZXJzIiwic3VwcGllcnNDb3VudCIsImFkZFN1cHBsaWVyTmV4dCIsImFkZFN1cHBsaWVyUHJldmlvdXMiLCJjcmVhdGVTdXBwbGllciIsImNyZWF0ZU5ld1N1cHBsaWVyIiwic3VwcGxpZXJJZCIsImdldFN1cHBsaWVyRGV0YWlsIiwiZ2V0U3VwcGxpZXJCeUlkIiwic3VwcGxpZXJEYXRhIiwidG9kb19saXN0IiwiY2xhc3NuYW1lIiwic2hhcGVzVlBGYWN0b3J5IiwibGF5ZXJzVlBGYWN0b3J5IiwiZWxtbnQiLCJwb3MxIiwicG9zMiIsInBvczMiLCJwb3M0IiwiZHJhZ01vdXNlRG93biIsIndpbmRvdyIsIm9ubW91c2V1cCIsImNsb3NlRHJhZ0VsZW1lbnQiLCJvbm1vdXNlbW92ZSIsImVsZW1lbnREcmFnIiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsIm9ubW91c2Vkb3duIiwiZHJhZ0VsZW1lbnQiLCJsb2FkUGxhbm5lciIsInJvb2ZQbGFuIiwibG9hZEZyb21Kc29uIiwiaW5pdGlhbGl6ZWQiLCJjb2xvclR5cGUiLCJzdHJva2VDb2xvciIsImNwT3B0aW9ucyIsInN3YXRjaCIsImlucHV0Q2xhc3MiLCJjYXNlIiwiYWxwaGEiLCJjcEV2ZW50cyIsImFwaSIsImNoYW5nZVN0cm9rZVdpZHRoIiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwicG9pbnRlclBvc2l0aW9uIiwiZ2V0UG9pbnRlclBvc2l0aW9uIiwiY3VycmVudERyYXdTdGF0ZSIsInByb2Nlc3NTdG9yZSIsInRyYW5zZm9ybWVyU3RvcmUiLCJzaG93UGFuZWwiLCJ6b29tTGV2ZWwiLCJjYWxpYnJhdGlvbiIsImxvYWRlZFByb2Nlc3NlcyIsImNvdW50RGF0YSIsImNhbGlicmF0aW9uRGF0YSIsImZvcm1hdENhbGlicmF0aW9uIiwiaW1hZ2VPYmoiLCJpbWFnZUNvbnRhaW5lciIsImltYWdlUHJvcHMiLCJpbWFnZUhlaWdodCIsImFzcGVjdFJhdGlvIiwiaW1hZ2VXaWR0aCIsImJnSW1hZ2UiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSIsInNoYWRvd09wYWNpdHkiLCJtb3ZlVG9Cb3R0b20iLCJ3aW5kb3dFdmVudCIsImhpc3RvcnlQb3MiLCIkY3VycmVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY3RybEtleSIsIm9sZFNjYWxlIiwibW91c2VQb2ludFRvIiwibmV3U2NhbGUiLCJkZWx0YVkiLCJuZXdQb3MiLCJ0YWdOYW1lIiwiem9vbUJ1dHRvbiIsImNlbnRlclkiLCJjZW50ZXJYIiwiem9vbVNsaWRlciIsInBlcmNlbnRhZ2UiLCJyZXNldFpvb20iLCJiYXNlTGF5ZXJFdmVudCIsInJlY3RhbmdsZUV2ZW50V3JhcHBlciIsInNoYXBlT2JqZWN0Iiwic2hhcGVUeXBlIiwicmVjdGFuZ2xlRXZlbnQiLCJjdXJyZW50UHJvY2VzcyIsIm1vdmVUb1RvcCIsIm9wZW5JbmZvV2lkZ2V0IiwiZWxsaXBzZUV2ZW50V3JhcHBlciIsImVsbGlwc2VFdmVudCIsInBvbHlnb25FdmVudFdyYXBwZXIiLCJwb2x5Z29uRXZlbnQiLCJmcmVlSGFuZEV2ZW50V3JhcHBlciIsImZyZWVIYW5kRXZlbnQiLCJsaW5lRXZlbnRXcmFwcGVyIiwibGluZUV2ZW50IiwiZnJlZUhhbmRNYXJrZXJXcmFwcGVyIiwidGV4dEV2ZW50V3JhcHBlciIsInRleHRFdmVudCIsIndyYXBwZXIiLCJ1cGRhdGVkUG9pbnRzIiwib3BlblRleHRJbmZvV2lkZ2V0IiwiY2xvc2VJbmZvV2lkZ2V0IiwiY2xvc2VUZXh0SW5mb1dpZGdldCIsInNpbXBsZUxpbmUiLCJiZXppZXJMaW5lIiwiYmV6aWVyRXZlbnQiLCJiZXppZXJFdmVudFdyYXBwZXIiLCJmcmVlaGFuZE1hcmtlciIsInRleHRXaWRnZXQiLCJ0ZXh0UHJvcHMiLCJ0ZXh0T2JqIiwibWFudWFsU2VsZWN0aW9uIiwic2hhcGVPYmoiLCJkcmFnU2VsZWN0aW9uIiwic2VsZWN0QWxsU2hhcGVzIiwic2VsZWN0ZWRTaGFwZU5hbWVzIiwidG9nZ2xlVmFsdWUiLCJ0b2dnbGVTaGFwZVZpc2liaWxpdHkiLCJ2aXNpYmxlIiwiY2FsaWJyYXRlZExpbmUiLCJkaXN0YW5jZSIsInNxcnQiLCJwb3ciLCJjYWxpYnJhdGlvbkRpc3RhbmNlIiwic2F2ZUNhbGlicmF0aW9uIiwiY2FsaWJyYXRpb25TY2FsZSIsImRlbGV0ZVNoYXBlIiwiZ2V0UGFyZW50IiwiaW5mb1dpZGdldFByb3BzIiwic2hhcGVJbmZvV2lkZ2V0IiwiY29sb3JUeXBlcyIsInRleHRDb2xvclR5cGVzIiwiZm9udFN0eWxlcyIsIndlYlNhZmVGb250cyIsInRleHRJbmZvV2lkZ2V0UHJvcHMiLCJmb250U3R5bGUiLCJ0ZXh0SW5mb1dpZGdldCIsImNoYW5nZVRleHRJbmZvIiwiaW5mb1dpZGdldFN0cm9rZSIsInNoYXBlUHJvcEhpc3RvcnkiLCJpbmZvV2lkZ2V0RXZlbnRzIiwib25PcGVuIiwib25DbG9zZSIsInRleHRJbmZvV2lkZ2V0RXZlbnRzIiwiY3VycmVudFBhblN0YXRlIiwicGFuSW1hZ2UiLCJ1bmRvT3JSZWRvIiwiZG93bmxvYWRJbWFnZSIsImpzb24iLCJ0b0pTT04iLCJhZGRQcm9jZXNzIiwic2VsZWN0TGF5ZXIiLCJzZWxlY3RlZEluZGV4Iiwic2VsZWN0T3JVbnNlbGVjdCIsImxheWVySWNvbk5hbWUiLCJoaWRlU2VsZWN0aW9uIiwiZGVsZXRlU2VsZWN0aW9uIiwibG9hZE1hdGVyaWFsIiwic2hhcGVQcm9wIiwiaGlkZUluaXRNb2RhbCIsInNlbGVjdFBsYW4iLCJzZWxlY3RlZFBsYW4iLCJjbG9zZVZpc3VhbFBsYW5uZXIiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInNjb3BlIiwiY3VycmVudCIsImVsZW0iLCJhdHRycyIsIm9wdGlvbnMiLCJzb3VyY2VmaWxlIiwic291cmNlZGlyIiwiZm9sZGVyUGF0aHMiLCJjdXJyZW50Rm9sZGVyIiwic2VsZWN0ZWRGb2xkZXIiLCJ2aWV3Rm9sZGVyIiwic2VsZWN0RmlsZSIsInByZXZpb3VzIiwicGFyYW0iLCJpRWxlbWVudCIsImlBdHRycyIsImF1dG9jb21wbGV0ZSIsInVpSXRlbXMiLCJzZWxlY3QiLCJ0cmlnZ2VyIiwiZXJyU3JjIiwiJHNldCIsIm1hdGVyaWFsVHlwZSIsInNlbGVjdGVkTWF0ZXJpYWwiLCJjdXJyZW50U2hhcGUiLCJlbnRpdHlUeXBlIiwiZGNwTGlzdCIsImVxdWlwbWVudExpc3QiLCJzZWxlY3RlZE1hdGVyaWFsSW5mbyIsIm1hdGVyaWFsSW1hZ2VzIiwibWF0ZXJpYWxTZWxlY3Rpb24iLCJyZXNldFNlbGVjdGVkTWF0ZXJpYWwiLCJhc3NpZ25NYXRlcmlhbCIsImlucHV0IiwicGxhY2UiXSwibWFwcGluZ3MiOiIrVUFBQSxJQUFBQSxJQUFBQyxRQUFBQyxPQUFBLE1BQUEsQ0FDQSxZQUNBLGVBQ0EscUJBQ0Esb0JBQ0EsYUFDQSxrQkFDQSxRQUNBLFlBQ0EsYUFDQSxhQUNBLGVBQ0EsZUFDQSxhQUNBLGNBQ0EsZUFDQSxrQkFDQSxVQUNBLGdCQUNBLHFCQUNBLGdCQUNBLFdBQ0EsZ0JBQ0EsMkJBQ0EsYUFDQSxjQUlBLFNBQUFDLE9BQ0FDLHFCQUNBQywyQkFDQUMsV0FDQUMsb0JBSUFGLDJCQUFBRyxVQUFBLENBQ0FDLElBQUEsMENBQ0FDLEVBQUEsUUFDQUMsVUFBQSwwQ0FLQVAscUJBQUFRLFdBQUEsQ0FDQUMsTUFBQSxJQUNBQyxTQUFBLEdBQ0FDLFdBQUEsR0FDQUMsZ0JBQUEsR0FDQUMsa0JBQUEsR0FDQUMsVUFBQSxRQUNBQyxVQUFBLFFBSUFiLFdBQUFjLGtCQUFBLEVBR0FiLG1CQUNBYyxJQUFBLGFBQUEsYUFDQUEsSUFBQSxnQkFBQSxvQkMzREEsU0FBQUMsWUFBQUMsZUFBQUMsb0JBQ0FBLG1CQUFBQyxVQUFBLEtBRUFGLGVBQUFHLE1BQUEsV0FBQSxDQUNBQyxJQUFBLElBQ0FDLFlBQUEsMEJBQ0FDLFdBQUEsdUJBR0FOLGVBQUFHLE1BQUEsWUFBQSxDQUNBQyxJQUFBLGFBQ0FDLFlBQUEsMkJBQ0FDLFdBQUEsd0JBU0FOLGVBQUFHLE1BQUEsZ0JBQUEsQ0FDQUMsSUFBQSxrQkFDQUMsWUFBQSwrQkFDQUMsV0FBQSw0QkFHQU4sZUFBQUcsTUFBQSxnQkFBQSxDQUNBQyxJQUFBLGtCQUNBQyxZQUFBLCtCQUNBQyxXQUFBLDRCQUdBTixlQUFBRyxNQUFBLFdBQUEsQ0FDQUMsSUFBQSxZ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LE9BQ0EsR0FBQUEsTUFDQSxNQUFBLGFBQUFqNkMsS0FBQWk2QyxNQUFBaHpDLFlBQ0FnekMsTUFBQWh6QyxXQUFBTixRQUFBLFFBQUEsUUFDQXN6QyxNQUFBeGMsYUF0Q0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcclxuICBcInVpLnJvdXRlclwiLFxyXG4gIFwicm91dGVzTW9kdWxlXCIsXHJcbiAgXCJMb2NhbFN0b3JhZ2VNb2R1bGVcIixcclxuICBcInVpR21hcGdvb2dsZS1tYXBzXCIsXHJcbiAgXCJuZ1Byb2dyZXNzXCIsXHJcbiAgXCJ1aS1ub3RpZmljYXRpb25cIixcclxuICBcIm5nTWFwXCIsXHJcbiAgXCJ1aS5zZWxlY3RcIixcclxuICBcInVpLnNlbGVjdDJcIixcclxuICBcIm5nU2FuaXRpemVcIixcclxuICBcImNvbG9yLnBpY2tlclwiLFxyXG4gIFwidWkuYm9vdHN0cmFwXCIsXHJcbiAgXCJkYXRhdGFibGVzXCIsXHJcbiAgXCJuZ1RhZ3NJbnB1dFwiLFxyXG4gIFwibmdGaWxlVXBsb2FkXCIsXHJcbiAgXCJpbmZpbml0ZS1zY3JvbGxcIixcclxuICBcInVpLnRyZWVcIixcclxuICBcImFuZ3VsYXJNb21lbnRcIixcclxuICBcImJ0b3Jmcy5tdWx0aXNlbGVjdFwiLFxyXG4gIFwiaHRtbFRvUGRmU2F2ZVwiLFxyXG4gIFwiZG5kTGlzdHNcIixcclxuICBcImFuZ3VsYXIuY2hpcHNcIixcclxuICBcInVpLmJvb3RzdHJhcC5jb250ZXh0TWVudVwiLFxyXG4gIFwiY2xvdWRpbmFyeVwiLFxyXG4gIFwiRmlsZVNhdmVyXCJcclxuXSk7XHJcbmFwcC5jb25maWcoY29uZmlnKTtcclxuXHJcbmZ1bmN0aW9uIGNvbmZpZyhcclxuICBOb3RpZmljYXRpb25Qcm92aWRlcixcclxuICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlcixcclxuICB0cmVlQ29uZmlnLFxyXG4gIGNsb3VkaW5hcnlQcm92aWRlclxyXG4pIHtcclxuICAvKiBHb29nbGUgbWFwIGNvbmZpZyAqL1xyXG5cclxuICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlci5jb25maWd1cmUoe1xyXG4gICAga2V5OiBcIkFJemFTeUEzTUlBLW1LV3FfNjBxMUswek9IZ3VyYXhULTFRUHhOVVwiLFxyXG4gICAgdjogXCIzLmV4cFwiLFxyXG4gICAgbGlicmFyaWVzOiBcInBsYWNlcyx3ZWF0aGVyLGdlb21ldHJ5LHZpc3VhbGl6YXRpb25cIlxyXG4gIH0pO1xyXG5cclxuICAvKiBOb3RpZmljYXRpb24gY29uZmlnICovXHJcblxyXG4gIE5vdGlmaWNhdGlvblByb3ZpZGVyLnNldE9wdGlvbnMoe1xyXG4gICAgZGVsYXk6IDMwMDAsXHJcbiAgICBzdGFydFRvcDogMjAsXHJcbiAgICBzdGFydFJpZ2h0OiAxMCxcclxuICAgIHZlcnRpY2FsU3BhY2luZzogMjAsXHJcbiAgICBob3Jpem9udGFsU3BhY2luZzogMjAsXHJcbiAgICBwb3NpdGlvblg6IFwicmlnaHRcIixcclxuICAgIHBvc2l0aW9uWTogXCJ0b3BcIlxyXG4gIH0pO1xyXG5cclxuICAvKiBUcmVlIGNvbmZpZ3VyYXRpb24gKi9cclxuICB0cmVlQ29uZmlnLmRlZmF1bHRDb2xsYXBzZWQgPSB0cnVlO1xyXG5cclxuICAvKiBDbG91ZGluYXJ5IGNvbmZpZyAqL1xyXG4gIGNsb3VkaW5hcnlQcm92aWRlclxyXG4gICAgLnNldChcImNsb3VkX25hbWVcIiwgXCJka3RuaG1zanhcIilcclxuICAgIC5zZXQoXCJ1cGxvYWRfcHJlc2V0XCIsIFwiY2xvdWRlc19mcm9udGVuZFwiKTtcclxufVxyXG4iLCJhbmd1bGFyLm1vZHVsZShcInJvdXRlc01vZHVsZVwiLCBbXSkuY29uZmlnKHJvdXRlQ29uZmlnKTtcclxuXHJcbmZ1bmN0aW9uIHJvdXRlQ29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcmVMb2dpblwiLCB7XHJcbiAgICB1cmw6IFwiL1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3ByZUxvZ2luLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicHJlTG9naW5DdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkYXNoYm9hcmRcIiwge1xyXG4gICAgdXJsOiBcIi9kYXNoYm9hcmRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9kYXNoYm9hcmQuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJkYXNoYm9hcmRDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgLyogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkYXNoYm9hcmRfb2xkXCIsIHtcclxuICAgIHVybDogXCIvZGFzaGJvYXJkX29sZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2Rhc2hib2FyZF9vbGQuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJkYXNoYm9hcmRDdHJsIGFzIHZtXCJcclxuICB9KTsgKi9cclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJjcmVhdGVQcm9qZWN0XCIsIHtcclxuICAgIHVybDogXCIvY3JlYXRlX3Byb2plY3RcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9jcmVhdGVQcm9qZWN0Lmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiY3JlYXRlUHJvamVjdEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInZpc3VhbFBsYW5uZXJcIiwge1xyXG4gICAgdXJsOiBcIi92aXN1YWxfcGxhbm5lclwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3Zpc3VhbFBsYW5uZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJ2aXN1YWxQbGFubmVyQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvamVjdHNcIiwge1xyXG4gICAgdXJsOiBcIi9wcm9qZWN0c1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3Byb2plY3RzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicHJvamVjdEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIm1hdGVyaWFsc1wiLCB7XHJcbiAgICB1cmw6IFwiL21hdGVyaWFsc1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL21hdGVyaWFscy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcIm1hdGVyaWFsQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwibWF0ZXJpYWxWaWV3XCIsIHtcclxuICAgIHVybDogXCIvbWF0ZXJpYWwvOmlkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvbWF0ZXJpYWxWaWV3Lmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwibWF0ZXJpYWxWaWV3Q3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiY29tYm9NYXRlcmlhbFZpZXdcIiwge1xyXG4gICAgdXJsOiBcIi9jb21ib19tYXRlcmlhbC86aWRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9jb21ib01hdGVyaWFsVmlldy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImNvbWJvTWF0ZXJpYWxWaWV3Q3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZXF1aXBtZW50c1wiLCB7XHJcbiAgICB1cmw6IFwiL2VxdWlwbWVudHNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9lcXVpcG1lbnRzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiZXF1aXBtZW50Q3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZXF1aXBtZW50Vmlld1wiLCB7XHJcbiAgICB1cmw6IFwiL2VxdWlwbWVudFZpZXcvOmlkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvZXF1aXBtZW50Vmlldy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImVxdWlwbWVudFZpZXdDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJmaWxlTWFuYWdlclwiLCB7XHJcbiAgICB1cmw6IFwiL2ZpbGVfbWFuYWdlclwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2ZpbGVNYW5hZ2VyLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiZmlsZU1hbmFnZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwYXlyb2xsXCIsIHtcclxuICAgIHVybDogXCIvcGF5cm9sbFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3BheXJvbGwuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJwYXlyb2xsQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiY2FsY3VsYXRpb25cIiwge1xyXG4gICAgdXJsOiBcIi9jYWxjdWxhdGlvblwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2NhbGN1bGF0aW9uLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiY2FsY3VsYXRpb25DdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJyZXBvcnRcIiwge1xyXG4gICAgdXJsOiBcIi9yZXBvcnRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9yZXBvcnRzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicmVwb3J0c0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImlzc3Vlc1wiLCB7XHJcbiAgICB1cmw6IFwiL2lzc3Vlc1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2lzc3Vlcy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImlzc3Vlc0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaXNzdWVzRGV0YWlsXCIsIHtcclxuICAgIHVybDogXCIvaXNzdWVzX2RldGFpbHMvOmlkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvaXNzdWVzX2RldGFpbHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJpc3N1ZURldGFpbEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInJlcG9ydHNEZXRhaWxcIiwge1xyXG4gICAgdXJsOiBcIi9yZXBvcnRzX2RldGFpbHMvOmlkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvcmVwb3J0c2RldGFpbHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJyZXBvcnREZXRhaWxDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJiaWxsaW5nQXJjaGl2ZVwiLCB7XHJcbiAgICB1cmw6IFwiL2JpbGxpbmdfYXJjaGl2ZVwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2JpbGxpbmdBcmNoaXZlLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiYmlsbGluZ0FyY2hpdmVDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJyZXBvcnRzTGlzdGluZ1wiLCB7XHJcbiAgICB1cmw6IFwiL3JlcG9ydHNfbGlzdGluZ1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3JlcG9ydHNMaXN0aW5nLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicmVwb3J0c0xpc3RpbmdDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCIzZERhc2hib2FyZFwiLCB7XHJcbiAgICB1cmw6IFwiLzNkX2Rhc2hib2FyZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzLzNkLWRhc2hib2FyZC5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcIl8zZERhc2hib2FyZEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNldFBhc3N3b3JkXCIsIHtcclxuICAgIHVybDogXCIvc2V0X3Bhc3N3b3JkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvc2V0X3Bhc3N3b3JkLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwic2V0UGFzc3dvcmRDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNldHRpbmdcIiwge1xyXG4gICAgdXJsOiBcIi9zZXR0aW5nXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvc2V0dGluZy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInNldHRpbmdDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlbXBsb3llZXNcIiwge1xyXG4gICAgdXJsOiBcIi9lbXBsb3llZXNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9lbXBsb3llZS5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImVtcGxveWVlc0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIjNkdmlld2VyXCIsIHtcclxuICAgIHVybDogXCIvM2R2aWV3ZXJcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy8zZC12aWV3ZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJfM2R2aWV3ZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJjbGllbnRzXCIsIHtcclxuICAgIHVybDogXCIvY2xpZW50c1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2NsaWVudHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJjbGllbnRzQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic3VwcGxpZXJcIiwge1xyXG4gICAgdXJsOiBcIi9zdXBwbGllclwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3N1cHBsaWVyLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwic3VwcGxpZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInN1cHBsaWVyRGV0YWlsXCIsIHtcclxuICAgIHVybDogXCIvc3VwcGxpZXJfZGV0YWlscy86aWRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9zdXBwbGllcmRldGFpbHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJzdXBwbGllckRldGFpbEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInN1YmNvbnRyYWN0b3JcIiwge1xyXG4gICAgdXJsOiBcIi9zdWJjb250cmFjdG9yXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvc3ViY29udHJhY3Rvci5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInN1YmNvbnRyYWN0b3JDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzdWJjb250cmFjdG9yRGV0YWlsXCIsIHtcclxuICAgIHVybDogXCIvc3ViY29udHJhY3Rvcl9kZXRhaWxzLzppZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3N1YmNvbnRyYWN0b3JkZXRhaWxzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwic3ViY29udHJhY3RvckRldGFpbEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIm1lZXRpbmdyb29tXCIsIHtcclxuICAgIHVybDogXCIvbWVldGluZ3Jvb21cIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9tZWV0aW5nUm9vbS5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcIm1lZXRpbmdSb29tQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiY2FsZW5kZXJcIiwge1xyXG4gICAgdXJsOiBcIi9jYWxlbmRlclwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2NhbGVuZGVyLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiY2FsZW5kZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuICBcclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRvZG9cIiwge1xyXG4gICAgdXJsOiBcIi90b2RvXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvdG9kby5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInRvZG9DdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0b2RvVmlld1wiLCB7XHJcbiAgICB1cmw6IFwiL3RvZG9WaWV3LzppZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3RvZG9WaWV3Lmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwidG9kb1ZpZXdDdHJsIGFzIHZtXCJcclxuICB9KTtcclxufVxyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJhcGlGYWN0b3J5XCIsIGFwaUZhY3RvcnkpO1xyXG5cclxuICBmdW5jdGlvbiBhcGlGYWN0b3J5KFxyXG4gICAgJGh0dHAsXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgZ2xvYmFscyxcclxuICAgIFVwbG9hZCxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgICRxXHJcbiAgKSB7XHJcbiAgICAvL2NvbnN0IHVybCA9IFwiaHR0cDovLzE5Mi4xNjguMTAuMTg4OjEzMzdcIixcclxuICAgIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly9hcGkuc3RhZ2luZy5jbG91ZGVzLmV1XCIsXHJcbiAgICAvL2NvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo0MjAwXCIsXHJcbiAgICAgIC8vY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjEzMzdcIixcclxuICAgICAgaGVhZGVycyA9IChtZXRob2QsIHRva2VuKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IG1ldGhvZCA9PT0gXCJHRVRcIiA/IHVuZGVmaW5lZCA6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlblxyXG4gICAgICAgICAgICA/IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgcGxhdGZvcm06IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgc291cmNlOiBcIndlYlwiXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIGhlYWRlcnMzRCA9IChtZXRob2QsIHRva2VuKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IG1ldGhvZCA9PT0gXCJHRVRcIiA/IHVuZGVmaW5lZCA6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlblxyXG4gICAgICAgICAgICA/IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAga2V5OiBcImZhdnlAMTIzXCJcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICB7IHByb2dyZXNzLCB1c2VyU3RvcmUsIGxvZ291dCB9ID0gZ2xvYmFscztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsb2dpbjogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2F1dGhlbnRpY2F0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBmb3Jnb3RQYXNzd29yZDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2ZvcmdldFBhc3N3b3JkXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZWdpc3RyYXRpb246IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9kYXNoYm9hcmRSZWdpc3RyYXRpb25cIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL3N1YnNjcmliZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0Q29tcGFueUJ5SWQ6IGZ1bmN0aW9uKGNvbXBhbnlJZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldENvbXBhbnlCeUlkLyR7Y29tcGFueUlkfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbFVzZXJzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0YWRtaW51c2Vyc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIGxpc3RBbGxDb3VudHJ5Q29kZSA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAvLyAgICRyb290U2NvcGUuYXBpV2FpdCA9IHRydWU7XHJcbiAgICAgIC8vICAgJGh0dHBcclxuICAgICAgLy8gICAgIC5nZXQoXCJhcHAvZGF0YS9jb21tb24tYXBpL0NvdW50cnlDb2RlLmpzb25cIiwgdm0uZ2V0Q29uZmlnKCkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAvLyAgICAgICAkcm9vdFNjb3BlLmFwaVdhaXQgPSBmYWxzZTtcclxuICAgICAgLy8gICAgICAgY2IocmVzLmRhdGEpO1xyXG4gICAgICAvLyAgICAgfSxcclxuICAgICAgLy8gICAgIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgLy8gICAgICAgJHJvb3RTY29wZS5hcGlXYWl0ID0gZmFsc2U7XHJcbiAgICAgIC8vICAgICAgIGlmIChlcnIuc3RhdHVzKSB7XHJcbiAgICAgIC8vICAgICAgICAgdm0uc2hvd0FsZXJ0KHRoaXMsIGVycik7XHJcbiAgICAgIC8vICAgICAgIH1cclxuICAgICAgLy8gICAgICAgZWxzZSB7XHJcbiAgICAgIC8vICAgICAgICAgY2IoZXJyLmRhdGEpO1xyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgIC8vICAgICB9KVxyXG4gICAgICAvL30sXHJcblxyXG4gICAgICBsaXN0QWxsUHJvamVjdHM6IGZ1bmN0aW9uKHF1ZXJ5T2JqKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gIXF1ZXJ5T2JqIC8vIGJ1aWxkaW5nIHF1ZXJ5IHN0cmluZ1xyXG4gICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKHF1ZXJ5T2JqKS5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBzdHIgPSBgJHt2fT0ke3F1ZXJ5T2JqW3ZdfSZgO1xyXG4gICAgICAgICAgICAgIGFjYyArPSBzdHI7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgXCI/XCIpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuc2xpY2UoMCwgLTEpOyAvLyByZW1vdmUgdHJhaWxpbmcgJlxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0QWxsUHJvamVjdHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxDbGllbnRzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIC8vIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgIC8vICAgJGh0dHAoe1xyXG4gICAgICAgIC8vICAgICB1cmw6IHVybCArIFwiXCIsXHJcbiAgICAgICAgLy8gICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAvLyAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgIC8vICAgfSlcclxuICAgICAgICAvLyApO1xyXG4gICAgICAgIC8vIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbENsaWVudHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxSb29mZXJzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbFJvb2ZlcnNcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjcmVhdGVQcm9qZWN0OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZVByb2plY3RcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZUlzc3VlOiBmdW5jdGlvbihpc3N1ZW9iaikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW4gY3JlYXRlIGlzc3VlIGFwaVwiLCBpc3N1ZW9iaik7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY3JlYXRlSXNzdWVcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogaXNzdWVvYmosXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZUlzc3VlUzNVcGxvYWQ6IGZ1bmN0aW9uKGlzc3Vlb2JqKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY3JlYXRlSXNzdWVGb3JTM1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBpc3N1ZW9iaixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldElzc3VlQnlJZDogZnVuY3Rpb24oaXNzdWVJRCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldElzc3VlQnlJZC8ke2lzc3VlSUR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVJc3N1ZTogZnVuY3Rpb24oaXNzdWVvYmosIGlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdXBkYXRlSXNzdWUvXCIgKyBpZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBpc3N1ZW9iaixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0UHJvamVjdFJvb2ZQbGFuczogZnVuY3Rpb24ocHJvamVjdElkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldFByb2plY3RSb29mUGxhbnMvXCIgKyBwcm9qZWN0SWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2F2ZVJvb2ZQbGFuOiBmdW5jdGlvbihyb29mUGxhbklkLCBwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3NhdmVSb29mUGxhbi9cIiArIHJvb2ZQbGFuSWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlTWF0ZXJpYWxzOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY3JlYXRlTWF0ZXJpYWxcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZUVxdWlwbWVudDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZUVxdWlwbWVudFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbE1hdGVyaWFsczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RBbGxNYXRlcmlhbHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxDb21ib01hdGVyaWFsczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RDb21ib01hdGVyaWFsc1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbEVxdWlwbWVudHM6IGZ1bmN0aW9uKHF1ZXJ5T2JqKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gIXF1ZXJ5T2JqIC8vIGJ1aWxkaW5nIHF1ZXJ5IHN0cmluZ1xyXG4gICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKHF1ZXJ5T2JqKS5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBzdHIgPSBgJHt2fT0ke3F1ZXJ5T2JqW3ZdfSZgO1xyXG4gICAgICAgICAgICAgIGFjYyArPSBzdHI7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgXCI/XCIpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuc2xpY2UoMCwgLTEpOyAvLyByZW1vdmUgdHJhaWxpbmcgJlxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0QWxsRXF1aXBtZW50c1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlTWF0ZXJpYWxCeUlkOiBmdW5jdGlvbihpZCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3VwZGF0ZU1hdGVyaWFsQnlJZC9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldE1hdGVyaWFsQnlJZDogZnVuY3Rpb24obWF0ZXJpYWxJRCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldE1hdGVyaWFsQnlJZC8ke21hdGVyaWFsSUR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRDb21ib01hdGVyaWFsQnlJZDogZnVuY3Rpb24oY29tYm9JZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldENvbWJvTWF0ZXJpYWxCeUlkLyR7Y29tYm9JZH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldEVxdWlwbWVudEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvZ2V0RXF1aXBtZW50QnlJZC8ke2lkfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBjcmVhdGVDb21ib01hdGVyaWFsOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiBgJHt1cmx9L2FwaS9jcmVhdGVDb21ib01hdGVyaWFsYCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgdXBkYXRlQ29tYm9NYXRlcmlhbExpc3Q6IGZ1bmN0aW9uKGlkLCBwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvdXBkYXRlQ29tYm9NYXRlcmlhbExpc3QvJHtpZH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVDb21ib01hdGVyaWFsOiBmdW5jdGlvbihpZCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvdXBkYXRlQ29tYm9NYXRlcmlhbC8ke2lkfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgc2hvd0NvbnZlcnNpb25SYXRlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3Nob3dDb252ZXJzaW9uUmF0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gZ2V0Q3VycmVuY3lCYXNlZE9uQ2FsY3VsYXRpb25EYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgLy8gICAgICRodHRwKHtcclxuICAgICAgLy8gICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0Q3VycmVuY3lCYXNlZE9uQ2FsY3VsYXRpb25EYXRlXCIsXHJcbiAgICAgIC8vICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIC8vICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAvLyAgICAgICBkYXRhOiB7XHJcbiAgICAgIC8vICAgICAgICAgZGF0ZTogbmV3IERhdGUoKVxyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgIC8vICAgICB9KVxyXG4gICAgICAvLyAgICk7XHJcbiAgICAgIC8vICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIC8vIH0sXHJcbiAgICAgIGdldE1hdGVyaWFsQnlJZDogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0TWF0ZXJpYWxCeUlkL1wiICsgaWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICAvKiBEZWNvcmF0ZSBhamF4IGNhbGxzIHdpdGggcHJvZ3Jlc3MgYmFyICovXHJcbiAgICAgIHByb2dyZXNzaWZ5OiBwcm9taXNlID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgcHJvZ3Jlc3Muc3RhcnQoKTtcclxuICAgICAgICAgIHByb21pc2VcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICByZXNvbHZlKHJlc3ApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICBwcm9ncmVzcy5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBsaXN0QWxsSXNzdWVzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbElzc3Vlc1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0SXNzdWVzTGlzdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FsbElzc3Vlc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgaXNUb2tlblZhbGlkOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvaXNUb2tlblZhbGlkXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzZXRQYXNzd29yZDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL3Jlc2V0UGFzc3dvcmRBZG1pblwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHVwZGF0ZVJvbGVCYXNlZEFjY2VzczogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGRhdGVSb2xlQmFzZWRBY2Nlc3NcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBGaWxlIE1hbmFnZXIgQVBJcyAqL1xyXG4gICAgICBhZGRIaWVyYXJjaHk6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYWRkSGllcmFyY2h5XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEhpZXJhcmNoeUNoaWxkcmVuOiBmdW5jdGlvbihoaWVyYXJjaHlJZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRIaWVyYXJjaHlDaGlsZHJlbi9cIiArIGhpZXJhcmNoeUlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0SGllcmFyY2h5OiBmdW5jdGlvbihwcm9qZWN0SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0SGllcmFyY2h5L1wiICsgcHJvamVjdElkICsgXCI/ZGVwdGg9MlwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgdmlld1Byb2plY3RBc3NldHM6IGZ1bmN0aW9uKHByb2plY3RJZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS92aWV3UHJvamVjdEFzc2V0cy9cIiArIHByb2plY3RJZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBhZGRGaWxlVG9IaWVyYXJjaHk6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYWRkRmlsZVRvSGllcmFyY2h5XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdmlld0hpZXJhcmNoeTogZnVuY3Rpb24oaGllcmFyY2h5SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdmlld0hpZXJhcmNoeS9cIiArIGhpZXJhcmNoeUlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNsb25lQXNzZXRzOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2Nsb25lQXNzZXRzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICB1cGxvYWRGaWxlSW5GaWxlTWFuYWdlcjogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3VwbG9hZEZpbGVJbkZpbGVNYW5hZ2VyXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkcmFnTW92ZU5vZGVzOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2RyYWdNb3ZlTm9kZXNcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbW92ZUFzc2V0czogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9tb3ZlQXNzZXRzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGRlbGV0ZUFzc2V0czogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9kZWxldGVBc3NldHNcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICAvLzNELXNpdGUgcmVkaXJlY3Rpb24gYXBpIGNhbGxcclxuXHJcbiAgICAgIGdldDNEUGFnZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IHRva2VuID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJhY2Nlc3MtdG9rZW5cIik7XHJcblxyXG4gICAgICAgIHZhciBEYXRhM0QgPSB7XHJcbiAgICAgICAgICBcIngtYWNjZXNzLXRva2VuXCI6IHRva2VuLFxyXG4gICAgICAgICAgcHJvamVjdElkOiBcIjViNjk3YzAzMGE3ZTk3MDU2ODM1YTk0YVwiXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRlcy0zZC5jb21cIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogRGF0YTNEXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvL2NyZWF0ZSBuZXcgY2xpZW50XHJcbiAgICAgIGNyZWF0ZUNsaWVudDogZnVuY3Rpb24oY2xpZW50KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjbGllbnQgaW4gYXBpIGZhY3RvcnlcIiwgY2xpZW50KTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY3JlYXRlQ2xpZW50XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBjbGllbnRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNhdmVIaWVyYXJjaHlUcmVlOiBmdW5jdGlvbihwcm9qZWN0SWQsIG5hbWUpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvc2F2ZUhpZXJhcmNoeVRyZWUvXCIgKyBwcm9qZWN0SWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IG5hbWVcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldFN5c3RlbVRhZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldENvbWJvU3lzdGVtVGFnXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBib29rTWFya1Byb2plY3Q6IGZ1bmN0aW9uKGlkLCBhZGRlZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9ib29rTWFya1Byb2plY3RcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgcHJvamVjdElkOiBpZCxcclxuICAgICAgICAgICAgICBhZGRlZDogYWRkZWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0Qm9va21hcmtzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0Qm9va21hcmtzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRIaWVyYXJjaHlUZW1wbGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEhpZXJhcmNoeVRlbXBsYXRlXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbG9hZEhpZXJhcmNoeVRyZWU6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbG9hZEhpZXJhcmNoeVRyZWVcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgbmV3RmlsZVVwbG9hZDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9uZXdGaWxlVXBsb2FkXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzaG93UHJvamVjdEZpbGVzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvc2hvd1Byb2plY3RGaWxlc1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBjaGFuZ2VQcm9qZWN0VGVtcGxhdGU6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY2hhbmdlUHJvamVjdFRlbXBsYXRlXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNob3dQcm9qZWN0RmlsZXM6IGZ1bmN0aW9uKGlkLCBsaW1pdCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9zaG93UHJvamVjdEZpbGVzL1wiICsgaWQgKyBcIj9saW1pdD1cIiArIGxpbWl0LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0UHJvamVjdEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldFByb2plY3RCeUlkL1wiICsgaWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBjaGVja0Fzc2V0RHVwbGljYXRlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NoZWNrQXNzZXREdXBsaWNhdGVcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlTmV3U3VwcGxpZXI6IGZ1bmN0aW9uKHN1cHBsaWVyKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYWRkc3VwcGxpZXJcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogc3VwcGxpZXIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRBbGxTdXBwbGllcnM6IGZ1bmN0aW9uKHF1ZXJ5T2JqKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gIXF1ZXJ5T2JqIC8vIGJ1aWxkaW5nIHF1ZXJ5IHN0cmluZ1xyXG4gICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKHF1ZXJ5T2JqKS5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBzdHIgPSBgJHt2fT0ke3F1ZXJ5T2JqW3ZdfSZgO1xyXG4gICAgICAgICAgICAgIGFjYyArPSBzdHI7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgXCI/XCIpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuc2xpY2UoMCwgLTEpOyAvLyByZW1vdmUgdHJhaWxpbmcgJlxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0YWxsc3VwcGxpZXJzXCIgKyBxdWVyeSxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRBbGxTdWJjb250cmFjdG9yczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RhbGxzdWJjb250cmFjdG9yXCIgKyBxdWVyeSxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBhZGRQcm9qZWN0Um9vZlBsYW46IGZ1bmN0aW9uKHBheWxvYWQsIHByb2plY3RJZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9hZGRQcm9qZWN0Um9vZlBsYW5cIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZW5lcmF0ZVJvb2ZQbGFuczogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZW5lcmF0ZVJvb2ZQbGFuc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgYWRkUm9vZlBsYW5zRnJvbUFzc2V0OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZFJvb2ZQbGFuc0Zyb21Bc3NldFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0U3VwcGxpZXJCeUlkOiBmdW5jdGlvbihzdXBwbGllcklEKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvZ2V0c3VwcGxpZXIvJHtzdXBwbGllcklEfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlTmV3U3ViY29udHJhY3RvcjogZnVuY3Rpb24oc3ViY29udHJhY3Rvcikge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZHN1YmNvbnRyYWN0b3JcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogc3ViY29udHJhY3RvcixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldFN1YmNvbnRyYWN0b3JCeUlkOiBmdW5jdGlvbihzdXBwbGllcklEKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvZ2V0c3ViY29udHJhY3Rvci8ke3N1cHBsaWVySUR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBpc3N1ZUltYWdlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvaXNzdWVJbWFnZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbmV3SXNzdWVzM0ZpbGVVcGxvYWQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIklOIFMzIElTU1VFIEZVTkNUSU9OXCIpO1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9uZXdJc3N1ZXMzRmlsZVVwbG9hZFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcG9zdENvbW1lbnRGb3JJc3N1ZTogZnVuY3Rpb24oaWQsIGNvbW1lbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbW1lbnQ6IFwiLCBjb21tZW50KTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYWRkY29tbWVudC9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGNvbW1lbnQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNhdmVMb2NhbElzc3VlQXNzZXQ6IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiBgJHt1cmx9L2FwaS9sb2NhbEZpbGVJbWFnZXNgLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogZmlsZXNcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHBvc3RNYXJrSW1nOiBmdW5jdGlvbihkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGF0YTogXCIsIGR0KTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL3Bvc3RtYXJraW5nc2AsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBkdFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcmVPcGVuSXNzdWVTdGF0dXNVcGRhdGU6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgdmFyIElzc3Vlc3RhdHVzT2JqID0geyBjb21wbGV0aW9uU3RhdHVzOiBcIk9QRU5cIiB9O1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9yZW9wZW5TdGF0dXMvXCIgKyBpZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBJc3N1ZXN0YXR1c09iaixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0QWxsQXRPbmNlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBtYWtlIG91ciBvd24gcHJvbWlzZVxyXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG4gICAgICAgIC8vIHdlJ2xsIGFzdW1lIHRoYXQgeW91IGNhbiBwdXQgdGhlIGZydWl0IGFzIHBhcnQgb2YgdGhlIHBhdGhcclxuICAgICAgICB2YXIgaW5mb1Byb21pc2UgPSAkaHR0cCh7XHJcbiAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRhZG1pbnVzZXJzXCIsXHJcbiAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGRldGFpbHNQcm9taXNlID0gJGh0dHAoe1xyXG4gICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbFJvb2ZlcnNcIixcclxuICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyAkaHR0cC5nZXQodXJsICsgXCIvYXBpL2xpc3RBbGxSb29mZXJzXCIpO1xyXG5cclxuICAgICAgICAkcS5hbGwoW2luZm9Qcm9taXNlLCBkZXRhaWxzUHJvbWlzZV0pLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XHJcbiAgICAgICAgICAgIGZydWl0SW5mbzogZGF0YVswXSxcclxuICAgICAgICAgICAgZnJ1aXREZXRhaWxzOiBkYXRhWzFdXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNhdmVJc3N1ZUFzQ29tcGxldGU6IGZ1bmN0aW9uKGlkLCBvYmplY3QpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhvYmplY3QpO1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL21hcmtpc3N1ZWFzY29tcGxldGUvXCIgKyBpZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBvYmplY3QsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldEFjY2Vzc01lZXRpbmdSb29tVG9rZW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSAkaHR0cCh7XHJcbiAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRBY2Nlc3NNZWV0aW5nUm9vbVRva2VuXCIsXHJcbiAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJhdXRoRmFjdG9yeVwiLCBhdXRoRmFjdG9yeSk7XHJcblxyXG4gIGZ1bmN0aW9uIGF1dGhGYWN0b3J5KCRodHRwLCAkbG9jYXRpb24sIGxvY2FsU3RvcmFnZVNlcnZpY2UpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNoZWNrVXNlcjogKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJhY2Nlc3MtdG9rZW5cIik7XHJcbiAgICAgICAgaWYgKHRva2VuICYmIHRva2VuICE9IFwiXCIpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBjaGVja1ByaXZpbGVnZTogKHR5cGUsIHN1YlR5cGUpID0+IHtcclxuICAgICAgICBsZXQgeyBwcml2aWxlZ2UgfSA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwidXNlckRhdGFcIik7XHJcbiAgICAgICAgbGV0IHsgcHJpdmlsZWdlcyB9ID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJjb21wYW55RGF0YVwiKTtcclxuXHJcbiAgICAgICAgaWYgKHByaXZpbGVnZSA8PSBwcml2aWxlZ2VzW3R5cGVdW3N1YlR5cGVdKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcImZpbGVNYW5hZ2VyRmFjdG9yeVwiLCBmaWxlTWFuYWdlckZhY3RvcnkpO1xyXG5cclxuICBmdW5jdGlvbiBmaWxlTWFuYWdlckZhY3RvcnkoYXBpRmFjdG9yeSwgTm90aWZpY2F0aW9uKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjbGlwQm9hcmQ6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAvKiAgKi9cclxuICAgICAgICBsZXQgaXRlbXMgPSB7XHJcbiAgICAgICAgICB0eXBlOiAwLFxyXG4gICAgICAgICAgZGF0YTogW10sXHJcbiAgICAgICAgICBzb3VyY2U6IG51bGxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBjb3B5OiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zLnNvdXJjZSA9IG51bGw7XHJcbiAgICAgICAgICAgIGl0ZW1zLnR5cGUgPSAwO1xyXG4gICAgICAgICAgICBpdGVtcy5kYXRhID0gW2l0ZW1dO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGN1dDogZnVuY3Rpb24oaXRlbSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zLnNvdXJjZSA9IHNvdXJjZTtcclxuICAgICAgICAgICAgaXRlbXMudHlwZSA9IDE7XHJcbiAgICAgICAgICAgIGl0ZW1zLmRhdGEgPSBbaXRlbV07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcGFzdGU6IGZ1bmN0aW9uKGRlc3RJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChpdGVtcy5kYXRhLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiQ2xpcGJvYXJkIGlzIGVtcHR5XCIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBjb25zdCBhcGlUeXBlID0gaXRlbXMudHlwZSA9PT0gMCA/IFwiY2xvbmVBc3NldHNcIiA6IFwibW92ZUFzc2V0c1wiO1xyXG5cclxuICAgICAgICAgICAgICAvKiBDaGFuZ2UgcGF5bG9hZCBkZXBlbmRpbmcgdXBvbiBjdXQgb3IgY29weSAqL1xyXG4gICAgICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgYXNzZXRJZDogaXRlbXMuZGF0YS5tYXAoeCA9PiB4Ll9pZCksXHJcbiAgICAgICAgICAgICAgICBzb3VyY2VJZDogaXRlbXMudHlwZSA9PT0gMCA/IHVuZGVmaW5lZCA6IGl0ZW1zLnNvdXJjZSxcclxuICAgICAgICAgICAgICAgIGRlc3RJZDogaXRlbXMudHlwZSA9PT0gMCA/IHVuZGVmaW5lZCA6IGRlc3RJZCxcclxuICAgICAgICAgICAgICAgIGhpZXJhcmNoeUlkOiBpdGVtcy50eXBlID09PSAwID8gZGVzdElkIDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgYXBpRmFjdG9yeVthcGlUeXBlXShwYXlsb2FkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgLyogQ2xlYXIgY2xpcGJvYXJkIGFmdGVyIHBhc3RpbmcgKi9cclxuICAgICAgICAgICAgICAgICAgaXRlbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogMCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IG51bGxcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICByZWplY3QoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pKCksXHJcblxyXG4gICAgICBuYXZpZ2F0aW9uU3RhY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBzdGFjayA9IFtdLFxyXG4gICAgICAgICAgaGVhZCA9IHN0YWNrLmxlbmd0aCAtIDEsXHJcbiAgICAgICAgICAvLyBUT0RPOiBubyBhY3Rpb24gaGFuZGxlciByZXF1aXJlZCBmb3Igbm93XHJcbiAgICAgICAgICBhdHRhY2hIYW5kbGVyID0gYWN0aW9uID0+IHtcclxuICAgICAgICAgICAgbGV0IG9iaiA9IHt9O1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcHVzaDogaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHN0YWNrLnNwbGljZShoZWFkICsgMSwgc3RhY2subGVuZ3RoLCBpdGVtKTtcclxuICAgICAgICAgICAgaGVhZCA9IHN0YWNrLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZm9yd2FyZDogKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgb2JqO1xyXG4gICAgICAgICAgICBpZiAoIXN0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIC8qIElnbm9yZSBmb3IgZW1wdHkgc3RhY2sgKi9cclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhlYWQgPT09IHN0YWNrLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAvKiBJZ25vcmUgZm9yIGVuZCBvZiB0aGUgc3RhY2sgKi9cclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGhlYWQrKztcclxuICAgICAgICAgICAgaWYgKHN0YWNrW2hlYWRdKSB7XHJcbiAgICAgICAgICAgICAgc3RhY2tbaGVhZF0udG9nZ2xlKCk7XHJcbiAgICAgICAgICAgICAgb2JqID0gc3RhY2tbaGVhZF07XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJhY2t3YXJkOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBvYmo7XHJcbiAgICAgICAgICAgIGlmICghc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgLyogSWdub3JlIGZvciBlbXB0eSBzdGFjayAqL1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGhlYWQgPCAwKSB7XHJcbiAgICAgICAgICAgICAgLyogSWdub3JlIGZvciBlbmQgb2YgdGhlIHN0YWNrICovXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGFja1toZWFkXSkge1xyXG4gICAgICAgICAgICAgIHN0YWNrW2hlYWRdLnRvZ2dsZSgpO1xyXG4gICAgICAgICAgICAgIGhlYWQtLTtcclxuICAgICAgICAgICAgICBvYmogPSBzdGFja1toZWFkXTtcclxuICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGJyZWFkQ3J1bWI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBicmVhZENydW1icyA9IFtdO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZXQ6IHZhbCA9PiB7XHJcbiAgICAgICAgICAgIGJyZWFkQ3J1bWJzLnB1c2godmFsKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXQ6ICgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGJyZWFkQ3J1bWJzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGZpbGVPYmpcclxuICAgICAgICogQHJldHVybnMge09iamVjdH0gIHsgczM6IFtmaWxlc10sIGNsb3VkaW5hcnk6IFtmaWxlc10gfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIHNwbGl0RGVzdGluYXRpb246IGZpbGVzQXJyYXkgPT4ge1xyXG4gICAgICAgIHJldHVybiBmaWxlc0FycmF5LnJlZHVjZShcclxuICAgICAgICAgIChhY2MsIHgpID0+IHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHguc2l6ZSA8IDUwMDAwMDAwICYmXHJcbiAgICAgICAgICAgICAgKHgudHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9wZGZcIiB8fCAvaW1hZ2UqLy50ZXN0KHgudHlwZSkpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIGFjYy5jbG91ZGluYXJ5LnB1c2goeCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLyogSWYgZmlsZSBzaXplIGlzIGdyZWF0ZXIgdGhhbiA1MG1iIGFuZCB0aGUgZmlsZSBpcyBhIHBkZiwgZ2VuZXJhdGUgYSB0aHVtYm5haWwgKi9cclxuICAgICAgICAgICAgICBhY2MuczMucHVzaCh4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHsgczM6IFtdLCBjbG91ZGluYXJ5OiBbXSB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsZVxyXG4gICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAgMSAtIGRpcmVjdCBzMywgMiAtIHMzIC0+IGNsb3VkaW5hcnlcclxuICAgICAgICovXHJcblxyXG4gICAgICByZXNvbHZlRGVzdFR5cGU6IGZpbGUgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGZpbGUuc2l6ZSA8IDUwMDAwMDAwICYmXHJcbiAgICAgICAgICAoZmlsZS50eXBlID09PSBcImFwcGxpY2F0aW9uL3BkZlwiIHx8IC9pbWFnZSovLnRlc3QoZmlsZS50eXBlKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBmaWxlc1xyXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAgICovXHJcbiAgICAgIGNoZWNrVXBsb2FkQ29tcGxldGlvbjogZmlsZXMgPT4ge1xyXG4gICAgICAgIGxldCBib29sID0gdHJ1ZTtcclxuICAgICAgICBmaWxlcy5zMy5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgaWYgKCF4LmNvbXBsZXRlZCAmJiAheC5hYm9ydGVkICYmIGJvb2wpIHtcclxuICAgICAgICAgICAgYm9vbCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpbGVzLmNsb3VkaW5hcnkuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgIGlmICgheC5jb21wbGV0ZWQgJiYgIXguYWJvcnRlZCAmJiBib29sKSB7XHJcbiAgICAgICAgICAgIGJvb2wgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gYm9vbDtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBmaWxlcyAtIEFycmF5IG9mIGZpbGVcclxuICAgICAgICogQHJldHVybnMge1Byb21pc2V9IC0gUmVzb2x2aW5nIHdpbGwgZmV0Y2ggYW4gb2JqZWN0IG9mIGZpbGVzIGNhdGVnb3JpemVkIGludG8gdHdvIGFycmF5c1xyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIGNoZWNrRHVwbGljYXRlRmlsZXM6IChmaWxlcywgZGVzdElkKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmNoZWNrQXNzZXREdXBsaWNhdGUoe1xyXG4gICAgICAgICAgICAgIGFzc2V0TmFtZXM6IGZpbGVzLm1hcCh4ID0+IHgubmFtZSksXHJcbiAgICAgICAgICAgICAgZGVzdElkXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIC8qIEdldCBkdXBsaWNhdGUgZmlsZSBvYmogKi9cclxuICAgICAgICAgICAgICBsZXQgZHVwbGljYXRlRmlsZXMgPSBmaWxlc1xyXG4gICAgICAgICAgICAgICAgLm1hcCh4ID0+IHtcclxuICAgICAgICAgICAgICAgICAgeC5hY3Rpb24gPSBcInJlbmFtZVwiO1xyXG4gICAgICAgICAgICAgICAgICB4LmFzc2V0TmFtZSA9IHgubmFtZTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZShcclxuICAgICAgICAgICAgICAgICAgKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3AuZGF0YS5kdXBsaWNhdGVzLmluZGV4T2YoeC5uYW1lKSA9PT0gLTFcclxuICAgICAgICAgICAgICAgICAgICAgID8gYWNjLnVwbG9hZEZpbGVzLnB1c2goeClcclxuICAgICAgICAgICAgICAgICAgICAgIDogYWNjLmR1cGxpY2F0ZXMucHVzaCh4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgeyBkdXBsaWNhdGVzOiBbXSwgdXBsb2FkRmlsZXM6IFtdIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgIHJlc29sdmUoZHVwbGljYXRlRmlsZXMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBmaWxlcyAtIEFycmF5IG9mIGZpbGVcclxuICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgICAqL1xyXG5cclxuICAgICAgY2hlY2tOYW1lQ2hhbmdlOiBmaWxlcyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGZpbGVzLmZpbHRlcih4ID0+IHguYWN0aW9uID09PSBcInJlbmFtZVwiKS5yZWR1Y2UoKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgYWNjID0gYWNjIHx8IHguYXNzZXROYW1lID09PSB4Lm5hbWU7XHJcbiAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZmlsZU5hbWVcclxuICAgICAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgICAgICovXHJcblxyXG4gICAgICBnZW5lcmF0ZVZlcnNpb246IGZpbGVOYW1lID0+IHtcclxuICAgICAgICByZXR1cm4gYCR7ZmlsZU5hbWV9ICh2JHtEYXRlLm5vdygpfSlgO1xyXG4gICAgICB9LFxyXG4gICAgICAvKipcclxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGZpbGVcclxuICAgICAgICovXHJcbiAgICAgIGdlbmVyYXRlVGh1bWJuYWlsOiBmaWxlID0+IHtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBwZGZqc0xpYi5nZXREb2N1bWVudCh7IHVybDogcmVhZGVyLnJlc3VsdCB9KS50aGVuKGRvYyA9PiB7XHJcbiAgICAgICAgICAgIGRvYy5nZXRQYWdlKDEpLnRoZW4ocGFnZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwYWdlISEhXCIsIHBhZ2UpO1xyXG4gICAgICAgICAgICAgIHZhciBzY2FsZSA9IDE7XHJcbiAgICAgICAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydChzY2FsZSk7XHJcbiAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdmlld3BvcnQud2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgIHZhciB0YXNrID0gcGFnZS5yZW5kZXIoe1xyXG4gICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dDogY29udGV4dCxcclxuICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIHRhc2sucHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBcInJvb2ZwbGFuX2ltYWdlX1wiICsgRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IGRhdGFVUkw7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG4gICAgICAgICAgICAgICAgbGluay5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgfSxcclxuICAgICAgc3BsaXRGaWxlRGVzdDogZmlsZXNBcnJheSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGZpbGVzQXJyYXkucmVkdWNlKFxyXG4gICAgICAgICAgKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgeC5maWxlLnNpemUgPCA1MDAwMDAwMCAmJlxyXG4gICAgICAgICAgICAgICh4LmZpbGUudHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9wZGZcIiB8fCAvaW1hZ2UqLy50ZXN0KHguZmlsZS50eXBlKSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgYWNjLmNsb3VkaW5hcnkucHVzaCh4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhY2MuczMucHVzaCh4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHsgczM6IFtdLCBjbG91ZGluYXJ5OiBbXSB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcImdsb2JhbHNcIiwgZ2xvYmFscyk7XHJcblxyXG4gIGZ1bmN0aW9uIGdsb2JhbHMoXHJcbiAgICAkaHR0cCxcclxuICAgICRzdGF0ZSxcclxuICAgICRsb2NhdGlvbixcclxuICAgIG5nUHJvZ3Jlc3NGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZVxyXG4gICkge1xyXG4gICAgLyogVG8gYXZvaWQgcmVkdW5kYW50IGZ1bmN0aW9uIGNhbGxzIG9mIHRoZSBzYW1lIHR5cGUgKEVnLiBtdWx0aXBsZSB0b2tlbiBleHBpcmVkIG1lc3NhZ2VzKSAqL1xyXG4gICAgbGV0IHRocm90dGxlciA9ICgoKSA9PiB7XHJcbiAgICAgIGxldCBlbmFibGVkID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuIGZuID0+IHtcclxuICAgICAgICBpZiAoZW5hYmxlZCkge1xyXG4gICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBmbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0pKCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcHJvZ3Jlc3M6ICgoKSA9PiB7XHJcbiAgICAgICAgbGV0IHByb2dyZXNzYmFyID0gbmdQcm9ncmVzc0ZhY3RvcnkuY3JlYXRlSW5zdGFuY2UoKTtcclxuICAgICAgICByZXR1cm4gcHJvZ3Jlc3NiYXI7XHJcbiAgICAgIH0pKCksXHJcbiAgICAgIGxvZ291dDogKCkgPT4ge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UucmVtb3ZlKFwiYWNjZXNzLXRva2VuXCIpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UucmVtb3ZlKFwidXNlckRhdGFcIik7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmUoXCJjb21wYW55RGF0YVwiKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImN1cnJlbnRQcm9qZWN0XCIsIG51bGwpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UucmVtb3ZlKFwiaW52ZW50b3J5U3RhdGVcIik7XHJcblxyXG4gICAgICAgICRzdGF0ZS5nbyhcInByZUxvZ2luXCIpO1xyXG4gICAgICAgIHRocm90dGxlcigoKSA9PiBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgbG9naW5cIikpO1xyXG4gICAgICB9LFxyXG4gICAgICAvKiBBY2Nlc3MgdXNlciBpbmZvIGdsb2JhbGx5ICovXHJcbiAgICAgIHVzZXJTdG9yZTogKCgpID0+IHtcclxuICAgICAgICBsZXQgdXNlckRhdGEgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcInVzZXJEYXRhXCIpIHx8IHt9O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc2V0OiBkYXRhID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlclJvbGVzID0gW1xyXG4gICAgICAgICAgICAgIFwiYWRtaW5cIixcclxuICAgICAgICAgICAgICBcIm1hbmFnZXJcIixcclxuICAgICAgICAgICAgICBcInN1Yl9jb250cmFjdG9yXCIsXHJcbiAgICAgICAgICAgICAgXCJ0ZWFtX2xlYWRlclwiLFxyXG4gICAgICAgICAgICAgIFwid29ya2VyXCJcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgZGF0YS5wcml2aWxlZ2UgPSB1c2VyUm9sZXMuaW5kZXhPZihkYXRhLmRlc2lnbmF0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwidXNlckRhdGFcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgIHVzZXJEYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIHVzZXJEYXRhO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogKCkgPT4gdXNlckRhdGEsXHJcbiAgICAgICAgICByZXNldDogKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcInVzZXJEYXRhXCIpO1xyXG4gICAgICAgICAgICB1c2VyRGF0YSA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pKCksXHJcblxyXG4gICAgICBjb21wYW55U3RvcmU6ICgoKSA9PiB7XHJcbiAgICAgICAgbGV0IGNvbXBhbnlEYXRhID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJjb21wYW55RGF0YVwiKSB8fCBudWxsO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc2V0OiBkYXRhID0+IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJjb21wYW55RGF0YVwiLCBkYXRhKTtcclxuICAgICAgICAgICAgY29tcGFueURhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcGFueURhdGE7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0OiAoKSA9PiBjb21wYW55RGF0YSxcclxuICAgICAgICAgIC8qIENhbGwgcmVmZXRjaCB3aGVuIGNvbXBhbnkgZGVwZW5kYW50IGRhdGEgaXMgbW9kaWZpZWQgKi9cclxuICAgICAgICAgIHJlZmV0Y2g6IGlkID0+IHtcclxuICAgICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBcIngtYWNjZXNzLXRva2VuXCI6IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpLFxyXG4gICAgICAgICAgICAgICAgcGxhdGZvcm06IEpTT04uc3RyaW5naWZ5KHsgc291cmNlOiBcIndlYlwiIH0pXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB1cmw6IGBodHRwczovL2FwaS5zdGFnaW5nLmNsb3VkZXMuZXUvYXBpL2dldENvbXBhbnlCeUlkLyR7aWR9YFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJjb21wYW55RGF0YVwiLCByZXNwLmRhdGEpO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVzZXQ6ICgpID0+IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmUoXCJjb21wYW55RGF0YVwiKTtcclxuICAgICAgICAgICAgY29tcGFueURhdGEgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9KSgpLFxyXG5cclxuICAgICAgcHJvamVjdFN0b3JlOiAoKCkgPT4ge1xyXG4gICAgICAgIGxldCBjdXJyZW50UHJvamVjdCA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiY3VycmVudFByb2plY3RcIikgfHwgbnVsbDtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc2V0OiBkYXRhID0+IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJjdXJyZW50UHJvamVjdFwiLCBkYXRhKTtcclxuICAgICAgICAgICAgY3VycmVudFByb2plY3QgPSBkYXRhO1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFByb2plY3Q7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0OiAoKSA9PiBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImN1cnJlbnRQcm9qZWN0XCIpLFxyXG4gICAgICAgICAgcmVzZXQ6ICgpID0+IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmUoXCJjdXJyZW50UHJvamVjdFwiKTtcclxuICAgICAgICAgICAgY3VycmVudFByb2plY3QgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pKCksXHJcblxyXG4gICAgICBpbnZlbnRvcnlTdGF0ZTogKCkgPT4ge1xyXG4gICAgICAgIGxldCBzdGF0ZSA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiaW52ZW50b3J5U3RhdGVcIikgfHwge1xyXG4gICAgICAgICAgdGFiOiAwLFxyXG4gICAgICAgICAgc2VhcmNoVGV4dDogXCJcIixcclxuICAgICAgICAgIHBhZ2U6IHtcclxuICAgICAgICAgICAgbWF0ZXJpYWw6IDEsXHJcbiAgICAgICAgICAgIGNvbWJvOiAxXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldFBhZ2U6ICh0eXBlLCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBzdGF0ZS5wYWdlW3R5cGVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwiaW52ZW50b3J5U3RhdGVcIiwgc3RhdGUpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldFRhYjogdmFsID0+IHtcclxuICAgICAgICAgICAgc3RhdGUudGFiID0gdmFsO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImludmVudG9yeVN0YXRlXCIsIHN0YXRlKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB0ZXh0OiB0ZXh0ID0+IHtcclxuICAgICAgICAgICAgaWYgKHRleHQpIHtcclxuICAgICAgICAgICAgICBzdGF0ZS5zZWFyY2hUZXh0ID0gdGV4dDtcclxuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImludmVudG9yeVN0YXRlXCIsIHN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIG1Vbml0czogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6IFwibXRcIixcclxuICAgICAgICAgIHZhbHVlOiBcIm10XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6IFwic3EubXRcIixcclxuICAgICAgICAgIHZhbHVlOiBcInNxLm10XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHZhbHVlOiBcImN1Lm10XCIsXHJcbiAgICAgICAgICBuYW1lOiBcImN1Lm10XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6IFwiZnRcIixcclxuICAgICAgICAgIHZhbHVlOiBcImZ0XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6IFwic3EuZnRcIixcclxuICAgICAgICAgIHZhbHVlOiBcInNxLmZ0XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHZhbHVlOiBcImN1LmZ0XCIsXHJcbiAgICAgICAgICBuYW1lOiBcImN1LmZ0XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHZhbHVlOiBcInVuaXRcIixcclxuICAgICAgICAgIG5hbWU6IFwidW5pdFwiXHJcbiAgICAgICAgfVxyXG4gICAgICBdLFxyXG5cclxuICAgICAgZ2V0Q3VycmVuY3k6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiL2RhdGEvY3VycmVuY2llcy5qc29uXCIpO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRDb3VudHJ5Q29kZTogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvZGF0YS9Db3VudHJ5Q29kZS5qc29uXCIpO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRJbmR1c3RyeTogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvZGF0YS9pbmR1c3RyeS5qc29uXCIpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZGVib3VuY2U6IHJhdGUgPT4ge1xyXG4gICAgICAgIGxldCB0aW1lcjtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZm4sIGFyZ3MpIHtcclxuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcclxuICAgICAgICAgIH0sIHJhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZW5lcmljU3RvcmU6ICgpID0+IHtcclxuICAgICAgICBsZXQgaXRlbTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3RvcmU6IHZhbCA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0gPSB2YWw7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHBkZkxpbmtcclxuICAgICAgICogQHJldHVybnMge09iamVjdFtdfSAtIGxpbmtzIG9mIGluZGl2aWR1YWwgcGFnZXMgYXMgaW1hZ2UgKGNsb3VkaW5hcnkpXHJcbiAgICAgICAqL1xyXG5cclxuICAgICAgZXh0cmFjdFBhZ2VzRnJvbVBkZjogKHBkZkxpbmssIHBhZ2VDb3VudCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBbLi4uQXJyYXkocGFnZUNvdW50KS5rZXlzKCldLnJlZHVjZSgoYWNjLCBfLCBpKSA9PiB7XHJcbiAgICAgICAgICBsZXQgcGFnZU9iaiA9IHtcclxuICAgICAgICAgICAgcGFnZU5vOiBpLFxyXG4gICAgICAgICAgICB1cmw6IHBkZkxpbmtcclxuICAgICAgICAgICAgICAucmVwbGFjZShcIi91cGxvYWQvXCIsIGAvdXBsb2FkL3BnXyR7aSArIDF9L2ApXHJcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcLnBkZiQvLCBcIi5wbmdcIiksXHJcbiAgICAgICAgICAgIHRpdGxlOiBgdGl0bGVfJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiXCJcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBhY2MucHVzaChwYWdlT2JqKTtcclxuICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwgW10pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwZGYgLSBGaWxlIG9iamVjdFxyXG4gICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgICAgICovXHJcblxyXG4gICAgICBjcmVhdGVQYWdlc0Zyb21QZGY6IHBkZiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIHBkZmpzTGliXHJcbiAgICAgICAgICAgIC5nZXREb2N1bWVudChwZGYuc2VjdXJlX3VybClcclxuICAgICAgICAgICAgLnByb21pc2UudGhlbihkb2MgPT4ge1xyXG4gICAgICAgICAgICAgIFByb21pc2UuYWxsKFxyXG4gICAgICAgICAgICAgICAgWy4uLkFycmF5KGRvYy5udW1QYWdlcykua2V5cygpXS5tYXAoKF8sIGkpID0+XHJcbiAgICAgICAgICAgICAgICAgIGRvYy5nZXRQYWdlKGkgKyAxKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIC50aGVuKHBhZ2VzID0+IHtcclxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZShcclxuICAgICAgICAgICAgICAgICAgICBwYWdlcy5tYXAoKHgsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICh4LnBhZ2VObyA9IGkpLCAoeC50aXRsZSA9IGB0aXRsZV8ke0RhdGUubm93KCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICB4LmRlc2NyaXB0aW9uID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZW5kZXJQYWdlOiAocGFnZSwgY2FudmFzKSA9PiB7XHJcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydChcclxuICAgICAgICAgIGNhbnZhcy53aWR0aCAvIHBhZ2UuZ2V0Vmlld3BvcnQoMSkud2lkdGhcclxuICAgICAgICApO1xyXG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0O1xyXG5cclxuICAgICAgICB2YXIgdGFzayA9IHBhZ2UucmVuZGVyKHtcclxuICAgICAgICAgIGNhbnZhc0NvbnRleHQ6IGNvbnRleHQsXHJcbiAgICAgICAgICB2aWV3cG9ydDogdmlld3BvcnRcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiaXNzdWVjcmVhdGVGYWN0b3J5XCIsIGlzc3VlY3JlYXRlRmFjdG9yeSk7XHJcbiAgXHJcbiAgICBmdW5jdGlvbiBpc3N1ZWNyZWF0ZUZhY3RvcnkoXHJcbiAgICAgICRodHRwLFxyXG4gICAgICAkc3RhdGUsXHJcbiAgICAgICRsb2NhdGlvbixcclxuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgICAgZ2xvYmFscyxcclxuICAgICAgVXBsb2FkLFxyXG4gICAgICBOb3RpZmljYXRpb24sXHJcbiAgICAgICRxLFxyXG4gICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICB1cGxvYWRGYWN0b3J5LFxyXG4gICAgICBmaWxlTWFuYWdlckZhY3RvcnlcclxuICAgICkge1xyXG4gICAgICAgIGxldCB2bT10aGlzO1xyXG4gICAgICAgIGxldCBzM0ZpbGVPYmpldHM9W107XHJcbiAgICAgICAgLy9jb25zdCB1cmwgPSBcImh0dHBzOi8vYXBpLnN0YWdpbmcuY2xvdWRlcy5ldVwiLFxyXG4gICAgICAgXHJcbiAgICAgICAgaGVhZGVycyA9IChtZXRob2QsIHRva2VuKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBtZXRob2QgPT09IFwiR0VUXCIgPyB1bmRlZmluZWQgOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlblxyXG4gICAgICAgICAgICAgID8gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJhY2Nlc3MtdG9rZW5cIilcclxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgcGxhdGZvcm06IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICBzb3VyY2U6IFwid2ViXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IHByb2dyZXNzLCB1c2VyU3RvcmUsIGxvZ291dCB9ID0gZ2xvYmFscztcclxuXHJcbiAgICAgICByZXR1cm57XHJcbiAgICAgICAgICAgIGdldEFsbEF0T25jZSA6IGZ1bmN0aW9uKG9iamVjdCxmaWxlc2FycmF5KXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT0JKRUNUOiBcIixvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBUlJBWSBPRiBGSUxFUzogXCIsIGZpbGVzYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBUlJBWSBPRiBGSUxFUyBzMzogXCIsIGZpbGVzYXJyYXkuczMpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBUlJBWSBPRiBGSUxFUyBjbG91ZGluYXJ5OiBcIiwgZmlsZXNhcnJheS5jbG91ZGluYXJ5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugb3VyIG93biBwcm9taXNlXHJcbiAgICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYoZmlsZXNhcnJheS5zMy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGFycmF5PWZpbGVzYXJyYXkuczM7XHJcbiAgICAgICAgICAgICAgIHZhciBTMz0gIGFycmF5LmZvckVhY2goICh4LGksYXJyYXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHgsaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlMzIEZJTEUgRk9SRUFDSCBNRXRob2QgYXMgYXJyYXkgaXMgbm90IG51bGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogQXR0YWNoIGV2ZW50cyBhbmQgcHJvcHMgdG8gZmlsZU9iaiBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgdmlldyAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGxvYWRIYW5kbGVyID0gZXZhcG9yYXRlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIC8qIHVwbG9hZCB0byBzMyBpZiB2YWx1ZSBpcyBsZXNzIHRoYW4gMyAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgeC5maWxlLnBhdXNlID0gdXBsb2FkRmFjdG9yeS5wYXVzZS5iaW5kKGV2YXBvcmF0ZSwgeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB4LmZpbGUucmVzdW1lID0gdXBsb2FkRmFjdG9yeS5yZXN1bWUuYmluZChldmFwb3JhdGUsIHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgeC5maWxlLmFib3J0ID0gdXBsb2FkRmFjdG9yeS5hYm9ydC5iaW5kKGV2YXBvcmF0ZSwgeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgYWRkQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB4LmZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogeC5maWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogKHAsIHN0YXRzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBBV1MgcHJvZ3Jlc3MgcGVyY2VudGFnZSBmYWxscyBiYWNrIHNvbWV0aW1lcyBkdWUgdG8gbWlzc2luZyBmcmFnbWVudGF0aW9uLiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBVcGRhdGUgcHJvZ3Jlc3MgdmFsdWUgb25seSB3aGVuIGl0J3MgaGlnaGVyIHRoYW4gdGhlIHByZXZpb3VzIHZhbHVlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeC5maWxlLnByb2dyZXNzID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguZmlsZS5wcm9ncmVzcyA+IE1hdGgucm91bmQocCAqIDEwMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB4LmZpbGUucHJvZ3Jlc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBNYXRoLnJvdW5kKHAgKiAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8qIENoZWNrIGNvbXBsZXRpb24gKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IChfeGhyLCBhd3NLZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB4LmZpbGUuY29tcGxldGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcGxldGUhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIGV2YXBvcmF0ZS5hZGQoYWRkQ29uZmlnKS50aGVuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihhd3NPYmplY3RLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBTdWNjZXNzIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBmaWxlTWFuYWdlckZhY3RvcnkucmVzb2x2ZURlc3RUeXBlKHguZmlsZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0RGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldE5hbWU6IHguZmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldGRlc2NyaXB0aW9uOnguY29tbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0OiBcIjNkZmlsZXNkYXRhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogYHRlc3QvJHt4LmZpbGUubmFtZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW1ldHlwZTogeC5maWxlLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzOiB4LmZpbGUuc2l6ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLm5ld0lzc3VlczNGaWxlVXBsb2FkKHBheWxvYWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL25ld0lzc3VlczNGaWxlVXBsb2FkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzMyByZXNwOiBcIixyZXNwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczNGaWxlT2JqZXRzLnB1c2gocmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaT09ZmlsZXNhcnJheS5zMy5sZW5ndGgtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcImFsZXJ0cyBjYWxsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXJyYXk6XCIsIHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIC8vICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJGaWxlIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiRmlsZSBzdWNjZXNzZnVsbHkgdXBsb2FkZWQgdG86XCIsIGF3c09iamVjdEtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEZhaWx1cmUgYmxvY2sgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB4LmFib3J0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8qIENoZWNrIGNvbXBsZXRpb24gKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiRmlsZSBkaWQgbm90IHVwbG9hZCBzdWNlc3NmdWxseTpcIiwgcmVhc29uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRGYWN0b3J5LnN0YXJ0KHVwbG9hZEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvL2Nsb3VkaW5hcnkgdXBsb2FkIGZ1bmN0aW9uICBcclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgaWYgKGZpbGVzYXJyYXkuY2xvdWRpbmFyeS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3VkaW5hcnlQYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIGZpbGVzOiBmaWxlc2FycmF5LmNsb3VkaW5hcnksXHJcbiAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAuaXNzdWVJbWFnZSgkc2NvcGUuY2xvdWRpbmFyeVBheWxvYWQpXHJcbiAgICAgICAgICAgICAgICB2YXIgY2xvdWQgPSAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2lzc3VlSW1hZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogY2xvdWRpbmFyeVBheWxvYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzcG9uc2Ugb2YgY2xvdWRpbmFyeTogXCIsIHJlc3ApO1xyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ2hlY2sgY29tcGxldGlvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzYXJyYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyAkcS5hbGwoW1MzLCBjbG91ZF0pLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGRlZmVycmVkLnJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBzM2RhdGE6IGRhdGFbMF0sXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNsb3VkZGF0YTogZGF0YVsxXVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgICAgIHNlbmREYXRhOmZ1bmN0aW9uKG9iamVjdCxmaWxlcyl7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cob2JqZWN0KVxyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGVzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAvLyBzZW5kQWxsOmZ1bmN0aW9uKG9iamVjdCwgZmlsZXNhcnJheSl7XHJcbiAgICAgICAgICAgIC8vICAgaWYoZmlsZXNhcnJheSlcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuXHJcblxyXG59KSgpOyIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcInVwbG9hZEZhY3RvcnlcIiwgdXBsb2FkRmFjdG9yeSk7XHJcblxyXG4gIGZ1bmN0aW9uIHVwbG9hZEZhY3RvcnkoXHJcbiAgICAkaHR0cCxcclxuICAgICRsb2NhdGlvbixcclxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgVXBsb2FkLFxyXG4gICAgY2xvdWRpbmFyeSxcclxuICAgIE5vdGlmaWNhdGlvblxyXG4gICkge1xyXG4gICAgLyogQVdTIENPTkZJRyAqL1xyXG4gICAgY29uc3QgYnVja2V0TmFtZSA9IFwiM2RmaWxlc2RhdGFcIjtcclxuICAgIGNvbnN0IGJ1Y2tldFJlZ2lvbiA9IFwiYXAtc291dGgtMVwiO1xyXG4gICAgbGV0IGNvbmZpZyA9IHtcclxuICAgICAgc2lnbmVyVXJsOiBgaHR0cHM6Ly9hcGkuc3RhZ2luZy5jbG91ZGVzLmV1L3NpZ252NF9hdXRoYCxcclxuICAgICAgYXdzX2tleTogXCJBS0lBSk1PM1lKVFBLWVY1RE41QVwiLFxyXG4gICAgICBidWNrZXQ6IFwiM2RmaWxlc2RhdGEvdGVzdFwiLFxyXG4gICAgICBhd3NSZWdpb246IGJ1Y2tldFJlZ2lvbixcclxuICAgICAgY29tcHV0ZUNvbnRlbnRNZDU6IHRydWUsXHJcbiAgICAgIGFsbG93UzNFeGlzdGVuY2VPcHRpbWl6YXRpb246IHRydWUsXHJcbiAgICAgIGNyeXB0b01kNU1ldGhvZDogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBBV1MudXRpbC5jcnlwdG8ubWQ1KGRhdGEsIFwiYmFzZTY0XCIpO1xyXG4gICAgICB9LFxyXG4gICAgICBjcnlwdG9IZXhFbmNvZGVkSGFzaDI1NjogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBBV1MudXRpbC5jcnlwdG8uc2hhMjU2KGRhdGEsIFwiaGV4XCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGluaXQ6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gRXZhcG9yYXRlLmNyZWF0ZShjb25maWcpO1xyXG4gICAgICB9LFxyXG4gICAgICBzdGFydDogZnVuY3Rpb24oaGFuZGxlcikge1xyXG4gICAgICAgIGxldCBmaWxlVXBsb2FkID0gdGhpcy5pbml0KCk7XHJcblxyXG4gICAgICAgIGZpbGVVcGxvYWQudGhlbihoYW5kbGVyKS5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBwYXVzZTogZnVuY3Rpb24oZmlsZSkge1xyXG4gICAgICAgIHRoaXMucGF1c2UoYDNkZmlsZXNkYXRhL3Rlc3QvJHtmaWxlLm5hbWV9YCwgeyBmb3JjZTogdHJ1ZSB9KVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZpbGUuaXNQYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhdXNlZCFcIik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICByZXN1bWU6IGZ1bmN0aW9uKGZpbGUpIHtcclxuICAgICAgICB0aGlzLnJlc3VtZShgM2RmaWxlc2RhdGEvdGVzdC8ke2ZpbGUubmFtZX1gKVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZpbGUuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bWVkIVwiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGFib3J0OiBmdW5jdGlvbihmaWxlKSB7XHJcbiAgICAgICAgdGhpcy5jYW5jZWwoYDNkZmlsZXNkYXRhL3Rlc3QvJHtmaWxlLm5hbWV9YClcclxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL2ZpbGUuYWJvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FuY2VsZWQhXCIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICAvLyB1cGxvYWQ6IGZpbGUgPT4ge1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKFwiZmlsZSEhXCIsIGZpbGUpO1xyXG4gICAgICAvLyAgIC8qIENoZWNrIGZpbGUgc2l6ZSAqL1xyXG4gICAgICAvLyAgIGlmIChmaWxlLnNpemUgPiAxMDAwMDAwMCkge1xyXG4gICAgICAvLyAgICAgLyogczMgZm9yIGZpbGVzIGxhcmdlciB0aGFuIDEwbWIgKi9cclxuICAgICAgLy8gICAgIGNvbnN0IHBhcmFtcyA9IHsgS2V5OiBmaWxlLm5hbWUsIENvbnRlbnRUeXBlOiBmaWxlLnR5cGUsIEJvZHk6IGZpbGUgfTtcclxuICAgICAgLy8gICAgIHMzLnB1dE9iamVjdChwYXJhbXMpXHJcbiAgICAgIC8vICAgICAgIC5vbihcImh0dHBVcGxvYWRQcm9ncmVzc1wiLCBwcm9ncmVzcyA9PiB7XHJcbiAgICAgIC8vICAgICAgICAgLyogVE9ETzogR3JhYmJpbmcgcHJvZ3Jlc3MgZXZlbnQgKi9cclxuICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcInByb2dyZXNcIiwgcHJvZ3Jlc3MpO1xyXG4gICAgICAvLyAgICAgICB9KVxyXG4gICAgICAvLyAgICAgICAuc2VuZCgoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgIC8vICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coXCJkb25lXCIsIGRhdGEpO1xyXG4gICAgICAvLyAgICAgICAgIH1cclxuICAgICAgLy8gICAgICAgfSk7XHJcbiAgICAgIC8vICAgfSBlbHNlIHtcclxuICAgICAgLy8gICAgIC8qIFNlbmQgdG8gY2xvdWRpbmFyeSAqL1xyXG4gICAgICAvLyAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgIC8vICAgICAgIHVybDpcclxuICAgICAgLy8gICAgICAgICBcImh0dHBzOi8vYXBpLmNsb3VkaW5hcnkuY29tL3YxXzEvXCIgK1xyXG4gICAgICAvLyAgICAgICAgIGNsb3VkaW5hcnkuY29uZmlnKCkuY2xvdWRfbmFtZSArXHJcbiAgICAgIC8vICAgICAgICAgXCIvdXBsb2FkXCIsXHJcbiAgICAgIC8vICAgICAgIGRhdGE6IHtcclxuICAgICAgLy8gICAgICAgICB1cGxvYWRfcHJlc2V0OiBjbG91ZGluYXJ5LmNvbmZpZygpLnVwbG9hZF9wcmVzZXQsXHJcbiAgICAgIC8vICAgICAgICAgdGFnczogZmlsZS5uYW1lLFxyXG4gICAgICAvLyAgICAgICAgIGNvbnRleHQ6IFwicGhvdG89XCIgKyBEYXRlLm5vdygpLFxyXG4gICAgICAvLyAgICAgICAgIGZpbGU6IGZpbGVcclxuICAgICAgLy8gICAgICAgfVxyXG4gICAgICAvLyAgICAgfSlcclxuICAgICAgLy8gICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJyZXNwISFcIiwgcmVzcCk7XHJcbiAgICAgIC8vICAgICAgIH0pXHJcbiAgICAgIC8vICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcImVyclwiLCBlKTtcclxuICAgICAgLy8gICAgICAgfSk7XHJcbiAgICAgIC8vICAgfVxyXG4gICAgICAvLyB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiU0JjaGFubmVsXCIsIFNCY2hhbm5lbCk7XHJcblxyXG4gIGZ1bmN0aW9uIFNCY2hhbm5lbChcclxuICAgICRodHRwLFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgIFNCY29tbW9uLFxyXG4gICAgTm90aWZpY2F0aW9uXHJcbiAgKSB7XHJcbiAgICBsZXQgc2IgPSBTQmNvbW1vbi5nZXRJbnN0YW5jZSgpO1xyXG4gICAgY29uc3QgbWV0aG9kcyA9IHtcclxuICAgICAgY3JlYXRlQ2hhbm5lbDogKGNoYW5uZWxOYW1lLCBpZCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICBsZXQgcGFyYW1zID0gbmV3IHNiLkdyb3VwQ2hhbm5lbFBhcmFtcygpO1xyXG4gICAgICAgICAgcGFyYW1zLmlzUHVibGljID0gZmFsc2U7XHJcbiAgICAgICAgICBwYXJhbXMuaXNFcGhlbWVyYWwgPSBmYWxzZTtcclxuICAgICAgICAgIHBhcmFtcy5pc0Rpc3RpbmN0ID0gZmFsc2U7XHJcbiAgICAgICAgICBwYXJhbXMuYWRkVXNlcklkcyhbaWRdKTtcclxuICAgICAgICAgIHBhcmFtcy5vcGVyYXRvcnMgPSBbaWRdO1xyXG4gICAgICAgICAgcGFyYW1zLm5hbWUgPSBjaGFubmVsTmFtZTtcclxuICAgICAgICAgIC8vIHBhcmFtcy5jb3ZlckltYWdlID0gRklMRTtcclxuICAgICAgICAgIC8vIHBhcmFtcy5jb3ZlclVybCA9IENPVkVSX1VSTDtcclxuICAgICAgICAgIC8vIHBhcmFtcy5kYXRhID0gREFUQTtcclxuICAgICAgICAgIC8vIHBhcmFtcy5jdXN0b21UeXBlID0gQ1VTVE9NX1RZUEU7XHJcblxyXG4gICAgICAgICAgc2IuR3JvdXBDaGFubmVsLmNyZWF0ZUNoYW5uZWwocGFyYW1zLCBmdW5jdGlvbihncm91cENoYW5uZWwsIGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZXNvbHZlKGdyb3VwQ2hhbm5lbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICAvKiBUT0RPOiBNb3ZlIGNyZWF0ZSBwYXJhbXMgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiAqL1xyXG4gICAgICBjcmVhdGVQYXJhbXM6ICgpID0+IHt9LFxyXG4gICAgICBsaXN0Q2hhbm5lbHM6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgbGV0IGNoYW5uZWxMaXN0UXVlcnkgPSBzYi5Hcm91cENoYW5uZWwuY3JlYXRlTXlHcm91cENoYW5uZWxMaXN0UXVlcnkoKTtcclxuICAgICAgICAgIGNoYW5uZWxMaXN0UXVlcnkuaW5jbHVkZUVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgIGlmIChjaGFubmVsTGlzdFF1ZXJ5Lmhhc05leHQpIHtcclxuICAgICAgICAgICAgY2hhbm5lbExpc3RRdWVyeS5uZXh0KChjaGFubmVsTGlzdCwgZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGNoYW5uZWxMaXN0KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIG1ldGhvZHM7XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJTQmNvbW1vblwiLCBTQmNvbW1vbik7XHJcblxyXG4gIGZ1bmN0aW9uIFNCY29tbW9uKCRodHRwLCAkbG9jYXRpb24sIGxvY2FsU3RvcmFnZVNlcnZpY2UsIE5vdGlmaWNhdGlvbikge1xyXG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSB7XHJcbiAgICAgICAgYXBwSWQ6IFwiQzgzRDk0RTAtRjgyRS00RjIyLUE3QUQtRjk5MjI1NjlBQUI0XCIsXHJcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vYXBpLnNlbmRiaXJkLmNvbVwiXHJcbiAgICAgIH0sXHJcbiAgICAgIC8qIFNlbmRCaXJkIGluc3RhbmNlICovXHJcbiAgICAgIHNiID0gbmV3IFNlbmRCaXJkKHtcclxuICAgICAgICBhcHBJZDogY3JlZGVudGlhbHMuYXBwSWRcclxuICAgICAgfSk7XHJcblxyXG4gICAgY29uc3QgbWV0aG9kcyA9IHtcclxuICAgICAgZ2V0SW5zdGFuY2U6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gc2I7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbm5lY3Q6IChpZCwgdG9rZW4pID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgc2IuY29ubmVjdChcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIHRva2VuLFxyXG4gICAgICAgICAgICAodXNlciwgZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHVzZXIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgZGlzY29ubmVjdDogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICBzYi5kaXNjb25uZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZShcIkRpc2Nvbm5lY3RlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IGUgPT4ge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIG1ldGhvZHM7XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJjb21tb25WUEZhY3RvcnlcIiwgY29tbW9uVlBGYWN0b3J5KTtcclxuXHJcbiAgLyoqIEBuZ0luamVjdCAqL1xyXG4gIGZ1bmN0aW9uIGNvbW1vblZQRmFjdG9yeSgkcm9vdFNjb3BlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvLyBJbml0aWFsaXplcyBhIHN0YWdlIGZvciB0aGUgdmlzdWFsIHBsYW5uZXJcclxuICAgICAgY3JlYXRlU3RhZ2U6IGZ1bmN0aW9uKGRpdklkLCBpbml0aWFsU2l6ZSwgcGxhbm5lckRhdGEpIHtcclxuICAgICAgICB2YXIgc3RhZ2U7XHJcbiAgICAgICAgaWYgKHBsYW5uZXJEYXRhICYmIHBsYW5uZXJEYXRhLmpzb25TdHJpbmcpIHtcclxuICAgICAgICAgIHN0YWdlID0gS29udmEuTm9kZS5jcmVhdGUocGxhbm5lckRhdGEuanNvblN0cmluZywgXCJzdGFnZVwiKTtcclxuICAgICAgICAgIHN0YWdlLndpZHRoKGluaXRpYWxTaXplLndpZHRoKTtcclxuICAgICAgICAgIHN0YWdlLmhlaWdodChpbml0aWFsU2l6ZS5oZWlnaHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzdGFnZSA9IG5ldyBLb252YS5TdGFnZSh7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcjogZGl2SWQsXHJcbiAgICAgICAgICAgIHg6IDEsXHJcbiAgICAgICAgICAgIHk6IDEsXHJcbiAgICAgICAgICAgIHdpZHRoOiBpbml0aWFsU2l6ZS53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBpbml0aWFsU2l6ZS5oZWlnaHRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2V0U3RhZ2VTaXplID0gdGhpcy5nZXRTdGFnZVNpemU7XHJcbiAgICAgICAgc3RhZ2Uub24oXCJ3aW5kb3dSZXNpemVkXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSBnZXRTdGFnZVNpemUoZGl2SWQpO1xyXG4gICAgICAgICAgc3RhZ2Uud2lkdGgoZGltZW5zaW9ucy53aWR0aCk7XHJcbiAgICAgICAgICBzdGFnZS5oZWlnaHQoZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgICAgc3RhZ2UuZHJhdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzdGFnZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0U3RhZ2VTaXplOiBmdW5jdGlvbihkaXZJZCkge1xyXG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaGVpZ2h0OiBlbC5jbGllbnRIZWlnaHQsXHJcbiAgICAgICAgICB3aWR0aDogZWwuY2xpZW50V2lkdGhcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICAvLyBnZW5lcmF0ZXMgc2hhcGUgSWQgYW5kIGluY3JlbWVudHMgaXQgZXZlcnl0aW1lIHlvdSBjYWxsIGl0XHJcblxyXG4gICAgICBzaGFwZUlkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGVmYXVsdENvdW50ID0ge1xyXG4gICAgICAgICAgc2hhcGVzOiB7XHJcbiAgICAgICAgICAgIHJlY3RhbmdsZTogMCxcclxuICAgICAgICAgICAgc3F1YXJlOiAwLFxyXG4gICAgICAgICAgICBjaXJjbGU6IDAsXHJcbiAgICAgICAgICAgIGVsbGlwc2U6IDAsXHJcbiAgICAgICAgICAgIGNhbGlicmF0b3I6IDAsXHJcbiAgICAgICAgICAgIGZyZWVIYW5kOiAwLFxyXG4gICAgICAgICAgICBwb2x5Z29uOiAwXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbWFya2luZ3M6IHtcclxuICAgICAgICAgICAgbGluZTogMCxcclxuICAgICAgICAgICAgc2luZ2xlQXJyb3c6IDAsXHJcbiAgICAgICAgICAgIGRvdWJsZUFycm93OiAwLFxyXG4gICAgICAgICAgICBiZXppZXI6IDAsXHJcbiAgICAgICAgICAgIGZyZWVoYW5kOiAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAwLFxyXG4gICAgICAgICAgICBzZWxlY3Rpb246IDBcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtZWFzdXJlbWVudDoge1xyXG4gICAgICAgICAgICByZWN0YW5nbGU6IDAsXHJcbiAgICAgICAgICAgIHNxdWFyZTogMCxcclxuICAgICAgICAgICAgY2lyY2xlOiAwLFxyXG4gICAgICAgICAgICBlbGxpcHNlOiAwLFxyXG4gICAgICAgICAgICBjYWxpYnJhdG9yOiAwLFxyXG4gICAgICAgICAgICBwb2x5Z29uOiAwLFxyXG4gICAgICAgICAgICBmcmVlSGFuZDogMFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBjdXJyZW50Q291bnQgPSBkZWZhdWx0Q291bnQ7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKGNvdW50KSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRDb3VudCA9IGNvdW50O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldENvdW50OiBmdW5jdGlvbih0eXBlLCBzaGFwZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50Q291bnRbdHlwZV1bc2hhcGVdKys7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q291bnRbdHlwZV1bc2hhcGVdO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q291bnQ7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjdXJyZW50Q291bnQgPSBkZWZhdWx0Q291bnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuICAgICAgLyogXHJcbiAgICAgICBEcmF3c3RhdGUgZnVuY3Rpb24gbGV0cyB5b3Ugc2V0IGFuZCBjaGVjayB0aGUgY3VycmVudCBkcmF3aW5nIHN0YXRlIGZvciB0aGUgY2FudmFzLiAoRWcuIFNxdWFyZSwgZWxsaXBzZSBldGMpXHJcbiAgICAgICBZb3UgY2FuJ3QgZHJhdyBhIHNoYXBlIG9uIHRoZSBjYW52YXMgdW5sZXNzIHRoZSBzdGF0ZSBmb3IgdGhlIHBhcnRpY3VsYXIgc2hhcGUgaXMgdHJ1ZS4gVGhlc2Ugc3RhdHMgd2lsbCBjaGVja2VkXHJcbiAgICAgICBpbiB0aGUgZXZlbnQgbGlzdGVuZXJzIG9mIHRoZSB0YXJnZXQgc3VjaCBhcyBzdGFnZSAsIGxheWVyIGV0Yy5cclxuICAgICAgKi9cclxuICAgICAgZHJhd1N0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvKiAgRG8gbm90IG1vZGlmeSB0aGlzIHZhciAqL1xyXG4gICAgICAgIHZhciBpbml0aWFsRHJhd1N0YXRlcyA9IHtcclxuICAgICAgICAgIHNoYXBlczoge1xyXG4gICAgICAgICAgICByZWN0YW5nbGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBzcXVhcmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjaXJjbGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBlbGxpcHNlOiBmYWxzZSxcclxuICAgICAgICAgICAgY2FsaWJyYXRvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvbHlnb246IGZhbHNlXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbWFya2luZ3M6IHtcclxuICAgICAgICAgICAgbGluZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHNpbmdsZUFycm93OiBmYWxzZSxcclxuICAgICAgICAgICAgZG91YmxlQXJyb3c6IGZhbHNlLFxyXG4gICAgICAgICAgICBiZXppZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICBmcmVlaGFuZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHRleHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzZWxlY3Rpb246IGZhbHNlXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbWVhc3VyZW1lbnQ6IHtcclxuICAgICAgICAgICAgcmVjdGFuZ2xlOiBmYWxzZSxcclxuICAgICAgICAgICAgc3F1YXJlOiBmYWxzZSxcclxuICAgICAgICAgICAgY2lyY2xlOiBmYWxzZSxcclxuICAgICAgICAgICAgZWxsaXBzZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNhbGlicmF0b3I6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2x5Z29uOiBmYWxzZSxcclxuICAgICAgICAgICAgZnJlZUhhbmQ6IGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyogRHJhdyBzdGF0ZXMgZnJvbSB0aGUgdmlldyBhcmUgYXNzaWduZWQgdG8gdGhpcyB2YXIgKi9cclxuICAgICAgICB2YXIgZHJhd1N0YXRlcyA9IGFuZ3VsYXIuY29weShpbml0aWFsRHJhd1N0YXRlcyk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAvLyBmdW5jdGlvbiB0byBzZXQgdGhlIGRyYXdTdGF0ZXNcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICAgICAgICB2YXIga2V5cyA9IHR5cGUuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7IC8vIHJlc2V0IGRyYXdzdGF0ZXMgYmVmb3JlIGFzc2lnbmluZyBzdGF0ZXNcclxuICAgICAgICAgICAgZHJhd1N0YXRlc1trZXlzWzBdXVtrZXlzWzFdXSA9IHRydWU7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChcImRyYXdTdGF0ZUNoYW5nZVwiLCBkcmF3U3RhdGVzKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyB0byBjaGVjayB0aGUgZHJhd1N0YXRlc1xyXG4gICAgICAgICAgY2hlY2s6IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICAgICAgdmFyIGtleXMgPSB0eXBlID8gdHlwZS5zcGxpdChcIi5cIikgOiBcIlwiO1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZSA/IGRyYXdTdGF0ZXNba2V5c1swXV1ba2V5c1sxXV0gOiBkcmF3U3RhdGVzO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZHJhd1N0YXRlcyA9IGFuZ3VsYXIuY29weShpbml0aWFsRHJhd1N0YXRlcyk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChcImRyYXdTdGF0ZUNoYW5nZVwiLCBkcmF3U3RhdGVzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gY2FsaWJyYXRpb24gc3RhdGVcclxuXHJcbiAgICAgIGNhbGlicmF0aW9uU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGF0ZSA9IHtcclxuICAgICAgICAgIHZhbHVlOiAxLFxyXG4gICAgICAgICAgdW5pdDogXCJ1bml0c1wiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gb2JqO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gVW5kbyByZWRvIGZ1bmN0aW9uYWxpdHlcclxuICAgICAgYWN0aW9uU3RhdGVzOiBmdW5jdGlvbihhY3Rpb25zKSB7XHJcbiAgICAgICAgdmFyIHN0YWNrID0gYWN0aW9ucyB8fCBbXTtcclxuICAgICAgICB2YXIgaGVhZCA9IHN0YWNrLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgICAgICBzdGFjay5zcGxpY2UoaGVhZCArIDEsIHN0YWNrLmxlbmd0aCwgdmFsKTtcclxuICAgICAgICAgICAgaGVhZCA9IHN0YWNrLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2hvdzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGFjaztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwZWVrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrW2hlYWRdO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHVuZG86IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoaGVhZCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgc3RhY2tbaGVhZF0uZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgaGVhZCA9IGhlYWQgLSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVkbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChoZWFkIDwgc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgaGVhZCA9IGhlYWQgPT09IHN0YWNrLmxlbmd0aCAtIDEgPyBoZWFkIDogaGVhZCArIDE7XHJcbiAgICAgICAgICAgICAgc3RhY2tbaGVhZF0ucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qIEF0dGFjaCBhY3Rpb24gaGFuZGxlcnMgdG8gZW50aXRpZXMgYmVmb3JlIHB1c2hpbmcgaW50byBhY3Rpb24gc3RhdGUgc3RhY2sgKi9cclxuICAgICAgYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24oc3RhZ2UsIGVudGl0eSwgcHJvY2VzcywgYWN0aW9uVHlwZSwgcHJvcHMpIHtcclxuICAgICAgICB2YXIgZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHZhciBzdGFnZSA9IHN0YWdlO1xyXG4gICAgICAgIHZhciBwcm9jZXNzID0gcHJvY2VzcztcclxuICAgICAgICB2YXIgcHJvcHMgPSBwcm9wcztcclxuXHJcbiAgICAgICAgLyogSGFuZGxlcnMgKi9cclxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICBjcmVhdGU6IHtcclxuICAgICAgICAgICAgZGVsZXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBlbnRpdHkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc3RvcmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHByb2Nlc3MuYWRkKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtb3ZlOiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uKHByb3BzLnN0YXJ0KTtcclxuICAgICAgICAgICAgICBzdGFnZS5iYXRjaERyYXcoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVzdG9yZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uKHByb3BzLmVuZCk7XHJcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBkZWxldGU6IHtcclxuICAgICAgICAgICAgZGVsZXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBwcm9jZXNzLmFkZChlbnRpdHkpO1xyXG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXN0b3JlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBlbnRpdHkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzaGFwZVByb3BzOiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzLnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHlba2V5XShwcm9wcy5zdGFydFtrZXldKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXN0b3JlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMuZW5kKSB7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHlba2V5XShwcm9wcy5lbmRba2V5XSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGVudGl0eTogZW50aXR5LFxyXG4gICAgICAgICAgcmVzdG9yZTogaGFuZGxlcnNbYWN0aW9uVHlwZV0ucmVzdG9yZSxcclxuICAgICAgICAgIGRlbGV0ZTogaGFuZGxlcnNbYWN0aW9uVHlwZV0uZGVsZXRlXHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBtb3ZlbWVudCB2YWx1ZXMgZm9yIHVuZG8vcmVkbyAqL1xyXG4gICAgICBtb3ZlbWVudDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHN0YXJ0O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICghc3RhcnQpIHtcclxuICAgICAgICAgICAgICBzdGFydCA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzaGFwZVByb3BlcnR5SGlzdG9yeTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHN0YXJ0O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmICghc3RhcnQpIHtcclxuICAgICAgICAgICAgICBzdGFydCA9IHByb3BzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IHByb3BzXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBUcmFuc2Zvcm1lcnMgKi9cclxuICAgICAgdHJhbnNmb3JtZXJzOiBmdW5jdGlvbihsYXllcikge1xyXG4gICAgICAgIHZhciBzdGFnZSA9IHN0YWdlO1xyXG4gICAgICAgIHZhciBsYXllciA9IGxheWVyO1xyXG4gICAgICAgIHZhciB0cmFuc2Zvcm1lcnMgPSBbXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGFkZDogZnVuY3Rpb24odHJhbnNmb3JtZXIpIHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtZXJzLnB1c2godHJhbnNmb3JtZXIpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlbW92ZUFsbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0cmFuc2Zvcm1lcnMsIGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICB4LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qIFxyXG4gICAgICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgcG9pbnRlciBkb2Vzbid0IGNoYW5nZSB3aGVuIHRoZSBiYWNrZ3JvdW5kIGltYWdlIGxheWVyIGlzIGJlaW5nIGRyYWdnZWQgYXJvdW5kLlxyXG4gICAgICAgIEluIG9yZGVyIHRvIGNvbXBlbnNhdGUgdGhhdCBvZmZzZXQsIFRoZSBzdGFnZSBwb2ludGVyIHBvc2l0aW9uIG11c3QgYmUgc3VidHJhY3RlZCBmcm9tIHRoZSBsYXllciBwb3NpdGlvblxyXG4gICAgICAqL1xyXG4gICAgICBkcmFnT2Zmc2V0OiBmdW5jdGlvbihzdGFnZVBvc2l0aW9uLCBsYXllck9mZnNldCwgc3RhZ2VTY2FsZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB4OiAoc3RhZ2VQb3NpdGlvbi54IC0gbGF5ZXJPZmZzZXQueCkgLyBzdGFnZVNjYWxlLngsXHJcbiAgICAgICAgICB5OiAoc3RhZ2VQb3NpdGlvbi55IC0gbGF5ZXJPZmZzZXQueSkgLyBzdGFnZVNjYWxlLnlcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogU2VsZWN0ZWQgU2hhcGUgKi9cclxuICAgICAgc2VsZWN0ZWRTaGFwZTogZnVuY3Rpb24oc2hhcGUpIHtcclxuICAgICAgICB2YXIgc2hhcGU7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFwZTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgICAgICBzaGFwZSA9IHZhbDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZXNldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNoYXBlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBTZWxlY3Rpb24gc3RvcmUgLSBUbyBzdG9yZSBhbmQgcmV0cmlldmUgc2VsZWN0ZWQgc2hhcGVzICovXHJcblxyXG4gICAgICBzZWxlY3Rpb25TdG9yZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGlvbnMgPSBbXTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3RvcmU6IGZ1bmN0aW9uKHNoYXBlcykge1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gc2hhcGVzO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25zO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHB1bGw6IGZ1bmN0aW9uKHNoYXBlTmFtZSkge1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gc2VsZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24oc2hhcGUpIHtcclxuICAgICAgICAgICAgICBpZiAoc2hhcGUubmFtZSgpID09PSBzaGFwZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uKHNoYXBlKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU5hbWVzID0gc2VsZWN0aW9ucy5tYXAoZnVuY3Rpb24oc2hhcGUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc2hhcGUubmFtZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCEoc2hhcGVOYW1lcy5pbmRleE9mKHNoYXBlLm5hbWUoKSkgPiAtMSkpIHtcclxuICAgICAgICAgICAgICBzZWxlY3Rpb25zLnB1c2goc2hhcGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGFzc29jaWF0aW9uczogKCkgPT4ge1xyXG4gICAgICAgIGxldCBhc3NvY2lhdGlvbnMgPSB7fTtcclxuXHJcbiAgICAgICAgbGV0IG1ldGhvZHMgPSB7XHJcbiAgICAgICAgICBjcmVhdGVBc3NvY2lhdGlvbjogKHNoYXBlSWQsIGVudGl0eUlkLCB0eXBlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSBgJHtzaGFwZUlkfS0ke2VudGl0eUlkfS0ke0RhdGUubm93KCl9YDtcclxuICAgICAgICAgICAgYXNzb2NpYXRpb25zW2tleV0gPSB7XHJcbiAgICAgICAgICAgICAgc2hhcGVJZCxcclxuICAgICAgICAgICAgICBlbnRpdHlJZCxcclxuICAgICAgICAgICAgICB0eXBlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0QXNzb2NpYXRpb25zOiBrZXkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ga2V5ID8gYXNzb2NpYXRpb25zW2tleV0gOiBhc3NvY2lhdGlvbnM7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0QXNzb2NpYXRpb25zRm9yU2F2ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYXNzb2NpYXRpb25zKS5yZWR1Y2UoKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBzaGFwZUlkOiBhc3NvY2lhdGlvbnNbeF0uc2hhcGVJZCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IGFzc29jaWF0aW9uc1t4XS50eXBlXHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgc3dpdGNoIChhc3NvY2lhdGlvbnNbeF0udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICBvYmoubWF0ZXJpYWxJZCA9IGFzc29jaWF0aW9uc1t4XS5lbnRpdHlJZDtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgIG9iai5jb21ib0lkID0gYXNzb2NpYXRpb25zW3hdLmVudGl0eUlkO1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgb2JqLmVxdWlwbWVudElkID0gYXNzb2NpYXRpb25zW3hdLmVudGl0eUlkO1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYWNjLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBbXSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVtb3ZlQXNzb2NpYXRpb246IGtleSA9PiB7XHJcbiAgICAgICAgICAgIGFzc29jaWF0aW9uc1trZXldID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGFzc29jaWF0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKG1ldGhvZHMpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiZXZlbnRzVlBGYWN0b3J5XCIsIGV2ZW50c1ZQRmFjdG9yeSk7XHJcblxyXG4gIC8qKiBAbmdJbmplY3QgKi9cclxuICBmdW5jdGlvbiBldmVudHNWUEZhY3RvcnkoJHJvb3RTY29wZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2luZG93RXZlbnRzOiBmdW5jdGlvbih3aW5kb3dPYmplY3QpIHtcclxuICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgIHZhciBlbnRpdGllcyA9IFtdO1xyXG4gICAgICAgIHdpbmRvd09iamVjdC5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uKGV2KSB7XHJcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZW50aXRpZXMsIGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgdi5maXJlKFwid2luZG93UmVzaXplZFwiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24oZW50aXR5KSB7XHJcbiAgICAgICAgICAgIGVudGl0aWVzLnB1c2goZW50aXR5KTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzaG93OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICBzdGFnZUV2ZW50czogZnVuY3Rpb24oc3RhZ2UpIHtcclxuICAgICAgICB2YXIgc3RhZ2UgPSBzdGFnZTtcclxuICAgICAgICB2YXIgZXZlbnRzID0gW107XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihldmVudCwgaGFuZGxlcikge1xyXG4gICAgICAgICAgICBpZiAoIXN0YWdlKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgc3RhZ2Uub24oZXZlbnQsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIHNoYXBlRXZlbnRzOiBmdW5jdGlvbihzaGFwZSkge1xyXG4gICAgICAgIHZhciBzaGFwZSA9IHNoYXBlO1xyXG4gICAgICAgIHZhciBldmVudHMgPSBbXTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKGV2ZW50LCBoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudHMuaW5kZXhPZihldmVudCkgPiAtMSkge1xyXG4gICAgICAgICAgICAgIC8qIENoZWNrIGZvciBkdXBsaWNhdGUgZXZlbnRzICovXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgICBzaGFwZS5vbihldmVudCwgaGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICBsYXllckV2ZW50czogZnVuY3Rpb24obGF5ZXIpIHtcclxuICAgICAgICB2YXIgbGF5ZXIgPSBsYXllcjtcclxuICAgICAgICB2YXIgZXZlbnRzID0gW107XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihldmVudCwgaGFuZGxlcikge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmluZGV4T2YoZXZlbnQpID4gLTEpIHtcclxuICAgICAgICAgICAgICAvKiBDaGVjayBmb3IgZHVwbGljYXRlIGV2ZW50cyAqL1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBldmVudHMucHVzaChldmVudCk7XHJcbiAgICAgICAgICAgICAgbGF5ZXIub24oZXZlbnQsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcImxheWVyc1ZQRmFjdG9yeVwiLCBsYXllcnNWUEZhY3RvcnkpO1xyXG5cclxuICAvKiogQG5nSW5qZWN0ICovXHJcbiAgZnVuY3Rpb24gbGF5ZXJzVlBGYWN0b3J5KCRyb290U2NvcGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNyZWF0ZUxheWVyOiBmdW5jdGlvbihzdGFnZSkge1xyXG4gICAgICAgIHZhciBsYXllciA9IG5ldyBLb252YS5MYXllcigpO1xyXG4gICAgICAgIHN0YWdlLmFkZChsYXllcik7XHJcbiAgICAgICAgcmV0dXJuIGxheWVyO1xyXG4gICAgICB9LFxyXG4gICAgICBpbml0aWF0ZVByb2Nlc3M6IGZ1bmN0aW9uKHN0YWdlLCBiYXNlTGF5ZXIpIHtcclxuICAgICAgICB2YXIgcHJvY2Vzc2VzID0gW10sXHJcbiAgICAgICAgICBoZWFkO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBjcmVhdGVQcm9jZXNzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGdyb3VwID0gbmV3IEtvbnZhLkdyb3VwKHtcclxuICAgICAgICAgICAgICBuYW1lOiBcInByb2Nlc3MtXCIgKyBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwcm9jZXNzZXMucHVzaChncm91cCk7XHJcbiAgICAgICAgICAgIGhlYWQgPSBwcm9jZXNzZXMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmFkZChncm91cCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0UHJvY2Vzc2VzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NlcztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRDdXJyZW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3Nlc1toZWFkXTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXRDdXJyZW50OiBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICBoZWFkID0gaW5kZXg7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2hvd1Byb2Nlc3M6IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChwcm9jZXNzZXNbaW5kZXhdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJvY2Vzc2VzLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuYWRkKHgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgaGlkZVByb2Nlc3M6IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgcHJvY2Vzc2VzW2luZGV4XS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJvY2Vzc2VzLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICB4LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgLyogTG9hZGluZyBwcm9jZXNzIGZyb20ganNvbiAqL1xyXG4gICAgICAgICAgbG9hZFByb2Nlc3NlczogZnVuY3Rpb24ocHJvY2Vzc2VzRnJvbUpzb24pIHtcclxuICAgICAgICAgICAgcHJvY2Vzc2VzID0gcHJvY2Vzc2VzRnJvbUpzb247XHJcbiAgICAgICAgICAgIGhlYWQgPSBwcm9jZXNzZXMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwic2hhcGVzVlBGYWN0b3J5XCIsIHNoYXBlc1ZQRmFjdG9yeSk7XHJcblxyXG4gIC8qKiBAbmdJbmplY3QgKi9cclxuICBmdW5jdGlvbiBzaGFwZXNWUEZhY3RvcnkoXHJcbiAgICAkcm9vdFNjb3BlLFxyXG4gICAgZXZlbnRzVlBGYWN0b3J5LFxyXG4gICAgY29tbW9uVlBGYWN0b3J5LFxyXG4gICAgdG9vbHNWUEZhY3RvcnlcclxuICApIHtcclxuICAgIHZhciBzaGFwZUlkID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlSWQoKTtcclxuICAgIHZhciBjcmVhdGVkU2hhcGU7XHJcblxyXG4gICAgLyogT3B0aW9ucyBjb21tb24gZm9yIHBvbHlnb24gY3JlYXRpb24gKi9cclxuICAgIHZhciBwb2x5Z29uT3B0aW9ucyA9IHtcclxuICAgICAgaW5pdDogZmFsc2UsXHJcbiAgICAgIC8qIHRvIGNoZWNrIGlmIGEgcG9seWdvbiBpcyBpbml0YXRlZCBvciBub3QgKi9cclxuICAgICAgcG9pbnRzOiBbXSxcclxuICAgICAgcG9pbnRTZXQ6IHRydWUgLyogdHJ1ZSBmb3IgY2xpY2sgZXZlbnQgYW5kIGZhbHNlIGZvciBtb3VzZSBvdmVyIGV2ZW50ICovXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBzaGFwZVRvb2xzO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8qIFRoaXMgbWV0aG9kIGlzIGZpcmVkIGluIHRoZSBjb250cm9sbGVyIGFuZCBzZXRzIHRoZSBnbG9iYWwgc2hhcGVUb29scyAqL1xyXG4gICAgICBnZXRTaGFwZVRvb2xzOiBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICBzaGFwZVRvb2xzID0gb2JqO1xyXG4gICAgICB9LFxyXG4gICAgICAvKiBcclxuICAgICAgICBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHNoYXBlIHdoaWNoIGlzIGludHVybiBwYXNzZWQgdG8gdGhlIGRyYXdTaGFwZSBmdW5jdGlvbi5cclxuICAgICAgICBCYXNlZWQgb24gbW91c2UgY2xpY2sgZXZlbnRcclxuICAgICAgKi9cclxuXHJcbiAgICAgIGxvYWRTaGFwZUlkOiBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICBzaGFwZUlkLmxvYWQob2JqKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldFNoYXBlSWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBzaGFwZUlkLmdldCgpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlU2hhcGU6IGZ1bmN0aW9uKHR5cGUsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgLyogMCAtIFJlY3RhbmdsZS9TcXVhcmUgLCAxIC0gRWxsaXBzZS9DaXJjbGUgKi9cclxuICAgICAgICBpZiAoY3JlYXRlZFNoYXBlKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNoYXBlOiBjcmVhdGVkU2hhcGVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzaGFwZTtcclxuICAgICAgICB2YXIgc2hhcGVQcm9wcyA9IHNoYXBlVG9vbHMuZ2V0KCk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBzaGFwZSA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgICAgICBwb2ludHM6IFtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi54LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnlcclxuICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIG5hbWU6IFwiUmVjdFwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcInJlY3RhbmdsZVwiKSxcclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGVQcm9wcy5zdHJva2VXaWR0aCB8fCAxLFxyXG4gICAgICAgICAgICAgIGZpbGw6IHNoYXBlUHJvcHMuZmlsbCxcclxuICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgY2xvc2VkOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgc2hhcGUgPSBuZXcgS29udmEuRWxsaXBzZSh7XHJcbiAgICAgICAgICAgICAgeDogcG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICB5OiBwb3NpdGlvbi55LFxyXG4gICAgICAgICAgICAgIHJhZGl1czoge1xyXG4gICAgICAgICAgICAgICAgeDogMSxcclxuICAgICAgICAgICAgICAgIHk6IDFcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIG5hbWU6IFwiRWxsaXBzZVwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcImVsbGlwc2VcIiksXHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlUHJvcHMuc3Ryb2tlV2lkdGggfHwgMSxcclxuICAgICAgICAgICAgICBmaWxsOiBzaGFwZVByb3BzLmZpbGwsXHJcbiAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY3JlYXRlZFNoYXBlID0gc2hhcGU7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdGFydDogdHJ1ZSxcclxuICAgICAgICAgIHNoYXBlOiBjcmVhdGVkU2hhcGVcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogXHJcbiAgICAgICAgVGhpcyBmdW5jdGlvbiBkcmF3cyB0aGUgc2hhcGUgd2hpY2ggaXMgYWxyZWFkeSBjcmVhdGVkIGJ5IGNyZWF0ZVNoYXBlXHJcbiAgICAgICAgQmFzZWQgb24gbW91c2Vtb3ZlIGV2ZW50XHJcbiAgICAgICovXHJcbiAgICAgIGRyYXdTaGFwZTogZnVuY3Rpb24ocG9zaXRpb24sIHNoYXBlTG9jaywgbWlzYykge1xyXG4gICAgICAgIC8qIGlmIHNoYXBlbG9jayBpcyB0cnVlICwgbG9jayB0aGUgYXNwZWN0IHJhdGlvICovXHJcblxyXG4gICAgICAgIC8qIE1pc2MgaXMgYSBzcGVjaWFsIHBhcmFtIGZvciByZWN0YW5nbGVzIHN1Y2ggYXMgZ3JhYiBzZWxlY3RvciBhbmQgdGV4dCB3cmFwcGVyICovXHJcblxyXG4gICAgICAgIGlmIChjcmVhdGVkU2hhcGUpIHtcclxuICAgICAgICAgIHN3aXRjaCAoY3JlYXRlZFNoYXBlLmNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiTGluZVwiOlxyXG4gICAgICAgICAgICAgIC8qIFRyZWF0aW5nIHJlY3RhbmdsZSBsaWtlIGEgcG9seWdvbiAqL1xyXG5cclxuICAgICAgICAgICAgICB0aGlzLmRyYXdSZWN0YW5nbGUocG9zaXRpb24sIGNyZWF0ZWRTaGFwZSwgc2hhcGVMb2NrLCBtaXNjKTtcclxuXHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJFbGxpcHNlXCI6XHJcbiAgICAgICAgICAgICAgY3JlYXRlZFNoYXBlLnJhZGl1cyh7XHJcbiAgICAgICAgICAgICAgICAvKiBNYWtlIHN1cmUgcmFkaXVzIGlzbid0IG5lZ2F0aXZlICovXHJcbiAgICAgICAgICAgICAgICB4OiBNYXRoLmFicyhwb3NpdGlvbi54IC0gY3JlYXRlZFNoYXBlLngoKSksXHJcbiAgICAgICAgICAgICAgICB5OiBNYXRoLmFicyhcclxuICAgICAgICAgICAgICAgICAgc2hhcGVMb2NrXHJcbiAgICAgICAgICAgICAgICAgICAgPyBwb3NpdGlvbi54IC0gY3JlYXRlZFNoYXBlLngoKVxyXG4gICAgICAgICAgICAgICAgICAgIDogcG9zaXRpb24ueSAtIGNyZWF0ZWRTaGFwZS55KClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkcmF3UmVjdGFuZ2xlOiBmdW5jdGlvbihwb3NpdGlvbiwgc2hhcGUsIHNoYXBlbG9jaywgbWlzYykge1xyXG4gICAgICAgIHZhciBwb2ludHMgPSBzaGFwZS5wb2ludHMoKTsgLyogZ2V0IHJlY3RhbmdsZSB2ZXJ0aWNlcyAqL1xyXG4gICAgICAgIC8qIERpYWdvbmFsIGhpbmdlIC0gUmVhc3NpZ24gYm90aCB4IGFuZCB5IGJhc2VkIG9uIHBvc2l0aW9uICovXHJcblxyXG4gICAgICAgIHBvaW50c1s0XSA9IHBvc2l0aW9uLng7XHJcbiAgICAgICAgcG9pbnRzWzVdID0gc2hhcGVsb2NrXHJcbiAgICAgICAgICA/IE1hdGguYWJzKHBvaW50c1sxXSArIChwb3NpdGlvbi54IC0gcG9pbnRzWzBdKSlcclxuICAgICAgICAgIDogcG9zaXRpb24ueTtcclxuXHJcbiAgICAgICAgLyogWSAtIGF4aXMgaGluZ2UgKGNoYW5nZSB4IC0gYXhpcyBhbmQga2VlcCB5IC0gZml4ZWQpKi9cclxuXHJcbiAgICAgICAgcG9pbnRzWzddID0gc2hhcGVsb2NrXHJcbiAgICAgICAgICA/IE1hdGguYWJzKHBvaW50c1sxXSArIChwb3NpdGlvbi54IC0gcG9pbnRzWzBdKSlcclxuICAgICAgICAgIDogcG9zaXRpb24ueTtcclxuICAgICAgICAvKiBYIC0gYXhpcyBoaW5nZSAoY2hhbmdlIHkgLSBheGlzIGFuZCBrZWVwIHggLSBmaXhlZCkgKi9cclxuXHJcbiAgICAgICAgcG9pbnRzWzJdID0gcG9zaXRpb24ueDtcclxuICAgICAgICAvKiBIYW5kbGUgc2VsZWN0aW9uICovXHJcblxyXG4gICAgICAgIHN3aXRjaCAobWlzYykge1xyXG4gICAgICAgICAgY2FzZSBcImdyYWJiZXJcIjpcclxuICAgICAgICAgICAgc2hhcGUuZGFzaChbMTAsIDEwXSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcIndyYXBwZXJcIjpcclxuICAgICAgICAgICAgc2hhcGUuc3Ryb2tlKFwiZ3JleVwiKTtcclxuICAgICAgICAgICAgc2hhcGUuZHJhZ2dhYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBSZWFzc2lnbiB0byBzaGFwZSAqL1xyXG4gICAgICAgIHNoYXBlLnBvaW50cyhwb2ludHMpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogVGhpcyBmdW5jdGlvbiBkb2Vzbid0IGFjdHVhbGx5IGRlc3Ryb3kgdGhlIHNoYXBlIHRoYXQgaGFzIGJlZW4gZHJhd3MuIEl0IHNpbXBseSByZW1vdmVzIHRoZSB2YXIgaW5zaWRlIHRoaXMgZmFjdG9yeSBmdW50aW9uICovXHJcbiAgICAgIGRlc3Ryb3lTaGFwZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY3JlYXRlZFNoYXBlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHBvbHlnb25PcHRpb25zID0ge1xyXG4gICAgICAgICAgaW5pdDogZmFsc2UsXHJcbiAgICAgICAgICBwb2ludHM6IFtdLFxyXG4gICAgICAgICAgcG9pbnRTZXQ6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNsZWFyIHRoZSBkcmF3aW5nIHdoZW4gdGhlIHVzZXIgY2FuY2VscyBpdCBtaWR3YXkgKi9cclxuICAgICAgY2FuY2VsRHJhd2luZzogZnVuY3Rpb24oc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGlvblBvaW50cyA9IGNyZWF0ZWRTaGFwZS5wb2ludHMoKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgIGNyZWF0ZWRTaGFwZSAmJiBjcmVhdGVkU2hhcGUucmVtb3ZlKCk7XHJcbiAgICAgICAgY3JlYXRlZFNoYXBlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHBvbHlnb25PcHRpb25zID0ge1xyXG4gICAgICAgICAgaW5pdDogZmFsc2UsXHJcbiAgICAgICAgICBwb2ludHM6IFtdLFxyXG4gICAgICAgICAgcG9pbnRTZXQ6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBzZWxlY3Rpb25Qb2ludHM7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBcclxuICAgICAgICBAcGFyYW0gcG9zaXRpb24gPSBzdGFnZSBwb2ludGVyIHBvc2l0aW9uXHJcbiAgICAgICAgQHBhcmFtIGZyZWVIYW5kID0gQm9vbGVhbiAoZW5hYmxpbmcgZnJlZWhhbmQpXHJcbiAgICAgICAgQHBhcmFtIGZyZWVIYW5kTWFrZXIgPSBCb29sZWFuIChlbmFibGluZyBtYXJrZXIgZnVuY3Rpb25hbGl0eSB3aGljaCBkb2Vzbid0IGNoZWNrIGZvciB0aHJlc2hvbGQpXHJcbiAgICAgICovXHJcblxyXG4gICAgICBjcmVhdGVQb2x5Z29uOiBmdW5jdGlvbihwb3NpdGlvbiwgZnJlZUhhbmQsIGZyZWVIYW5kTWFya2VyKSB7XHJcbiAgICAgICAgaWYgKCFwb2x5Z29uT3B0aW9ucy5pbml0ICYmICFjcmVhdGVkU2hhcGUpIHtcclxuICAgICAgICAgIC8qIENoZWNrIGlmIGEgcG9seWdvbiBoYXMgYmVlbiBpbml0aWFsaXplZCBhbmQgYWxzbyBpZiBhbnkgb3RoZXIgc2hhcGUgZXhpc3RzICovXHJcbiAgICAgICAgICB2YXIgc2hhcGVQcm9wcyA9IHNoYXBlVG9vbHMuZ2V0KCk7IC8qIEdldCBzaGFwZSBwcm9wcyAqL1xyXG4gICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzID0gW3Bvc2l0aW9uLngsIHBvc2l0aW9uLnldO1xyXG5cclxuICAgICAgICAgIGlmIChmcmVlSGFuZE1hcmtlcikge1xyXG4gICAgICAgICAgICAvKiBGb3IgTWFya2VyICovXHJcbiAgICAgICAgICAgIGNyZWF0ZWRTaGFwZSA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgICAgICBuYW1lOiBcIm1hcmtlckZyZWVIYW5kXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJmcmVlaGFuZFwiKSxcclxuICAgICAgICAgICAgICBwb2ludHM6IHBvbHlnb25PcHRpb25zLnBvaW50cyxcclxuICAgICAgICAgICAgICBmaWxsOiBzaGFwZVByb3BzLmZpbGwsXHJcbiAgICAgICAgICAgICAgc3Ryb2tlOiBzaGFwZVByb3BzLnN0cm9rZSB8fCBcImJsYWNrXCIsXHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlUHJvcHMuc3Ryb2tlV2lkdGggfHwgMVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8qIEZvciBjbG9zYWJsZSBmcmVlaGFuZCBhbmQgcG9seWdvbiAqL1xyXG4gICAgICAgICAgICBjcmVhdGVkU2hhcGUgPSBuZXcgS29udmEuTGluZSh7XHJcbiAgICAgICAgICAgICAgbmFtZTogZnJlZUhhbmRcclxuICAgICAgICAgICAgICAgID8gXCJmcmVlSGFuZFwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcImZyZWVIYW5kXCIpXHJcbiAgICAgICAgICAgICAgICA6IFwicG9seWdvblwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcInBvbHlnb25cIiksXHJcbiAgICAgICAgICAgICAgcG9pbnRzOiBwb2x5Z29uT3B0aW9ucy5wb2ludHMsXHJcbiAgICAgICAgICAgICAgZmlsbDogc2hhcGVQcm9wcy5maWxsLFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZVByb3BzLnN0cm9rZVdpZHRoIHx8IDFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcG9seWdvbk9wdGlvbnMuaW5pdCA9IHRydWU7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGFydDogdHJ1ZSxcclxuICAgICAgICAgICAgcG9seWdvbjogY3JlYXRlZFNoYXBlXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvKiBFbmQgZm9yIGZyZWVoYW5kIG1hcmtlciAqL1xyXG4gICAgICAgICAgaWYgKGZyZWVIYW5kTWFya2VyKSB7XHJcbiAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50U2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLmRyYWdnYWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBzdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgcG9seWdvbjogY3JlYXRlZFNoYXBlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLyogQ2xvc2Ugb25seSB3aGVuIHRocmVzaG9sZCBpcyBhdHRhaW5lZCBmb3IgcmVndWxhciBwb2x5Z29ucyBhbmQgZnJlZWhhbmQgKi9cclxuXHJcbiAgICAgICAgICBpZiAodGhpcy5jaGVja1RocmVzaG9sZChwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgLyogQ2xvc2UgaWYgdGhyZXNob2xkIGlzIHJlYWNoZWQgKi9cclxuICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzLnNwbGljZShcclxuICAgICAgICAgICAgICAtMlxyXG4gICAgICAgICAgICApOyAvKiBSZW1vdmUgZXhpc3RpbmcgbW91c2Ugb3ZlciBwb2ludHMgKi9cclxuICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzLnB1c2goXHJcbiAgICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzWzBdLFxyXG4gICAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50c1sxXVxyXG4gICAgICAgICAgICApOyAvKiBDbG9zZSBwb2x5Z29uIHdpdGggaW5pdGFsIHBvaW50cyAqL1xyXG4gICAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKHBvbHlnb25PcHRpb25zLnBvaW50cyk7XHJcbiAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50U2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLmNsb3NlZCh0cnVlKTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLmRyYWdnYWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBzdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgcG9seWdvbjogY3JlYXRlZFNoYXBlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMuc3BsaWNlKFxyXG4gICAgICAgICAgICAgIC0yXHJcbiAgICAgICAgICAgICk7IC8qIFJlbW92ZSBleGlzdGluZyBtb3VzZSBvdmVyIHBvaW50cyAqL1xyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMucHVzaChwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLnBvaW50cyhwb2x5Z29uT3B0aW9ucy5wb2ludHMpO1xyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludFNldCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgZHJhd1BvbHlnb246IGZ1bmN0aW9uKHBvc2l0aW9uLCBmcmVlSGFuZCkge1xyXG4gICAgICAgIGlmIChjcmVhdGVkU2hhcGUpIHtcclxuICAgICAgICAgIGlmIChmcmVlSGFuZCkge1xyXG4gICAgICAgICAgICAvKiBGcmVlaGFuZCBibG9jayAqL1xyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMucHVzaChwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLnBvaW50cyhwb2x5Z29uT3B0aW9ucy5wb2ludHMpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLyogUG9seWdvbiBibG9jayAqL1xyXG4gICAgICAgICAgICBpZiAocG9seWdvbk9wdGlvbnMucG9pbnRTZXQpIHtcclxuICAgICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMucHVzaChwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcclxuICAgICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludFNldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGNyZWF0ZWRTaGFwZS5wb2ludHMocG9seWdvbk9wdGlvbnMucG9pbnRzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHNbcG9seWdvbk9wdGlvbnMucG9pbnRzLmxlbmd0aCAtIDJdID1cclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLng7XHJcbiAgICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzW3BvbHlnb25PcHRpb25zLnBvaW50cy5sZW5ndGggLSAxXSA9XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi55O1xyXG4gICAgICAgICAgICAgIGNyZWF0ZWRTaGFwZS5wb2ludHMocG9seWdvbk9wdGlvbnMucG9pbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZUxpbmU6IGZ1bmN0aW9uKHBvc2l0aW9uLCB0eXBlKSB7XHJcbiAgICAgICAgaWYgKGNyZWF0ZWRTaGFwZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhcnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBsaW5lOiBjcmVhdGVkU2hhcGVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbGluZTtcclxuICAgICAgICB2YXIgc2hhcGVQcm9wcyA9IHNoYXBlVG9vbHMuZ2V0KCk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgY2FzZSBcImxpbmVcIjpcclxuICAgICAgICAgICAgbGluZSA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgICAgICBuYW1lOiBcImxpbmVTaW1wbGVcIiArIHNoYXBlSWQuZ2V0Q291bnQoXCJtYXJraW5nc1wiLCBcImxpbmVcIiksXHJcbiAgICAgICAgICAgICAgcG9pbnRzOiBbcG9zaXRpb24ueCwgcG9zaXRpb24ueV0sXHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlUHJvcHMuc3Ryb2tlV2lkdGggfHwgMSxcclxuICAgICAgICAgICAgICBzdHJva2U6IHNoYXBlUHJvcHMuc3Ryb2tlIHx8IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcInNpbmdsZUFycm93XCI6XHJcbiAgICAgICAgICAgIGxpbmUgPSBuZXcgS29udmEuQXJyb3coe1xyXG4gICAgICAgICAgICAgIG5hbWU6IFwibGluZUFycm93XCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJzaW5nbGVBcnJvd1wiKSxcclxuICAgICAgICAgICAgICBwb2ludHM6IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55XSxcclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcclxuICAgICAgICAgICAgICBzdHJva2U6IHNoYXBlUHJvcHMuc3Ryb2tlIHx8IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICBmaWxsOiBzaGFwZVByb3BzLmZpbGwgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICBwb2ludGVyTGVuZ3RoOiAxMCxcclxuICAgICAgICAgICAgICBwb2ludGVyV2lkdGg6IDEwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFwiZG91YmxlQXJyb3dcIjpcclxuICAgICAgICAgICAgbGluZSA9IG5ldyBLb252YS5BcnJvdyh7XHJcbiAgICAgICAgICAgICAgbmFtZTpcclxuICAgICAgICAgICAgICAgIFwibGluZUFycm93RG91YmxlXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJkb3VibGVBcnJvd1wiKSxcclxuICAgICAgICAgICAgICBwb2ludHM6IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55XSxcclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGVQcm9wcy5zdHJva2VXaWR0aCB8fCAxLFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIGZpbGw6IHNoYXBlUHJvcHMuZmlsbCB8fCBcImJsYWNrXCIsXHJcbiAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHBvaW50ZXJMZW5ndGg6IDEwLFxyXG4gICAgICAgICAgICAgIHBvaW50ZXJXaWR0aDogMTAsXHJcbiAgICAgICAgICAgICAgcG9pbnRlckF0QmVnaW5uaW5nOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY3JlYXRlZFNoYXBlID0gbGluZTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3RhcnQ6IHRydWUsXHJcbiAgICAgICAgICBsaW5lOiBjcmVhdGVkU2hhcGVcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICBkcmF3TGluZTogZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoY3JlYXRlZFNoYXBlKSB7XHJcbiAgICAgICAgICB2YXIgcG9pbnRzID0gY3JlYXRlZFNoYXBlLnBvaW50cygpO1xyXG4gICAgICAgICAgcG9pbnRzWzJdID0gcG9zaXRpb24ueDtcclxuICAgICAgICAgIHBvaW50c1szXSA9IHBvc2l0aW9uLnk7XHJcbiAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKHBvaW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlQmV6aWVyTGluZTogZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoY3JlYXRlZFNoYXBlKSB7XHJcbiAgICAgICAgICB2YXIgY3JlYXRlZFBvaW50cyA9IGNyZWF0ZWRTaGFwZS5wb2ludHMoKTtcclxuXHJcbiAgICAgICAgICB2YXIgcSA9IFtcclxuICAgICAgICAgICAgKGNyZWF0ZWRQb2ludHNbMl0gLSBjcmVhdGVkUG9pbnRzWzBdKSAqIDAuNSArIGNyZWF0ZWRQb2ludHNbMF0sXHJcbiAgICAgICAgICAgIChjcmVhdGVkUG9pbnRzWzNdIC0gY3JlYXRlZFBvaW50c1sxXSkgKiAwLjUgKyBjcmVhdGVkUG9pbnRzWzFdXHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIHZhciBiMSA9IFtcclxuICAgICAgICAgICAgKGNyZWF0ZWRQb2ludHNbMl0gLSBjcmVhdGVkUG9pbnRzWzBdKSAqIDAuMjUgKyBjcmVhdGVkUG9pbnRzWzBdLFxyXG4gICAgICAgICAgICAoY3JlYXRlZFBvaW50c1szXSAtIGNyZWF0ZWRQb2ludHNbMV0pICogMC4yNSArIGNyZWF0ZWRQb2ludHNbMV1cclxuICAgICAgICAgIF07XHJcbiAgICAgICAgICB2YXIgYjIgPSBbXHJcbiAgICAgICAgICAgIChjcmVhdGVkUG9pbnRzWzJdIC0gY3JlYXRlZFBvaW50c1swXSkgKiAwLjc1ICsgY3JlYXRlZFBvaW50c1swXSxcclxuICAgICAgICAgICAgKGNyZWF0ZWRQb2ludHNbM10gLSBjcmVhdGVkUG9pbnRzWzFdKSAqIDAuNzUgKyBjcmVhdGVkUG9pbnRzWzFdXHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIGNyZWF0ZWRQb2ludHMucHVzaChxWzBdLCBxWzFdKTtcclxuXHJcbiAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKGNyZWF0ZWRQb2ludHMpO1xyXG4gICAgICAgICAgY3JlYXRlZFNoYXBlLnRlbnNpb24oMS4xKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxpbmU6IGNyZWF0ZWRTaGFwZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzaGFwZVByb3BzID0gc2hhcGVUb29scy5nZXQoKTtcclxuXHJcbiAgICAgICAgdmFyIGJlemllciA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgIG5hbWU6IFwiYmV6aWVyXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJiZXppZXJcIiksXHJcbiAgICAgICAgICBsaW5lSm9pbjogXCJyb3VuZFwiLFxyXG4gICAgICAgICAgcG9pbnRzOiBbcG9zaXRpb24ueCwgcG9zaXRpb24ueV0sXHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGVQcm9wcy5zdHJva2VXaWR0aCB8fCAxLFxyXG4gICAgICAgICAgc3Ryb2tlOiBzaGFwZVByb3BzLnN0cm9rZSB8fCBcImJsYWNrXCIsXHJcbiAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBjcmVhdGVkU2hhcGUgPSBiZXppZXI7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdGFydDogdHJ1ZSxcclxuICAgICAgICAgIGxpbmU6IGNyZWF0ZWRTaGFwZVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkcmF3QmV6aWVyTGluZTogZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoY3JlYXRlZFNoYXBlKSB7XHJcbiAgICAgICAgICB2YXIgcG9pbnRzID0gY3JlYXRlZFNoYXBlLnBvaW50cygpO1xyXG4gICAgICAgICAgcG9pbnRzWzJdID0gcG9zaXRpb24ueDtcclxuICAgICAgICAgIHBvaW50c1szXSA9IHBvc2l0aW9uLnk7XHJcbiAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKHBvaW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gdGV4dFxyXG5cclxuICAgICAgY3JlYXRlVGV4dDogZnVuY3Rpb24ocHJvcHMpIHtcclxuICAgICAgICB2YXIgdGV4dFNoYXBlID0gbmV3IEtvbnZhLlRleHQoe1xyXG4gICAgICAgICAgeDogcHJvcHMucG9zaXRpb24ueCxcclxuICAgICAgICAgIHk6IHByb3BzLnBvc2l0aW9uLnksXHJcbiAgICAgICAgICBuYW1lOiBcInRleHRcIixcclxuICAgICAgICAgIHRleHQ6IFwiUGxhY2Vob2xkZXIgdGV4dFwiLFxyXG4gICAgICAgICAgd2lkdGg6IHByb3BzLndpZHRoLFxyXG4gICAgICAgICAgZm9udFNpemU6IDE2LFxyXG4gICAgICAgICAgZm9udEZhbWlseTogXCJDYWxpYnJpXCIsXHJcbiAgICAgICAgICBmaWxsOiBcImJsYWNrXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGV4dFNoYXBlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlVGV4dEdyb3VwOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGV4dEdyb3VwID0gbmV3IEtvbnZhLkdyb3VwKHtcclxuICAgICAgICAgIG5hbWU6IFwidGV4dEdyb3VwXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJ0ZXh0XCIpLFxyXG4gICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0ZXh0R3JvdXA7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBjYWxpYnJhdG9yIGZ1bmN0aW9uXHJcbiAgICAgIGNhbGlicmF0b3I6IGZ1bmN0aW9uKHN0YWdlLCBsYXllcikge1xyXG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcclxuICAgICAgICB2YXIgaXNEb25lID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGluaXQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBsaW5lO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihwb3NpdGlvbiwgc2V0LCBraWxsKSB7XHJcbiAgICAgICAgICAvLyBraWxsbGluZyB0aGUgZnVuY3Rpb25cclxuXHJcbiAgICAgICAgICBpZiAoa2lsbCkge1xyXG4gICAgICAgICAgICBsaW5lLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIHg6IHBvc2l0aW9uLnggLyBzdGFnZS5zY2FsZSgpLngsXHJcbiAgICAgICAgICAgIHk6IHBvc2l0aW9uLnkgLyBzdGFnZS5zY2FsZSgpLnlcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaWYgKCFpc0RvbmUpIHtcclxuICAgICAgICAgICAgaWYgKGluaXQgJiYgc2V0KSB7XHJcbiAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XHJcbiAgICAgICAgICAgICAgbGluZSA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgICAgICAgIHBvaW50czogcG9pbnRzLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogXCJncmV5XCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgZGFzaDogWzUsIDFdXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgaW5pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGxheWVyLmFkZChsaW5lKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaW5pdCkge1xyXG4gICAgICAgICAgICAgIGlmIChzZXQpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50c1syXSA9IHBvc2l0aW9uLng7XHJcbiAgICAgICAgICAgICAgICBwb2ludHNbM10gPSBwb3NpdGlvbi55O1xyXG4gICAgICAgICAgICAgICAgbGluZS5wb2ludHMocG9pbnRzKTtcclxuICAgICAgICAgICAgICAgIGlzRG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJjYWxpYnJhdGVkXCIsIGxpbmUpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludHNbMl0gPSBwb3NpdGlvbi54O1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzWzNdID0gcG9zaXRpb24ueTtcclxuICAgICAgICAgICAgICAgIGxpbmUucG9pbnRzKHBvaW50cyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsYXllci5kcmF3KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNoZWNrVGhyZXNob2xkOiBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHZhciBwcm94aW1pdHkgPSAxMDtcclxuICAgICAgICAvLyBjYWx1bGF0aW9uIHRvIGlkZW50aWZ5IHRoZSBwcm94aW1pdHkgdG8gY2xvc2UgdGhlIHBvbHlnb25cclxuICAgICAgICB2YXIgeFVwcGVyVGhyZXNob2xkID0gcG9seWdvbk9wdGlvbnMucG9pbnRzWzBdICsgcHJveGltaXR5O1xyXG4gICAgICAgIHZhciB5VXBwZXJUaHJlc2hvbGQgPSBwb2x5Z29uT3B0aW9ucy5wb2ludHNbMV0gKyBwcm94aW1pdHk7XHJcbiAgICAgICAgdmFyIHhMb3dlclRocmVzaG9sZCA9IHBvbHlnb25PcHRpb25zLnBvaW50c1swXSAtIHByb3hpbWl0eTtcclxuICAgICAgICB2YXIgeUxvd2VyVGhyZXNob2xkID0gcG9seWdvbk9wdGlvbnMucG9pbnRzWzFdIC0gcHJveGltaXR5O1xyXG4gICAgICAgIHJldHVybiB4VXBwZXJUaHJlc2hvbGQgPiBwb3NpdGlvbi54ICYmXHJcbiAgICAgICAgICB4TG93ZXJUaHJlc2hvbGQgPCBwb3NpdGlvbi54ICYmXHJcbiAgICAgICAgICAoeVVwcGVyVGhyZXNob2xkID4gcG9zaXRpb24ueSAmJiB5TG93ZXJUaHJlc2hvbGQgPCBwb3NpdGlvbi55KVxyXG4gICAgICAgICAgPyB0cnVlXHJcbiAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogRXh0cmFjdCBhbGwgc2hhcGVzICovXHJcbiAgICAgIGV4dHJhY3RBbGxTaGFwZXM6IGZ1bmN0aW9uKGxheWVyKSB7XHJcbiAgICAgICAgdmFyIGFsbFNoYXBlcyA9IGxheWVyLmZpbmQoXCJHcm91cFwiKS5yZWR1Y2UoZnVuY3Rpb24oYWNjLCB4KSB7XHJcbiAgICAgICAgICBpZiAoL3Byb2Nlc3MqLy50ZXN0KHgubmFtZSgpKSkge1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goeC5nZXRDaGlsZHJlbigpLCBmdW5jdGlvbihjaGlsZCkge1xyXG4gICAgICAgICAgICAgIGFjYy5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIH0sIFtdKTtcclxuICAgICAgICByZXR1cm4gYWxsU2hhcGVzO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2VsZWN0U2hhcGVzOiBmdW5jdGlvbihsYXllciwgcG9pbnRzKSB7XHJcbiAgICAgICAgdmFyIGFsbFNoYXBlcyA9IHRoaXMuZXh0cmFjdEFsbFNoYXBlcyhsYXllcik7XHJcblxyXG4gICAgICAgIHZhciBwMSA9IFtwb2ludHNbMF0sIHBvaW50c1sxXV07XHJcbiAgICAgICAgdmFyIHAyID0gW3BvaW50c1s0XSwgcG9pbnRzWzVdXTtcclxuXHJcbiAgICAgICAgdmFyIG1pbiA9IHtcclxuICAgICAgICAgIHg6IHBvaW50c1swXSA+IHBvaW50c1s0XSA/IHBvaW50c1s0XSA6IHBvaW50c1swXSxcclxuICAgICAgICAgIHk6IHBvaW50c1sxXSA+IHBvaW50c1s1XSA/IHBvaW50c1s1XSA6IHBvaW50c1sxXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBtYXggPSB7XHJcbiAgICAgICAgICB4OiBwb2ludHNbMF0gPCBwb2ludHNbNF0gPyBwb2ludHNbNF0gOiBwb2ludHNbMF0sXHJcbiAgICAgICAgICB5OiBwb2ludHNbMV0gPCBwb2ludHNbNV0gPyBwb2ludHNbNV0gOiBwb2ludHNbMV1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgY2hlY2tTZWxlY3Rpb24gPSB0aGlzLmNoZWNrU2VsZWN0aW9uO1xyXG4gICAgICAgIHZhciBzZWxlY3RlZFNoYXBlcyA9IGFsbFNoYXBlcy5maWx0ZXIoZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgdmFyIHNoYXBlTmFtZSA9IHgubmFtZSgpO1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAvUmVjdCovLnRlc3Qoc2hhcGVOYW1lKSB8fFxyXG4gICAgICAgICAgICAvcG9seWdvbiovLnRlc3Qoc2hhcGVOYW1lKSB8fFxyXG4gICAgICAgICAgICAvZnJlZUhhbmQqLy50ZXN0KHNoYXBlTmFtZSkgfHxcclxuICAgICAgICAgICAgL21hcmtlckZyZWVIYW5kLy50ZXN0KHNoYXBlTmFtZSlcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgcG9pbnRzID0geC5wb2ludHMoKTtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uT2Zmc2V0ID0geC5wb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC0gMjsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgLy8gaWdub3JlIHRoZSBsYXN0IHBhaXIgc2luY2UgaXQncyBzaW1pbGFyIHRvIHRoZSBmaXJzdCBwYWlyXHJcbiAgICAgICAgICAgICAgdmVydGljZXMucHVzaChbXHJcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0gKyBwb3NpdGlvbk9mZnNldC54LFxyXG4gICAgICAgICAgICAgICAgcG9pbnRzW2kgKyAxXSArIHBvc2l0aW9uT2Zmc2V0LnlcclxuICAgICAgICAgICAgICBdKTsgLy8gY2h1bmtpZnkgYW5kIG9mZnNldCBwb2ludHMgcG9pbnRzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogQ2hlY2tzIGlmIGEgc2hhcGUgaXMgc2VsZWN0ZWQgYW5kIHJldHVybnMgQm9vbGVhbiAqL1xyXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tTZWxlY3Rpb24oXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbWluOiBtaW4sXHJcbiAgICAgICAgICAgICAgICBtYXg6IG1heFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgdmVydGljZXMsXHJcbiAgICAgICAgICAgICAgXCJyZWN0YW5nbGVcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICgvbGluZSovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgICB2YXIgcG9pbnRzID0geC5wb2ludHMoKTtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uT2Zmc2V0ID0geC5wb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAvLyBpZ25vcmUgdGhlIGxhc3QgcGFpciBzaW5jZSBpdCdzIHNpbWlsYXIgdG8gdGhlIGZpcnN0IHBhaXJcclxuICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKFtcclxuICAgICAgICAgICAgICAgIHBvaW50c1tpXSArIHBvc2l0aW9uT2Zmc2V0LngsXHJcbiAgICAgICAgICAgICAgICBwb2ludHNbaSArIDFdICsgcG9zaXRpb25PZmZzZXQueVxyXG4gICAgICAgICAgICAgIF0pOyAvLyBjaHVua2lmeSBhbmQgb2Zmc2V0IHBvaW50cyBwb2ludHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBDaGVja3MgaWYgYSBzaGFwZSBpcyBzZWxlY3RlZCBhbmQgcmV0dXJucyBCb29sZWFuICovXHJcbiAgICAgICAgICAgIHJldHVybiBjaGVja1NlbGVjdGlvbihcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcclxuICAgICAgICAgICAgICAgIG1heDogbWF4XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB2ZXJ0aWNlcyxcclxuICAgICAgICAgICAgICBcInJlY3RhbmdsZVwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKC9FbGxpcHNlKi8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGVja1NlbGVjdGlvbihcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcclxuICAgICAgICAgICAgICAgIG1heDogbWF4XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB4LnBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgXCJlbGxpcHNlXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIHJldHVybiBvbmx5IG5hbWVzIG9mIHRob3NlIHNoYXBlcyAqL1xyXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFNoYXBlcztcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNoZWNrU2VsZWN0aW9uOiBmdW5jdGlvbihyYW5nZSwgcHJvcCwgdHlwZSkge1xyXG4gICAgICAgIC8qIFNlbGVjdGlvbiBsb2dpYyBmb3IgcmVjdGFuZ2xlICovXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFwicmVjdGFuZ2xlXCIpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgcHJvcFtpXVswXSA+PSByYW5nZS5taW4ueCAmJlxyXG4gICAgICAgICAgICAgIHByb3BbaV1bMF0gPD0gcmFuZ2UubWF4LnggJiYgLy8geCAtIGF4aXNcclxuICAgICAgICAgICAgICAocHJvcFtpXVsxXSA+PSByYW5nZS5taW4ueSAmJiBwcm9wW2ldWzFdIDw9IHJhbmdlLm1heC55KSAvLyB5IC0gYXhpc1xyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBTZWxlY3Rpb24gbG9naWMgZm9yIGVsbGlwc2UgKi9cclxuICAgICAgICBpZiAodHlwZSA9PT0gXCJlbGxpcHNlXCIpIHtcclxuICAgICAgICAgIC8vIENvbXBhcmluZyB3aXRoIGNlbnRlciBwb3NpdGlvbnNcclxuICAgICAgICAgIHJldHVybiBwcm9wLnggPj0gcmFuZ2UubWluLnggJiZcclxuICAgICAgICAgIHByb3AueCA8PSByYW5nZS5tYXgueCAmJiAvLyB4IC0gYXhpc1xyXG4gICAgICAgICAgICAocHJvcC55ID49IHJhbmdlLm1pbi55ICYmIHByb3AueSA8PSByYW5nZS5tYXgueSkgLy8gLWF4aXNcclxuICAgICAgICAgICAgPyB0cnVlXHJcbiAgICAgICAgICAgIDogZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwidG9vbHNWUEZhY3RvcnlcIiwgdG9vbHNWUEZhY3RvcnkpO1xyXG5cclxuICAvKiogQG5nSW5qZWN0ICovXHJcbiAgZnVuY3Rpb24gdG9vbHNWUEZhY3RvcnkoJHJvb3RTY29wZSwgZXZlbnRzVlBGYWN0b3J5KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvLyBSZXR1cm5zIGFyZWEgb2YgcG9seWdvblxyXG4gICAgICAvKiBcclxuICAgICAgICBAcGFyYW0gcG9pbnRzID0gQXJyYXksIHNjYWxlID0gTnVtYmVyXHJcbiAgICAgICAgQHJldHVybiBOdW1iZXJcclxuICAgICAgKi9cclxuICAgICAgcG9seWdvbkFyZWE6IGZ1bmN0aW9uKHBvaW50cywgc2NhbGUpIHtcclxuICAgICAgICB2YXIgZGV0ID0gMDtcclxuICAgICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICAgIHZhciBjaHVua2VkQXJyYXkgPSBbXTtcclxuICAgICAgICB2YXIgY2h1bmsgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGNodW5rLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgY2h1bmsucHVzaChwb2ludHNbaV0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2h1bmtlZEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgIHg6IGNodW5rWzBdLFxyXG4gICAgICAgICAgICAgIHk6IGNodW5rWzFdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjaHVuayA9IFtdO1xyXG4gICAgICAgICAgICBjaHVuay5wdXNoKHBvaW50c1tpXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsID0gY2h1bmtlZEFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKGNodW5rZWRBcnJheVswXSAhPSBjaHVua2VkQXJyYXlbY2h1bmtlZEFycmF5Lmxlbmd0aCAtIDFdKVxyXG4gICAgICAgICAgY2h1bmtlZEFycmF5ID0gY2h1bmtlZEFycmF5LmNvbmNhdChjaHVua2VkQXJyYXlbMF0pO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKylcclxuICAgICAgICAgIGRldCArPVxyXG4gICAgICAgICAgICBjaHVua2VkQXJyYXlbaV0ueCAqIGNodW5rZWRBcnJheVtpICsgMV0ueSAtXHJcbiAgICAgICAgICAgIGNodW5rZWRBcnJheVtpXS55ICogY2h1bmtlZEFycmF5W2kgKyAxXS54O1xyXG5cclxuICAgICAgICBpZiAoc2NhbGUpIHtcclxuICAgICAgICAgIHJlc3VsdCA9IChNYXRoLmFicyhkZXQpIC8gMikgKiBzY2FsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzdWx0ID0gTWF0aC5hYnMoZGV0KSAvIDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBOdW1iZXIucGFyc2VGbG9hdChyZXN1bHQpLnRvRml4ZWQoMik7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBhcmVhIG9mIHJlY3RhbmdsZVxyXG5cclxuICAgICAgcmVjdGFuZ2xlQXJlYTogZnVuY3Rpb24oaGVpZ2h0LCB3aWR0aCwgc2NhbGUpIHtcclxuICAgICAgICB2YXIgYXJlYSA9IGhlaWdodCAqIHdpZHRoICogc2NhbGU7XHJcbiAgICAgICAgcmV0dXJuIGFyZWE7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBSZXR1cm4gYXJlYSBvZiBlbGxpcHNlXHJcbiAgICAgIGVsbGlwc2VBcmVhOiBmdW5jdGlvbihyYWRpaSwgc2NhbGUpIHtcclxuICAgICAgICB2YXIgYXJlYSA9IE1hdGguUEkgKiByYWRpaS54ICogcmFkaWkueTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gc2NhbGUgPyBhcmVhICogc2NhbGUgOiBhcmVhO1xyXG4gICAgICAgIHJldHVybiBOdW1iZXIucGFyc2VGbG9hdChyZXN1bHQpLnRvRml4ZWQoMik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBlbGxpcHNlVHJhbnNmb21lcjogZnVuY3Rpb24oc3RhZ2UsIGxheWVyLCBlbGxpcHNlKSB7XHJcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XHJcbiAgICAgICAgdmFyIHNldCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBncm91cCA9IG5ldyBLb252YS5Hcm91cCh7XHJcbiAgICAgICAgICBuYW1lOiBcInRyYW5zZm9ybWVyc1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24ocmFkaXVzKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGxpcHNlUG9zaXRpb24gPSBlbGxpcHNlLnBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goXHJcbiAgICAgICAgICAgICAgW2VsbGlwc2VQb3NpdGlvbi54IC0gcmFkaXVzLngsIGVsbGlwc2VQb3NpdGlvbi55XSxcclxuICAgICAgICAgICAgICBbZWxsaXBzZVBvc2l0aW9uLnggKyByYWRpdXMueCwgZWxsaXBzZVBvc2l0aW9uLnldLFxyXG4gICAgICAgICAgICAgIFtlbGxpcHNlUG9zaXRpb24ueCwgZWxsaXBzZVBvc2l0aW9uLnkgKyByYWRpdXMueV0sXHJcbiAgICAgICAgICAgICAgW2VsbGlwc2VQb3NpdGlvbi54LCBlbGxpcHNlUG9zaXRpb24ueSAtIHJhZGl1cy55XVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB2YXIgaW5jID0gMDtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZlcnRpY2VzLCBmdW5jdGlvbih4LCAkaW5kZXgpIHtcclxuICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gbmV3IEtvbnZhLkNpcmNsZSh7XHJcbiAgICAgICAgICAgICAgICB4OiB4WzBdLFxyXG4gICAgICAgICAgICAgICAgeTogeFsxXSxcclxuICAgICAgICAgICAgICAgIHJhZGl1czogNSAvIGxheWVyLnNjYWxlWCgpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTpcclxuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYykudG9TdHJpbmcoKSArXHJcbiAgICAgICAgICAgICAgICAgIFwiLFwiICtcclxuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYyArIDEpLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAvKiBBc3NpZ24gbmFtZXMgYXMgY28tb3JkaW5hdGVzICovXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBcIndoaXRlXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzIC8gbGF5ZXIuc2NhbGVYKCksXHJcbiAgICAgICAgICAgICAgICBkcmFnQm91bmRGdW5jOiBmdW5jdGlvbihwb3MpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB4OiAkaW5kZXggPiAxID8gdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkueCA6IHBvcy54LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6ICRpbmRleCA8PSAxID8gdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkueSA6IHBvcy55XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgaW5jKys7XHJcbiAgICAgICAgICAgICAgdmFyIGNpcmNsZUV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKGNpcmNsZSk7XHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJkcmFnbW92ZS50cmFuc2Zvcm1lclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1JhZGl1cyA9IGVsbGlwc2UucmFkaXVzKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRWZXJ0ZXggPSBjaXJjbGUubmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzTmVnYXRpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VsZWN0ZWRWZXJ0ZXgpIHtcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcIjAsMVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlzTmVnYXRpdmUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS5wb3NpdGlvbigpLnggLSBjaXJjbGUueCgpIDwgMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLnJhZGl1cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICB4OiBNYXRoLmFicyhlbGxpcHNlLnBvc2l0aW9uKCkueCAtIGNpcmNsZS54KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgeTogcHJldmlvdXNSYWRpdXMueVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjIsM1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueChlbGxpcHNlLnBvc2l0aW9uKCkueCArIGVsbGlwc2UucmFkaXVzKCkueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei54KGVsbGlwc2UucG9zaXRpb24oKS54IC0gZWxsaXBzZS5yYWRpdXMoKS54KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiMiwzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgaXNOZWdhdGl2ZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLnBvc2l0aW9uKCkueCAtIGNpcmNsZS54KCkgPCAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsbGlwc2UucmFkaXVzKHtcclxuICAgICAgICAgICAgICAgICAgICAgIHg6IE1hdGguYWJzKGVsbGlwc2UucG9zaXRpb24oKS54IC0gY2lyY2xlLngoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICB5OiBwcmV2aW91c1JhZGl1cy55XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGdyb3VwLmNoaWxkcmVuLCBmdW5jdGlvbih6KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoei5uYW1lKCkgPT09IFwiMCwxXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05lZ2F0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei54KGVsbGlwc2UucG9zaXRpb24oKS54ICsgZWxsaXBzZS5yYWRpdXMoKS54KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB6LngoZWxsaXBzZS5wb3NpdGlvbigpLnggLSBlbGxpcHNlLnJhZGl1cygpLngpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCI0LDVcIjpcclxuICAgICAgICAgICAgICAgICAgICBpc05lZ2F0aXZlID1cclxuICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc2UucG9zaXRpb24oKS55IC0gY2lyY2xlLnkoKSA8IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS5yYWRpdXMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgeDogcHJldmlvdXNSYWRpdXMueCxcclxuICAgICAgICAgICAgICAgICAgICAgIHk6IE1hdGguYWJzKGVsbGlwc2UucG9zaXRpb24oKS55IC0gY2lyY2xlLnkoKSlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZ3JvdXAuY2hpbGRyZW4sIGZ1bmN0aW9uKHopIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI2LDdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmVnYXRpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB6LnkoZWxsaXBzZS5wb3NpdGlvbigpLnkgKyBlbGxpcHNlLnJhZGl1cygpLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShlbGxpcHNlLnBvc2l0aW9uKCkueSAtIGVsbGlwc2UucmFkaXVzKCkueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcIjYsN1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlzTmVnYXRpdmUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS5wb3NpdGlvbigpLnkgLSBjaXJjbGUueSgpIDwgMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLnJhZGl1cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICB4OiBwcmV2aW91c1JhZGl1cy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5hYnMoZWxsaXBzZS5wb3NpdGlvbigpLnkgLSBjaXJjbGUueSgpKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjQsNVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShlbGxpcHNlLnBvc2l0aW9uKCkueSArIGVsbGlwc2UucmFkaXVzKCkueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei55KGVsbGlwc2UucG9zaXRpb24oKS55IC0gZWxsaXBzZS5yYWRpdXMoKS55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsbGlwc2UuZmlyZShcInRyYW5zZm9ybUVsbGlwc2VcIik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIC8qIFNjYWxlIHRyYW5zZm9tZXIgYmFzZWQgb24gem9vbSAqL1xyXG5cclxuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcInNjYWxlT25ab29tXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJhZGl1cyg1IC8gbGF5ZXIuc2NhbGVYKCkpO1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuc3Ryb2tlV2lkdGgoMyAvIGxheWVyLnNjYWxlWCgpKTtcclxuICAgICAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJtb3ZlXCI7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgZ3JvdXAuYWRkKGNpcmNsZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbGxpcHNlLmZpcmUoXCJ0cmFuc2Zvcm1FbGxpcHNlXCIpO1xyXG5cclxuICAgICAgICAgICAgc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGF5ZXIuYWRkKGdyb3VwKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xyXG4gICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICBnZXRHcm91cDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZ3JvdXAuZGVzdHJveSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBDdXN0b20gdHJhbnNmb3JtZXIgZm9yIHBvbHlnb24gKi9cclxuICAgICAgY3VzdG9tVHJhbnNmb3JtZXI6IGZ1bmN0aW9uKHN0YWdlLCBsYXllciwgcG9seWdvbiwgaXNSZWN0YW5nbGUpIHtcclxuICAgICAgICAvKiBDaGFuZ2UgdHJhbnNmb3JtZXIgYmVoYXZpb3VzIGJhc2VkIG9uIGlzUmVjdGFuZ2xlIHBhcmFtZXRlciAqL1xyXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xyXG4gICAgICAgIHZhciBzZXQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgZ3JvdXAgPSBuZXcgS29udmEuR3JvdXAoe1xyXG4gICAgICAgICAgbmFtZTogXCJ0cmFuc2Zvcm1lcnNcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBwb2x5Z29uID0gcG9seWdvbjtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLy8gbWV0aG9kIHRvIHNldCB0aGUgcG9pbnRzXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHBvaW50cykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLSAyOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAvLyBpZ25vcmUgdGhlIGxhc3QgcGFpciBzaW5jZSBpdCdzIHNpbWlsYXIgdG8gdGhlIGZpcnN0IHBhaXJcclxuICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKFtwb2ludHNbaV0sIHBvaW50c1tpICsgMV1dKTsgLy8gY2h1bmtpZnkgcG9pbnRzXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIENvdW50ZXIgdG8gZ2VuZXJhdGUgY2lyY2xlIG5hbWVzIHRvIG1hcCB0aGVtIHdpdGggY28tb3JkaW5hdGVzICovXHJcbiAgICAgICAgICAgIHZhciBpbmMgPSAwO1xyXG5cclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZlcnRpY2VzLCBmdW5jdGlvbih4LCAkaW5kZXgpIHtcclxuICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gbmV3IEtvbnZhLkNpcmNsZSh7XHJcbiAgICAgICAgICAgICAgICB4OiB4WzBdLFxyXG4gICAgICAgICAgICAgICAgeTogeFsxXSxcclxuICAgICAgICAgICAgICAgIHJhZGl1czogNSAvIGxheWVyLnNjYWxlWCgpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTpcclxuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYykudG9TdHJpbmcoKSArXHJcbiAgICAgICAgICAgICAgICAgIFwiLFwiICtcclxuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYyArIDEpLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAvKiBBc3NpZ24gbmFtZXMgYXMgY28tb3JkaW5hdGVzICovXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBcIndoaXRlXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzIC8gbGF5ZXIuc2NhbGVYKCksXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBpbmMrKztcclxuXHJcbiAgICAgICAgICAgICAgLyogUmVnaXN0ZXIgZHJhZ21vdmUgZXZlbnRzIGZvciB0aGUgdHJhbnNmb3JtZXIncyB2ZXJ0ZXggKi9cclxuICAgICAgICAgICAgICB2YXIgY2lyY2xlRXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoY2lyY2xlKTtcclxuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcImRyYWdtb3ZlLnRyYW5zZm9ybWVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1JlY3RhbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgICAvKiBCaW5kIG90aGVyIHZlcnRpY2VzIGZvciByZWN0YW5nbGUgKi9cclxuICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkVmVydGV4ID0gY2lyY2xlLm5hbWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8qIEZpbmQgeCBhbmQgeSBoaW5nZXMgYmFzZWQgdXBvbiBkaWFnb25hbCBoaW5nZSAqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgc3dpdGNoIChzZWxlY3RlZFZlcnRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIwLDFcIjpcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gW2NpcmNsZS54KCksIGNpcmNsZS55KCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbMV1bMV0gPSBjaXJjbGUueSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbM11bMF0gPSBjaXJjbGUueCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGdyb3VwLmNoaWxkcmVuLCBmdW5jdGlvbih6KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHggLSBjaXJjbGUgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjYsN1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei54KGNpcmNsZS54KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHkgLSBjaXJjbGUgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjIsM1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei55KGNpcmNsZS55KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMiwzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IFtjaXJjbGUueCgpLCBjaXJjbGUueSgpXTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdWzFdID0gY2lyY2xlLnkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzJdWzBdID0gY2lyY2xlLngoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB4IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI0LDVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueChjaXJjbGUueCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB5IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCIwLDFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShjaXJjbGUueSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNCw1XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IFtjaXJjbGUueCgpLCBjaXJjbGUueSgpXTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzNdWzFdID0gY2lyY2xlLnkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzFdWzBdID0gY2lyY2xlLngoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB4IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCIyLDNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueChjaXJjbGUueCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB5IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI2LDdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShjaXJjbGUueSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNiw3XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1szXSA9IFtjaXJjbGUueCgpLCBjaXJjbGUueSgpXTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzJdWzFdID0gY2lyY2xlLnkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdWzBdID0gY2lyY2xlLngoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB4IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCIwLDFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueChjaXJjbGUueCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB5IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI0LDVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShjaXJjbGUueSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgLyogSWdub3JlIG90aGVyIGNpcmNsZXMgZm9yIHBvbHlnb24gKi9cclxuICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGdyb3VwLmNoaWxkcmVuLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKFt4LngoKSwgeC55KCldKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gYW5ndWxhci5jb3B5KHRlbXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcG9seWdvbi5maXJlKFwidHJhbnNmb3JtUG9seWdvblwiKTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgLyogU2NhbGUgdHJhbnNmb21lciBiYXNlZCBvbiB6b29tICovXHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJzY2FsZU9uWm9vbVwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5yYWRpdXMoNSAvIGxheWVyLnNjYWxlWCgpKTtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0cm9rZVdpZHRoKDMgLyBsYXllci5zY2FsZVgoKSk7XHJcbiAgICAgICAgICAgICAgICBsYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIGNpcmNsZUV2ZW50LnJlZ2lzdGVyKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwibW92ZVwiO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGNpcmNsZUV2ZW50LnJlZ2lzdGVyKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGdyb3VwLmFkZChjaXJjbGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNldCA9IHRydWU7XHJcbiAgICAgICAgICAgIGxheWVyLmFkZChncm91cCk7XHJcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyB1cGRhdGUgdHJhbnNmb3JtZXIgcG9zaXRpb24gd2hlbiBzaGFwZSBpcyBtb3ZlZFxyXG4gICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihvZmZzZXQpIHtcclxuICAgICAgICAgICAgZ3JvdXAueChvZmZzZXQueCk7XHJcbiAgICAgICAgICAgIGdyb3VwLnkob2Zmc2V0LnkpO1xyXG4gICAgICAgICAgICBsYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0UG9pbnRzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlcnRpY2VzLnJlZHVjZShmdW5jdGlvbihhY2MsIHgsIGkpIHtcclxuICAgICAgICAgICAgICBhY2MucHVzaCh4WzBdLCB4WzFdKTtcclxuICAgICAgICAgICAgICBpZiAoaSA9PT0gdmVydGljZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW5jbHVkZSB0aGUgc3RhcnQgdmVydGV4IHR3aWNlIHRvIGNvbXBsZXRlIHRoZSBwb2x5Z29uXHJcbiAgICAgICAgICAgICAgICBhY2MucHVzaCh2ZXJ0aWNlc1swXSwgdmVydGljZXNbMV0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBbXSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0R3JvdXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ3JvdXA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qIEJlemllciBUcmFuc2Zvcm1lciAqL1xyXG5cclxuICAgICAgYmV6aWVyVHJhbnNmb3JtZXI6IGZ1bmN0aW9uKHN0YWdlLCBsYXllciwgYmV6aWVyKSB7XHJcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XHJcbiAgICAgICAgdmFyIHNldCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBncm91cCA9IG5ldyBLb252YS5Hcm91cCh7XHJcbiAgICAgICAgICBuYW1lOiBcInRyYW5zZm9ybWVyc1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGJlemllciA9IGJlemllcjtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLy8gbWV0aG9kIHRvIHNldCB0aGUgcG9pbnRzXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHBvaW50cykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goW3BvaW50c1tpXSwgcG9pbnRzW2kgKyAxXV0pOyAvLyBjaHVua2lmeSBwb2ludHNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyogQ291bnRlciB0byBnZW5lcmF0ZSBjaXJjbGUgbmFtZXMgdG8gbWFwIHRoZW0gd2l0aCBjby1vcmRpbmF0ZXMgKi9cclxuICAgICAgICAgICAgdmFyIGluYyA9IDA7XHJcblxyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godmVydGljZXMsIGZ1bmN0aW9uKHgsICRpbmRleCkge1xyXG4gICAgICAgICAgICAgIHZhciBjaXJjbGUgPSBuZXcgS29udmEuQ2lyY2xlKHtcclxuICAgICAgICAgICAgICAgIHg6IHhbMF0sXHJcbiAgICAgICAgICAgICAgICB5OiB4WzFdLFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiA1IC8gbGF5ZXIuc2NhbGVYKCksXHJcbiAgICAgICAgICAgICAgICBuYW1lOlxyXG4gICAgICAgICAgICAgICAgICAoJGluZGV4ICsgaW5jKS50b1N0cmluZygpICtcclxuICAgICAgICAgICAgICAgICAgXCIsXCIgK1xyXG4gICAgICAgICAgICAgICAgICAoJGluZGV4ICsgaW5jICsgMSkudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIC8qIEFzc2lnbiBuYW1lcyBhcyBjby1vcmRpbmF0ZXMgKi9cclxuICAgICAgICAgICAgICAgIGZpbGw6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDMgLyBsYXllci5zY2FsZVgoKSxcclxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGluYysrO1xyXG5cclxuICAgICAgICAgICAgICAvKiBSZWdpc3RlciBkcmFnbW92ZSBldmVudHMgZm9yIHRoZSB0cmFuc2Zvcm1lcidzIHZlcnRleCAqL1xyXG4gICAgICAgICAgICAgIHZhciBjaXJjbGVFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhjaXJjbGUpO1xyXG4gICAgICAgICAgICAgIGNpcmNsZUV2ZW50LnJlZ2lzdGVyKFwiZHJhZ21vdmUudHJhbnNmb3JtZXJcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goW3gueCgpLCB4LnkoKV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IGFuZ3VsYXIuY29weSh0ZW1wKTtcclxuICAgICAgICAgICAgICAgIGJlemllci5maXJlKFwidHJhbnNmb3JtQmV6aWVyXCIpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAvKiBTY2FsZSB0cmFuc2ZvbWVyIGJhc2VkIG9uIHpvb20gKi9cclxuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcInNjYWxlT25ab29tXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJhZGl1cyg1IC8gbGF5ZXIuc2NhbGVYKCkpO1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuc3Ryb2tlV2lkdGgoMyAvIGxheWVyLnNjYWxlWCgpKTtcclxuICAgICAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJtb3ZlXCI7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgZ3JvdXAuYWRkKGNpcmNsZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGF5ZXIuYWRkKGdyb3VwKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIC8vIHVwZGF0ZSB0cmFuc2Zvcm1lciBwb3NpdGlvbiB3aGVuIHNoYXBlIGlzIG1vdmVkXHJcbiAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKG9mZnNldCkge1xyXG4gICAgICAgICAgICBncm91cC54KG9mZnNldC54KTtcclxuICAgICAgICAgICAgZ3JvdXAueShvZmZzZXQueSk7XHJcbiAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRQb2ludHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmVydGljZXMucmVkdWNlKGZ1bmN0aW9uKGFjYywgeCwgaSkge1xyXG4gICAgICAgICAgICAgIGFjYy5wdXNoKHhbMF0sIHhbMV0pO1xyXG4gICAgICAgICAgICAgIGlmIChpID09PSB2ZXJ0aWNlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbmNsdWRlIHRoZSBzdGFydCB2ZXJ0ZXggdHdpY2UgdG8gY29tcGxldGUgdGhlIHBvbHlnb25cclxuICAgICAgICAgICAgICAgIGFjYy5wdXNoKHZlcnRpY2VzWzBdLCB2ZXJ0aWNlc1sxXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFtdKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRHcm91cDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gZnVuY3Rpb24gdG8gc2NhbGUgdHJhbnNmb3JtZXIgYmFzZWQgb24gem9vbVxyXG5cclxuICAgICAgc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tOiBmdW5jdGlvbihiYXNlTGF5ZXIpIHtcclxuICAgICAgICB2YXIgdHJhbnNmb3JtZXJHcm91cCA9IGJhc2VMYXllci5maW5kKFwiLnRyYW5zZm9ybWVyc1wiKTtcclxuICAgICAgICBpZiAodHJhbnNmb3JtZXJHcm91cC5sZW5ndGgpIHtcclxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0cmFuc2Zvcm1lckdyb3VwWzBdLmdldENoaWxkcmVuKCksIGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLmZpcmUoXCJzY2FsZU9uWm9vbVwiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIG1ldHJpY3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzaGFwZUluZm87XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZXRTaGFwZUluZm86IGZ1bmN0aW9uKGluZm8pIHtcclxuICAgICAgICAgICAgc2hhcGVJbmZvID0gaW5mbztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRTaGFwZUluZm86IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2hhcGVJbmZvO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjb2xvclBpY2tlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHByb3BzID0ge1xyXG4gICAgICAgICAgc3Ryb2tlOiBcImJsYWNrXCIsXHJcbiAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgZmlsbDogXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogMVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICBwcm9wcyA9IE9iamVjdC5hc3NpZ24ocHJvcHMsIG9iaik7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbihwcm9wKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wID8gcHJvcHNbcHJvcF0gOiBwcm9wcztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJfM2REYXNoYm9hcmRDdHJsXCIsIF8zZERhc2hib2FyZEN0cmwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIF8zZERhc2hib2FyZEN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgTmdNYXBcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgICAgdm0ubG9nZ2VkSW4gPSB0cnVlXHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCB0aHJvdHRsZXIgfSA9IGdsb2JhbHM7XHJcblxyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgdm0ubG9nZ2VkSW4gPSBmYWxzZVxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIl8zZHZpZXdlckN0cmxcIiwgXzNkdmlld2VyQ3RybCk7XHJcblxyXG4gICAgZnVuY3Rpb24gXzNkdmlld2VyQ3RybChcclxuICAgICAgICAkc2NvcGUsXHJcbiAgICAgICAgJHRpbWVvdXQsXHJcbiAgICAgICAgYXV0aEZhY3RvcnksXHJcbiAgICAgICAgJHN0YXRlLFxyXG4gICAgICAgIGFwaUZhY3RvcnksXHJcbiAgICAgICAgTm90aWZpY2F0aW9uLFxyXG4gICAgICAgIE5nTWFwLFxyXG4gICAgICAgIGdsb2JhbHMsXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgY29uc3QgeyBsb2dvdXQgfSA9IGdsb2JhbHM7XHJcbiAgICBcclxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG5cclxufSkoKTsiLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJiaWxsaW5nQXJjaGl2ZUN0cmxcIiwgYmlsbGluZ0FyY2hpdmVDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gYmlsbGluZ0FyY2hpdmVDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBnbG9iYWxzXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7IGxvZ291dCgpOyB9O1xyXG5cclxuXHJcbiAgICB2YXIgdXJsID0gJGxvY2F0aW9uLnBhdGgoKTtcclxuICAgIFxyXG4gICAgaWYgKHVybCA9PSAnL3BheXJvbGwnKSB7XHJcbiAgICAgICQoJy5wYXlyb2xsTWVudScpLmNzcygnZGlzcGxheScsICdibG9jayAhaW1wb3J0YW50Jyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgJCgnLnBheXJvbGxMaXN0JykuRGF0YVRhYmxlKCk7XHJcbiAgICBcclxuICAgIFxyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiY2FsY3VsYXRpb25DdHJsXCIsIGNhbGN1bGF0aW9uQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIGNhbGN1bGF0aW9uQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFsc1xyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4geyBsb2dvdXQoKTsgfTtcclxuXHJcblxyXG4gICAgJCgnLnBheXJvbGxMaXN0JykuRGF0YVRhYmxlKCk7XHJcbiAgICBcclxuICAgIFxyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiY2FsZW5kZXJDdHJsXCIsIGNhbGVuZGVyQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIGNhbGVuZGVyQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFscyxcclxuICAgIFVwbG9hZFxyXG4gICkge1xyXG5cclxuICAgICRzY29wZS5pbnZpdGVlcyA9IFtcclxuICAgICAgICB7IGlkOiAnMScsIGltZzogJy9hc3NldHMvaW1hZ2VzL3VzZXJfcGljMi5wbmcnLCBuYW1lOiAnTGlzYSBHdWVycmVybycsIGxiOiB0cnVlLCAnc3RhdHVzJzogZmFsc2UgfSxcclxuICAgICAgICB7IGlkOiAnMicsIGltZzogJy9hc3NldHMvaW1hZ2VzL3VzZXJfcGljMy5wbmcnLCBuYW1lOiAnUGV0ZXIgR3JlZ29yJywgbGI6IGZhbHNlLCAnc3RhdHVzJzogZmFsc2UgfSxcclxuICAgICAgICB7IGlkOiAnMycsIGltZzogJy9hc3NldHMvaW1hZ2VzL3VzZXJfcGljMi5wbmcnLCBuYW1lOiAnTGlzYSBHdWVycmVybycsIGxiOiBmYWxzZSwgJ3N0YXR1cyc6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpZDogJzQnLCBpbWc6ICcvYXNzZXRzL2ltYWdlcy91c2VyX3BpYzMucG5nJywgbmFtZTogJ1BldGVyIEdyZWdvcicsIGxiOiBmYWxzZSwgJ3N0YXR1cyc6IGZhbHNlIH1cclxuICAgIF1cclxuICAgIFxyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gICAgXHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImNsaWVudHNDdHJsXCIsIGNsaWVudHNDdHJsKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbGllbnRzQ3RybChcclxuICAgICAgICAkc2NvcGUsXHJcbiAgICAgICAgJHRpbWVvdXQsXHJcbiAgICAgICAgYXV0aEZhY3RvcnksXHJcbiAgICAgICAgJHN0YXRlLFxyXG4gICAgICAgIGFwaUZhY3RvcnksXHJcbiAgICAgICAgTm90aWZpY2F0aW9uLFxyXG4gICAgICAgIE5nTWFwLFxyXG4gICAgICAgIGdsb2JhbHMsXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgY29uc3QgeyBsb2dvdXQsZGVib3VuY2UgLHVzZXJTdG9yZX0gPSBnbG9iYWxzO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgXHJcbiAgICAgICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICAgICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgndm0uY2xpZW50RGF0YS5jbGllbnRDb250YWN0LmRpYWxDb2RlJywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAkKCdhLml0ZW0tc2VsZWN0ZWQgc3BhbicpLnJlbW92ZUNsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZScpXHJcbiAgICAgICAgICAkKCdhLml0ZW0tc2VsZWN0ZWQgc3BhbicpLmFkZENsYXNzKCdmYXMgZmEtdGltZXMgbXItMycpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuY2xpZW50c0xpc3RcIikuRGF0YVRhYmxlKCk7XHJcbiAgICAgICAgJHNjb3BlLmFjdGl2ZUp1c3RpZmllZCA9IDA7XHJcblxyXG4gICAgICAgIHZtLmN1cnJlbnRQYWdlID0gMTtcclxuICAgIFxyXG4gICAgICAgIHZtLnRvZ2dsZU9iaiA9IHtcclxuICAgICAgICAgIHRvZ2dsZUNsaWVudDoge1xyXG4gICAgICAgICAgICBjbGllbnROYW1lOiBmYWxzZSxcclxuICAgICAgICAgICAgcGhvbmVObzogZmFsc2UsXHJcbiAgICAgICAgICAgIGVtYWlsOiBmYWxzZSxcclxuICAgICAgICAgICAgcHJpbWFyeUFkZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGNyZWF0ZWQ6IHRydWUsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2bS5zZWFyY2hUZXh0ID0gXCJcIjtcclxuICAgICAgICB2bS5zb3J0Y2xpZW50cyA9ICh0eXBlLCByZXNvdXJjZSkgPT4ge1xyXG4gICAgICAgICAgLyogRm9yIHRvZ2dsaW5nIGFzY2VuZGluZyBhbmQgZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICAgICAgICAgdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXSA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gKHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0gPSB0cnVlKVxyXG4gICAgICAgICAgICA6ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gIXZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmxpc3RBbGxDbGllbnRzKHtcclxuICAgICAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICBzb3J0OiB0eXBlLFxyXG4gICAgICAgICAgICAgIHNlYXJjaDogdm0uc2VhcmNoVGV4dCxcclxuICAgICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgdm0uYWxsQ2xpZW50cyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgIHZtLmNsaWVudENvdW50ID0gcmVzcC5kYXRhLnRvdGFsO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkKFwiI3BhZ2luYXRpb25cIikucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zOiB2bS5jbGllbnRDb3VudCxcclxuICAgICAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxyXG4gICAgICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICAgICAgICBocmVmVGV4dFByZWZpeDogXCIjXCIsXHJcbiAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgICAgICAgLmxpc3RBbGxDbGllbnRzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0OiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3R5cGVdXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmFsbENsaWVudHMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdm0uc2VhcmNoVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgY29uc3Qgc2VhcmNoRGVib3VuY2UgPSBkZWJvdW5jZSgyNTApOyAvKiBQYXNzaW5nIGluIHRoZSBkZWJvdW5jZSByYXRlICovXHJcbiAgICAgICAgdm0uc2VhcmNoQ2xpZW50cyA9IHRleHQgPT4ge1xyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIHBhc3MgdGhlIGZ1bmN0aW9uIHdoaWNoIHlvdSB3YW50IHRvIGRlYm91bmNlXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIC0gcGFzcyB0aGUgYXJndW1lbnRzIGZyb20gdGhlIHZpZXcgYXMgYW4gYXJyYXlcclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgc2VhcmNoRGVib3VuY2UoXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgIC5saXN0QWxsQ2xpZW50cyh7XHJcbiAgICAgICAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoOiB0ZXh0LFxyXG4gICAgICAgICAgICAgICAgc29ydDogXCJjcmVhdGVkXCIsXHJcbiAgICAgICAgICAgICAgICBzb3J0VHlwZTogZmFsc2VcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHZtLmFsbENsaWVudHMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICAgICAgdm0uY2xpZW50Q291bnQgPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2luYXRpb25cIikucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdm0uY2xpZW50Q291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsQ2xpZW50cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uYWxsQ2xpZW50cyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgW3RleHRdXHJcbiAgICAgICAgICAgIC8vW3RleHQsIHJlc291cmNlXVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAgLyogSW5pdGlhbGx5IHNvcnQgY2xpZW50cyBpbiBkZXNjZW5kaW5nIG9yZGVyICovXHJcbiAgICAgICAgICB2bS5zb3J0Y2xpZW50cyhcImNyZWF0ZWRcIiwgXCJ0b2dnbGVDbGllbnRcIik7XHJcbiAgICAgICAgdm0uZHRPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBwYWdpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbmZvOiBmYWxzZSxcclxuICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBzZWFyY2hpbmc6IGZhbHNlXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGdsb2JhbHMuZ2V0Q291bnRyeUNvZGUoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICB2bS5nZXRDb3VudHJ5Q29kZSA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgdm0ubG9hZENvdW50cnlDb2RlID0gJHF1ZXJ5ID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwLmRhdGEpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBnbG9iYWxzLmdldEluZHVzdHJ5KCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgdm0uZ2V0SW5kdXN0cmllcyA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZtLmxvYWRJbmR1c3RyeSA9ICRxdWVyeSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZ2xvYmFscy5nZXRDdXJyZW5jeSgpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIHZtLmdldEN1cnJlbmNpZXMgPSByZXNwLmRhdGE7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2bS5sb2FkQ3VycmVuY3kgPSAkcXVlcnkgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3AuZGF0YSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB2bS5hZGROZXdDbGllbnQ9ZnVuY3Rpb24odmFsaWQsY2xpZW50ZGF0YSl7XHJcbiAgICAgICAgICAgIHZhciBjbGllbnQ9e307XHJcbiAgICAgICAgICAgIHZhciBpbmR1c3RyaWVzPVtdO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YT09PXVuZGVmaW5lZHx8Y2xpZW50ZGF0YT09PW51bGwpe1xyXG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiQ2Fubm90IHNhdmUgZW1wdHkgcmVjb3JkXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmNsaWVudE5hbWU9PT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGVudGVyIG5hbWUgb2YgY2xpZW50XCIpO1xyXG4gICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LmNsaWVudE5hbWU9Y2xpZW50ZGF0YS5jbGllbnROYW1lO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmNsaWVudENvbnRhY3Q9PT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGVudGVyIHBob25lIGRldGFpbHNcIik7XHJcbiAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBjbGllbnQuY2xpZW50Q29udGFjdD17XHJcbiAgICAgICAgICAgICAgICAgIGRpYWxDb2RlOiBjbGllbnRkYXRhLmNsaWVudENvbnRhY3QuZGlhbENvZGVbMF0uZGlhbENvZGUsXHJcbiAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBjbGllbnRkYXRhLmNsaWVudENvbnRhY3QucGhvbmVOdW1iZXJcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuZGVzY3JpcHRpb24hPXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBjbGllbnQuZGVzY3JpcHRpb24gPSBjbGllbnRkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLnllYXJGb3VuZGVkIT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LnllYXJGb3VuZGVkID0gY2xpZW50ZGF0YS55ZWFyRm91bmRlZDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5jbGllbnRXZWJzaXRlIT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LmNsaWVudFdlYnNpdGUgPSBjbGllbnRkYXRhLmNsaWVudFdlYnNpdGU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuZW1haWwhPXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBjbGllbnQuZW1haWw9Y2xpZW50ZGF0YS5lbWFpbFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmluZHVzdHJ5IT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50ZGF0YS5pbmR1c3RyeS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBpbmR1c3RyaWVzLnB1c2goZWxlbWVudC50eXBlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LmluZHVzdHJ5PWluZHVzdHJpZXM7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24hPXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24uZGlhbENvZGUpe1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImRpYWwgY29kZSBleGlzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgY2xpZW50LmNsaWVudENvbnRhY3RQZXJzb249e1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmZpcnN0TmFtZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbWlkZGxlTmFtZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLm1pZGRsZU5hbWUsIFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOmNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5sYXN0TmFtZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5lbWFpbCwgXHJcbiAgICAgICAgICAgICAgICAgICAgbW9iaWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxDb2RlOiBjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24uZGlhbENvZGVbMF0uZGlhbENvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24ucGhvbmVOdW1iZXJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICBjbGllbnQuY2xpZW50Q29udGFjdFBlcnNvbj17XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24uZmlyc3ROYW1lLCBcclxuICAgICAgICAgICAgICAgICAgICBtaWRkbGVOYW1lOiBjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24ubWlkZGxlTmFtZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6Y2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmxhc3ROYW1lLCBcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmVtYWlsLCBcclxuICAgICAgICAgICAgICAgICAgICBtb2JpbGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5waG9uZU51bWJlclxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuYW5udWFsUmV2ZW51ZSE9dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuYW5udWFsUmV2ZW51ZS5jdXJyZW5jeUNvZGUpe1xyXG4gICAgICAgICAgICAgICAgICBjbGllbnQuYW5udWFsUmV2ZW51ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2xpZW50ZGF0YS5hbm51YWxSZXZlbnVlLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY2xpZW50ZGF0YS5hbm51YWxSZXZlbnVlLmN1cnJlbmN5Q29kZVswXS5jY1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgIGNsaWVudC5hbm51YWxSZXZlbnVlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjbGllbnRkYXRhLmFubnVhbFJldmVudWUudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5hZGRyZXNzMiE9dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuYWRkcmVzczIuY291bnRyeUNvZGUpe1xyXG4gICAgICAgICAgICAgICAgICBjbGllbnQuYWRkcmVzczI9e1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUxOiBjbGllbnRkYXRhLmFkZHJlc3MyLmxpbmUxLCBcclxuICAgICAgICAgICAgICAgICAgICBsaW5lMjogY2xpZW50ZGF0YS5hZGRyZXNzMi5saW5lMiwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZTM6IGNsaWVudGRhdGEuYWRkcmVzczIubGluZTMsXHJcbiAgICAgICAgICAgICAgICAgICAgY2l0eTogY2xpZW50ZGF0YS5hZGRyZXNzMi5jaXR5LCBcclxuICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBjbGllbnRkYXRhLmFkZHJlc3MyLnBvc3RhbENvZGUsIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlOiBjbGllbnRkYXRhLmFkZHJlc3MyLmNvdW50cnlDb2RlWzBdLmNvZGUgXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICBjbGllbnQuYWRkcmVzczI9e1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUxOiBjbGllbnRkYXRhLmFkZHJlc3MyLmxpbmUxLCBcclxuICAgICAgICAgICAgICAgICAgICBsaW5lMjogY2xpZW50ZGF0YS5hZGRyZXNzMi5saW5lMiwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZTM6IGNsaWVudGRhdGEuYWRkcmVzczIubGluZTMsXHJcbiAgICAgICAgICAgICAgICAgICAgY2l0eTogY2xpZW50ZGF0YS5hZGRyZXNzMi5jaXR5LCBcclxuICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBjbGllbnRkYXRhLmFkZHJlc3MyLnBvc3RhbENvZGUsIFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmFkZHJlc3MxIT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5hZGRyZXNzMS5jb3VudHJ5Q29kZSl7XHJcbiAgICAgICAgICAgICAgICAgIGNsaWVudC5hZGRyZXNzMT17XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZTE6IGNsaWVudGRhdGEuYWRkcmVzczEubGluZTEsIFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUyOiBjbGllbnRkYXRhLmFkZHJlc3MxLmxpbmUyLCBcclxuICAgICAgICAgICAgICAgICAgICBsaW5lMzogY2xpZW50ZGF0YS5hZGRyZXNzMS5saW5lMyxcclxuICAgICAgICAgICAgICAgICAgICBjaXR5OiBjbGllbnRkYXRhLmFkZHJlc3MxLmNpdHksIFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IGNsaWVudGRhdGEuYWRkcmVzczEucG9zdGFsQ29kZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRyeUNvZGU6IGNsaWVudGRhdGEuYWRkcmVzczEuY291bnRyeUNvZGVbMF0uY29kZVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgY2xpZW50LmFkZHJlc3MxPXtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lMTogY2xpZW50ZGF0YS5hZGRyZXNzMS5saW5lMSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZTI6IGNsaWVudGRhdGEuYWRkcmVzczEubGluZTIsIFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUzOiBjbGllbnRkYXRhLmFkZHJlc3MxLmxpbmUzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNpdHk6IGNsaWVudGRhdGEuYWRkcmVzczEuY2l0eSwgXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogY2xpZW50ZGF0YS5hZGRyZXNzMS5wb3N0YWxDb2RlLCBcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgIGFwaUZhY3RvcnkuY3JlYXRlQ2xpZW50KGNsaWVudClcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT57XHJcbiAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiSXNzdWUgaGFzIGJlZW4gc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgICAgICAgICB2bS5jbGllbnREYXRhPXt9O1xyXG4gICAgICAgICAgICAgICAgICAkKCcjYWRkQ2xpZW50JykubW9kYWwoJ2hpZGUnKVxyXG4gICAgICAgICAgICAgICAgICB2bS5zb3J0Y2xpZW50cyhcImNyZWF0ZWRcIiwgXCJ0b2dnbGVDbGllbnRcIik7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgIC5jYXRjaChlPT57XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcclxuICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgIH1cclxuICAgICBcclxuXHJcbn0pKCk7IiwiKCgpID0+IHtcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKFwiYXBwXCIpXHJcbiAgICAuY29udHJvbGxlcihcImNvbWJvTWF0ZXJpYWxWaWV3Q3RybFwiLCBjb21ib01hdGVyaWFsVmlld0N0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBjb21ib01hdGVyaWFsVmlld0N0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgJHN0YXRlUGFyYW1zLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBVcGxvYWRcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdm0uZWRpdEZsYWcgPSBmYWxzZVxyXG4gICAgdm0uY29tYm9JZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgIHZtLm1Vbml0cyA9IGdsb2JhbHMubVVuaXRzO1xyXG4gICAgdm0ucmVtb3ZlZEZpbGVzID0gW107XHJcbiAgICB2bS5jb21ib01hdGVyaWFsTGlzdCA9IFtdO1xyXG4gICAgdm0ubWF0ZXJpYWxUb3RhbCA9IDA7XHJcbiAgICB2bS5yb29mZXJUb3RhbCA9IDBcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb21ib01hdERldGFpbCgpIHtcclxuICAgICAgYXBpRmFjdG9yeS5nZXRDb21ib01hdGVyaWFsQnlJZCh2bS5jb21ib0lkKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLmNvbWJvRGF0YSA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICAgIHZtLmNvbWJvTW1hdHJpYWxOYW1lID0gdm0uY29tYm9EYXRhLm5hbWVcclxuICAgICAgICB2bS5kZXNjcmlwdGlvbiA9IHZtLmNvbWJvRGF0YS5kZXNjcmlwdGlvblxyXG4gICAgICAgIHZtLnVvbSA9IHZtLmNvbWJvRGF0YS51bml0XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2codm0uY29tYm9EYXRhKVxyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5jb21ib0RhdGEuY29tYm9NYXRlcmlhbExpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICB2bS5tYXRlcmlhbENvc3QgPSBpdGVtLm1hdGVyaWFsSWQuY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlICogaXRlbS5xdWFudGl0eTtcclxuICAgICAgICAgIHZtLm1hdGVyaWFsVG90YWwgPSB2bS5tYXRlcmlhbFRvdGFsICsgdm0ubWF0ZXJpYWxDb3N0XHJcbiAgICAgICAgICB2bS5yb29mZXJDb3N0ID0gaXRlbS5tYXRlcmlhbElkLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWUgKiBpdGVtLnF1YW50aXR5O1xyXG4gICAgICAgICAgdm0ucm9vZmVyVG90YWwgPSB2bS5yb29mZXJUb3RhbCArIHZtLnJvb2ZlckNvc3RcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyh2bS5jb21ib0RhdGEpO1xyXG4gICAgICAgICR0aW1lb3V0KGltZ1NsaWRlciwgMTUwMCk7XHJcbiAgICAgIH0pLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldENvbWJvTWF0RGV0YWlsKClcclxuXHJcbiAgICB2bS5yZW1vdmVJbWcgPSAoaW1nKSA9PiB7XHJcbiAgICAgIHZtLnJlbW92ZWRGaWxlcy5wdXNoKHZtLm1hdHJpYWxEYXRhLmZpbGVzW2ltZ10uX2lkKVxyXG4gICAgICB2bS5tYXRyaWFsRGF0YS5maWxlcy5zcGxpY2UoaW1nLCAxKVxyXG4gICAgfVxyXG5cclxuICAgIHZtLmVkaXRDb21ib01hdGVyaWFsTGlzdCA9IChpdGVtKSA9PiB7XHJcbiAgICAgIHZtLm1hdGVyaWFsTGlzdCA9IHZtLmNvbWJvRGF0YS5jb21ib01hdGVyaWFsTGlzdFtpdGVtXVxyXG4gICAgICB2bS5tYXRlcmlhbFF0eSA9IHZtLm1hdGVyaWFsTGlzdC5xdWFudGl0eVxyXG4gICAgICB2bS5zZWxlY3RlZE1hdGVyaWFsQ29zdCA9IHZtLm1hdGVyaWFsUXR5ICogdm0ubWF0ZXJpYWxMaXN0Lm1hdGVyaWFsSWQuY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlXHJcbiAgICAgIHZtLnNlbGVjdGVkTWF0ZXJpYWxSb29mZXJDb3N0ID0gdm0ubWF0ZXJpYWxRdHkgKiB2bS5tYXRlcmlhbExpc3QubWF0ZXJpYWxJZC5jdXJyZW50UmF0ZS5yb29mZXJDb3N0LnZhbHVlXHJcbiAgICAgIGlmICh2bS5tYXRlcmlhbExpc3QucGVyY2VudGFnZUFkZGl0aW9ucy5sZW5ndGggIT0gMCAmJiB2bS5tYXRlcmlhbExpc3QucGVyY2VudGFnZUFkZGl0aW9ucy5sZW5ndGggIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdm0ucGVyY2VudGFnZUFkZGl0aW9uID0gdm0ubWF0ZXJpYWxMaXN0LnBlcmNlbnRhZ2VBZGRpdGlvbnNcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24gPSBbXVxyXG4gICAgICB9XHJcbiAgICAgIHZtLm1hdGVyaWFsSW5kZXggPSBpdGVtXHJcbiAgICAgICQoJyNlZGl0Q29tYm9NYXRlcmlhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgIGlmKGl0ZW0gPT0gJ25ldycpIHtcclxuICAgICAgICAkKCcjZWRpdENvbWJvTWF0ZXJpYWwgLm1vZGFsLWhlYWRlciBoNScpLnRleHQoJ0FkZCBDb21ibyBNYXRlcmlhbCBEZXRhaWxzJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnI2VkaXRDb21ib01hdGVyaWFsIC5tb2RhbC1oZWFkZXIgaDUnKS50ZXh0KCdVcGRhdGUgQ29tYm8gTWF0ZXJpYWwgRGV0YWlscycpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdm0uYWRkUGVyY2VudGFnZVZhbHVlID0gKCkgPT4ge1xyXG4gICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24ucHVzaCh7XHJcbiAgICAgICAgcGVyY2VudGFnZVR5cGU6IFwiXCIsXHJcbiAgICAgICAgdmFsdWU6IFwiXCJcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdm0ucmVtb3ZlUGVyY2VudGFnZUFkZGl0aW9uID0gaW5kZXggPT4ge1xyXG4gICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZmlsZVVwZGF0ZWQgPSAoZmlsZXMsIGV2ZW50KSA9PiB7XHJcbiAgICAgIGxldCBmaWxlT2JqID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xyXG4gICAgICB2bS5maWxlTmFtZXMgPSBPYmplY3Qua2V5cyhmaWxlT2JqKS5tYXAoeCA9PiBmaWxlT2JqW3hdLm5hbWUpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdm0udGFiQ2hhbmdlID0gKHZhbCwgZmxhZykgPT4ge1xyXG4gICAgICBpZiAodmFsID09IDEpIHtcclxuICAgICAgICBpZiAoIXZtLmVkaXRDb21ib01hdGVyaWFsLm5hbWUpIHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBlbnRlciBtYXRlcmlhbCBuYW1lXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXZtLnNlbGVjdGVkVW5pdCkge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCBtYXRlcmlhbCB1bml0XCIpO1xyXG4gICAgICAgIC8qIH0gZWxzZSBpZiAoIXZtLmVkaXRDb21ib01hdGVyaWFsLmRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgZGVzY3JpcHRpb25cIik7ICovXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG5leHRQcmV2VGFiKHZhbClcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodmFsID09IDIpIHtcclxuICAgICAgICBpZiAodm0uY29tYm9NYXRlcmlhbExpc3QubGVuZ3RoID09IDAgJiYgdm0uZWRpdENvbWJvTWF0ZXJpYWwuY29tYm9NYXRlcmlhbExpc3QubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBhZGQgQ29tYmluYXRpb24gbGlzdFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbmV4dFByZXZUYWIodmFsKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuZXh0UHJldlRhYih2YWwpO1xyXG4gICAgICB9XHJcbiAgICAgIGZ1bmN0aW9uIG5leHRQcmV2VGFiKHZhbCkge1xyXG4gICAgICAgICQoXCIuZGNwX21vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChcIi5kY3BfbW9kYWwgLm5hdi10YWJzIGxpIC5uYXYtbGlua1wiKS5lcSh2YWwpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICQoXCIuZGNwX21vZGFsIC50YWItY29udGVudCAudGFiLXBhbmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChcIi5kY3BfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgJChcIi5kY3BfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5lcSh2YWwpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAkKFwiLmRjcF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLmVxKHZhbCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmVkaXRDb21ibyA9ICh2YWwpID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSAxKSB7IC8vIGVkaXQgTWF0ZXJpYWxcclxuICAgICAgICB2bS5lZGl0RmxhZyA9IHRydWVcclxuICAgICAgICB2bS5lZGl0Q29tYm9NYXRlcmlhbCA9IGFuZ3VsYXIuY29weSh2bS5jb21ib0RhdGEpXHJcbiAgICAgICAgdm0uc2VsZWN0ZWRVbml0ID0gdm0uZWRpdENvbWJvTWF0ZXJpYWwudW5pdFxyXG4gICAgICAgIFxyXG4gICAgICAgICQoJyN0b2RvX21vZGFsLmRjcF9tb2RhbCcpLm1vZGFsKCdzaG93JylcclxuICAgICAgICAvKiAkKCcubWF0ZXJpYWxEZXRhaWwgdGV4dGFyZWEsIC5tYXRlcmlhbERldGFpbCBpbnB1dCwgLm1hdGVyaWFsRGV0YWlsIHNlbGVjdCcpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpXHJcbiAgICAgICAgY29uc29sZS5sb2codm0uY29tYm9EYXRhLmNvbWJvTWF0ZXJpYWxMaXN0KSAqL1xyXG4gICAgICB9IGVsc2UgaWYgKHZhbCA9PSAyKSB7XHJcbiAgICAgICAgJCgnLm1hdGVyaWFsRGV0YWlsIHRleHRhcmVhLCAubWF0ZXJpYWxEZXRhaWwgaW5wdXQsIC5tYXRlcmlhbERldGFpbCBzZWxlY3QnKS5hdHRyKCdkaXNhYmxlZCcsIHRydWUpXHJcbiAgICAgICAgdm0uZWRpdEZsYWcgPSBmYWxzZVxyXG5cclxuICAgICAgICB2YXIgY29tYm9MaXN0RGF0YSA9IHtcclxuICAgICAgICAgIGNvbWJvTGlzdEFycmF5OiB2bS5jb21ib0RhdGEuY29tYm9NYXRlcmlhbExpc3RcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgY29tYm9NYXRlcmlhbERhdGEgPSB7XHJcbiAgICAgICAgICBuYW1lOiB2bS5jb21ib01tYXRyaWFsTmFtZSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB2bS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgIHVuaXQ6IHZtLnVvbSxcclxuICAgICAgICAgIC8vIHJlbW92ZWRGaWxlczogJHNjb3BlLnJlbW92ZWRGaWxlcyxcclxuICAgICAgICAgIGZpbGVzOiB2bS5pbnB1dEZpbGVzXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zb2xlLmxvZyhjb21ib0xpc3REYXRhKVxyXG5cclxuICAgICAgICBhcGlGYWN0b3J5LnVwZGF0ZUNvbWJvTWF0ZXJpYWxMaXN0KHZtLmNvbWJvRGF0YS5faWQsIGNvbWJvTGlzdERhdGEpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcclxuXHJcbiAgICAgICAgICBhcGlGYWN0b3J5LnVwZGF0ZUNvbWJvTWF0ZXJpYWwodm0uY29tYm9EYXRhLl9pZCwgY29tYm9NYXRlcmlhbERhdGEpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGdldENvbWJvTWF0RGV0YWlsKClcclxuICAgICAgICAgICAgdm0uZmlsZU5hbWVzID0gW11cclxuICAgICAgICAgICAgJHRpbWVvdXQoaW1nU2xpZGVyLCAxMDAwKTtcclxuICAgICAgICAgIH0pLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KS5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB2YXIgY29tYm9NYXRlcmlhbERhdGEgPSB7XHJcbiAgICAgICAgLy8gICBuYW1lOiAkc2NvcGUucmF0ZUFuYWx5c2lzT0JKLm5hbWUsXHJcbiAgICAgICAgLy8gICBkZXNjcmlwdGlvbjogJHNjb3BlLnJhdGVBbmFseXNpc09CSi5kZXNjcmlwdGlvbixcclxuICAgICAgICAvLyAgIHVuaXRTeW1ib2w6ICRzY29wZS5yYXRlQW5hbHlzaXNPQkoudW5pdFN5bWJvbCxcclxuICAgICAgICAvLyAgIHJlbW92ZWRGaWxlczogJHNjb3BlLnJlbW92ZWRGaWxlcyxcclxuICAgICAgICAvLyAgIGZpbGVzOiB2bS5uZXdGaWxlc1xyXG4gICAgICAgIC8vIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2bS51cGRhdGVDb21ibyA9IChpdGVtLCBkYXRhKSA9PiB7XHJcbiAgICAgIHZtLmNvbWJvRGF0YS5jb21ib01hdGVyaWFsTGlzdFtpdGVtXS5xdWFudGl0eSA9IHZtLm1hdGVyaWFsUXR5XHJcbiAgICAgIHZtLmNvbWJvRGF0YS5jb21ib01hdGVyaWFsTGlzdFtpdGVtXS5wZXJjZW50YWdlQWRkaXRpb25zID0gZGF0YVxyXG4gICAgICBjb25zb2xlLmxvZyh2bS5jb21ib0RhdGEuY29tYm9NYXRlcmlhbExpc3RbaXRlbV0ucGVyY2VudGFnZUFkZGl0aW9ucylcclxuICAgICAgJCgnI2VkaXRDb21ib01hdGVyaWFsJykubW9kYWwoJ2hpZGUnKVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGltZ1NsaWRlcigpIHtcclxuICAgICAgJChcIiNjb21ib0Nhcm91c2VsXCIpLmZsZXhzbGlkZXIoe1xyXG4gICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxyXG4gICAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxyXG4gICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXHJcbiAgICAgICAgaXRlbVdpZHRoOiA3NSxcclxuICAgICAgICBpdGVtTWFyZ2luOiA1LFxyXG4gICAgICAgIGFzTmF2Rm9yOiBcIiNjb21ib1NsaWRlclwiXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJChcIiNjb21ib1NsaWRlclwiKS5mbGV4c2xpZGVyKHtcclxuICAgICAgICBhbmltYXRpb246IFwic2xpZGVcIixcclxuICAgICAgICBjb250cm9sTmF2OiBmYWxzZSxcclxuICAgICAgICBhbmltYXRpb25Mb29wOiBmYWxzZSxcclxuICAgICAgICBzbGlkZXNob3c6IGZhbHNlLFxyXG4gICAgICAgIHN5bmM6IFwiI2NvbWJvQ2Fyb3VzZWxcIlxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhcGlGYWN0b3J5XHJcbiAgICAgIC5saXN0QWxsTWF0ZXJpYWxzKClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uYWxsbWF0ZXJpbGFMaXN0ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgdm0uY29tYm9MaXN0ID0ge1xyXG4gICAgICAgICAgcXVhbnRpdHk6IDEsXHJcbiAgICAgICAgICBtYXRlcmlhbENvc3Q6IDAsXHJcbiAgICAgICAgICByb29mZXJDb3N0OiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuICAgIC8vIG1hdGVyaWFsIG9uIGNoYW5nZSBmdW5jdGlvblxyXG4gICAgdm0uZ2V0TWF0ZXJpYWxJbmZvID0gbWF0ZXJpYWwgPT4ge1xyXG4gICAgICBsZXQgbWF0ZXJpYWxJbmZvID0gSlNPTi5wYXJzZShtYXRlcmlhbCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAobWF0ZXJpYWwpIHtcclxuICAgICAgICB2bS5jb21ib0xpc3QubWF0ZXJpYWxDb3N0ID0gcGFyc2VGbG9hdChcclxuICAgICAgICAgIE1hdGgucm91bmQoXHJcbiAgICAgICAgICAgIHZtLmNvbWJvTGlzdC5xdWFudGl0eSAqXHJcbiAgICAgICAgICAgIG1hdGVyaWFsSW5mby5jdXJyZW50UmF0ZS5tYXRlcmlhbENvc3QudmFsdWUgKlxyXG4gICAgICAgICAgICAxMDBcclxuICAgICAgICAgICkgLyAxMDBcclxuICAgICAgICApO1xyXG4gICAgICAgIHZtLmNvbWJvTGlzdC5yb29mZXJDb3N0ID0gcGFyc2VGbG9hdChcclxuICAgICAgICAgIE1hdGgucm91bmQoXHJcbiAgICAgICAgICAgIHZtLmNvbWJvTGlzdC5xdWFudGl0eSAqXHJcbiAgICAgICAgICAgIG1hdGVyaWFsSW5mby5jdXJyZW50UmF0ZS5yb29mZXJDb3N0LnZhbHVlICpcclxuICAgICAgICAgICAgMTAwXHJcbiAgICAgICAgICApIC8gMTAwXHJcbiAgICAgICAgKTtcclxuICAgICAgICAkKFwiYS5pdGVtLXNlbGVjdGVkIHNwYW5cIikucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiKTtcclxuICAgICAgICAkKFwiYS5pdGVtLXNlbGVjdGVkIHNwYW5cIikuYWRkQ2xhc3MoXCJmYXMgZmEtdGltZXMgbXItM1wiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5yZW1vdmVNYXRlcmlsID0gKGl0ZW0sZmxhZykgPT4ge1xyXG4gICAgICBpZihmbGFnID09ICduZXcnKSB7XHJcbiAgICAgICAgdm0uY29tYm9NYXRlcmlhbExpc3Quc3BsaWNlKGl0ZW0sIDEpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZtLmVkaXRDb21ib01hdGVyaWFsLmNvbWJvTWF0ZXJpYWxMaXN0LnNwbGljZShpdGVtLCAxKVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiY3JlYXRlUHJvamVjdEN0cmxcIiwgY3JlYXRlUHJvamVjdEN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0Q3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgTmdNYXAsXHJcbiAgICBnbG9iYWxzXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG5cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBsb2dvdXQsXHJcbiAgICAgIHVzZXJTdG9yZSxcclxuICAgICAgY29tcGFueVN0b3JlXHJcbiAgICB9ID0gZ2xvYmFscztcclxuXHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tQcml2aWxlZ2UoXCJwcm9qZWN0XCIsIFwiY3JlYXRlUHJvamVjdFwiKSkge1xyXG4gICAgICBOb3RpZmljYXRpb24ud2FybmluZyhcIkluc3VmZmljaWVudCBwZXJtaXNzaW9uc1wiKTtcclxuICAgICAgJHN0YXRlLmdvKFwiZGFzaGJvYXJkXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2bS5jbGllbnRzID0gW107XHJcbiAgICAvLyBhcGlGYWN0b3J5Lmxpc3RBbGxDbGllbnRzKCkudGhlbihyZXNwID0+IHtcclxuICAgIC8vICAgdm0uY2xpZW50cyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgJHNjb3BlLiR3YXRjaChcInZtLnByb2plY3REYXRhLmNsaWVudFwiLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLnJlbW92ZUNsYXNzKFwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIik7XHJcbiAgICAgICQoXCJhLml0ZW0tc2VsZWN0ZWQgc3BhblwiKS5hZGRDbGFzcyhcImZhcyBmYS10aW1lcyBtci0zXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbENsaWVudHMoKSxcclxuICAgICAgICBhcGlGYWN0b3J5LmdldEhpZXJhcmNoeVRlbXBsYXRlKClcclxuICAgICAgXSlcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uY2xpZW50cyA9IHJlc3BbMF0uZGF0YS5saXN0O1xyXG4gICAgICAgIHZtLnRlbXBsYXRlTGlzdCA9IHJlc3BbMV0uZGF0YS5kYXRhO1xyXG4gICAgICAgIGxldCBzYW1wbGVUZW1wbGF0ZSA9IHZtLnRlbXBsYXRlTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHtcclxuICAgICAgICAgIHJldHVybiBpdGVtLl9pZCA9PSBcIjViODkxMGZiZGQ2ZmE4MWEyMGJmZTc0NVwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdm0uZmlsZW1hbmFnZXJUZW1wbGF0ZSA9IFwiNWI4OTEwZmJkZDZmYTgxYTIwYmZlNzQ1XCI7XHJcblxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHZtLmdtYXAgPSB7XHJcbiAgICAgIHVybDogXCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PUFJemFTeUEzTUlBLW1LV3FfNjBxMUswek9IZ3VyYXhULTFRUHhOVSZsaWJyYXJpZXM9cGxhY2VzXCIsXHJcbiAgICAgIG1hcmtlcnM6IFtdLFxyXG4gICAgICBzdHlsZXM6IFtdLFxyXG4gICAgICBjZW50ZXI6IFwiNDEsLTg3XCIsXHJcbiAgICAgIHpvb206IDNcclxuICAgIH07XHJcblxyXG4gICAgdm0ucHJvamVjdERhdGEgPSB7XHJcbiAgICAgIGFkZHJlc3M6IHt9XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5zZWxlY3QyT3B0aW9ucyA9IHtcclxuICAgICAgYWxsb3dDbGVhcjogdHJ1ZVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5wbGFjZU1hcmtlciA9IGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgY29uc3QgcGxhY2VEYXRhID0gdGhpcy5nZXRQbGFjZSgpLmdlb21ldHJ5LmxvY2F0aW9uO1xyXG4gICAgICB2bS5nbWFwLm1hcmtlcnMgPSBbXHJcbiAgICAgICAgW3BsYWNlRGF0YS5sYXQoKSwgcGxhY2VEYXRhLmxuZygpXVxyXG4gICAgICBdO1xyXG4gICAgICB2bS5nbWFwLnpvb20gPSAxNTtcclxuICAgICAgdm0uZ21hcC5jZW50ZXIgPSBgJHtwbGFjZURhdGEubGF0KCl9LCR7cGxhY2VEYXRhLmxuZygpfWA7XHJcbiAgICAgIHZtLnByb2plY3REYXRhLmFkZHJlc3MubG9jID0ge1xyXG4gICAgICAgIGNvb3JkaW5hdGVzOiBbcGxhY2VEYXRhLmxhdCgpLCBwbGFjZURhdGEubG5nKCldXHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZFByb2plY3QgPSBmb3JtRGF0YSA9PiB7XHJcbiAgICAgIGZvcm1EYXRhLmNsaWVudCA9IGZvcm1EYXRhLmNsaWVudC5faWQ7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuY3JlYXRlUHJvamVjdChmb3JtRGF0YSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiUHJvamVjdCBoYXMgYmVlbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuXHJcbiAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgcHJvamVjdElkOiByZXNwLmRhdGEuX2lkLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZUlkOiByZXNwLmRhdGEuX2lkICYmXHJcbiAgICAgICAgICAgICAgKHZtLmZpbGVtYW5hZ2VyVGVtcGxhdGUgJiYgdm0uZmlsZW1hbmFnZXJUZW1wbGF0ZSAhPSBcImZhbHNlXCIpID9cclxuICAgICAgICAgICAgICB2bS5maWxlbWFuYWdlclRlbXBsYXRlIDogXCI1Yjg5MTBmYmRkNmZhODFhMjBiZmU3NDVcIlxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmxvYWRIaWVyYXJjaHlUcmVlKHBheWxvYWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInByb2plY3RpZFwiLCByZXNwLmRhdGEuX2lkKTtcclxuICAgICAgICAgICRzdGF0ZS5nbyhcImRhc2hib2FyZFwiKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnVwZGF0ZU1hcmtlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgbGV0IHBvcyA9IHRoaXMuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgdm0ucHJvamVjdERhdGEuYWRkcmVzcy5sb2MgPSB7XHJcbiAgICAgICAgY29vcmRpbmF0ZXM6IFtwb3MubGF0KCksIHBvcy5sbmcoKV1cclxuICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgTmdNYXAuZ2V0TWFwKCkudGhlbihtYXAgPT4ge1xyXG4gICAgICB2bS5tYXAgPSBtYXA7XHJcbiAgICAgIG1hcC5zZXRPcHRpb25zKHtcclxuICAgICAgICBzdHlsZXM6IHZtLmdtYXAuc3R5bGVzLFxyXG4gICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXHJcbiAgICAgICAgem9vbUNvbnRyb2w6IHRydWUsXHJcbiAgICAgICAgem9vbTogMSxcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgIGxhdDogMCxcclxuICAgICAgICAgIGxuZzogMFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5hc3NpZ25UZW1wbGF0ZSA9ICgpID0+IHtcclxuICAgICAgdm0uZmlsZW1hbmFnZXJUZW1wbGF0ZSA9IHZtLnNlbGVjdGVkVGVtcGxhdGUuX2lkO1xyXG4gICAgICAkKCcjYXNzaWduVGVtcGxhdGVNb2RhbCcpLm1vZGFsKCdoaWRlJylcclxuICAgIH1cclxuICB9XHJcbn0pKCk7IiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiZGFzaGJvYXJkQ3RybFwiLCBkYXNoYm9hcmRDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gZGFzaGJvYXJkQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkd2luZG93LFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgTmdNYXBcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIHZtLmxvZ2dlZEluID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGxvZ291dCxcclxuICAgICAgdXNlclN0b3JlLFxyXG4gICAgICBjb21wYW55U3RvcmUsXHJcbiAgICAgIHByb2plY3RTdG9yZSxcclxuICAgICAgdGhyb3R0bGVyXHJcbiAgICB9ID0gZ2xvYmFscztcclxuXHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICB2bS5sb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2bS5sb2FkZXIgPSBmYWxzZTtcclxuXHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgIHZtLmNsaWVudFVybCA9XHJcbiAgICAgIFwiaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vZGt0bmhtc2p4L2ltYWdlL3VwbG9hZC92MTQ4NjEyOTIzNC9kZWZhdWx0L2NvbXBhbnkucG5nXCI7XHJcbiAgICB2bS5nbWFwID0ge1xyXG4gICAgICB1cmw6XHJcbiAgICAgICAgXCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PUFJemFTeUEzTUlBLW1LV3FfNjBxMUswek9IZ3VyYXhULTFRUHhOVVwiLFxyXG4gICAgICBzdHlsZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzIxMjEyMVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy5pY29uXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcIm9mZlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM3NTc1NzVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMyMTIxMjFcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZVwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM3NTc1NzVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZS5jb3VudHJ5XCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjOWU5ZTllXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwiYWRtaW5pc3RyYXRpdmUubGFuZF9wYXJjZWxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib2ZmXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwiYWRtaW5pc3RyYXRpdmUubG9jYWxpdHlcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiNiZGJkYmRcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2lcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM3NTc1NzVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2kucGFya1wiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMxODE4MThcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2kucGFya1wiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzYxNjE2MVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5wYXJrXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMxYjFiMWJcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeS5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMmMyYzJjXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZFwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzhhOGE4YVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQuYXJ0ZXJpYWxcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMzczNzM3XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5oaWdod2F5XCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzNjM2MzY1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQuaGlnaHdheS5jb250cm9sbGVkX2FjY2Vzc1wiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM0ZTRlNGVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkLmxvY2FsXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNjE2MTYxXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwidHJhbnNpdFwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcIndhdGVyXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzAwMDAwMFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcIndhdGVyXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjM2QzZDNkXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgICAgXSxcclxuICAgICAgbWFya2VyczogW11cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTWFya2Vycyhwcm9qZWN0TGlzdCkge1xyXG4gICAgICBsZXQgbXhMYXQgPSAwLFxyXG4gICAgICAgIG14TG5nID0gMCxcclxuICAgICAgICBtbkxhdCA9IDAsXHJcbiAgICAgICAgbW5MbmcgPSAwLFxyXG4gICAgICAgIG1hcmtlcnMgPSBbXTtcclxuICAgICAgcHJvamVjdExpc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBpZiAoZWxlbWVudC5hZGRyZXNzKSB7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkcmVzcy5sb2MuY29vcmRpbmF0ZXNbMF0gIT0gMCB8fFxyXG4gICAgICAgICAgICBlbGVtZW50LmFkZHJlc3MubG9jLmNvb3JkaW5hdGVzWzFdICE9IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgbXJrciA9IHtcclxuICAgICAgICAgICAgICBpZDogZWxlbWVudC5faWQsXHJcbiAgICAgICAgICAgICAgbGF0aXR1ZGU6IGVsZW1lbnQuYWRkcmVzcy5sb2MuY29vcmRpbmF0ZXNbMV0sXHJcbiAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBlbGVtZW50LmFkZHJlc3MubG9jLmNvb3JkaW5hdGVzWzBdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIG14TGF0ID0gbXhMYXQgPiBtcmtyLmxhdGl0dWRlID8gbXJrci5sYXRpdHVkZSA6IG14TGF0O1xyXG4gICAgICAgICAgICBtbkxhdCA9IG1uTGF0IDwgbXJrci5sYXRpdHVkZSA/IG1ya3IubGF0aXR1ZGUgOiBtbkxhdDtcclxuICAgICAgICAgICAgbXhMbmcgPSBteExuZyA+IG1ya3IubG9uZ2l0dWRlID8gbXJrci5sb25naXR1ZGUgOiBteExuZztcclxuICAgICAgICAgICAgbW5MbmcgPSBtbkxuZyA8IG1ya3IubG9uZ2l0dWRlID8gbXJrci5sb25naXR1ZGUgOiBtbkxuZztcclxuICAgICAgICAgICAgbWFya2Vycy5wdXNoKFttcmtyLmxhdGl0dWRlLCBtcmtyLmxvbmdpdHVkZV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBtYXJrZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIEdldCBhbGwgZGFzaGJvYXJkIGRhdGEgKi9cclxuXHJcbiAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgIGFwaUZhY3RvcnkuZ2V0Q29tcGFueUJ5SWQodm0udXNlckRhdGEuY29tcGFueUlkKSxcclxuICAgICAgYXBpRmFjdG9yeS5saXN0QWxsUHJvamVjdHMoKSxcclxuICAgICAgYXBpRmFjdG9yeS5saXN0QWxsQ2xpZW50cygpXHJcbiAgICBdKVxyXG4gICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAvKiBBZGQgY29tcGFueURhdGEgdG8gc3RvcmUgKi9cclxuICAgICAgICBjb21wYW55U3RvcmUuc2V0KGRhdGFbMF0uZGF0YSk7XHJcbiAgICAgICAgLyogQWRkIG1hcmtlcnMgZnJvbSBwcm9qZWN0IGRhdGEgKi9cclxuICAgICAgICB2bS5nbWFwLm1hcmtlcnMgPSBhZGRNYXJrZXJzKGRhdGFbMV0uZGF0YS5saXN0KTtcclxuICAgICAgICB2bS5kYXNoYm9hcmREYXRhID0ge1xyXG4gICAgICAgICAgY29tcGFueTogZGF0YVswXS5kYXRhLFxyXG4gICAgICAgICAgcHJvamVjdHM6IGRhdGFbMV0uZGF0YS5saXN0LFxyXG4gICAgICAgICAgY2xpZW50czogZGF0YVsyXS5kYXRhLmxpc3RcclxuICAgICAgICB9O1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIE5nTWFwLmdldE1hcCgpLnRoZW4obWFwID0+IHtcclxuICAgICAgbWFwLnNldE9wdGlvbnMoe1xyXG4gICAgICAgIHN0eWxlczogdm0uZ21hcC5zdHlsZXMsXHJcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZSxcclxuICAgICAgICB6b29tOiAxLFxyXG4gICAgICAgIGNlbnRlcjoge1xyXG4gICAgICAgICAgbGF0OiAwLFxyXG4gICAgICAgICAgbG5nOiAwXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qIFByb2plY3QgcGlja2VyIGxvYWQgZnVuY3Rpb25hbGl0eSAqL1xyXG5cclxuICAgIGxldCBlbmFibGVkID0gdHJ1ZSxcclxuICAgICAgY2h1bmtTaXplID0gNTtcclxuICAgIHZtLnByb2plY3RTZWFyY2ggPSBcIlwiO1xyXG4gICAgdm0uZW5hYmxlTGF6eUxvYWQgPSBmYWxzZTtcclxuICAgIHZtLnNvcnRQYXJhbXMgPSB7XHJcbiAgICAgIGZpZWxkOiBcImNyZWF0ZWRcIixcclxuICAgICAgdHlwZTogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgdm0ucHJvamVjdE5hbWUgPSBcIlBST0pFQ1RcIjtcclxuXHJcbiAgICAvKiBHZXQgYm9va21hcmtlZCBwcm9qZWN0IExpc3QgKi9cclxuICAgICRzY29wZS5nZXRCb29rbWFya2VkUHJvamVjdCA9ICgpID0+IHtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5nZXRCb29rbWFya3MoKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uYm9va21hcmtlZFByb2plY3QgPSByZXNwLmRhdGEuYm9va21hcmtzO1xyXG4gICAgICAgICAgdm0uYm9va21hcmtlZFByb2plY3RMaXN0ID0gYW5ndWxhci5jb3B5KHZtLmJvb2ttYXJrZWRQcm9qZWN0KTtcclxuICAgICAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgX2lkOiBcIm90aGVyc1wiLFxyXG4gICAgICAgICAgICBwcm9qZWN0TmFtZTogXCJBbGwgUHJvamVjdCBMaXN0XCJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgLy8gdm0uYm9va21hcmtlZFByb2plY3RMaXN0LnVuc2hpZnQoe1xyXG4gICAgICAgICAgLy8gICBfaWQ6IFwiTkFcIixcclxuICAgICAgICAgIC8vICAgcHJvamVjdE5hbWU6IFwiU2VsZWN0IGEgcHJvamVjdFwiXHJcbiAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgIC8vIHZtLnByb2plY3QgPSB2bS5ib29rbWFya2VkUHJvamVjdExpc3RbMF07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAkc2NvcGUuZ2V0Qm9va21hcmtlZFByb2plY3QoKTtcclxuXHJcbiAgICB2bS5sb2FkUHJvamVjdEZpbGVzID0gaWQgPT4ge1xyXG4gICAgICBsZXQgbGltaXQgPSA1O1xyXG4gICAgICBhcGlGYWN0b3J5LnNob3dQcm9qZWN0RmlsZXMoaWQsIGxpbWl0KS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLnByb2plY3RGaWxlcyA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2bS5ib29rbWFya0ZsYWcgPSBmYWxzZTtcclxuICAgIC8qIGNob29zZSBwcm9qZWN0IGZyb20gYm9va21hcmtlZCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLnNlbGVjdGVkUHJvamVjdCA9IHByb2plY3QgPT4ge1xyXG4gICAgICBpZiAocHJvamVjdC5faWQgPT0gXCJvdGhlcnNcIikge1xyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5saXN0QWxsUHJvamVjdHMoKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIHZtLnByb2plY3RQaWNrZXJEYXRhID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICQoXCIjY2hvb3NlUHJvamVjdFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZtLmJvb2ttYXJrRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5ib29rbWFya2VkUHJvamVjdCwgZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgaWYgKHguX2lkID09IHByb2plY3QuX2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodm0uYm9va21hcmtGbGFnID0gdHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdm0ucHJvamVjdE5hbWUgPSBwcm9qZWN0LnByb2plY3ROYW1lO1xyXG4gICAgICAgIHByb2plY3RTdG9yZS5zZXQocHJvamVjdCk7XHJcbiAgICAgICAgdm0ubG9hZFByb2plY3RGaWxlcyhwcm9qZWN0Ll9pZCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyogQ2hvb3NlIHByb2plY3QgZm9ybSBhbGwgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS5jaG9vc2VQcm9qZWN0ID0gcHJvamVjdCA9PiB7XHJcbiAgICAgIHZhciBpbmRleCA9IHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC5maW5kSW5kZXgoZnVuY3Rpb24oeCkge1xyXG4gICAgICAgIHJldHVybiB4Ll9pZCA9PSBcIm90aGVyc1wiO1xyXG4gICAgICB9KTtcclxuICAgICAgdm0uYm9va21hcmtlZFByb2plY3RMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIGxldCBhbHJlYWR5RXhpc3QgPSB0cnVlO1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2godm0uYm9va21hcmtlZFByb2plY3QsIGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICBpZiAoeC5faWQgPT0gcHJvamVjdC5faWQpIHtcclxuICAgICAgICAgIGFscmVhZHlFeGlzdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChhbHJlYWR5RXhpc3QpIHtcclxuICAgICAgICB2bS5ib29rbWFya2VkUHJvamVjdExpc3QucHVzaChwcm9qZWN0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdm0uYm9va21hcmtlZFByb2plY3RMaXN0LnB1c2goe1xyXG4gICAgICAgIF9pZDogXCJvdGhlcnNcIixcclxuICAgICAgICBwcm9qZWN0TmFtZTogXCJBbGwgUHJvamVjdCBMaXN0XCJcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2bS5wcm9qZWN0ID0gcHJvamVjdDtcclxuICAgICAgdm0ucHJvamVjdE5hbWUgPSBwcm9qZWN0LnByb2plY3ROYW1lO1xyXG4gICAgICB2bS5ib29rbWFya0ZsYWcgPSBmYWxzZTtcclxuICAgICAgcHJvamVjdFN0b3JlLnNldChwcm9qZWN0KTtcclxuXHJcbiAgICAgICQoXCIjY2hvb3NlUHJvamVjdFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImN1cnJlbnRQcm9qZWN0XCIpKSB7XHJcbiAgICAgIGxldCBjdXJyZW50UHJvamVjdCA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiY3VycmVudFByb2plY3RcIik7XHJcbiAgICAgIHZtLnByb2plY3QgPSBjdXJyZW50UHJvamVjdDtcclxuICAgICAgLy8gY29uc29sZS5sb2codm0ucHJvamVjdCwgXCJ2bS5wcm9qZWN0XCIpXHJcbiAgICAgIHZtLnByb2plY3ROYW1lID0gY3VycmVudFByb2plY3QucHJvamVjdE5hbWU7XHJcbiAgICAgIHZtLmxvYWRQcm9qZWN0RmlsZXModm0ucHJvamVjdC5faWQpO1xyXG5cclxuICAgICAgbGV0IGFscmVhZHlCb29rbWFya2VkID0gZmFsc2U7XHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5ib29rbWFya2VkUHJvamVjdCwgZnVuY3Rpb24oeCkge1xyXG4gICAgICAgIGlmICh4Ll9pZCA9PSBjdXJyZW50UHJvamVjdC5faWQpIHtcclxuICAgICAgICAgIHJldHVybiAoYWxyZWFkeUJvb2ttYXJrZWQgPSB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFhbHJlYWR5Qm9va21hcmtlZCkge1xyXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGluZGV4ID0gdm0uYm9va21hcmtlZFByb2plY3RMaXN0LmZpbmRJbmRleChmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4Ll9pZCA9PSBcIm90aGVyc1wiO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2bS5ib29rbWFya2VkUHJvamVjdExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC5wdXNoKGN1cnJlbnRQcm9qZWN0KTtcclxuICAgICAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgX2lkOiBcIm90aGVyc1wiLFxyXG4gICAgICAgICAgICBwcm9qZWN0TmFtZTogXCJBbGwgUHJvamVjdCBMaXN0XCJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIDE1MDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyogRXZlbnQgaGFuZGxlciB0byByZXNldCBhZGQgbWF0ZXJpYWwgbW9kYWwgKi9cclxuICAgICQoXCIjY2hvb3NlUHJvamVjdFwiKS5vbihcImhpZGUuYnMubW9kYWxcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZtLmVuYWJsZUxhenlMb2FkID0gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS5jbG9zZVByb2plY3RQaWNrZXIgPSAoKSA9PiB7XHJcbiAgICAgICQoXCIjY2hvb3NlUHJvamVjdFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIHZtLnByb2plY3QgPSBudWxsO1xyXG4gICAgICBwcm9qZWN0U3RvcmUuc2V0KFwiXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5jaGVja0Jvb2ttYXJrID0gZGF0YSA9PiB7XHJcbiAgICAgIGxldCBib29rbWFyayA9IHRydWU7XHJcbiAgICAgIGxldCBhbHJlYWR5Qm9va21hcmtlZCA9IGZhbHNlO1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2godm0uYm9va21hcmtlZFByb2plY3QsIGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICBpZiAoeC5faWQgPT0gZGF0YS5faWQpIHtcclxuICAgICAgICAgIHJldHVybiAoYWxyZWFkeUJvb2ttYXJrZWQgPSB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoYWxyZWFkeUJvb2ttYXJrZWQpIHtcclxuICAgICAgICBib29rbWFyayA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJvb2ttYXJrID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5ib29rTWFya1Byb2plY3QocHJvamVjdFN0b3JlLmdldCgpLl9pZCwgYm9va21hcmspXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBpZiAoYm9va21hcmspIHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJQcm9qZWN0IHN1Y2Nlc3NmdWxseSBib29rbWFya2VkXCIpO1xyXG4gICAgICAgICAgICB2bS5ib29rbWFya2VkUHJvamVjdC5wdXNoKGRhdGEpO1xyXG4gICAgICAgICAgICB2bS5ib29rbWFya0ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXHJcbiAgICAgICAgICAgICAgXCJQcm9qZWN0IHN1Y2Nlc3NmdWxseSByZW1vdmVkIGZyb20gYm9va21hcmsgbGlzdFwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZtLmJvb2ttYXJrZWRQcm9qZWN0LmZpbmRJbmRleChmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHguX2lkID09IGRhdGEuX2lkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdm0uYm9va21hcmtlZFByb2plY3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgdm0uYm9va21hcmtGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZE1vcmUgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChlbmFibGVkKSB7XHJcbiAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgY2h1bmtTaXplICs9IDU7XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLmxpc3RBbGxQcm9qZWN0cyh7XHJcbiAgICAgICAgICAgIHNlYXJjaDogdm0ucHJvamVjdFNlYXJjaCxcclxuICAgICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcclxuICAgICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgICAgc29ydDogdm0uc29ydFBhcmFtcy5maWVsZCxcclxuICAgICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICB2bS5wcm9qZWN0UGlja2VyRGF0YSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qIEZpbGUgcGlja2VyIG9wdGlvbnMgKi9cclxuXHJcbiAgICB2bS5maWxlUGlja2VyT3B0aW9ucyA9IHtcclxuICAgICAgZmlsdGVyOiBcInBkZlwiXHJcbiAgICB9O1xyXG4gICAgLyogRnVuY3Rpb24gdG8gc2VhcmNoIHByb2plY3RzICovXHJcbiAgICB2bS5zZWFyY2hQcm9qZWN0cyA9IHRleHQgPT4ge1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmxpc3RBbGxQcm9qZWN0cyh7XHJcbiAgICAgICAgICBzZWFyY2g6IHZtLnByb2plY3RTZWFyY2gsXHJcbiAgICAgICAgICBjaHVuazogY2h1bmtTaXplLFxyXG4gICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgIHNvcnQ6IHZtLnNvcnRQYXJhbXMuZmllbGQsXHJcbiAgICAgICAgICBzb3J0VHlwZTogdm0uc29ydFBhcmFtcy50eXBlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLnByb2plY3RQaWNrZXJEYXRhID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyogRnVuY3Rpb24gdG8gc29ydCBwcm9qZWN0cyAqL1xyXG4gICAgdm0uc29ydCA9IGZpZWxkID0+IHtcclxuICAgICAgaWYgKHZtLnNvcnRQYXJhbXMuZmllbGQgPT09IGZpZWxkKSB7XHJcbiAgICAgICAgdm0uc29ydFBhcmFtcy50eXBlID0gIXZtLnNvcnRQYXJhbXMudHlwZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2bS5zb3J0UGFyYW1zLmZpZWxkID0gZmllbGQ7XHJcbiAgICAgICAgdm0uc29ydFBhcmFtcy50eXBlID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5saXN0QWxsUHJvamVjdHMoe1xyXG4gICAgICAgICAgc2VhcmNoOiB2bS5wcm9qZWN0U2VhcmNoLFxyXG4gICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcclxuICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICBzb3J0OiB2bS5zb3J0UGFyYW1zLmZpZWxkLFxyXG4gICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5wcm9qZWN0UGlja2VyRGF0YSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5yZWRpcmVjdFRvM0QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJyZWRpZWN0aW9uIGNhbGxlZFwiKTtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnkuZ2V0M0RQYWdlKCkudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyZXNwb25zZTpcIiwgcmVzcG9uc2UpO1xyXG4gICAgICAgIC8vIGlmIChyZXNwb25zZS5kYXRhID09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImNvbnNvbGUgd2hlbiByZXNwb25zZSB0cnVlXCIscmVzcG9uc2UpO1xyXG4gICAgICAgIC8vICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJodHRwczovL2Nsb3VkZXMtM2QuY29tXCI7XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiY29uc29sZSB3aGVuIHJlc3BvbnNlIGZhbHNlXCIscmVzcG9uc2UpO1xyXG4gICAgICAgIC8vICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJodHRwczovL2Nsb3VkZXMtM2QuY29tXCI7XHJcblxyXG4gICAgICAgIC8vIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmdvVG9GaWxlTWFuYWdlciA9ICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJwcm9qZWN0XCIsIHByb2plY3RTdG9yZS5nZXQoKSk7XHJcbiAgICAgIGlmIChwcm9qZWN0U3RvcmUuZ2V0KCkpIHtcclxuICAgICAgICAkc3RhdGUuZ28oXCJmaWxlTWFuYWdlclwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBOb3RpZmljYXRpb24ud2FybmluZyhcIlBsZWFzZSBzZWxlY3QgYSBwcm9qZWN0XCIpO1xyXG4gICAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJChcIi5wcm9qZWN0XCIpLm9mZnNldCgpLnRvcFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDUwMCxcclxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKFwiI3NlbGVjdFByb2plY3RcIilcclxuICAgICAgICAgICAgICAuZm9jdXMoKVxyXG4gICAgICAgICAgICAgIC5hZGRDbGFzcyhcImJsaW5rXCIpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAkKFwiI3NlbGVjdFByb2plY3RcIikucmVtb3ZlQ2xhc3MoXCJibGlua1wiKTtcclxuICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKiBSb29mIHBsYW4gZnVuY3Rpb25hbGl0aWVzICovXHJcblxyXG4gICAgdm0ucGxhblBpY2tlclBsYW5zID0gW107XHJcbiAgICB2bS5yb290Rm9sZGVycyA9IFtdO1xyXG5cclxuICAgIHZtLm9wZW5QbGFuUGlja2VyID0gKCkgPT4ge1xyXG4gICAgICBpZiAoIXByb2plY3RTdG9yZS5nZXQoKSkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiTm8gcHJvamVjdCBzZWxlY3RlZFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5nZXRQcm9qZWN0Um9vZlBsYW5zKHByb2plY3RTdG9yZS5nZXQoKS5faWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBsZXQgcm9vZlBsYW5zID0gcmVzcC5kYXRhLmRhdGE7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcInJvb2ZQbGFuUHJvamVjdFwiLCBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwicm9vZlBsYW5zXCIsIHJvb2ZQbGFucyk7XHJcbiAgICAgICAgICB2bS5wbGFuUGlja2VyUGxhbnMgPSByb29mUGxhbnM7XHJcbiAgICAgICAgICAkKFwiI2Nob29zZVJvb2ZNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0SGllcmFyY2h5KHByb2plY3RTdG9yZS5nZXQoKS5faWQpXHJcblxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uc2hvd1RyZWUgPSB0cnVlO1xyXG4gICAgICAgICAgdm0ucm9vdEZvbGRlcnMgPSByZXNwLmRhdGEuZGF0YS5oaWVyYXJjaGllcztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5jaG9vc2VQbGFuID0gcGxhbiA9PiB7XHJcbiAgICAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJzZWxlY3RlZFBsYW5cIiwgcGxhbik7XHJcbiAgICAgICRzdGF0ZS5nbyhcInZpc3VhbFBsYW5uZXJcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFsbE1vZGFsQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICQoXCIjY2hvb3NlRmlsZSwgI3NlbGVjdEZpbGVDYW52YXMsICNzZWxlY3RGaWxlLCAjY2hvb3NlUm9vZk1vZGFsXCIpLm1vZGFsKFxyXG4gICAgICAgIFwiaGlkZVwiXHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmZpbGVDaG9vc2UgPSAoKSA9PiB7XHJcbiAgICAgIHZtLnBpY2tlckZvbGRlcnMgPSBhbmd1bGFyLmNvcHkodm0ucm9vdEZvbGRlcnMpO1xyXG4gICAgICAkKFwiI2Nob29zZUZpbGVcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAkKFwiI2Nob29zZUZpbGVcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAkKFwiI2Nob29zZUZpbGUgLm1vZGFsLWRpYWxvZ1wiKS5jc3Moe1xyXG4gICAgICAgIFwiLXdlYmtpdC1ib3gtc2hhZG93XCI6IFwiMHB4IDBweCA0N3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuNzUpXCIsXHJcbiAgICAgICAgXCItbW96LWJveC1zaGFkb3dcIjogXCIwcHggMHB4IDQ3cHggNnB4IHJnYmEoMCwgMCwgMCwgMC43NSlcIixcclxuICAgICAgICBcImJveC1zaGFkb3dcIjogXCIwcHggMHB4IDQ3cHggNnB4IHJnYmEoMCwgMCwgMCwgMC43NSlcIlxyXG4gICAgICB9KTtcclxuICAgICAgJChcIi5yb290Rm9sZGVyXCIpLnNob3coKTtcclxuICAgICAgJChcIi5jaGlsZEZvbGRlclwiKS5oaWRlKCk7XHJcbiAgICAgIHZtLm1vdmV0byA9IFwibW92ZSBUb1wiO1xyXG4gICAgICAkc2NvcGUuZm9sZGVyTmFtZSA9IFwiUm9vdCBGb2xkZXJcIjtcclxuICAgICAgaWYgKCRzY29wZS5mb2xkZXJOYW1lID09IFwiUm9vdCBGb2xkZXJcIikge1xyXG4gICAgICAgICRzY29wZS5iYWNrQnRuVmlldyA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICAkc2NvcGUuJG9uKFwibG9hZGVyXCIsIChlLCBkYXRhKSA9PiB7XHJcbiAgICAgIHZtLmxvYWRlciA9IGRhdGE7XHJcbiAgICAgIGlmICh2bS5sb2FkZXIpIHtcclxuICAgICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcIm1vZGFsLW9wZW5cIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJtb2RhbC1vcGVuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgICRzY29wZS4kb24oXCJzZWxlY3RlZFJvb2ZQbGFuRG9jXCIsIChlLCBkYXRhKSA9PiB7XHJcbiAgICAgIHZtLnNlbGVjdGVkQXNzZXRGb3JQbGFuID0gZGF0YTtcclxuXHJcbiAgICAgIHZtLnJvb2ZwbGFuQnJlYWRDcnVtYiA9XHJcbiAgICAgICAgZGF0YS5icmVhZENydW1icy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgYWNjICs9IGAke3gubmFtZX0gPiBgO1xyXG4gICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LCBcIlwiKSArIGRhdGEuYXNzZXROYW1lO1xyXG5cclxuICAgICAgaWYgKC9jbG91ZGluYXJ5Ly50ZXN0KGRhdGEuc2VjdXJlX3VybCkpIHtcclxuICAgICAgICB2bS5maWxlQXJyYXkgPSBnbG9iYWxzLmV4dHJhY3RQYWdlc0Zyb21QZGYoZGF0YS5zZWN1cmVfdXJsLCBkYXRhLnBhZ2VzKTtcclxuICAgICAgICB2bS5sb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICAkKFwiI2Nob29zZVJvb2ZNb2RhbFwiKS5jc3MoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICQoXCIjc2VsZWN0RmlsZVwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgJChcIiNzZWxlY3RGaWxlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICB2bS5wZGZGaWxlcyA9IGFuZ3VsYXIuY29weSh2bS5maWxlQXJyYXkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZtLmZpbGVBcnJheSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGRhdGEucGxhbkRvY3VtZW50KSB7XHJcbiAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdm0ucGRmUGFnZXNEYXRhID0gdm0ucGRmRmlsZXMgPSBkYXRhLnBsYW5JbWFnZXMubWFwKCh4LCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgICAgcGFnZU5vOiBpLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiBgdGl0bGVfJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgICAgICAgICAgdXJsOiB4LFxyXG4gICAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIlxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHZtLmxvYWRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikuY3NzKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcclxuICAgICAgICAgICQoXCIjc2VsZWN0RmlsZVwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgICAkKFwiI3NlbGVjdEZpbGVcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBnbG9iYWxzLmNyZWF0ZVBhZ2VzRnJvbVBkZihkYXRhKS50aGVuKHBhZ2VzID0+IHtcclxuICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZtLnBkZlBhZ2VzRGF0YSA9IHBhZ2VzO1xyXG4gICAgICAgICAgICB2bS5wZGZGaWxlcyA9IHBhZ2VzO1xyXG4gICAgICAgICAgICB2bS5sb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikuY3NzKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgJChcIiNzZWxlY3RGaWxlQ2FudmFzXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgJChcIiNzZWxlY3RGaWxlQ2FudmFzXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB2bS5oaWRlU2VsZWN0RmlsZSA9ICgpID0+IHtcclxuICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikuY3NzKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XHJcbiAgICAgICQoXCIjc2VsZWN0RmlsZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgIH07XHJcbiAgICB2bS5zZWxlY3RlZEZpbGVMaXN0ID0gKHZhbCwgdHlwZSwgYXNzZXQpID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSBcInN1Ym1pdFwiKSB7XHJcbiAgICAgICAgJChcIiNjaG9vc2VGaWxlLCAjc2VsZWN0RmlsZSwgI3NlbGVjdEZpbGVDYW52YXNcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikuY3NzKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XHJcbiAgICAgICAgdm0uc2VsZWN0ZWRGaWxlcyA9IFtdO1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5wZGZGaWxlcywgeCA9PiB7XHJcbiAgICAgICAgICBpZiAoeC5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICB2bS5zZWxlY3RlZEZpbGVzLnB1c2goeCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IDEpIHtcclxuICAgICAgICAgIGxldCBlbmRwb2ludCA9XHJcbiAgICAgICAgICAgICFhc3NldC5wbGFuRG9jdW1lbnQgJiYgL2Nsb3VkaW5hcnkvLnRlc3QoYXNzZXQuc2VjdXJlX3VybClcclxuICAgICAgICAgICAgICA/IFwiYWRkUHJvamVjdFJvb2ZQbGFuXCJcclxuICAgICAgICAgICAgICA6IFwiYWRkUm9vZlBsYW5zRnJvbUFzc2V0XCI7XHJcbiAgICAgICAgICAvKiBDbG91ZGluYXJ5IHBsYW5zICovXHJcbiAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgYXNzZXRJZDogYXNzZXQuX2lkLFxyXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RTdG9yZS5nZXQoKS5faWQsXHJcbiAgICAgICAgICAgIHBhZ2VzOiB2bS5zZWxlY3RlZEZpbGVzXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGFwaUZhY3RvcnlbZW5kcG9pbnRdKHBheWxvYWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAuZ2V0UHJvamVjdFJvb2ZQbGFucyhwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCByb29mUGxhbnMgPSByZXNwLmRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJyb29mUGxhblByb2plY3RcIixcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwicm9vZlBsYW5zXCIsIHJvb2ZQbGFucyk7XHJcbiAgICAgICAgICAgICAgICAgIHZtLnBsYW5QaWNrZXJQbGFucyA9IHJvb2ZQbGFucztcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8qIFMzIHBsYW5zICovXHJcbiAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgYXNzZXRJZDogYXNzZXQuX2lkLFxyXG4gICAgICAgICAgICBwZGZVcmw6IGFzc2V0LnNlY3VyZV91cmwsXHJcbiAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdFN0b3JlLmdldCgpLl9pZCxcclxuICAgICAgICAgICAgcGFnZXM6IHZtLnNlbGVjdGVkRmlsZXMucmVkdWNlKChhY2MsIHgpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHgudGl0bGUsXHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogeC5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgIHBhZ2VObzogeC5wYWdlTm9cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGFjYy5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgW10pXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAuZ2VuZXJhdGVSb29mUGxhbnMocGF5bG9hZClcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgIC5nZXRQcm9qZWN0Um9vZlBsYW5zKHByb2plY3RTdG9yZS5nZXQoKS5faWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgbGV0IHJvb2ZQbGFucyA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcclxuICAgICAgICAgICAgICAgICAgICBcInJvb2ZQbGFuUHJvamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RTdG9yZS5nZXQoKS5faWRcclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJyb29mUGxhbnNcIiwgcm9vZlBsYW5zKTtcclxuICAgICAgICAgICAgICAgICAgdm0ucGxhblBpY2tlclBsYW5zID0gcm9vZlBsYW5zO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodmFsID09IFwiY2xvc2VcIikge1xyXG4gICAgICAgICQoXCIjY2hvb3NlRmlsZSwgI3NlbGVjdEZpbGUsICNzZWxlY3RGaWxlQ2FudmFzXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLmNzcyhcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJlbXBsb3llZXNDdHJsXCIsIGVtcGxveWVlc0N0cmwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGVtcGxveWVlc0N0cmwoXHJcbiAgICAgICAgJHNjb3BlLFxyXG4gICAgICAgICR0aW1lb3V0LFxyXG4gICAgICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgICAgICRzdGF0ZSxcclxuICAgICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICAgIE5vdGlmaWNhdGlvbixcclxuICAgICAgICBOZ01hcCxcclxuICAgICAgICBnbG9iYWxzLFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgbG9nb3V0IH0gPSBnbG9iYWxzO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBcclxuXHJcbn0pKCk7IiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiZXF1aXBtZW50Q3RybFwiLCBlcXVpcG1lbnRDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gZXF1aXBtZW50Q3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFscyxcclxuICAgIFVwbG9hZFxyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuXHJcbiAgICAkc2NvcGUuZXF1aXBtZW50ID0gW1xyXG4gICAgICB7IGltZzogJy9hc3NldHMvaW1hZ2VzL2VxdWlwbWVudC5wbmcnLCB0aXRsZTogJ0VxdWlwbWVudCBBQkMnLCBzdWJ0aXRsZTogJ0VRIC0gMTIzNCcsIHdvcms6ICdXb3JrZXIgSUQnLCB0YWc6ICdOTlMxIC0gS2ltIE1vc2VnYWFyZCcgfSxcclxuICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQucG5nJywgdGl0bGU6ICdFcXVpcG1lbnQgQUJDJywgc3VidGl0bGU6ICdFUSAtIDEyMzQnLCB3b3JrOiAnQ2FyJywgdGFnOiAnTlIuIDk5JyB9LFxyXG4gICAgICB7IGltZzogJy9hc3NldHMvaW1hZ2VzL2VxdWlwbWVudC5wbmcnLCB0aXRsZTogJ0VxdWlwbWVudCBBQkMnLCBzdWJ0aXRsZTogJ0VRIC0gMTIzNCcsIHdvcms6ICdXb3JrZXIgSUQnLCB0YWc6ICdOTlMxIC0gS2ltIE1vc2VnYWFyZCcgfSxcclxuICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQucG5nJywgdGl0bGU6ICdFcXVpcG1lbnQgQUJDJywgc3VidGl0bGU6ICdFUSAtIDEyMzQnLCB3b3JrOiAnV29ya2VyIElEJywgdGFnOiAnTk5TMSAtIEtpbSBNb3NlZ2FhcmQnIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvZXF1aXBtZW50LnBuZycsIHRpdGxlOiAnRXF1aXBtZW50IEFCQycsIHN1YnRpdGxlOiAnRVEgLSAxMjM0Jywgd29yazogJ0NhcicsIHRhZzogJ05SLiA5OScgfSxcclxuICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQucG5nJywgdGl0bGU6ICdFcXVpcG1lbnQgQUJDJywgc3VidGl0bGU6ICdFUSAtIDEyMzQnLCB3b3JrOiAnV29ya2VyIElEJywgdGFnOiAnTk5TMSAtIEtpbSBNb3NlZ2FhcmQnIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvZXF1aXBtZW50LnBuZycsIHRpdGxlOiAnRXF1aXBtZW50IEFCQycsIHN1YnRpdGxlOiAnRVEgLSAxMjM0Jywgd29yazogJ1dvcmtlciBJRCcsIHRhZzogJ05OUzEgLSBLaW0gTW9zZWdhYXJkJyB9LFxyXG4gICAgICB7IGltZzogJy9hc3NldHMvaW1hZ2VzL2VxdWlwbWVudC5wbmcnLCB0aXRsZTogJ0VxdWlwbWVudCBBQkMnLCBzdWJ0aXRsZTogJ0VRIC0gMTIzNCcsIHdvcms6ICdDYXInLCB0YWc6ICdOUi4gOTknIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvZXF1aXBtZW50LnBuZycsIHRpdGxlOiAnRXF1aXBtZW50IEFCQycsIHN1YnRpdGxlOiAnRVEgLSAxMjM0Jywgd29yazogJ1dvcmtlciBJRCcsIHRhZzogJ05OUzEgLSBLaW0gTW9zZWdhYXJkJyB9XHJcbiAgICBdXHJcbiAgICAkc2NvcGUuaW1nX3VwbG9hZCA9IFtcclxuICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQzLnBuZycgfSxcclxuICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQzLnBuZycgfSxcclxuICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQzLnBuZycgfVxyXG4gICAgXVxyXG4gICAgJHNjb3BlLmVxdWlwZG9jdW1lbnRzID0gW1xyXG4gICAgICB7IGltZzogJy9hc3NldHMvaW1hZ2VzL3BkZi5wbmcnLCB0eXBlOiAnRG9jdW1lbnRfMS5wZGYnIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvcGRmLnBuZycsIHR5cGU6ICdEb2N1bWVudF8yLnBkZicgfSxcclxuICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9wZGYucG5nJywgdHlwZTogJ0RvY3VtZW50XzMucGRmJyB9XHJcbiAgICBdXHJcblxyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAkKFwiLnBheXJvbGxNZW51XCIpLmhpZGUoKTtcclxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cclxuXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkKFwiLm1hdGVyaWFsTGlzdFwiKS5EYXRhVGFibGUoKTtcclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmxpc3RBbGxFcXVpcG1lbnRzKClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uZXF1aXBtZW50ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgLyogRGF0YSB0YWJsZSBzZXR1cCAqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHZtLmR0T3B0aW9ucyA9IHtcclxuICAgICAgcGFnaW5nOiBmYWxzZSxcclxuICAgICAgaW5mbzogZmFsc2UsXHJcbiAgICAgIG9yZGVyaW5nOiBmYWxzZVxyXG4gICAgfTtcclxuICAgICQoXCIuZXF1aXBtZW50TGlzdFwiKS5EYXRhVGFibGUoKTtcclxuXHJcbiAgICAkc2NvcGUuYWN0aXZlSnVzdGlmaWVkID0gMDtcclxuXHJcbiAgICB2bS5jdXJyZW50UGFnZSA9IDE7XHJcblxyXG4gICAgdm0udG9nZ2xlT2JqID0ge1xyXG4gICAgICBzeXN0ZW1UYWc6IHRydWUsXHJcbiAgICAgIG1hdGVyaWFsQ29zdDogZmFsc2UsXHJcbiAgICAgIHJvb2ZlckNvc3Q6IGZhbHNlLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICBuYW1lOiBmYWxzZVxyXG4gICAgfTtcclxuICAgIHZtLnNlYXJjaFRleHQgPSBcIlwiO1xyXG4gICAgdm0uc29ydEVxdWlwbWVudCA9IHR5cGUgPT4ge1xyXG4gICAgICAvKiBGb3IgdG9nZ2xpbmcgYXNjZW5kaW5nIGFuZCBkZXNjZW5kaW5nIG9yZGVyICovXHJcbiAgICAgIHZtLnRvZ2dsZU9ialt0eXBlXSA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyAodm0udG9nZ2xlT2JqW3R5cGVdID0gdHJ1ZSlcclxuICAgICAgICA6ICh2bS50b2dnbGVPYmpbdHlwZV0gPSAhdm0udG9nZ2xlT2JqW3R5cGVdKTtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAubGlzdEFsbEVxdWlwbWVudHMoe1xyXG4gICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICBzZWFyY2g6IHZtLnNlYXJjaFRleHQsXHJcbiAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3R5cGVdXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLmVxdWlwbWVudCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgdm0uZXF1aXBtZW50Q291bnQgPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICQoXCIjZXF1aXBtZW50UGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcclxuICAgICAgICAgICAgICBpdGVtczogdm0uZXF1aXBtZW50Q291bnQsXHJcbiAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxyXG4gICAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXHJcbiAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAgIC5saXN0QWxsRXF1aXBtZW50cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3R5cGVdXHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmVxdWlwbWVudCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zZWFyY2hFcXVpcG1lbnQgPSB0ZXh0ID0+IHtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5saXN0QWxsRXF1aXBtZW50cyh7XHJcbiAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgc2VhcmNoOiB0ZXh0LFxyXG4gICAgICAgICAgc29ydDogXCJjcmVhdGVkRGF0ZVwiLFxyXG4gICAgICAgICAgc29ydFR5cGU6IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLmVxdWlwbWVudCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgdm0uZXF1aXBtZW50Q291bnQgPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICQoXCIjZXF1aXBtZW50UGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcclxuICAgICAgICAgICAgICBpdGVtczogdm0uZXF1aXBtZW50Q291bnQsXHJcbiAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxyXG4gICAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXHJcbiAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAgIC5saXN0QWxsRXF1aXBtZW50cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3R5cGVdXHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmVxdWlwbWVudCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBJbml0aWFsbHkgZ2V0dGluZyB0aGUgdmFsdWVzIG9mIG1hdGVyaWFsIGFuZCBjb21ibyBtYXRlcmlhbHMgKi9cclxuICAgIHZtLnNvcnRFcXVpcG1lbnQoXCJjcmVhdGVkQXRcIik7XHJcbiAgICAvKiBFbmQgb2YgIERhdGEgdGFibGUgc2V0dXAgKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAvKiBBZGQgbWF0ZXJpYWwgZnVuY3Rpb25hbGl0eSAqL1xyXG5cclxuICAgIHZtLmFkZE1hdGVyaWFsID0ge1xyXG4gICAgICBjb252ZXJzaW9uRmFjdG9yOiAxXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnRhYlNldHRpbmdzID0ge1xyXG4gICAgICBkaXNhYmxlOiB0cnVlXHJcbiAgICB9O1xyXG5cclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmdldENvbXBhbnlCeUlkKHZtLnVzZXJEYXRhLmNvbXBhbnlJZClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uY29tcGFueURhdGEgPSByZXNwLmRhdGE7XHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3kgPSB2bS5jb21wYW55RGF0YS5jdXJyZW50Q3VycmVuY3kuY3VycmVuY3lDb2RlO1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdm0uc2hvd0NvbnZlcnNpb25SYXRlID0gKGZyb20sIHRvKSA9PiB7XHJcbiAgICAgIGxldCBjdXJyZW5jeURhdGEgPSB7XHJcbiAgICAgICAgZnJvbSxcclxuICAgICAgICB0b1xyXG4gICAgICB9O1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLnNob3dDb252ZXJzaW9uUmF0ZShjdXJyZW5jeURhdGEpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yID0gcmVzcC5kYXRhLmNvbnZlcnNpb25GYWN0b3I7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0ubVVuaXRzID0gZ2xvYmFscy5tVW5pdHM7XHJcblxyXG4gICAgZ2xvYmFscy5nZXRDdXJyZW5jeSgpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgIHZtLmN1cnJlbmNpZXMgPSByZXNwLmRhdGE7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS50YWJTdHlsZSA9ICgpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxOYW1lICE9PSBcIiBcIlxyXG4gICAgICApIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbFVuaXQgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxVbml0ICE9PSBcIiBcIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5ICE9PSBcIlwiXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3IgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3IgIT09IFwiXCJcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgJChcInVpYi10YWItaGVhZGluZy5pbmZvIGkuZmFcIikuYXR0cihcclxuICAgICAgICAgICAgICAgIFwic3R5bGVcIixcclxuICAgICAgICAgICAgICAgIFwiZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7IGNvbG9yOiAjM2NiZGFhXCJcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gaS5mYVwiKS5hdHRyKFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IGNvbG9yOiAjM2NiZGFhXCJcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gaS5mYVwiKS5hdHRyKFxyXG4gICAgICAgICAgICAgIFwic3R5bGVcIixcclxuICAgICAgICAgICAgICBcImRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgY29sb3I6ICMzY2JkYWFcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gLm51bWJlclwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoXCIuYnRuLXN1Y2Nlc3MubmV4dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyBpLmZhXCIpLmF0dHIoXHJcbiAgICAgICAgICAgIFwic3R5bGVcIixcclxuICAgICAgICAgICAgXCJkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IGNvbG9yOiAjM2NiZGFhXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gLm51bWJlclwiKS5zaG93KCk7XHJcbiAgICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gaS5mYVwiKS5hdHRyKFxyXG4gICAgICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICAgICAgXCJkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IGNvbG9yOiAjM2NiZGFhXCJcclxuICAgICAgICApO1xyXG4gICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLnNob3coKTtcclxuICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZE1hdGVyaWFsTmV4dCA9ICgpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSA9PSB1bmRlZmluZWQgfHxcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUgPT0gXCIgXCJcclxuICAgICAgKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGVudGVyIG1hdGVyaWFsIG5hbWVcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxVbml0ID09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsVW5pdCA9PSBcIiBcIlxyXG4gICAgICApIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IG1hdGVyaWFsIFVuaXRcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3kgPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3kgPT0gXCIgXCJcclxuICAgICAgKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCBDdXJyZW5jeVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAxO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5jaGFuZ2VDb3N0ID0gKGNvc3QsIGNvbnZlcnNpb25SYXRlKSA9PiB7XHJcbiAgICAgIHJldHVybiBjb3N0ICogY29udmVyc2lvblJhdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZE1hdGVyaWFsRGV0YWlscyA9ICgpID0+IHtcclxuICAgICAgdmFyIGZvcm1EYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSxcclxuICAgICAgICB1bml0OiB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbFVuaXQsXHJcbiAgICAgICAgZXF1aXBtZW50Q29zdHM6IHtcclxuICAgICAgICAgIHZhbHVlOiB2bS5jaGFuZ2VDb3N0KFxyXG4gICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5lcXVpcG1lbnRDb3N0VmFsdWUsXHJcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3JcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBjdXJyZW5jeUNvZGU6IHZtLmNvbXBhbnlEYXRhLmN1cnJlbnRDdXJyZW5jeS5jdXJyZW5jeUNvZGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJvb2ZlckNvc3Q6IHtcclxuICAgICAgICAgIHZhbHVlOiB2bS5jaGFuZ2VDb3N0KFxyXG4gICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5yb29mZXJDb3N0VmFsdWUsXHJcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3JcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBjdXJyZW5jeUNvZGU6IHZtLmNvbXBhbnlEYXRhLmN1cnJlbnRDdXJyZW5jeS5jdXJyZW5jeUNvZGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZpbGVzOiB2bS5pbnB1dEZpbGVzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmNyZWF0ZUVxdWlwbWVudChmb3JtRGF0YSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICQoXCIjYWRkRXF1aXBtZW50c1wiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICB2bS5zb3J0RXF1aXBtZW50KFwiY3JlYXRlZEF0XCIpO1xyXG5cclxuICAgICAgICAgIHZtLmFkZE1hdGVyaWFsID0ge1xyXG4gICAgICAgICAgICBjb252ZXJzaW9uRmFjdG9yOiAxXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiZXF1aXBtZW50Vmlld0N0cmxcIiwgZXF1aXBtZW50Vmlld0N0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBlcXVpcG1lbnRWaWV3Q3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFscyxcclxuICAgICRzdGF0ZVBhcmFtcyxcclxuICAgIFVwbG9hZFxyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgICBsb2dvdXQoKTtcclxuICAgIH07XHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgICAgXHJcbiAgICB2bS5lcXVpcG1lbnRJZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgIGFwaUZhY3RvcnkuZ2V0RXF1aXBtZW50QnlJZCh2bS5lcXVpcG1lbnRJZCkudGhlbihyZXNwID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHJlc3ApXHJcbiAgICB9KS5jYXRjaChlID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJHNjb3BlLnNsaWRlcjIgPSBbXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvZXF1aXBtZW50Mi5qcGcnIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvZXF1aXBtZW50Mi5qcGcnIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvZXF1aXBtZW50Mi5qcGcnIH1cclxuICAgIF0gXHJcbiAgICAkc2NvcGUuZXF1aXBfdGFibGUgPSBbXHJcbiAgICAgIHsgdW5pdDogJ0N1cnJlbmN5JywgbXQ6ICdEYW5pc2ggS3JvbmUnIH0sXHJcbiAgICAgIHsgdW5pdDogJ0NvbnZlcnNpb24gRmFjdG9yJywgbXQ6ICcxJyB9LFxyXG4gICAgICB7IHVuaXQ6ICdFcXVpcG1lbnQgQ29zdCAoREtLKScsIG10OiAnLS0tJyB9LFxyXG4gICAgICB7IHVuaXQ6ICdXb3JrZXIgQ29zdCAoREtLKScsIG10OiAnLS0tJyB9LFxyXG4gICAgICB7IHVuaXQ6ICdXb3JrZXIgSUQnLCBtdDogJ05OUzEgLSBLaW0gTW9zZWdhYXJkJyB9XHJcbiAgICBdXHJcblxyXG5cclxuXHJcblxyXG5cclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImZpbGVNYW5hZ2VyQ3RybFwiLCBmaWxlTWFuYWdlckN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBmaWxlTWFuYWdlckN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkaHR0cCxcclxuICAgICR3aW5kb3csXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICBmaWxlTWFuYWdlckZhY3RvcnksXHJcbiAgICB1cGxvYWRGYWN0b3J5XHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG5cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGxvZ291dCxcclxuICAgICAgdXNlclN0b3JlLFxyXG4gICAgICBwcm9qZWN0U3RvcmUsXHJcbiAgICAgIGdlbmVyaWNTdG9yZSxcclxuICAgICAgYnJlYWtjcnVtYlN0b3JlXHJcbiAgICB9ID0gZ2xvYmFscztcclxuICAgIGNvbnN0IHsgY2xpcEJvYXJkIH0gPSBmaWxlTWFuYWdlckZhY3Rvcnk7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBhcGlGYWN0b3J5XHJcbiAgICAgIC5saXN0QWxsUHJvamVjdHMoKVxyXG4gICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5wcm9qZWN0TGlzdCA9IHJlc3AuZGF0YTtcclxuICAgICAgICAvKiBJbml0aWFsbHkgbG9hZCB0aGUgZmlyc3QgcHJvamVjdCBhcyBkZWZhdWx0ICovXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQcm9qZWN0ID0gcHJvamVjdFN0b3JlLmdldCgpO1xyXG5cclxuICAgICAgICB2bS5zZWxlY3RlZFByb2plY3QgPSBzZWxlY3RlZFByb2plY3QuX2lkO1xyXG5cclxuICAgICAgICB2bS5nZXRQcmltYXJ5Rm9sZGVycyhzZWxlY3RlZFByb2plY3QpO1xyXG4gICAgICAgIC8qIFNldCBiYWNrdXAgZm9sZGVycyAqL1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHZtLnJvb3RGb2xkZXJzID0gW107XHJcblxyXG4gICAgdm0uYmFja3VwRm9sZGVycyA9IHByb2plY3RTdG9yZS5nZXQoKS5iYWNrdXBGb2xkZXJzO1xyXG5cclxuICAgIHZtLndpbmRvd0l0ZW1zID0ge1xyXG4gICAgICBmb2xkZXJEYXRhOiBcIlwiLFxyXG4gICAgICBmb2xkZXJzOiBbXSxcclxuICAgICAgZmlsZXM6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnJlc29sdmVBc3NldEljb24gPSBhc3NldE9iaiA9PiB7XHJcbiAgICAgIGxldCBhc3NldEZvcm1hdCA9IGFzc2V0T2JqLmZvcm1hdC50cmltKCksXHJcbiAgICAgICAgaWNvbjtcclxuXHJcbiAgICAgIGlmICgvanAqZy8udGVzdChhc3NldEZvcm1hdCkpIHtcclxuICAgICAgICBpY29uID0gXCJqcGdcIjtcclxuICAgICAgfSBlbHNlIGlmICgvcG5nLy50ZXN0KGFzc2V0Rm9ybWF0KSkge1xyXG4gICAgICAgIGljb24gPSBcInBuZ1wiO1xyXG4gICAgICB9IGVsc2UgaWYgKC9wZGYvLnRlc3QoYXNzZXRGb3JtYXQpKSB7XHJcbiAgICAgICAgaWNvbiA9IFwicGRmXCI7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGljb247XHJcbiAgICB9O1xyXG4gICAgdm0uc2hvd1RyZWUgPSBmYWxzZTtcclxuICAgIHZtLmdldFByaW1hcnlGb2xkZXJzID0gKHNlbGVjdGVkUHJvamVjdCwgbGlzdCkgPT4ge1xyXG4gICAgICBpZiAobGlzdCkge1xyXG4gICAgICAgIC8qIEZpbHRlcmluZyB0aHJvdWdoIHRoZSBsaXN0IG9mIHByb2ogaWYgcGFyYW0gaXMgYSBzdHJpbmcgKi9cclxuICAgICAgICBwcm9qZWN0U3RvcmUuc2V0KFxyXG4gICAgICAgICAgbGlzdC5maWx0ZXIoeCA9PiB7XHJcbiAgICAgICAgICAgIGlmICh4Ll9pZCA9PT0gc2VsZWN0ZWRQcm9qZWN0KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfSlbMF1cclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHByb2plY3RTdG9yZS5zZXQoc2VsZWN0ZWRQcm9qZWN0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdm0uYmFja3VwRm9sZGVycyA9IHByb2plY3RTdG9yZS5nZXQoKS5iYWNrdXBGb2xkZXJzO1xyXG5cclxuICAgICAgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIGFwaUZhY3RvcnkuZ2V0SGllcmFyY2h5KHByb2plY3RTdG9yZS5nZXQoKS5faWQpLFxyXG4gICAgICAgIGFwaUZhY3Rvcnkudmlld1Byb2plY3RBc3NldHMocHJvamVjdFN0b3JlLmdldCgpLl9pZClcclxuICAgICAgXSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLnNob3dUcmVlID0gdHJ1ZTtcclxuICAgICAgICAgIHZtLnJvb3RGb2xkZXJzID0gcmVzcFswXS5kYXRhLmRhdGEuaGllcmFyY2hpZXM7XHJcbiAgICAgICAgICB2bS5wcm9qZWN0RmlsZXMgPSByZXNwWzFdLmRhdGEuZGF0YTtcclxuICAgICAgICAgIHZtLmxvYWRGaWxlc1RvQXV0b0NvbXBsZXRlID0gJHF1ZXJ5ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICByZXNvbHZlKHZtLnByb2plY3RGaWxlcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyB2bS5zZWxlY3RlZFByb2plY3QgPSBcIjVhZmQ0NTIwZDA4ZDRiMzg1OWZlOWJkNlwiO1xyXG4gICAgLy8gdm0uZ2V0UHJpbWFyeUZvbGRlcnModm0uc2VsZWN0ZWRQcm9qZWN0KTtcclxuXHJcbiAgICB2bS5nZXRGb2xkZXIgPSBpZCA9PiB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0SGllcmFyY2h5Q2hpbGRyZW4oaWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIFN0b3JpbmcgdGhlIGZpbGUgcGF0aCBpbiBhIHN0b3JlIGR1ZSB0byBsaW1pdGF0aW9ucyBpbiB0aGUgcGx1Z2luICovXHJcblxyXG4gICAgY29uc3QgZmlsZURlc3RpbmF0aW9uID0gZ2VuZXJpY1N0b3JlKCk7XHJcblxyXG4gICAgdm0udHJlZU9wdGlvbnMgPSB7XHJcbiAgICAgIGFjY2VwdDogZnVuY3Rpb24oc291cmNlLCBkZXN0LCBkZXN0SW5kZXgpIHtcclxuICAgICAgICBpZiAoc291cmNlLmZpbGUpIHtcclxuICAgICAgICAgIGZpbGVEZXN0aW5hdGlvbi5zdG9yZShkZXN0KTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0sXHJcbiAgICAgIGRyYWdTdG9wOiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGxldCB7IHNvdXJjZSwgZGVzdCB9ID0gZXZlbnQ7XHJcbiAgICAgICAgLyogRXhjbHVzaXZlIGZvciBmaWxlcyAqL1xyXG4gICAgICAgIGlmIChzb3VyY2Uubm9kZVNjb3BlLmZpbGUpIHtcclxuICAgICAgICAgIC8qIFN0ZXAgMTogIEdldCB0aGUgZGVzdCB2YWx1ZSBmcm9tIHRoZSBleHRlcm5hbCBzdG9yZSBhbmQgYXBwZW5kIHRvIGRlc3QgKi9cclxuICAgICAgICAgIGxldCBkZXN0aW5hdGlvbiA9IGZpbGVEZXN0aW5hdGlvbi5nZXQoKTtcclxuICAgICAgICAgIGlmICghZGVzdGluYXRpb24uJG5vZGVTY29wZSkge1xyXG4gICAgICAgICAgICAvKiBSZXR1cm4gZm9yIGludmFsaWQgZHJhZ3MgKi9cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGV0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIGFzc2V0SWQ6IHNvdXJjZS5ub2RlU2NvcGUuZmlsZS5faWQsXHJcbiAgICAgICAgICAgIHNvdXJjZUlkOiBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnQuJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5faWQsXHJcbiAgICAgICAgICAgIGRlc3RJZDogZGVzdGluYXRpb24uJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5faWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICAvKiBTdGVwIDI6IFN5bmMgd2l0aCBiYWNrZW5kIGJ1dCBkb24ndCB3YWl0IGZvciB0aGUgcmVzcG9uc2UgICovXHJcbiAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgIC5tb3ZlQXNzZXRzKHBheWxvYWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoZGVzdGluYXRpb24uJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5maWxlcykge1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbi4kbm9kZVNjb3BlLiRtb2RlbFZhbHVlLmZpbGVzLnB1c2goXHJcbiAgICAgICAgICAgICAgc291cmNlLm5vZGVTY29wZS5maWxlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbi4kbm9kZVNjb3BlLiRtb2RlbFZhbHVlLmZpbGVzID0gW3NvdXJjZS5ub2RlU2NvcGUuZmlsZV07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLyogU3RlcCAzOiBSZW1vdmUgdGhlIGZpbGUgZnJvbSB0aGUgc291cmNlIGZvbGRlciAqL1xyXG4gICAgICAgICAgc291cmNlLm5vZGVTY29wZS4kcGFyZW50LiRub2RlU2NvcGUuJG1vZGVsVmFsdWUuZmlsZXMgPSBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnQuJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5maWxlcy5maWx0ZXIoXHJcbiAgICAgICAgICAgIHggPT4geC5faWQgIT09IHNvdXJjZS5ub2RlU2NvcGUuZmlsZS5faWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBkcm9wcGVkOiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGxldCB7IHNvdXJjZSwgZGVzdCB9ID0gZXZlbnQ7XHJcbiAgICAgICAgbGV0IHBheWxvYWQ7XHJcblxyXG4gICAgICAgIC8qIEZvciBtb3ZpbmcgZm9sZGVycyAqL1xyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBkZXN0Lm5vZGVzU2NvcGUuJG5vZGVTY29wZSA9PT0gbnVsbCAmJlxyXG4gICAgICAgICAgc291cmNlLm5vZGVTY29wZS4kcGFyZW50Tm9kZVNjb3BlID09PSBudWxsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAvKiBJZ25vcmUgc2FtZSBsZXZlbCBkcmFncyAqL1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICBkZXN0Lm5vZGVzU2NvcGUuJG5vZGVTY29wZSA9PT0gbnVsbCAmJlxyXG4gICAgICAgICAgc291cmNlLm5vZGVTY29wZS4kcGFyZW50Tm9kZVNjb3BlICE9PSBudWxsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAvKiBEcmFnZ2luZyB0byByb290ICovXHJcbiAgICAgICAgICBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAxLFxyXG4gICAgICAgICAgICBoaWVyYXJjaHlJZDogc291cmNlLm5vZGVTY29wZS4kbW9kZWxWYWx1ZS5faWQsXHJcbiAgICAgICAgICAgIHBhcmVudElkOiBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnROb2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RTdG9yZS5nZXQoKS5faWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgIGRlc3Qubm9kZXNTY29wZS4kbm9kZVNjb3BlICE9PSBudWxsICYmXHJcbiAgICAgICAgICBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnROb2RlU2NvcGUgPT09IG51bGxcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8qIERyYWdnaW5nIGZyb20gcm9vdCAqL1xyXG4gICAgICAgICAgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgdHlwZTogMixcclxuICAgICAgICAgICAgaGllcmFyY2h5SWQ6IHNvdXJjZS5ub2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RTdG9yZS5nZXQoKS5faWQsXHJcbiAgICAgICAgICAgIGRlc3RJZDogZGVzdC5ub2Rlc1Njb3BlLiRub2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvKiBEcmFnZ2luZyBiZXR3ZWVuIHN1YiBmb2xkZXJzICovXHJcbiAgICAgICAgICBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAzLFxyXG4gICAgICAgICAgICBoaWVyYXJjaHlJZDogc291cmNlLm5vZGVTY29wZS4kbW9kZWxWYWx1ZS5faWQsXHJcbiAgICAgICAgICAgIHBhcmVudElkOiBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnROb2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBkZXN0SWQ6IGRlc3Qubm9kZXNTY29wZS4kbm9kZVNjb3BlLiRtb2RlbFZhbHVlLl9pZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5kcmFnTW92ZU5vZGVzKHBheWxvYWQpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCByb290Rm9sZGVyU3RvcmUgPSBnZW5lcmljU3RvcmUoKTtcclxuXHJcbiAgICB2bS5zZXRSb290Rm9sZGVyID0gb2JqID0+IHtcclxuICAgICAgcm9vdEZvbGRlclN0b3JlLnN0b3JlKG9iaik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIGFkZCBtb2RhbCBzZXR0aW5ncyAqL1xyXG4gICAgdm0uYWRkTW9kYWxBY3RpdmVUYWIgPSAwO1xyXG4gICAgJChcIiNhZGRNb2RhbFwiKS5vbihcImhpZGUuYnMubW9kYWxcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZtLmZpbGVOYW1lcyA9IFtdO1xyXG4gICAgICB2bS5hZGRNb2RhbEFjdGl2ZVRhYiA9IDA7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS5hZGRQcmltYXJ5Rm9sZGVyID0gKG5hbWUsIHByb2plY3RJZCkgPT4ge1xyXG4gICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGlzUGFyZW50OiB0cnVlLFxyXG4gICAgICAgIHByb2plY3RJZDogcHJvamVjdElkXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IG5vZGVPYmogPSByb290Rm9sZGVyU3RvcmUuZ2V0KCk7XHJcbiAgICAgICQoXCIjYWRkTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmFkZEhpZXJhcmNoeShwYXlsb2FkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgbm9kZU9iai4kbm9kZXNTY29wZS4kbW9kZWxWYWx1ZS5wdXNoKHJlc3AuZGF0YS5kYXRhKTtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwicm9vdGZvbGRlclwiLCByb290Rm9sZGVyU3RvcmUuZ2V0KCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLm9wZW5BZGRNb2RhbCA9IChzb3VyY2UsIG9iaikgPT4ge1xyXG4gICAgICB2bS5hZGRNb2RhbFNvdXJjZSA9IHNvdXJjZTtcclxuICAgICAgdm0ubm9kZU9iaiA9IG9iajtcclxuICAgICAgJChcIiNhZGRNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnNob3dMb2FkZXIgPSBmYWxzZTtcclxuXHJcbiAgICB2bS50b2dnbGVGb2xkZXIgPSAoZm9sZGVyLCBpY29uLCBub2RlKSA9PiB7XHJcbiAgICAgIGlmIChmb2xkZXIuJG1vZGVsVmFsdWUuYmFja3VwKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGZvbGRlci4kdHJlZVNjb3BlLiRlbGVtZW50WzBdKVxyXG4gICAgICAvLyBjb25zb2xlLmxvZygkKGZvbGRlci4kZWxlbWVudFswXSkuZmluZCgnLnJvdyAuZmlsZS1saXN0aW5nJylbMF0uYWRkQ2xhc3MoJ2JnLWRhcmsnKSlcclxuICAgICAgJChmb2xkZXIuJHRyZWVTY29wZS4kZWxlbWVudFswXSlcclxuICAgICAgICAuZmluZChcIi5mb2xkZXItb3BlblwiKVxyXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImZvbGRlci1vcGVuXCIpO1xyXG4gICAgICAkKGZvbGRlci4kZWxlbWVudFswXSlcclxuICAgICAgICAuZmluZChcIi5yb3dcIilcclxuICAgICAgICAuZmlyc3QoKVxyXG4gICAgICAgIC5hZGRDbGFzcyhcImZvbGRlci1vcGVuXCIpO1xyXG5cclxuICAgICAgdm0uc2hvd0xvYWRlciA9IHRydWU7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAudmlld0hpZXJhcmNoeShmb2xkZXIuJG1vZGVsVmFsdWUuX2lkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgLyogQXBwZW5kIGZpbGVzIHRvIHRoZSBmb2xkZXIgKi9cclxuICAgICAgICAgIHZtLndpbmRvd0l0ZW1zID0ge1xyXG4gICAgICAgICAgICBmb2xkZXJEYXRhOiBmb2xkZXIsXHJcbiAgICAgICAgICAgIGZvbGRlcnM6IGZvbGRlci4kbW9kZWxWYWx1ZS5jaGlsZHJlbixcclxuICAgICAgICAgICAgZmlsZXM6IHJlc3AuZGF0YS5maWxlc1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5icmVhZENydW1iTGlzdCA9IHJlc3AuZGF0YS5icmVhZGNydW1icztcclxuICAgICAgICAgIHZtLnNob3dMb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICAgIGZvbGRlci4kbW9kZWxWYWx1ZS5maWxlcyA9IHJlc3AuZGF0YS5maWxlcztcclxuICAgICAgICAgIG5hdmlnYXRpb25TdGFjay5wdXNoKGZvbGRlcik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgaWYgKGZvbGRlci5jb2xsYXBzZWQpIHtcclxuICAgICAgICBmb2xkZXIudG9nZ2xlKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaWNvbikge1xyXG4gICAgICAgIG5hdmlnYXRpb25TdGFjay5wdXNoKGZvbGRlcik7XHJcbiAgICAgICAgLy8gZm9sZGVyLnRvZ2dsZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG5hdmlnYXRpb25TdGFjayA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5uYXZpZ2F0aW9uU3RhY2soKTtcclxuXHJcbiAgICB2bS5uYXZpZ2F0ZSA9IGZvcndhcmQgPT4ge1xyXG4gICAgICBsZXQgZm9sZGVyID0gZm9yd2FyZFxyXG4gICAgICAgID8gbmF2aWdhdGlvblN0YWNrLmZvcndhcmQoKVxyXG4gICAgICAgIDogbmF2aWdhdGlvblN0YWNrLmJhY2t3YXJkKCk7XHJcblxyXG4gICAgICAvLyBpZiAoZm9sZGVyID8gKGZvbGRlci5jb2xsYXBzZWQgPyB0cnVlIDogZmFsc2UpIDogZmFsc2UpIHtcclxuICAgICAgaWYgKGZvbGRlcikge1xyXG4gICAgICAgIHZtLnNob3dMb2FkZXIgPSB0cnVlO1xyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC52aWV3SGllcmFyY2h5KGZvbGRlci4kbW9kZWxWYWx1ZS5faWQpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgLyogQXBwZW5kIGZpbGVzIHRvIHRoZSBmb2xkZXIgKi9cclxuICAgICAgICAgICAgdm0ud2luZG93SXRlbXMgPSB7XHJcbiAgICAgICAgICAgICAgZm9sZGVyRGF0YTogZm9sZGVyLFxyXG4gICAgICAgICAgICAgIGZvbGRlcnM6IGZvbGRlci4kbW9kZWxWYWx1ZS5jaGlsZHJlbixcclxuICAgICAgICAgICAgICBmaWxlczogcmVzcC5kYXRhLmZpbGVzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZtLnNob3dMb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9sZGVyLiRtb2RlbFZhbHVlLmZpbGVzID0gcmVzcC5kYXRhLmZpbGVzO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5vcGVuRm9sZGVyID0gaWQgPT4ge1xyXG4gICAgICAvKiBHZXQgdGhlIG5vZGUgb2JqIGZyb20gdGhlIHdpbmRvdyBpdGVtIG9iaiAqL1xyXG4gICAgICBsZXQgZm9sZGVyRGF0YSA9IHZtLndpbmRvd0l0ZW1zLmZvbGRlckRhdGFcclxuICAgICAgICAuY2hpbGROb2RlcygpXHJcbiAgICAgICAgLnJlZHVjZSgoYWNjLCB4KSA9PiB7XHJcbiAgICAgICAgICBpZiAoeC4kbW9kZWxWYWx1ZS5faWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIGFjYyA9IHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIH0sIG51bGwpO1xyXG5cclxuICAgICAgdm0uc2hvd0xvYWRlciA9IHRydWU7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAudmlld0hpZXJhcmNoeShpZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIG5hdmlnYXRpb25TdGFjay5wdXNoKGZvbGRlckRhdGEpO1xyXG4gICAgICAgICAgLyogQXBwZW5kIGZpbGVzIHRvIHRoZSBmb2xkZXIgKi9cclxuICAgICAgICAgIHZtLndpbmRvd0l0ZW1zID0ge1xyXG4gICAgICAgICAgICBmb2xkZXJEYXRhOiBmb2xkZXJEYXRhLFxyXG4gICAgICAgICAgICBmb2xkZXJzOiByZXNwLmRhdGEuZm9sZGVycyxcclxuICAgICAgICAgICAgZmlsZXM6IHJlc3AuZGF0YS5maWxlc1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHZtLmJyZWFkQ3J1bWJMaXN0ID0gcmVzcC5kYXRhLmJyZWFkY3J1bWJzO1xyXG4gICAgICAgICAgdm0uc2hvd0xvYWRlciA9IGZhbHNlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZEZvbGRlciA9IChuYW1lLCBmb2xkZXIpID0+IHtcclxuICAgICAgJChcIiNhZGRNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgaXNQYXJlbnQ6IGZhbHNlLFxyXG4gICAgICAgIHBhcmVudDogZm9sZGVyXHJcbiAgICAgIH07XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuYWRkSGllcmFyY2h5KHBheWxvYWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBmb2xkZXIuY2hpbGRyZW4ucHVzaChyZXNwLmRhdGEuZGF0YSk7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uYWRkRmlsZVRvSGllcmFyY2h5ID0gKGFzc2V0cywgZm9sZGVyKSA9PiB7XHJcbiAgICAgICQoXCIjYWRkTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBjb25zdCBhc3NldElkID0gYXNzZXRzLm1hcCh4ID0+IHguX2lkKTtcclxuICAgICAgY29uc3QgaGllcmFyY2h5SWQgPSBmb2xkZXIuX2lkO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmFkZEZpbGVUb0hpZXJhcmNoeSh7XHJcbiAgICAgICAgICBhc3NldElkLFxyXG4gICAgICAgICAgaGllcmFyY2h5SWRcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZGVsZXRlRmlsZSA9IChpZCwgZm9sZGVyRGF0YSkgPT4ge1xyXG4gICAgICAkKFwiI2ZpbGVWaWV3XCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5kZWxldGVBc3NldHMoe1xyXG4gICAgICAgICAgYXNzZXRJZDogaWRcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uc2hvd0xvYWRlciA9IHRydWU7XHJcbiAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgIC52aWV3SGllcmFyY2h5KGZvbGRlckRhdGEuJG1vZGVsVmFsdWUuX2lkKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAvKiBBcHBlbmQgZmlsZXMgdG8gdGhlIGZvbGRlciAqL1xyXG4gICAgICAgICAgICAgIHZtLndpbmRvd0l0ZW1zID0ge1xyXG4gICAgICAgICAgICAgICAgZm9sZGVyRGF0YTogZm9sZGVyRGF0YSxcclxuICAgICAgICAgICAgICAgIGZvbGRlcnM6IGZvbGRlckRhdGEuJG1vZGVsVmFsdWUuY2hpbGRyZW4sXHJcbiAgICAgICAgICAgICAgICBmaWxlczogcmVzcC5kYXRhLmZpbGVzXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB2bS5zaG93TG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgZm9sZGVyRGF0YS4kbW9kZWxWYWx1ZS5maWxlcyA9IHJlc3AuZGF0YS5maWxlcztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBGaWxlICAgaGFuZGxpbmcgKi9cclxuICAgIHZtLnVwbG9hZFN0YXRlID0gZmFsc2U7XHJcbiAgICB2bS5jb21wbGV0ZWRBbGwgPSBmYWxzZTtcclxuXHJcbiAgICB2bS5maWxlVXBkYXRlZCA9IChmaWxlcywgZXZlbnQpID0+IHtcclxuICAgICAgLyogUmVmcmVzaCB1cGxvYWQgc3RhdGVzIHdpdGggbmV3IGZpbGVzICovXHJcbiAgICAgIGxldCBmaWxlT2JqID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xyXG4gICAgICB2bS51cGxvYWRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmYWxzZTtcclxuXHJcbiAgICAgIHZtLmZpbGVOYW1lcyA9IE9iamVjdC5rZXlzKGZpbGVPYmopLm1hcCh4ID0+IHtcclxuICAgICAgICBsZXQgdmFsID0gZmlsZU9ialt4XTtcclxuICAgICAgICB2YWwucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHZhbC5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhbC5jb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICB2YWwuYWJvcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhbC5wbGFuID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdm0udG9nZ2xlVXBsb2FkVmlld01heGltaXplID0gdmFsID0+IHtcclxuICAgICAgdm0udXBsb2FkVmlld01heGltaXplID0gIXZhbDtcclxuICAgIH07XHJcblxyXG4gICAgLyogQ2FwdHVyZSByZWxvYWQgYW5kIGJhY2sgZXZlbnRzICovXHJcblxyXG4gICAgLy8gd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgLy8gICAvLyB2bS51cGxvYWRTdGF0ZSAmJlxyXG4gICAgLy8gICByZXR1cm4gKGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICAgIGlmICh3aW5kb3cuY29uZmlybShcIkFyZSB5b3Ugc3VyZT8gRmlsZSB1cGxvYWQgd2lsbCBiZSBhYm9ydGVkXCIpKSB7XHJcbiAgICAvLyAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KSgpO1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvKiBNYWluIHVwbG9hZCBmdW5jdGlvbmFsaXR5ICovXHJcblxyXG4gICAgdm0ucHJlVXBsb2FkID0gKGZpbGVzLCBmb2xkZXIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZmlsZXMpO1xyXG4gICAgICAkKFwiI2FkZE1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgZmlsZU1hbmFnZXJGYWN0b3J5XHJcbiAgICAgICAgLmNoZWNrRHVwbGljYXRlRmlsZXMoZmlsZXMsIGZvbGRlci5faWQpXHJcbiAgICAgICAgLnRoZW4ocHJvY2Vzc2VkID0+IHtcclxuICAgICAgICAgIGlmIChwcm9jZXNzZWQuZHVwbGljYXRlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdm0ucHJlVXBsb2FkRmlsZXMgPSBwcm9jZXNzZWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZtLnByZVVwbG9hZEZpbGVzKTtcclxuICAgICAgICAgICAgJChcIiN2ZXJzaW9uaW5nTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvY2Vzc2VkKTtcclxuICAgICAgICAgICAgdm0udXBsb2FkRmlsZShwcm9jZXNzZWQsIHByb2plY3RTdG9yZS5nZXQoKS5faWQsIGZvbGRlcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0ucHJvY2Vzc0R1cGxpY2F0ZUZpbGVOYW1lID0gZmlsZSA9PiB7XHJcbiAgICAgIGlmIChmaWxlLmFjdGlvbiA9PT0gXCJ2ZXJzaW9uXCIpIHtcclxuICAgICAgICBmaWxlLmFzc2V0TmFtZSA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5nZW5lcmF0ZVZlcnNpb24oZmlsZS5uYW1lKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmaWxlLmFzc2V0TmFtZSA9IGZpbGUubmFtZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS51cGxvYWRGaWxlID0gKGZpbGVzLCBwcm9qZWN0SWQsIGZvbGRlcikgPT4ge1xyXG4gICAgICAvKiBWYWxpZGF0ZSBkdXBsaWNhdGUgZmlsZXMgKi9cclxuICAgICAgaWYgKGZpbGVNYW5hZ2VyRmFjdG9yeS5jaGVja05hbWVDaGFuZ2UoZmlsZXMuZHVwbGljYXRlcykpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24ud2FybmluZyhcIkZpbGUgbmFtZXMgY2FuJ3QgYmUgdGhlIHNhbWVcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8qIENvbGxhdGUgZmlsZXMgKi9cclxuICAgICAgJChcIiN2ZXJzaW9uaW5nTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBmaWxlcyA9IFsuLi5maWxlcy5kdXBsaWNhdGVzLCAuLi5maWxlcy51cGxvYWRGaWxlc107XHJcbiAgICAgIHZtLnVwbG9hZFN0YXRlID0gdHJ1ZTtcclxuICAgICAgJChcIiNhZGRNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIHZtLnVwbG9hZFZpZXdGaWxlcyA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5zcGxpdERlc3RpbmF0aW9uKGZpbGVzKTtcclxuICAgICAgLyogQ2F0ZWdvcml6ZSBmaWxlcyAqL1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2godm0udXBsb2FkVmlld0ZpbGVzLnMzLCB4ID0+IHtcclxuICAgICAgICAvKiBBdHRhY2ggZXZlbnRzIGFuZCBwcm9wcyB0byBmaWxlT2JqIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSB2aWV3ICovXHJcbiAgICAgICAgbGV0IHVwbG9hZEhhbmRsZXIgPSBldmFwb3JhdGUgPT4ge1xyXG4gICAgICAgICAgLyogdXBsb2FkIHRvIHMzIGlmIHZhbHVlIGlzIGxlc3MgdGhhbiAzICovXHJcbiAgICAgICAgICB4LnBhdXNlID0gdXBsb2FkRmFjdG9yeS5wYXVzZS5iaW5kKGV2YXBvcmF0ZSwgeCk7XHJcbiAgICAgICAgICB4LnJlc3VtZSA9IHVwbG9hZEZhY3RvcnkucmVzdW1lLmJpbmQoZXZhcG9yYXRlLCB4KTtcclxuICAgICAgICAgIHguYWJvcnQgPSB1cGxvYWRGYWN0b3J5LmFib3J0LmJpbmQoZXZhcG9yYXRlLCB4KTtcclxuICAgICAgICAgIGxldCBhZGRDb25maWcgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IHgubmFtZSxcclxuICAgICAgICAgICAgZmlsZTogeCxcclxuICAgICAgICAgICAgcHJvZ3Jlc3M6IChwLCBzdGF0cykgPT4ge1xyXG4gICAgICAgICAgICAgIC8qIEFXUyBwcm9ncmVzcyBwZXJjZW50YWdlIGZhbGxzIGJhY2sgc29tZXRpbWVzIGR1ZSB0byBtaXNzaW5nIGZyYWdtZW50YXRpb24uIFxyXG4gICAgICAgICAgICAgIFVwZGF0ZSBwcm9ncmVzcyB2YWx1ZSBvbmx5IHdoZW4gaXQncyBoaWdoZXIgdGhhbiB0aGUgcHJldmlvdXMgdmFsdWUgKi9cclxuICAgICAgICAgICAgICB4LnByb2dyZXNzID1cclxuICAgICAgICAgICAgICAgIHgucHJvZ3Jlc3MgPiBNYXRoLnJvdW5kKHAgKiAxMDApXHJcbiAgICAgICAgICAgICAgICAgID8geC5wcm9ncmVzc1xyXG4gICAgICAgICAgICAgICAgICA6IE1hdGgucm91bmQocCAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgLyogQ2hlY2sgY29tcGxldGlvbiAqL1xyXG4gICAgICAgICAgICAgIHZtLmNvbXBsZXRlZEFsbCA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5jaGVja1VwbG9hZENvbXBsZXRpb24oXHJcbiAgICAgICAgICAgICAgICB2bS51cGxvYWRWaWV3RmlsZXNcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIC8qIFJlZnJlc2ggdmlldyB3aXRoIHNjb3BlID4gYXBwbHkgKi9cclxuICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoX3hociwgYXdzS2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgeC5jb21wbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIC8qIFJlZnJlc2ggdmlldyB3aXRoIHNjb3BlID4gYXBwbHkgKi9cclxuICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21wbGV0ZSFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgZXZhcG9yYXRlLmFkZChhZGRDb25maWcpLnRoZW4oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGF3c09iamVjdEtleSkge1xyXG4gICAgICAgICAgICAgIC8qIFN1Y2Nlc3MgYmxvY2sgKi9cclxuICAgICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IGZpbGVNYW5hZ2VyRmFjdG9yeS5yZXNvbHZlRGVzdFR5cGUoeCksXHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RTdG9yZS5nZXQoKS5faWQsXHJcbiAgICAgICAgICAgICAgICBmb2xkZXJJZDogZm9sZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgIGFzc2V0RGF0YToge1xyXG4gICAgICAgICAgICAgICAgICBhc3NldE5hbWU6IHguYXNzZXROYW1lLFxyXG4gICAgICAgICAgICAgICAgICBidWNrZXQ6IFwiM2RmaWxlc2RhdGFcIixcclxuICAgICAgICAgICAgICAgICAga2V5OiBgdGVzdC8ke3gubmFtZX1gLFxyXG4gICAgICAgICAgICAgICAgICBtaW1ldHlwZTogeC50eXBlLFxyXG4gICAgICAgICAgICAgICAgICBieXRlczogeC5zaXplLFxyXG4gICAgICAgICAgICAgICAgICBwbGFuRG9jdW1lbnQ6IHgucGxhblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgLm5ld0ZpbGVVcGxvYWQocGF5bG9hZClcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoZm9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyLmZpbGVzLnB1c2gocmVzcC5kYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiRmlsZSBzdWNjZXNzZnVsbHkgdXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaWxlIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCB0bzpcIiwgYXdzT2JqZWN0S2V5KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgLyogRmFpbHVyZSBibG9jayAqL1xyXG4gICAgICAgICAgICAgIHguYWJvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgLyogQ2hlY2sgY29tcGxldGlvbiAqL1xyXG4gICAgICAgICAgICAgIHZtLmNvbXBsZXRlZEFsbCA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5jaGVja1VwbG9hZENvbXBsZXRpb24oXHJcbiAgICAgICAgICAgICAgICB2bS51cGxvYWRWaWV3RmlsZXNcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIC8qIFJlZnJlc2ggdmlldyB3aXRoIHNjb3BlID4gYXBwbHkgKi9cclxuICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaWxlIGRpZCBub3QgdXBsb2FkIHN1Y2Vzc2Z1bGx5OlwiLCByZWFzb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHVwbG9hZEZhY3Rvcnkuc3RhcnQodXBsb2FkSGFuZGxlcik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHZtLnVwbG9hZFZpZXdGaWxlcy5jbG91ZGluYXJ5Lmxlbmd0aCkge1xyXG4gICAgICAgIGxldCBjbG91ZGluYXJ5UGF5bG9hZCA9IHtcclxuICAgICAgICAgIGZpbGVzOiB2bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeSxcclxuICAgICAgICAgIC8qIFNlbmQgYXNzZXQgbmFtZXMgc2VwYXJhdGVseSAqL1xyXG4gICAgICAgICAgYXNzZXROYW1lczogdm0udXBsb2FkVmlld0ZpbGVzLmNsb3VkaW5hcnkubWFwKHggPT4geC5hc3NldE5hbWUpLFxyXG4gICAgICAgICAgcHJvamVjdElkLFxyXG4gICAgICAgICAgaGllcmFyY2h5SWQ6IGZvbGRlci5faWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAudXBsb2FkRmlsZUluRmlsZU1hbmFnZXIoY2xvdWRpbmFyeVBheWxvYWQpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgdm0udXBsb2FkVmlld0ZpbGVzLmNsb3VkaW5hcnkgPSB2bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeS5tYXAoXHJcbiAgICAgICAgICAgICAgeCA9PiB7XHJcbiAgICAgICAgICAgICAgICB4LmNvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIC8qIENoZWNrIGNvbXBsZXRpb24gKi9cclxuICAgICAgICAgICAgdm0uY29tcGxldGVkQWxsID0gZmlsZU1hbmFnZXJGYWN0b3J5LmNoZWNrVXBsb2FkQ29tcGxldGlvbihcclxuICAgICAgICAgICAgICB2bS51cGxvYWRWaWV3RmlsZXNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xyXG4gICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb2xkZXIpIHtcclxuICAgICAgICAgICAgICByZXNwLmRhdGEuZGF0YS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAgICAgZm9sZGVyLmZpbGVzLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0uY2xvc2VVcGxvYWRWaWV3ID0gKCkgPT4ge1xyXG4gICAgICB2bS51cGxvYWRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5maWxlVmlldyA9IGZpbGUgPT4ge1xyXG4gICAgICAkKFwiI2ZpbGVWaWV3XCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgdm0ucHJldmlld0RhdGEgPSBmaWxlO1xyXG4gICAgICB2bS5wcmV2aWV3RGF0YS5jdXN0b21VcmwgPVxyXG4gICAgICAgIGZpbGUuZm9ybWF0ID09PSBcInBkZlwiXHJcbiAgICAgICAgICA/IGZpbGUuc2VjdXJlX3VybC5yZXBsYWNlKC9cXC5wZGYvLCBcIi5wbmdcIilcclxuICAgICAgICAgIDogZmlsZS5zZWN1cmVfdXJsO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBUb2dnbGluZyBlZGl0ICovXHJcblxyXG4gICAgdm0uZWRpdEVuYWJsZWQgPSBmYWxzZTtcclxuICAgIHZtLnRvZ2dsZUVkaXQgPSBib29sID0+IHtcclxuICAgICAgdm0uZWRpdEVuYWJsZWQgPSBib29sO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBDb250ZXh0IG1lbnUgZnVuY3Rpb25hbGl0eSAqL1xyXG4gICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcbiAgICB2bS5jb250ZXh0TWVudU9wdGlvbnMgPSB7XHJcbiAgICAgIGV4cGxvcmVyOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGV4dDogXCJQYXN0ZSBpdGVtKHMpXCIsXHJcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGl0ZW1TY29wZSwgJGV2ZW50LCBtb2RlbFZhbHVlLCB0ZXh0LCAkbGkpIHtcclxuICAgICAgICAgICAgaWYgKHZtLndpbmRvd0l0ZW1zLmZvbGRlckRhdGEpIHtcclxuICAgICAgICAgICAgICBjbGlwQm9hcmRcclxuICAgICAgICAgICAgICAgIC5wYXN0ZSh2bS53aW5kb3dJdGVtcy5mb2xkZXJEYXRhLiRtb2RlbFZhbHVlLl9pZClcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBpZiAocmVzcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgICAgICAgIC52aWV3SGllcmFyY2h5KHZtLndpbmRvd0l0ZW1zLmZvbGRlckRhdGEuJG1vZGVsVmFsdWUuX2lkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEFwcGVuZCBmaWxlcyB0byB0aGUgZm9sZGVyICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLndpbmRvd0l0ZW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlckRhdGE6IHZtLndpbmRvd0l0ZW1zLmZvbGRlckRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyczogcmVzcC5kYXRhLmZvbGRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXM6IHJlc3AuZGF0YS5maWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ud2FybmluZyhcIkNhbm5vdCBwYXN0ZSBmaWxlIGluIHJvb3QgbG9jYXRpb25cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIF0sXHJcbiAgICAgIGZpbGU6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0ZXh0OiBcIkNvcHlcIixcclxuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkaXRlbVNjb3BlLCAkZXZlbnQsIG1vZGVsVmFsdWUsIHRleHQsICRsaSkge1xyXG4gICAgICAgICAgICBjbGlwQm9hcmQuY29weSgkaXRlbVNjb3BlLmZpbGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGV4dDogXCJDdXRcIixcclxuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkaXRlbVNjb3BlLCAkZXZlbnQsIG1vZGVsVmFsdWUsIHRleHQsICRsaSkge1xyXG4gICAgICAgICAgICBjbGlwQm9hcmQuY3V0KFxyXG4gICAgICAgICAgICAgICRpdGVtU2NvcGUuZmlsZSxcclxuICAgICAgICAgICAgICB2bS53aW5kb3dJdGVtcy5mb2xkZXJEYXRhLiRtb2RlbFZhbHVlLl9pZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGV4dDogXCJNb3ZlIHRvXCIsXHJcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGl0ZW1TY29wZSkge1xyXG4gICAgICAgICAgICB2bS5wZGZvbmx5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZtLnBpY2tlckZvbGRlcnMgPSBhbmd1bGFyLmNvcHkodm0ucm9vdEZvbGRlcnMpO1xyXG4gICAgICAgICAgICB2bS5tb3ZlVG9Tb3VyY2VGaWxlID0gJGl0ZW1TY29wZS5maWxlO1xyXG4gICAgICAgICAgICAkKFwiI21vdmVUb1wiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgICAgICQoXCIucm9vdEZvbGRlclwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoXCIuY2hpbGRGb2xkZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICB2bS5tb3ZldG8gPSBcIm1vdmUgVG9cIjtcclxuICAgICAgICAgICAgJHNjb3BlLmZvbGRlck5hbWUgPSBcIlJvb3QgRm9sZGVyXCI7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZm9sZGVyTmFtZSA9PSBcIlJvb3QgRm9sZGVyXCIpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuYmFja0J0blZpZXcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICRzY29wZS5iYWNrQnRuVmlldyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdXHJcbiAgICB9O1xyXG4gICAgdm0uY2hpbGRGb2xkZXJWaWV3ID0gdmFsID0+IHtcclxuICAgICAgdm0uY2hpbGRGb2xkZXJzID0gdmFsLmNoaWxkcmVuO1xyXG4gICAgICB2bS5tb3ZldG8gPSB2YWwubmFtZTtcclxuICAgICAgJChcIi5yb290Rm9sZGVyXCIpLmhpZGUoKTtcclxuICAgICAgJChcIi5jaGlsZEZvbGRlclwiKS5zaG93KCk7XHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcbiAgICBpZiAoJHNjb3BlLmZvbGRlck5hbWUgPT0gXCJSb290IEZvbGRlclwiKSB7XHJcbiAgICAgICRzY29wZS5iYWNrQnRuVmlldyA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkc2NvcGUuYmFja0J0blZpZXcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBIaWVyYXJjaHkgdGVtcGxhdGUgKi9cclxuICAgIHZtLnNhdmVIaWVyYXJjaHlUcmVlID0gbmFtZSA9PiB7XHJcbiAgICAgIGlmICghbmFtZSkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBlbnRlciB0ZW1wbGF0ZSBuYW1lXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIjc2F2ZVRlbXBsYXRlTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIGxldCBkYXRhID0ge1xyXG4gICAgICAgICAgbmFtZTogbmFtZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLnNhdmVIaWVyYXJjaHlUcmVlKHByb2plY3RTdG9yZS5nZXQoKS5faWQsIGRhdGEpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jb25zb2xlLmxvZyhlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zZWxlY3RlZFRlbXBsYXRlID0gXCJcIjtcclxuXHJcbiAgICAvLyBnZXRIaWVyYXJjaHlUZW1wbGF0ZVxyXG5cclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmdldEhpZXJhcmNoeVRlbXBsYXRlKClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0udGVtcGxhdGVMaXN0ID0gcmVzcC5kYXRhLmRhdGE7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdm0uYXNzaWduVGVtcGxhdGUgPSAoKSA9PiB7XHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgIHByb2plY3RJZDogcHJvamVjdFN0b3JlLmdldCgpLl9pZCxcclxuICAgICAgICB0ZW1wbGF0ZUlkOiB2bS5zZWxlY3RlZFRlbXBsYXRlLl9pZFxyXG4gICAgICB9O1xyXG4gICAgICAkKFwiI2Fzc2lnblRlbXBsYXRlTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmNoYW5nZVByb2plY3RUZW1wbGF0ZShkYXRhKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgdm0uZ2V0UHJpbWFyeUZvbGRlcnMocHJvamVjdFN0b3JlLmdldCgpKTtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmdldFByb2plY3RCeUlkKHByb2plY3RTdG9yZS5nZXQoKS5faWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIHByb2plY3RTdG9yZS5zZXQocmVzcC5kYXRhKTtcclxuICAgICAgICAgICAgICB2bS5iYWNrdXBGb2xkZXJzID0gcHJvamVjdFN0b3JlLmdldCgpLmJhY2t1cEZvbGRlcnM7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uc2hvd0JhY2t1cEZpbGVzID0gZmFsc2U7XHJcbiAgICB2bS5zaG93UmVjZW50RmlsZXMgPSBmYWxzZTtcclxuXHJcbiAgICB2bS50b2dnbGVCb29rbWFya3MgPSAodmFsLCBrZXkpID0+IHtcclxuICAgICAgdm1ba2V5XSA9ICF2YWw7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmxvYWRQcm9qZWN0RmlsZXMgPSBpZCA9PiB7XHJcbiAgICAgIGxldCBsaW1pdCA9IDU7XHJcbiAgICAgIGFwaUZhY3Rvcnkuc2hvd1Byb2plY3RGaWxlcyhpZCwgbGltaXQpLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHZtLnByb2plY3RGaWxlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdm0ubG9hZFByb2plY3RGaWxlcyhwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiaXNzdWVEZXRhaWxDdHJsXCIsIGlzc3VlRGV0YWlsQ3RybCk7XHJcblxyXG4gICAgZnVuY3Rpb24gaXNzdWVEZXRhaWxDdHJsKFxyXG4gICAgICAgICRzY29wZSxcclxuICAgICAgICAkdGltZW91dCxcclxuICAgICAgICBhdXRoRmFjdG9yeSxcclxuICAgICAgICAkc3RhdGUsXHJcbiAgICAgICAgJHN0YXRlUGFyYW1zLFxyXG4gICAgICAgIGFwaUZhY3RvcnksXHJcbiAgICAgICAgTm90aWZpY2F0aW9uLFxyXG4gICAgICAgIE5nTWFwLFxyXG4gICAgICAgIGdsb2JhbHMsXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgICAgICBGaWxlU2F2ZXJcclxuICAgICAgICBcclxuICAgICAgKSB7XHJcblxyXG4gICAgICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgeyBsb2dvdXQsdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuXHJcbiAgXHJcbiAgICAgICAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHZtLmlzc3VlSWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgICAgICB2bS5JbWFnZUFzc2V0cz1bXTtcclxuICAgICAgICAgIHZtLkRvY3VtZW50QXNzZXRzPVtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgJHNjb3BlLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICAgICRzY29wZS5pdGVtc1BlclBhZ2UgPSAzO1xyXG4gICAgICAgICAgXHJcblxyXG4gICAgICAgICAgdm0uZ2V0SXNzdWVEZXRhaWwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAuZ2V0SXNzdWVCeUlkKHZtLmlzc3VlSWQpXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bS5pc3N1ZURhdGEgPSByZXNwLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlzc3VlZGF0YTogXCIsdm0uaXNzdWVEYXRhKTtcclxuICAgICAgICAgICAgICAgdm0udG90YWxJdGVtcyA9IHZtLmlzc3VlRGF0YS5jb21tZW50cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5BcnJheUNvbW1lbnRzPXZtLmlzc3VlRGF0YS5jb21tZW50cy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5BcnJheUFjdGl2aXRpZXM9dm0uaXNzdWVEYXRhLmlzc3VlQWN0aXZpdHkucmV2ZXJzZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZtLmFsbENvbW1lbnRzID0gJHNjb3BlLkFycmF5Q29tbWVudHMuc2xpY2UoMCwzKTtcclxuICAgICAgICAgICAgICAgIHZtLmFsbEFjdGl2aXRpZXM9JHNjb3BlLkFycmF5QWN0aXZpdGllcy5zbGljZSgwLDYpO1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJChcIiNwYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICBpdGVtczogdm0udG90YWxJdGVtcyxcclxuICAgICAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6ICRzY29wZS5pdGVtc1BlclBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRQYWdpbmdEYXRhKHBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICQoXCIjcGFnaW5hdGlvbkFjdGl2aXR5XCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICBpdGVtczogdm0uaXNzdWVEYXRhLmlzc3VlQWN0aXZpdHkubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICBpdGVtc09uUGFnZTogNyxcclxuICAgICAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2aXR5UGFnaW5nRGF0YShwYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIHZtLmlzc3VlRGF0YS5saXN0QXNzZXRzLm1hcCh4PT57XHJcbiAgICAgICAgICAgICAgICBpZih4Lm1pbWV0eXBlPT1cImltYWdlL3BuZ1wifHx4Lm1pbWV0eXBlPT1cImltYWdlL2pwZ1wiKXtcclxuICAgICAgICAgICAgICAgICAgdm0uSW1hZ2VBc3NldHMucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB2bS5Eb2N1bWVudEFzc2V0cy5wdXNoKHgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICBcclxuICAgICAgICAgXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFBhZ2luZ0RhdGEocGFnZSkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICB2YXIgcGFnZWREYXRhID0gdm0uaXNzdWVEYXRhLmNvbW1lbnRzLnNsaWNlKFxyXG4gICAgICAgICAgICAgICAgKHBhZ2UgLSAxKSAqICAkc2NvcGUuaXRlbXNQZXJQYWdlLFxyXG4gICAgICAgICAgICAgICAgcGFnZSAqICRzY29wZS5pdGVtc1BlclBhZ2VcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIHZtLmFsbENvbW1lbnRzID0gcGFnZWREYXRhO1xyXG4gICAgICAgICAgICAgIC8qKnRvIHJlZnJlc2ggdGhlIGNvbW1lbnRzIHdoZW4gcGFnZSBjbGljayB1c2UgJGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0QWN0aXZpdHlQYWdpbmdEYXRhKHBhZ2UpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgdmFyIHBhZ2VkRGF0YSA9IHZtLmlzc3VlRGF0YS5pc3N1ZUFjdGl2aXR5LnNsaWNlKFxyXG4gICAgICAgICAgICAgICAgKHBhZ2UgLSAxKSAqICA3LFxyXG4gICAgICAgICAgICAgICAgcGFnZSAqIDdcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIHZtLmFsbEFjdGl2aXRpZXMgPSBwYWdlZERhdGE7XHJcbiAgICAgICAgICAgICAgLyoqdG8gcmVmcmVzaCB0aGUgY29tbWVudHMgd2hlbiBwYWdlIGNsaWNrIHVzZSAkYXBwbHkgKi9cclxuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdm0uZ2V0SXNzdWVEZXRhaWwoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgXHJcbiAgICAgIC8vQWRkIGNvbW1lbnRzLi4uLlxyXG4gICAgICB2bS5wb3N0Q29tbWVudCA9IGZ1bmN0aW9uKGNvbW1lbnQpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29tbWVudDogXCIsY29tbWVudCk7XHJcbiAgICAgICBsZXQgY29tbWVudDEgPSBjb21tZW50LnJlcGxhY2UoL1xcblxccj8vZywgJzxiciAvPicpO1xyXG4gICAgICAgY29uc29sZS5sb2coXCJjb21tZW50OiBcIixjb21tZW50MSk7XHJcblxyXG4gICAgICAgaWYoY29tbWVudD09dW5kZWZpbmVkKXtcclxuICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGFkZCBjb21tZW50LlwiKTtcclxuICAgICAgIH1lbHNle1xyXG4gICAgICAgICB2YXIgY29tbWVudG9iaj17XCJjb21tZW50XCI6Y29tbWVudH1cclxuICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAucG9zdENvbW1lbnRGb3JJc3N1ZSh2bS5pc3N1ZUlkLGNvbW1lbnRvYmopXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3A9PntcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVzcDpcIixyZXNwKTtcclxuICAgICAgICAgICAgICB2bS5nZXRJc3N1ZURldGFpbCgpO1xyXG4gICAgICAgICAgICAgICQoXCIjY29tbWVudGFyZWFcIikudmFsKCcnKTtcclxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkNvbW1lbnQgYWRkZWQgc3VjY2Vzc2Z1bGx5Li5cIik7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGU9PntcclxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJDb3VsZG4ndCB1cGRhdGUgY29tbWVudFwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgICRzY29wZS5jaGFuZ2VDb21wbGV0aW9uU3RhdHVzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBhbGVydChcImNvbXBsZXRpb25cIik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvL2Rvd25sb2FkIGF0dGFjaG1lbnQgZmlsZVxyXG4gICAgICB2bS5kb3dubG9hZEZpbGUgPSBmdW5jdGlvbihkb2NzKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImRvY3NcIixkb2NzKTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkb2NzXSwge3R5cGU6IGRvY3MubWltZXR5cGV9KTtcclxuICAgICAgICAgY29uc29sZS5sb2coXCJibG9iXCIsYmxvYik7XHJcbiAgICAgICAgIHNhdmVBcyhibG9iLCBkb2NzLm9yaWdpb25hbG5hbWUpO1xyXG4gICAgICAgIC8vd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgXHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAkc2NvcGUucmVPcGVuSXNzdWUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vdmFyIFRlbXBPYmplY3Q9e1wiY29tcGxldGlvblN0YXR1c1wiOk9QRU59XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgIC5yZU9wZW5Jc3N1ZVN0YXR1c1VwZGF0ZSh2bS5pc3N1ZUlkKVxyXG4gICAgICAgICAgIC50aGVuKHJlc3A9PntcclxuICAgICAgICAgICAgIHZtLmdldElzc3VlRGV0YWlsKCk7XHJcbiAgICAgICAgICAgICAkKFwiI2NvbmZpcm1tb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIklzc3VlIHN0YXR1cyBpcyBub3cgb3BlblwiKTtcclxuICAgICAgICAgICB9KS5jYXRjaChlPT57XHJcbiAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJjb3VsZCBub3QgdXBkYXRlIFN0YXR1c1wiKTtcclxuICAgICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUubWFya0lzc3VlQXNDb21wbGV0ZSA9IGZ1bmN0aW9uKGNvbW1lbnQsaW1hZ2VGaWxlcyl7XHJcbiAgICAgICAgY29uc29sZS5sb2coY29tbWVudCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coaW1hZ2VGaWxlcyk7XHJcbiAgICAgICAgdmFyIGVkaXRPYmplY3Q9e2NvbW1lbnQ6Y29tbWVudCxJbWFnZXM6aW1hZ2VGaWxlc307XHJcbiAgICAgICAgYXBpRmFjdG9yeS5zYXZlSXNzdWVBc0NvbXBsZXRlKHZtLmlzc3VlSWQsZWRpdE9iamVjdClcclxuICAgICAgICAgIC50aGVuKHJlc3A9PntcclxuICAgICAgICAgICAgdm0uZ2V0SXNzdWVEZXRhaWwoKTtcclxuICAgICAgICAgICAgICQoXCIjY29tcGxldGlvbnN0YXR1c21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiSXNzdWUgaXMgYmVlbiBtYXJrZWQgYXMgY29tcGxldGVkXCIpO1xyXG4gICAgICAgICAgfSkuY2F0Y2goZT0+e1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJTb21ldGhpbmcgd3JvbmcgaGFwcGVuZWQuIGNvdWxkZW50IHVwZGF0ZSBjaGFuZ2VzXCIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgIH1cclxuICAgIH0pKCk7XHJcblxyXG4gICIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImlzc3Vlc0N0cmxcIiwgaXNzdWVzQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIGlzc3Vlc0N0cmwoXHJcbiAgICAgICRzY29wZSxcclxuICAgICAgJHJvb3RTY29wZSxcclxuICAgICAgJHRpbWVvdXQsXHJcbiAgICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgICAkc3RhdGUsXHJcbiAgICAgICRxLFxyXG4gICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICBOb3RpZmljYXRpb24sXHJcbiAgICAgIGdsb2JhbHMsXHJcbiAgICAgIGZpbGVNYW5hZ2VyRmFjdG9yeSxcclxuICAgICAgVXBsb2FkLFxyXG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgICB1cGxvYWRGYWN0b3J5LFxyXG4gICAgKSB7XHJcbiAgICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICAgIHZtLmJhY2tJbWc7XHJcbiAgICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUsZGVib3VuY2UgfSA9IGdsb2JhbHM7XHJcbiAgICAgICRzY29wZS5VcGxvYWRlZEZpbGVzPVtdO1xyXG4gICAgICB2bS5pc3N1ZURhdGEgPSB7fTtcclxuICAgICAgJHNjb3BlLmlzc3VlTW9kZWw9e307XHJcbiAgICAgICRzY29wZS5maWxlO1xyXG4gICAgICAkc2NvcGUuY29tbWVudD1cIlwiO1xyXG4gICAgICAkc2NvcGUuaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgICAkc2NvcGUub3BlbkVkaXQ9ZmFsc2U7XHJcbiAgICAgICRzY29wZS5maWxlc1RvUmVtb3ZlPVtdO1xyXG4gICAgICAkc2NvcGUuaXNTZWxlY3RlZEJ0bj1mYWxzZTtcclxuICAgICAgJHNjb3BlLnVwZGF0ZWZvcm09ZmFsc2U7XHJcbiAgICAgICRzY29wZS5VbmRvQXJyYXk9W107XHJcbiAgICAgICRzY29wZS5yZWRvQXJyYXk9W107XHJcbiAgICAgIHZtLnBsYW5Ub01hcms9W107XHJcbiAgICAgIHZtLkxvY2FsSW1ncz1bXTtcclxuICAgICAvLyBjb25zdCB7IGxvZ291dCB9ID0gZ2xvYmFscztcclxuICAgICAgJHNjb3BlLnNlYXJjaGluZ1RleHQ9IGZhbHNlO1xyXG4gICAgICAkc2NvcGUub3BlbkZpbGxDb2xvcj1mYWxzZTtcclxuICAgICAgLy9jb2xvciBwaWNrZXIgdmFyaWFibGVzXHJcbiAgICAgICRzY29wZS5jb2xvcnBpY2sgPSBcIiMwMDAwZmZcIjtcclxuICAgICAgJHNjb3BlLmNvbG9yV2VsbDtcclxuICAgICAgJHNjb3BlLmZpbGxXZWxsO1xyXG4gICAgICAkc2NvcGUuZmlsbENvbG9yID0gJ3RyYW5zcGFyZW50JztcclxuICAgICAgJHNjb3BlLnRleHRGb3JtPWZhbHNlO1xyXG4gICAgICB2bS5lcnJvckltYWdlPVwiYXNzZXRzL2ltYWdlcy9lbmR1c2VyaXNzdWUucG5nXCI7XHJcbiAgICAgJHNjb3BlLmJ0bk1hcmtlcj1cIi4uL2Fzc2V0cy9pbWFnZXMvZ3BzLnBuZ1wiO1xyXG4gICAgICRzY29wZS5idG5DaXJjbGU9XCIuLi9hc3NldHMvaW1hZ2VzL2NpcmNsZS1zaGFwZS1vdXRsaW5lLnBuZ1wiO1xyXG4gICAgICRzY29wZS5idG5MaW5lPVwiLi4vYXNzZXRzL2ltYWdlcy9saW5laWNvbi5wbmdcIjtcclxuICAgICAkc2NvcGUuYnRuVGV4dD1cIi4uL2Fzc2V0cy9pbWFnZXMvdGV4dC1vcHRpb24taW50ZXJmYWNlLXN5bWJvbC5wbmdcIjtcclxuIFxyXG4gICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG4gICAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuXHJcbiAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgICAvKiBEYXRhIHRhYmxlIHNldHVwICoqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAkKFwiLmlzc3Vlc0xpc3RcIikuRGF0YVRhYmxlKCk7XHJcbiAgICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAwO1xyXG5cclxuICAgICAgdm0uY3VycmVudFBhZ2UgPSAxO1xyXG4gIFxyXG4gICAgICB2bS50b2dnbGVPYmogPSB7XHJcbiAgICAgICAgdG9nZ2xlSXNzdWU6IHtcclxuICAgICAgICAgIHN5c3RlbVRhZzogZmFsc2UsXHJcbiAgICAgICAgICB0aXRsZTogZmFsc2UsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZmFsc2UsXHJcbiAgICAgICAgICBwcm9qZWN0TmFtZTogZmFsc2UsXHJcbiAgICAgICAgICBjcmVhdGVkOiB0cnVlLFxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgdm0uc2VhcmNoVGV4dCA9IFwiXCI7XHJcbiAgICAgIHZtLnNvcnRpc3N1ZXMgPSAodHlwZSwgcmVzb3VyY2UpID0+IHtcclxuICAgICAgICAvKiBGb3IgdG9nZ2xpbmcgYXNjZW5kaW5nIGFuZCBkZXNjZW5kaW5nIG9yZGVyICovXHJcbiAgICAgICAgdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXSA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICA/ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gdHJ1ZSlcclxuICAgICAgICAgIDogKHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0gPSAhdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXSk7XHJcbiAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAubGlzdEFsbElzc3Vlcyh7XHJcbiAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgc2VhcmNoOiB2bS5zZWFyY2hUZXh0LFxyXG4gICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAvLyB2bVtyZXNvdXJjZV09IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAvLyB2bVtyZXNvdXJjZSArIFwiQ291bnRcIl0gPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICAgIHZtLmFsbElzc3VlcyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICB2bS5pc3N1ZUNvdW50ID0gcmVzcC5kYXRhLnRvdGFsO1xyXG4gICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaGluZ1RleHQ9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICQoXCIjcGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiB2bS5pc3N1ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxyXG4gICAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3R5cGVdXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZtLmFsbElzc3VlcyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBzZWFyY2hEZWJvdW5jZSA9IGRlYm91bmNlKDI1MCk7IC8qIFBhc3NpbmcgaW4gdGhlIGRlYm91bmNlIHJhdGUgKi9cclxuICB2bS5zZWFyY2hJc3N1ZXMgPSB0ZXh0ID0+IHtcclxuICAgICAvKipcclxuICAgICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gcGFzcyB0aGUgZnVuY3Rpb24gd2hpY2ggeW91IHdhbnQgdG8gZGVib3VuY2VcclxuICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgLSBwYXNzIHRoZSBhcmd1bWVudHMgZnJvbSB0aGUgdmlldyBhcyBhbiBhcnJheVxyXG4gICAgICAgICAgICovXHJcbiAgc2VhcmNoRGVib3VuY2UoXHJcbiAgICAoKSA9PiB7XHJcbiAgICBhcGlGYWN0b3J5XHJcbiAgICAgIC5saXN0QWxsSXNzdWVzKHtcclxuICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICBzZWFyY2g6IHRleHQsXHJcbiAgICAgICAgc29ydDogXCJjcmVhdGVkXCIsXHJcbiAgICAgICAgc29ydFR5cGU6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG5cclxuICAgICAgICB2bS5hbGxJc3N1ZXMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICB2bS5pc3N1ZUNvdW50ID0gcmVzcC5kYXRhLnRvdGFsO1xyXG4gICAgICBcclxuICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAkc2NvcGUuc2VhcmNoaW5nVGV4dD0gdHJ1ZTtcclxuICAgICAgICAgICQoXCIjcGFnaW5nXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICBpdGVtczogdm0uaXNzdWVDb3VudCxcclxuICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxyXG4gICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICBocmVmVGV4dFByZWZpeDogXCIjXCIsXHJcbiAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHZtLmFsbElzc3VlcyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgW3RleHRdXHJcbiAgIFxyXG4gICk7XHJcbiAgfTtcclxuXHJcbiAgIC8qIEluaXRpYWxseSBzb3J0IGlzc3VlIGluIGRlc2NlbmRpbmcgb3JkZXIgKi9cclxuICAgdm0uc29ydGlzc3VlcyhcImNyZWF0ZWRcIiwgXCJ0b2dnbGVJc3N1ZVwiKTtcclxuXHJcbiAgIHZtLmR0T3B0aW9ucyA9IHtcclxuICAgICBwYWdpbmc6IGZhbHNlLFxyXG4gICAgIGluZm86IGZhbHNlLFxyXG4gICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICBzZWFyY2hpbmc6IGZhbHNlXHJcbiAgIH07XHJcblxyXG4gICAvKiBFbmQgb2YgIERhdGEgdGFibGUgc2V0dXAgKioqKioqKioqKioqKioqKioqKioqKi9cclxuICBcclxuICAgICAgJHNjb3BlLmlzc3VlQ2F0ZWdvcnkgPSBbJ1NhZmV0eScsICdRdWFsaXR5JywgJ0lzc3VlJ107XHJcbiAgICBcclxuXHJcbiAgICAgIGFwaUZhY3RvcnkubGlzdEFsbFVzZXJzKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5hbGxVc2VycyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxSb29mZXJzKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5hbGxSb29mZXJzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgIGFwaUZhY3RvcnkubGlzdEFsbFByb2plY3RzKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5hbGxQcm9qZWN0cyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnkuZ2V0SXNzdWVzTGlzdCgpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICB2bS5saXN0T2ZJc3N1ZSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgIFxyXG4gICAgICAgfSk7XHJcbiAgICAgICBcclxuICAgICAgIC8vcmVhZGluZyBmaWxlIGltYWdlc1xyXG4gICAgICAkc2NvcGUucmVhZEltZyA9IGZ1bmN0aW9uKGZpbGVJbWcpe1xyXG4gICAgICAgIHZhciBvdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmxhaCcpO1xyXG4gICAgICAgIG91dHB1dC5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGVJbWcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAgJHNjb3BlLmFkZEZpbGUgPSBmdW5jdGlvbihmaWxlLGNvbW1lbnQpe1xyXG4gICAgIFxyXG4gICAgICAvLyAgaWYoZmlsZS50eXBlPT0naW1hZ2UvcG5nJ3x8ZmlsZS50eXBlPT0naW1hZ2UvanBnJ3x8ZmlsZS50eXBlPT0naW1hZ2UvanBlZycpe1xyXG4gICAgICAvLyAgIHZhciBTUkMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAvLyAgICRzY29wZS5pbnB1dEZpbGVzLnB1c2goe2ZpbGU6ZmlsZSxjb21tZW50OmNvbW1lbnQsc291cmNlOlNSQ30pO1xyXG5cclxuICAgICAgLy8gIH1lbHNle1xyXG4gICAgICAgICRzY29wZS5pbnB1dEZpbGVzLnB1c2goe2ZpbGU6ZmlsZSxjb21tZW50OmNvbW1lbnQsc291cmNlOlwiTlNcIn0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW5wdXQ6XCIsJHNjb3BlLmlucHV0RmlsZXMpO1xyXG4gICAgICAgLy99XHJcbiAgICAgIC8vICB2YXIgU1JDID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgLy8gIGNvbnNvbGUubG9nKFwiU1JDXCIsU1JDKTtcclxuICAgICAgLy8gICAkc2NvcGUuaW5wdXRGaWxlcy5wdXNoKHtmaWxlOmZpbGUsY29tbWVudDpjb21tZW50LHNvdXJjZTpTUkN9KTtcclxuICAgICAgIFxyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCRzY29wZS5pbnB1dEZpbGVzKTtcclxuICAgICAgLy8gICAkc2NvcGUuZmlsZT0nJztcclxuICAgICAgLy8gICAkc2NvcGUuY29tbWVudD0nJztcclxuICAgICAgIC8vICQoXCIjY29tbWVudGRpdlwiKS5oaWRlKCk7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgJHNjb3BlLmRlbGV0ZUltZyA9IGZ1bmN0aW9uKGluZGV4LGFycmF5KXtcclxuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5maWxlVXBFdmVudCA9IGZ1bmN0aW9uKGZpbGUpe1xyXG4gICAgICAgIFxyXG4gICAgICAgICAkc2NvcGUudGh1bWJuYWlsPVwiXCI7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwiZmlsZSBldmVudFwiLGZpbGUpO1xyXG4gICAgICAgIGlmKGZpbGUhPT1udWxsKXtcclxuICAgICAgICAgIGlmKGZpbGUubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICBmaWxlLmZvckVhY2gob25lZmlsZT0+e1xyXG4gICAgICAgICAgICAgIGlmKG9uZWZpbGUudHlwZT09J2ltYWdlL3BuZyd8fG9uZWZpbGUudHlwZT09J2ltYWdlL2pwZyd8fG9uZWZpbGUudHlwZT09J2ltYWdlL2pwZWcnKXtcclxuICAgICAgICAgICAgICAgIHZhciBTUkMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG9uZWZpbGUpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRodW1ibmFpbD1TUkNcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgZWxzZSBpZihvbmVmaWxlLnR5cGU9PSdhcHBsaWNhdGlvbi9wZGYnKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS50aHVtYm5haWw9J2Fzc2V0cy9pbWFnZXMvZmlsZV9pY29uL3BkZmljb24uanBnJ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBlbHNlIGlmKG9uZWZpbGUudHlwZT09J2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50Jyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGh1bWJuYWlsPSdhc3NldHMvaW1hZ2VzL2ZpbGVfaWNvbi9tc3dvcmQucG5nJ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBlbHNlIGlmKG9uZWZpbGUudHlwZT09J2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCd8fG9uZWZpbGUudHlwZT09J2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0Jyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGh1bWJuYWlsPSdhc3NldHMvaW1hZ2VzL2ZpbGVfaWNvbi9leGNlbC5qcGcnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2UgaWYob25lZmlsZS50eXBlPT0nYXBwbGljYXRpb24veC16aXAtY29tcHJlc3NlZCcpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRodW1ibmFpbD0nYXNzZXRzL2ltYWdlcy9maWxlX2ljb24vemlwLnBuZydcclxuICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICRzY29wZS50aHVtYm5haWw9J2Fzc2V0cy9pbWFnZXMvZmlsZV9pY29uL2FueXR5cGUuanBnJ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAkc2NvcGUuaW5wdXRGaWxlcy5wdXNoKHtmaWxlOm9uZWZpbGUsaW1hZ2U6JHNjb3BlLnRodW1ibmFpbH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICBcclxuICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKGluZGV4LGFycmF5LGNvbWVudCl7XHJcbiAgICAgICAgIGFycmF5W2luZGV4XS5jb21tZW50PWNvbWVudDtcclxuICAgICAgICBcclxuICAgICAgfVxyXG5cclxuICAgICAgXHJcblxyXG4gICAgICB2bS5maWxlczNVcGRhdGU9ZnVuY3Rpb24oYXJyYXksaXNzdWVkYXRhKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImluIHMzIGZ1bmN0aW9uXCIsaXNzdWVkYXRhKTtcclxuICAgICAgICBhcnJheS5mb3JFYWNoKCh4LGksYXJyYXkpID0+IHtcclxuICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTMyBGSUxFIEZPUkVBQ0ggTUV0aG9kIGFzIGFycmF5IGlzIG5vdCBudWxsXCIpO1xyXG4gICAgICAgICAgLyogQXR0YWNoIGV2ZW50cyBhbmQgcHJvcHMgdG8gZmlsZU9iaiBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgdmlldyAqL1xyXG4gICAgICAgICAgbGV0IHVwbG9hZEhhbmRsZXIgPSBldmFwb3JhdGUgPT4ge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uaW5mbyh4LmZpbGUubmFtZStcIiBpcyB1cGxvYWRpbmcgLi4uXCIpO1xyXG4gICAgICAgICAgICAvKiB1cGxvYWQgdG8gczMgaWYgdmFsdWUgaXMgbGVzcyB0aGFuIDMgKi9cclxuICAgICAgICAgICAgeC5maWxlLnBhdXNlID0gdXBsb2FkRmFjdG9yeS5wYXVzZS5iaW5kKGV2YXBvcmF0ZSwgeCk7XHJcbiAgICAgICAgICAgIHguZmlsZS5yZXN1bWUgPSB1cGxvYWRGYWN0b3J5LnJlc3VtZS5iaW5kKGV2YXBvcmF0ZSwgeCk7XHJcbiAgICAgICAgICAgIHguZmlsZS5hYm9ydCA9IHVwbG9hZEZhY3RvcnkuYWJvcnQuYmluZChldmFwb3JhdGUsIHgpO1xyXG4gICAgICAgICAgICBsZXQgYWRkQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IHguZmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgIGZpbGU6IHguZmlsZSxcclxuICAgICAgICAgICAgICBwcm9ncmVzczogKHAsIHN0YXRzKSA9PiB7XHJcbiAgICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKHApO1xyXG4gICAgICAgICAgICAgICAgLyogQVdTIHByb2dyZXNzIHBlcmNlbnRhZ2UgZmFsbHMgYmFjayBzb21ldGltZXMgZHVlIHRvIG1pc3NpbmcgZnJhZ21lbnRhdGlvbi4gXHJcbiAgICAgICAgICAgICAgICBVcGRhdGUgcHJvZ3Jlc3MgdmFsdWUgb25seSB3aGVuIGl0J3MgaGlnaGVyIHRoYW4gdGhlIHByZXZpb3VzIHZhbHVlICovXHJcbiAgICAgICAgICAgICAgICB4LmZpbGUucHJvZ3Jlc3MgPVxyXG4gICAgICAgICAgICAgICAgICB4LmZpbGUucHJvZ3Jlc3MgPiBNYXRoLnJvdW5kKHAgKiAxMDApXHJcbiAgICAgICAgICAgICAgICAgICAgPyB4LmZpbGUucHJvZ3Jlc3NcclxuICAgICAgICAgICAgICAgICAgICA6IE1hdGgucm91bmQocCAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXHJcbiAgICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgICAgICB2bS51cGxvYWRWaWV3RmlsZXNcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgY29tcGxldGU6IChfeGhyLCBhd3NLZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIHguZmlsZS5jb21wbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcGxldGUhXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICBcclxuICAgICAgICAgICAgZXZhcG9yYXRlLmFkZChhZGRDb25maWcpLnRoZW4oXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24oYXdzT2JqZWN0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAvKiBTdWNjZXNzIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4KTtcclxuICAgICAgICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICB0eXBlOiBmaWxlTWFuYWdlckZhY3RvcnkucmVzb2x2ZURlc3RUeXBlKHguZmlsZSksXHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIGFzc2V0RGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0TmFtZTogeC5maWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRkZXNjcmlwdGlvbjp4LmNvbW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgYnVja2V0OiBcIjNkZmlsZXNkYXRhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBgdGVzdC8ke3guZmlsZS5uYW1lfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWltZXR5cGU6IHguZmlsZS50eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVzOiB4LmZpbGUuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICBpc3N1ZUlkOmlzc3VlZGF0YS5kYXRhLl9pZFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJTkRFWDogIFwiLCBpKTtcclxuICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgICAgLm5ld0lzc3VlczNGaWxlVXBsb2FkKHBheWxvYWQpXHJcbiAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAoYXJyYXkubGVuZ3RoIC0xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlucHV0RmlsZXMgPSBbXTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIHZtLmlzc3VlRGF0YSA9e307XHJcbiAgICAgICAgICAgICAgICAgICAgICAkKCcjaXNzdWVfbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJCgnI2lzc3VlX21hcmtlcicpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgdm0uc29ydGlzc3VlcyhcImNyZWF0ZWRcIiwgXCJ0b2dnbGVJc3N1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkFzc2V0IHNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIkNvdWxkIG5vdCBzYXZlIGFzc2V0IG9iamVjdFwiKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgIC8qIEZhaWx1cmUgYmxvY2sgKi9cclxuICAgICAgICAgICAgICAgIHguYWJvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXHJcbiAgICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgICAgICB2bS51cGxvYWRWaWV3RmlsZXNcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkZpbGUgZGlkIG5vdCB1cGxvYWQgc3VjZXNzZnVsbHk6XCIsIHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfTtcclxuICBcclxuICAgICAgICAgIHVwbG9hZEZhY3Rvcnkuc3RhcnQodXBsb2FkSGFuZGxlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB2bS5maWxlc2Nsb3VkaW5hcnlVcGRhdGU9ZnVuY3Rpb24oYXJyYXkpe1xyXG4gICAgICAgIGlmIChhcnJheS5sZW5ndGgpIHtcclxuICAgICAgICAgICRzY29wZS5jbG91ZGluYXJ5UGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgZmlsZXM6IGFycmF5LFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICBcclxuICBcclxuICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAuaXNzdWVJbWFnZSgkc2NvcGUuY2xvdWRpbmFyeVBheWxvYWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzcG9uc2Ugb2YgY2xvdWRpbmFyeTogXCIsIHJlc3AuZGF0YSk7XHJcbiAgICAgICAgICAgICAgLy8gdm0udXBsb2FkVmlld0ZpbGVzLmNsb3VkaW5hcnkgPSB2bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeS5tYXAoXHJcbiAgICAgICAgICAgICAgLy8gICB4ID0+IHtcclxuICAgICAgICAgICAgICAvLyAgICAgeC5jb21wbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIC8vICAgICByZXR1cm4geDtcclxuICAgICAgICAgICAgICAvLyAgIH1cclxuICAgICAgICAgICAgICAvLyApO1xyXG4gICAgICAgICAgICAgIC8qIENoZWNrIGNvbXBsZXRpb24gKi9cclxuICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgICAgdm0udXBsb2FkVmlld0ZpbGVzXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICByZXR1cm4gXCJyZXNwb25zZSBmcm9tIGNsb3VkaW5hcnlcIjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gZmlsZSBmb3VuZCB0byBzYXZlIG4gY2xvdWRpbmFyeVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB2bS5zYXZlSXNzdWVEZXRhaWw9ZnVuY3Rpb24oaXNzdWVEYXRhKXtcclxuICAgICAgICB2YXIgaXNzdWVPYmplY3QgPSB7fTtcclxuICAgICAgICBpc3N1ZU9iamVjdC50aXRsZSA9ICBpc3N1ZURhdGEudGl0bGU7XHJcbiAgICAgICAgaXNzdWVPYmplY3QuZGVzY3JpcHRpb24gPSAgaXNzdWVEYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIGlzc3VlT2JqZWN0LnByb2plY3QgPSAgaXNzdWVEYXRhLnByb2plY3QuX2lkO1xyXG4gICAgICAgIGlzc3VlT2JqZWN0Lmlzc3VlQ2F0ZWdvcnkgPSAgaXNzdWVEYXRhLmNhdGVnb3J5O1xyXG4gICAgICAgIGlzc3VlT2JqZWN0Lm93bmVySWQgPSBpc3N1ZURhdGEub3duZXIuX2lkO1xyXG4gICAgICAgIGlzc3VlT2JqZWN0LmRlYWRMaW5lID0gaXNzdWVEYXRhLmRlYWRMaW5lO1xyXG4gICAgICAgIGlmKGlzc3VlT2JqZWN0LmRlcGVuZGVuY3lPbil7XHJcbiAgICAgICAgIGlzc3VlT2JqZWN0LmRlcGVuZGVuY3lPbj1pc3N1ZURhdGEuZGVwZW5kZW5jeU9uLl9pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAvLyBpc3N1ZU9iamVjdC5hc3NpZ25lZFRvPWlzc3VlRGF0YS5hc3NpZ25lZFRvLl9pZDtcclxuICAgICAgICBpc3N1ZU9iamVjdC5pc3N1ZVN0YXR1cz1pc3N1ZURhdGEuaXNzdWVTdGF0dXM7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpc3N1ZU9iajpcIixpc3N1ZURhdGEpO1xyXG4gICAgICBcclxuICBcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAuY3JlYXRlSXNzdWUoaXNzdWVPYmplY3QpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJJc3N1ZSBoYXMgYmVlbiBzYXZlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAgICRzY29wZS5pbnB1dEZpbGVzID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVmb3JtPWZhbHNlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gJCgnI2lzc3VlX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgLy8gJCgnI2lzc3VlX21hcmtlcicpLm1vZGFsKCk7XHJcbiAgICAgICAgICAgIHZtLnNvcnRpc3N1ZXMoXCJjcmVhdGVkXCIsIFwidG9nZ2xlSXNzdWVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgdm0uQURESVNTVUUgPSBmdW5jdGlvbihpc3N1ZURhdGEpe1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKGlzc3VlRGF0YSk7XHJcbiAgICAgICAgXHJcbiAgICAgIC8vICAkc2NvcGUuZmlsZXNBcnJheT0kc2NvcGUuaW5wdXRGaWxlcztcclxuICAgICAgLy8gIHZtLnVwbG9hZFZpZXdGaWxlcyA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5zcGxpdEZpbGVEZXN0KCRzY29wZS5maWxlc0FycmF5KTtcclxuXHJcbiAgICAgIC8vICB2YXIgaXNzdWVPYmplY3QgPSB7fTtcclxuICAgICAgLy8gIGlzc3VlT2JqZWN0LmFzc2lnbmVkVG89W107XHJcbiAgICAgIC8vICBpc3N1ZU9iamVjdC50aXRsZSA9ICBpc3N1ZURhdGEudGl0bGU7XHJcbiAgICAgIC8vICBpc3N1ZU9iamVjdC5kZXNjcmlwdGlvbiA9ICBpc3N1ZURhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgIC8vICBpc3N1ZU9iamVjdC5wcm9qZWN0SWQgPSAgaXNzdWVEYXRhLnByb2plY3QuX2lkO1xyXG4gICAgICAvLyAgaXNzdWVPYmplY3QuaXNzdWVDYXRlZ29yeSA9ICBpc3N1ZURhdGEuY2F0ZWdvcnk7XHJcbiAgICAgIC8vICBpc3N1ZU9iamVjdC5vd25lcklkID0gaXNzdWVEYXRhLm93bmVyLl9pZDtcclxuICAgICAgLy8gIGlzc3VlT2JqZWN0LmRlYWRMaW5lID0gaXNzdWVEYXRhLmRlYWRMaW5lO1xyXG4gICAgICBcclxuICAgICAgLy8gICBpc3N1ZU9iamVjdC5kZXBlbmRlbmN5T249aXNzdWVEYXRhLmRlcGVuZGVuY3lPbi5faWQ7XHJcbiAgICAgICBcclxuICAgICAgIFxyXG4gICAgICAvLyAgaXNzdWVEYXRhLmFzc2lnbmVkVG8ubWFwKHg9PntcclxuICAgICAgLy8gICBpc3N1ZU9iamVjdC5hc3NpZ25lZFRvLnB1c2goeC5faWQpO1xyXG4gICAgICAvLyAgfSk7XHJcbiAgICAgIC8vICBpc3N1ZU9iamVjdC5pc3N1ZVN0YXR1cz1pc3N1ZURhdGEuaXNzdWVTdGF0dXM7XHJcbiAgICAgIC8vICBpc3N1ZU9iamVjdC5maWxlcz12bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeTtcclxuICAgICAgLy8gIGNvbnNvbGUubG9nKFwiaXNzdWVPYmplY3Q6IFwiLGlzc3VlT2JqZWN0KTtcclxuICAgICAgLy8gICBhcGlGYWN0b3J5XHJcbiAgICAgIC8vICAgICAuY3JlYXRlSXNzdWUoaXNzdWVPYmplY3QpXHJcbiAgICAgIC8vICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgLy8gICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJJc3N1ZSBoYXMgYmVlbiBzYXZlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xyXG4gICAgICAvLyAgICAgICBpZih2bS51cGxvYWRWaWV3RmlsZXMuczMpe1xyXG4gICAgICAvLyAgICAgICAgIHZtLmZpbGVzM1VwZGF0ZSh2bS51cGxvYWRWaWV3RmlsZXMuczMscmVzcC5kYXRhKTtcclxuXHJcbiAgICAgIC8vICAgICAgIH1cclxuICAgICAgLy8gICAgICAgZWxzZXtcclxuICAgICAgLy8gICAgICAgJHNjb3BlLmlucHV0RmlsZXMgPSBbXTtcclxuICAgICAgICAgICBcclxuICAgICAgLy8gICAgICAgdm0uaXNzdWVEYXRhID17fTtcclxuICAgICAgLy8gICAgICAgJCgnI2lzc3VlX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgLy8gICAgICAgJCgnI2lzc3VlX21hcmtlcicpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgIC8vICAgICAgICB2bS5zb3J0aXNzdWVzKFwiY3JlYXRlZFwiLCBcInRvZ2dsZUlzc3VlXCIpO1xyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgJCgnI2lzc3VlX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAkKCcjaXNzdWVfbWFya2VyJykubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgLy8gfSlcclxuICAgICAgICAgIC8vIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIC8vICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAvLyAgIE5vdGlmaWNhdGlvbi5lcnJvcihcImNvdWxkbid0IHNhdmUgaXNzdWVcIik7XHJcbiAgICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5sb2NhbEZpbGVzPVtdO1xyXG4gICAgICAkc2NvcGUuZ2V0RmlsZXNGcm9tTG9jYWwgPSBmdW5jdGlvbihmaWxlcyl7XHJcbiAgICAgICBjb25zb2xlLmxvZyhcImxvY2FsIGZpbGVzOiBcIixmaWxlcyk7XHJcbiAgICAgICAgaWYoZmlsZXMpe1xyXG4gICAgICAgICAgZmlsZXMuZm9yRWFjaChvbmVmaWxlPT57XHJcbiAgICAgICAgICAgIHZhciBTUkMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG9uZWZpbGUpO1xyXG4gICAgICAgICAgICB2bS5wbGFuVG9NYXJrLnB1c2goe3VybDpTUkN9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFmdGVyIHNyYyBjYWxsZWRcIik7XHJcbiAgICAgICAgJChcIiNpc3N1ZV9tYXJrZXJcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIHZhciBmaXJzdENhbnZhc0ltZz12bS5wbGFuVG9NYXJrLnNsaWNlKC0xKTtcclxuICAgICAgICAkKFwiI2Nhcm91c2VsbGlzdFwiKS5jYXJvdXNlbChcInBhdXNlXCIpLnJlbW92ZURhdGEoKTtcclxuICAgICAgICAkKFwiI2Nhcm91c2VsbGlzdFwiKS5jYXJvdXNlbCh2bS5wbGFuVG9NYXJrKTtcclxuICAgICAgICAvLyAkKFwiI3NsaWRlQ2FudmFzXCIpLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIixcInVybChcIitmaXJzdENhbnZhc0ltZ1swXS51cmwrXCIpXCIpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAvLyAgJChcIiNsb2NhbGZpbGVzbW9kZWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJObyBGaWxlcyBzZWxlY3RlZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vICQoXCIjaXNzdWVfbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIC8vICQoXCIjaXNzdWVfbWFya2VyXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgXHJcbiAgICAgICQoIFwiI2lzc3VlX21hcmtlclwiKS5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAvLyBhbGVydChcImxvY2FscG9wdXBcIik7XHJcbiAgICAgIFxyXG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmVEYXRhKCdicy5tb2RhbCcpO1xyXG4gICAgICAgICAgaWYoJCgnI2Nob29zZUlzc3VlUm9vZk1vZGFsJykuaXMoJzp2aXNpYmxlJykpe1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJNb2RhbCBpcyBvcGVuXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJNb2RhbCBpcyBjbG9zZWRcIik7XHJcbiAgICAgICAgICAgICQodGhpcykubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgXHJcbiAgICAgICBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkc2NvcGUuZ2V0SW1hZ2VzSW5DYXJvc2VsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgcHJvamVjdElEPSc1OGViOWQyZWM5MjFkNjcwMzY3ODc4MzInO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0UHJvamVjdFJvb2ZQbGFucyhwcm9qZWN0SUQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAvLyQoXCIjaXNzdWVfbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgbGV0IFByb2plY3RQbGFucyA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICAgICAgdm0ucGxhblBpY2tlclBsYW5zID0gUHJvamVjdFBsYW5zO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJwbGFucGlja2VyOiBcIix2bS5wbGFuUGlja2VyUGxhbnMpO1xyXG4gICAgICAgICAgJChcIiNpc3N1ZV9tYXJrZXJcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgJChcIiNjaG9vc2VJc3N1ZVJvb2ZNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgIH1cclxuIFxyXG4gICAgICB2bS5jaG9vc2VQbGFuRGF0YSA9IGZ1bmN0aW9uKHBsYW4pe1xyXG4gICAgICAgICB2bS5wbGFuVG9NYXJrLnB1c2gocGxhbi5hc3NldE9iaik7XHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKHZtLnBsYW5Ub01hcmspO1xyXG4gICAgICB9XHJcbiAgICAgIC8vVGVzdCBwYW5cclxuICAgICAgdm0uY2hvb3NlUGxhbkRhdGExID0gZnVuY3Rpb24ocGxhbil7XHJcbiAgICAgICAgdm0ucGxhblRvTWFyay5wdXNoKHBsYW4pO1xyXG4gICAgICAgLy8gIGNvbnNvbGUubG9nKHZtLnBsYW5Ub01hcmspO1xyXG4gICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5hZGRUb0RldGFpbHMgPSBmdW5jdGlvbihpbWdhcnJheSl7XHJcbiAgICAgICAgJChcIiNjaG9vc2VJc3N1ZVJvb2ZNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgJChcIiNpc3N1ZV9tYXJrZXJcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgY29uc29sZS5sb2coXCJ2bS5wbGFuIHRvIG1yazpcIiwgdm0ucGxhblRvTWFyayk7XHJcbiAgICAgICAgdmFyIGZpcnN0Q2FudmFzSW1nPWltZ2FycmF5LnNsaWNlKC0xKTtcclxuICAgICAgICAvLyQoXCIjc2xpZGVDYW52YXNcIikuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLFwidXJsKFwiK2ZpcnN0Q2FudmFzSW1nWzBdLnVybCtcIilcIik7XHJcbiAgICAgICAgJChcIiNjYXJvdXNlbGxpc3RcIikuY2Fyb3VzZWwoXCJwYXVzZVwiKS5yZW1vdmVEYXRhKCk7XHJcbiAgICAgICAgJChcIiNjYXJvdXNlbGxpc3RcIikuY2Fyb3VzZWwodm0ucGxhblRvTWFyayk7XHJcbiAgICAgIFxyXG4gICAgICB9XHJcblxyXG4gICBcclxuICAgICAgJHNjb3BlLmdldERldGFpbCA9IGZ1bmN0aW9uKGlzc3VlKXtcclxuICAgICAgICAkKCcjaXNzdWVkZXRhaWwnKS5tb2RhbCgpO1xyXG4gICAgICAgICRzY29wZS5pc3N1ZU1vZGVsID0gaXNzdWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLlRpdGxlPSAgJHNjb3BlLmlzc3VlTW9kZWwudGl0bGU7XHJcbiAgICAgICAgJHNjb3BlLkRlc2NyaXB0aW9uPSAkc2NvcGUuaXNzdWVNb2RlbC5kZXNjcmlwdGlvbjtcclxuICAgICAgICBcclxuICAgICAgICAkc2NvcGUuRGVhZExpbmVEYXRlID1uZXcgRGF0ZSgkc2NvcGUuaXNzdWVNb2RlbC5kZWFkTGluZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWFkbGluZVwiKS5kZWZhdWx0VmFsdWUgPSRzY29wZS5EZWFkTGluZURhdGU7XHJcbiAgICAgICAgJHNjb3BlLmRheSA9ICRzY29wZS5EZWFkTGluZURhdGUuZ2V0RGF0ZSgpLTE7XHJcbiAgICAgICBcclxuICAgICAgICAkc2NvcGUubW9udGggPSAkc2NvcGUuRGVhZExpbmVEYXRlLmdldE1vbnRoKCkrMTtcclxuICAgICAgIFxyXG4gICAgICAgICRzY29wZS55ZWFyID0gJHNjb3BlLkRlYWRMaW5lRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICAgICAgICAkc2NvcGUuZGVhZExpbmVEYXRlID0gICRzY29wZS5tb250aCtcIi9cIiskc2NvcGUuZGF5K1wiL1wiKyAkc2NvcGUueWVhcjtcclxuICAgICAgIFxyXG4gICAgICAgXHJcbiAgICAgICAgJHNjb3BlLlN0YXR1cyA9ICRzY29wZS5pc3N1ZU1vZGVsLmlzc3VlU3RhdHVzO1xyXG4gICAgICAgIFxyXG4gICAgICAgXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgICRzY29wZS5hZGRGaWxlVG9VcGRhdGUgPSBmdW5jdGlvbihmaWxlLGNvbW1lbnQpe1xyXG4gICAgICAgICRzY29wZS5pbnB1dEZpbGVzLnB1c2goe2ZpbGU6ZmlsZSxjb21tZW50OmNvbW1lbnR9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuaW5wdXRGaWxlcyk7XHJcbiAgICAgICAgJHNjb3BlLmZpbGU9Jyc7XHJcbiAgICAgICAgJHNjb3BlLmNvbW1lbnQ9Jyc7XHJcbiAgICAgIH1cclxuICAgICBcclxuXHJcbiAgICAgICRzY29wZS51cGRhdGVSZXF1ZXN0ID0gZnVuY3Rpb24odXBkYXRlb2JqKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRvIHVwZGF0ZSBkYXRhXCIsdXBkYXRlb2JqKTtcclxuICAgICAgIFxyXG4gICAgICAgICRzY29wZS51cGRhdGVmb3JtID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUub3BlbkVkaXQ9ZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5yZW1vdmVGaWxlcyA9IGZ1bmN0aW9uKGluZGV4LGFycmF5LGltYWdlSWQpe1xyXG4gICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyZW1vdmluZyBmaWxlc1wiLFwiaW5kZXhcIixpbmRleCxcImltYWdlSWRcIixpbWFnZUlkKTtcclxuICAgICAgICAkc2NvcGUuZmlsZXNUb1JlbW92ZS5wdXNoKGltYWdlSWQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZpbmcgZmlsZXNcIiwkc2NvcGUuZmlsZXNUb1JlbW92ZSk7XHJcbiAgICAgIH1cclxuICAgICAgdm0uY2xvc2VVcGR0ZU1vZGVsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBcclxuICAgICAgICAkc2NvcGUudXBkYXRlZm9ybT1mYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAkc2NvcGUub3BlbkVkaXREYXRlID0gZnVuY3Rpb24oKXtcclxuICAgXHJcbiAgICAgICAkc2NvcGUub3BlbkVkaXQ9dHJ1ZTtcclxuICAgICB9XHJcbiAgICAgJHNjb3BlLmNsb3NlRWRpdERhdGUgPSBmdW5jdGlvbigpe1xyXG4gICAgIFxyXG4gICAgICAkc2NvcGUub3BlbkVkaXQ9ZmFsc2U7XHJcbiAgICAgfVxyXG5cclxuICAgICAgdm0udXBkYXRlSXNzdWVEZXRhaWxzID0gZm9ybURhdGEgPT4ge1xyXG4gICAgICAgXHJcbiAgICAgICAgdmFyIGlzc3VlT2JqZWN0PXt9O1xyXG4gICAgICAgIGlmKHZtLnVwZGF0ZUlzc3VlPT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGUgaXNzdWUgaXMgdW5kZWZpbmVkXCIpO1xyXG4gICAgICAgICAgaXNzdWVPYmplY3QuVGl0bGUgPSAgJHNjb3BlLmlzc3VlTW9kZWwudGl0bGU7XHJcbiAgICAgICAgICBpc3N1ZU9iamVjdC5kZXNjcmlwdGlvbiA9ICRzY29wZS5pc3N1ZU1vZGVsLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgaXNzdWVPYmplY3QuZGVhZExpbmU9JHNjb3BlLmlzc3VlTW9kZWwuZGVhZExpbmU7XHJcbiAgICAgICAgICBpc3N1ZU9iamVjdC5pc3N1ZVN0YXR1cz0kc2NvcGUuaXNzdWVNb2RlbC5pc3N1ZVN0YXR1cztcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwidXBkYXRlIGlzdXVlIGlzIG5vdCB1bmRmaW5lZCBzbyBpbiBlc2xlIGNhc2VcIik7XHJcbiAgICAgICAgICBpZih2bS51cGRhdGVJc3N1ZS50aXRsZT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgaXNzdWVPYmplY3QuVGl0bGUgPSAgJHNjb3BlLmlzc3VlTW9kZWwudGl0bGU7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGlzc3VlT2JqZWN0LlRpdGxlID0gIHZtLnVwZGF0ZUlzc3VlLnRpdGxlO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgICBpZih2bS51cGRhdGVJc3N1ZS5kZXNjcmlwdGlvbj09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgaXNzdWVPYmplY3QuZGVzY3JpcHRpb24gPSAkc2NvcGUuaXNzdWVNb2RlbC5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgaXNzdWVPYmplY3QuZGVzY3JpcHRpb24gPSB2bS51cGRhdGVJc3N1ZS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgaWYodm0udXBkYXRlSXNzdWUuZGVhZExpbmU9PXVuZGVmaW5lZCl7XHJcblxyXG4gICAgICAgICAgICBpc3N1ZU9iamVjdC5kZWFkTGluZT0kc2NvcGUuaXNzdWVNb2RlbC5kZWFkTGluZTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgIGlzc3VlT2JqZWN0LmRlYWRMaW5lPXZtLnVwZGF0ZUlzc3VlLmRlYWRMaW5lO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgICBpZih2bS51cGRhdGVJc3N1ZS5pc3N1ZVN0YXR1cz09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgaXNzdWVPYmplY3QuaXNzdWVTdGF0dXM9JHNjb3BlLmlzc3VlTW9kZWwuaXNzdWVTdGF0dXM7XHJcbiAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGlzc3VlT2JqZWN0Lmlzc3VlU3RhdHVzPXZtLnVwZGF0ZUlzc3VlLmlzc3VlU3RhdHVzO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoJHNjb3BlLmlucHV0RmlsZXMubGVuZ3RoPjApe1xyXG4gICAgICAgICAgaXNzdWVPYmplY3QuZmlsZXMgPSAkc2NvcGUuaW5wdXRGaWxlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoJHNjb3BlLmZpbGVzVG9SZW1vdmUubGVuZ3RoPjApe1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJmaWxlcyB0byByZW1vdmVcIiwkc2NvcGUuZmlsZXNUb1JlbW92ZSk7XHJcbiAgICAgICAgICBpc3N1ZU9iamVjdC5yZW1vdmVkRmlsZXMgPSAkc2NvcGUuZmlsZXNUb1JlbW92ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJJU1VVRU9CSkVDVFwiLCBpc3N1ZU9iamVjdCk7XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC51cGRhdGVJc3N1ZShpc3N1ZU9iamVjdCwkc2NvcGUuaXNzdWVNb2RlbC5faWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIklzc3VlIGhhcyBiZWVuIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgJHNjb3BlLmlucHV0RmlsZXMgPSBbXTtcclxuICAgICAgICAgICRzY29wZS5maWxlc1RvUmVtb3ZlPVtdO1xyXG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZWZvcm09ZmFsc2U7XHJcbiAgICAgICAgICAkKCcjaXNzdWVkZXRhaWwnKS5tb2RhbCgnaGlkZScpXHJcbiAgICAgICAgICB2bS5zb3J0aXNzdWVzKFwiY3JlYXRlZFwiLCBcInRvZ2dsZUlzc3VlXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAkc2NvcGUuaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgJHNjb3BlLmZpbGVzVG9SZW1vdmU9W107XHJcbiAgICAgICAgICAkc2NvcGUudXBkYXRlZm9ybT1mYWxzZTtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgXHJcbiAgICAgICRzY29wZS5pbWFnZVRlbXBVcmw9XCIuLi9hc3NldHMvaW1hZ2VzL3Jvb2Z0ZXN0aW1hZ2VzL2ltYWdlMS5qcGdcIjtcclxuICAgICAgJHNjb3BlLnJvb2Z0ZXN0RGVtbz1mdW5jdGlvbihzdHJpbmcpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RyaW5nXCIsc3RyaW5nKTtcclxuICAgICAgICAkc2NvcGUuaW1hZ2VUZW1wVXJsPVwiLi5cIitzdHJpbmc7XHJcbiAgICAgICBcclxuICAgICAgfVxyXG5cclxuICAgICAgXHJcblxyXG4gICAgICAkc2NvcGUuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NsaWRlQ2FudmFzJyk7XHJcbiAgICAkKCBcIiNpc3N1ZV9tYXJrZXJcIikub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcclxuICAgXHJcbiAgICBcclxuICAgICAkKFwiI2Nhcm91c2VsbGlzdFwiKS5mbGV4c2xpZGVyKHtcclxuICAgICAgYW5pbWF0aW9uOiBcInNsaWRlXCIsXHJcbiAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxyXG4gICAgICBhbmltYXRpb25Mb29wOiBmYWxzZSxcclxuICAgICAgc2xpZGVzaG93OiBmYWxzZSxcclxuICAgICAgaXRlbVdpZHRoOiAyMDAsXHJcbiAgICAgIGl0ZW1NYXJnaW46IDMsXHJcbiAgICAgXHJcbiAgICB9KTtcclxuICAgIC8vJHNjb3BlLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbGlkZUNhbnZhcycpO1xyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICBcclxuICAgICRzY29wZS5vcGVuU2xpZGVySW1hZ2UgPWZ1bmN0aW9uKHVybCxpbmRleCl7XHJcbiAgICAgLy8gJHNjb3BlLmNvbnRleHQuY2xlYXJSZWN0KDAsMCwkc2NvcGUuY2FudmFzLndpZHRoLCAkc2NvcGUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICRzY29wZS5jb250ZXh0PSRzY29wZS5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICBsZXQgYmFzZV9pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICBiYXNlX2ltYWdlLnNyYyA9IHVybDtcclxuICAgICAgYmFzZV9pbWFnZS5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XHJcbiAgICAgIGNvbnNvbGUubG9nKGJhc2VfaW1hZ2Uud2lkdGgpO1xyXG4gICAgICBjb25zb2xlLmxvZygkc2NvcGUuY2FudmFzLndpZHRoKTtcclxuICAgICAgY29uc29sZS5sb2coJHNjb3BlLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coYmFzZV9pbWFnZS5oZWlnaHQpO1xyXG4gICAgLy8gICRzY29wZS5jb250ZXh0LmRyYXdJbWFnZShiYXNlX2ltYWdlLCAwLDApO1xyXG4gICAgLy8gIGNvbnNvbGUubG9nKFwidXJsOiBcIix1cmwpO1xyXG4gICAgdmFyIGNhbnZhcyA9ICRzY29wZS5jYW52YXMgO1xyXG4gICB2YXIgaFJhdGlvID0gJHNjb3BlLmNhbnZhcy53aWR0aCAgLyBiYXNlX2ltYWdlLndpZHRoICAgIDtcclxuICAgdmFyIHZSYXRpbyA9ICBjYW52YXMuaGVpZ2h0IC8gYmFzZV9pbWFnZS5oZWlnaHQgIDtcclxuICAgdmFyIHJhdGlvICA9IE1hdGgubWluICggaFJhdGlvLCB2UmF0aW8gKTtcclxuICAgdmFyIGNlbnRlclNoaWZ0X3ggPSAoICRzY29wZS5jYW52YXMud2lkdGggLSBiYXNlX2ltYWdlLndpZHRoKnJhdGlvICkgLyAyO1xyXG4gICB2YXIgY2VudGVyU2hpZnRfeSA9ICggJHNjb3BlLmNhbnZhcy5oZWlnaHQgLSBiYXNlX2ltYWdlLmhlaWdodCpyYXRpbyApIC8gMjsgIFxyXG4gICAkc2NvcGUuY29udGV4dC5jbGVhclJlY3QoMCwwLCRzY29wZS5jYW52YXMud2lkdGgsICRzY29wZS5jYW52YXMuaGVpZ2h0KTtcclxuICAgJHNjb3BlLmNvbnRleHQuZHJhd0ltYWdlKGJhc2VfaW1hZ2UsIDAsMCwgYmFzZV9pbWFnZS53aWR0aCwgYmFzZV9pbWFnZS5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJTaGlmdF94LGNlbnRlclNoaWZ0X3ksYmFzZV9pbWFnZS53aWR0aCpyYXRpbywgYmFzZV9pbWFnZS5oZWlnaHQqcmF0aW8pOyAgXHJcbiAgfVxyXG5cclxuICAgIC8vQ0FOVkFTIE1FVEhPRFMgRVZFTlRTXHJcbiAgICAkc2NvcGUuaXNMaW5lPWZhbHNlO1xyXG4gICAgJHNjb3BlLmlzQ2lyY2xlPWZhbHNlO1xyXG4gICAgJHNjb3BlLmlzTWFya2VyPWZhbHNlO1xyXG4gICAgJHNjb3BlLmlzVGV4dD1mYWxzZTtcclxuICAgXHJcbiAgICAkc2NvcGUuZHJhd0xpbmVPbkNhbnZhcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzY29wZS5vcGVuRmlsbENvbG9yPWZhbHNlO1xyXG4gICAgICAkc2NvcGUuc25hcHNob3Q7XHJcbiAgICAgICRzY29wZS50ZXh0Rm9ybT1mYWxzZTtcclxuICAgICAgJHNjb3BlLmRyYWdnaW5nPWZhbHNlO1xyXG4gICAgICAkc2NvcGUuZHJhZ1N0YXJ0TG9jYXRpb247XHJcbiAgICAgICQoJyNncHNidG4nKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCIjRDNEM0QzXCIpO1xyXG5cclxuICAgICAgJHNjb3BlLmJ0bk1hcmtlcj1cIi4uL2Fzc2V0cy9pbWFnZXMvZ3BzLnBuZ1wiO1xyXG4gICAgICAkc2NvcGUuYnRuQ2lyY2xlPVwiLi4vYXNzZXRzL2ltYWdlcy9jaXJjbGUtc2hhcGUtb3V0bGluZS5wbmdcIjtcclxuICAgICAgJHNjb3BlLmJ0bkxpbmU9XCIuLi9hc3NldHMvaW1hZ2VzL2xpbmV3aGl0ZS5wbmdcIjtcclxuICAgICAgJHNjb3BlLmJ0blRleHQ9XCIuLi9hc3NldHMvaW1hZ2VzL3RleHQtb3B0aW9uLWludGVyZmFjZS1zeW1ib2wucG5nXCI7XHJcblxyXG5cclxuICAgICAgJCgnI3R4dGJ0bicpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcIiNEM0QzRDNcIik7XHJcbiAgICAgICAkKCcjY2lyY2xlYnRuJykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiI0QzRDNEM1wiKTtcclxuICAgICAgICQoJyNsaW5lYnV0dG9uJykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiIzAwOUFDRFwiKTtcclxuICAgICAgICRzY29wZS5jb250ZXh0MT0kc2NvcGUuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICBcclxuICAgICAgJHNjb3BlLnJlY3QgPSAkc2NvcGUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBpZigkc2NvcGUuaXNDaXJjbGU9PXRydWV8fCRzY29wZS5pc01hcmtlcj09dHJ1ZXx8JHNjb3BlLmlzVGV4dD09dHJ1ZSl7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLGRyYWdTdGFydCk7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLGRyYWcpO1xyXG4gICAgICAgICRzY29wZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsZHJhZ1N0b3ApO1xyXG4gICAgICAgICRzY29wZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxNYXJrV3JpdGUpO1xyXG4gICAgICAgICRzY29wZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxUZXh0V3JpdGUpO1xyXG5cclxuICAgIH1cclxuICAgICAgJHNjb3BlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLGRyYWdTdGFydExpbmUpO1xyXG4gICAgICAkc2NvcGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsZHJhZ0xpbmUpO1xyXG4gICAgICAkc2NvcGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLGRyYWdTdG9wTGluZSk7XHJcblxyXG4gICAgfVxyXG4gICBcclxuXHJcbiAgICAvL0xpbmUgRnVuY3Rpb25zXHJcbiAgICBmdW5jdGlvbiBkcmFnU3RhcnRMaW5lKGUpe1xyXG4gICAgICAkc2NvcGUuaXNMaW5lPXRydWU7XHJcbiAgICAgICRzY29wZS5kcmFnZ2luZz10cnVlO1xyXG4gICAgICAgIHZhciB4PSBNYXRoLmZsb29yKCAoIGUuY2xpZW50WCAtICRzY29wZS5yZWN0LmxlZnQgKSAvICggJHNjb3BlLnJlY3QucmlnaHQgLSAkc2NvcGUucmVjdC5sZWZ0ICkgKiAkc2NvcGUuY2FudmFzLndpZHRoICksXHJcbiAgICAgICAgIHk9TWF0aC5mbG9vciggKCBlLmNsaWVudFkgLSAkc2NvcGUucmVjdC50b3AgKSAvICggJHNjb3BlLnJlY3QuYm90dG9tIC0gJHNjb3BlLnJlY3QudG9wICkgKiAkc2NvcGUuY2FudmFzLmhlaWdodCApXHJcbiAgICAgICAgJHNjb3BlLmRyYWdTdGFydExvY2F0aW9uPSB7J1gnOngsJ1knOnl9O1xyXG4gICAgICAgICRzY29wZS5zbmFwc2hvdD0kc2NvcGUuY29udGV4dDEuZ2V0SW1hZ2VEYXRhKDAsMCwkc2NvcGUuY2FudmFzLndpZHRoLCRzY29wZS5jYW52YXMuaGVpZ2h0KTtcclxuICAgICBcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRyYWdMaW5lKGUpe1xyXG4gICAgICB2YXIgcG9zaXRpb247XHJcbiAgICAgIHZhciB4PU1hdGguZmxvb3IoICggZS5jbGllbnRYIC0gJHNjb3BlLnJlY3QubGVmdCApIC8gKCAkc2NvcGUucmVjdC5yaWdodCAtICRzY29wZS5yZWN0LmxlZnQgKSAqICRzY29wZS5jYW52YXMud2lkdGggKSxcclxuICAgICAgeT1NYXRoLmZsb29yKCAoIGUuY2xpZW50WSAtICRzY29wZS5yZWN0LnRvcCApIC8gKCAkc2NvcGUucmVjdC5ib3R0b20gLSAkc2NvcGUucmVjdC50b3AgKSAqICRzY29wZS5jYW52YXMuaGVpZ2h0IClcclxuICAgICAgaWYoJHNjb3BlLmRyYWdnaW5nPT09dHJ1ZSl7XHJcbiAgICAgICAgJHNjb3BlLmNvbnRleHQxLnB1dEltYWdlRGF0YSgkc2NvcGUuc25hcHNob3QsMCwwKTtcclxuICAgICAgICBwb3NpdGlvbj17J1gnOngsJ1knOnl9O1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0MS5iZWdpblBhdGgoKTtcclxuICAgICAgICAkc2NvcGUuY29udGV4dDEubW92ZVRvKCRzY29wZS5kcmFnU3RhcnRMb2NhdGlvbi5YLCRzY29wZS5kcmFnU3RhcnRMb2NhdGlvbi5ZKTtcclxuICAgICAgICAkc2NvcGUuY29udGV4dDEubGluZVRvKHBvc2l0aW9uLlgscG9zaXRpb24uWSk7XHJcbiAgICAgICAgJHNjb3BlLmNvbnRleHQxLnN0cm9rZVN0eWxlID0gJHNjb3BlLmNvbG9ycGljaztcclxuICAgICAgICAkc2NvcGUuY29udGV4dDEubGluZVdpZHRoPTI7XHJcbiAgICAgICAgJHNjb3BlLmNvbnRleHQxLmxpbmVDYXA9J3JvdW5kJztcclxuICAgICAgICAkc2NvcGUuY29udGV4dDEuc3Ryb2tlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRyYWdTdG9wTGluZShlKXtcclxuICAgICAgICAkc2NvcGUuZHJhZ2dpbmc9ZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLmNvbnRleHQxLnB1dEltYWdlRGF0YSgkc2NvcGUuc25hcHNob3QsMCwwKTtcclxuICAgICAgICB2YXIgcG9zaXRpb247XHJcbiAgICAgICAgdmFyIHg9TWF0aC5mbG9vciggKCBlLmNsaWVudFggLSAkc2NvcGUucmVjdC5sZWZ0ICkgLyAoICRzY29wZS5yZWN0LnJpZ2h0IC0gJHNjb3BlLnJlY3QubGVmdCApICogJHNjb3BlLmNhbnZhcy53aWR0aCApLFxyXG4gICAgICAgIHk9TWF0aC5mbG9vciggKCBlLmNsaWVudFkgLSAkc2NvcGUucmVjdC50b3AgKSAvICggJHNjb3BlLnJlY3QuYm90dG9tIC0gJHNjb3BlLnJlY3QudG9wICkgKiAkc2NvcGUuY2FudmFzLmhlaWdodCApXHJcbiAgICAgICAgcG9zaXRpb249eydYJzp4LCdZJzp5fTtcclxuICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZHJhZyBsb2NhdGlvblwiLHBvc2l0aW9uLlgscG9zaXRpb24uWSk7XHJcbiAgICAgICAgJHNjb3BlLmNvbnRleHQxLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0MS5tb3ZlVG8oJHNjb3BlLmRyYWdTdGFydExvY2F0aW9uLlgsJHNjb3BlLmRyYWdTdGFydExvY2F0aW9uLlkpO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0MS5saW5lVG8ocG9zaXRpb24uWCxwb3NpdGlvbi5ZKTtcclxuICAgICAgICAkc2NvcGUuY29udGV4dDEuc3Ryb2tlU3R5bGUgPSAkc2NvcGUuY29sb3JwaWNrO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0MS5saW5lV2lkdGg9MjtcclxuICAgICAgICAkc2NvcGUuY29udGV4dDEubGluZUNhcD0ncm91bmQnO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0MS5zdHJva2UoKTtcclxuICAgICAgIHZhciBpbWFnZURhdGEgPSAkc2NvcGUuY29udGV4dDEuZ2V0SW1hZ2VEYXRhKDAsMCwkc2NvcGUuY2FudmFzLndpZHRoLCRzY29wZS5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICRzY29wZS5VbmRvQXJyYXkucHVzaChpbWFnZURhdGEpO1xyXG4gICAgICAgY29uc29sZS5sb2coXCJ1bmRvQXJyYXk6IFwiLCRzY29wZS5VbmRvQXJyYXkpO1xyXG4gICAgICAgXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvL0NJUkNMRVxyXG5cclxuICAgICRzY29wZS5kcmF3Q2lyY2xlT25DYW52YXMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAkc2NvcGUub3BlbkZpbGxDb2xvcj10cnVlO1xyXG4gICAgICAkc2NvcGUudGV4dEZvcm09ZmFsc2U7XHJcbiAgICAgICQoJyNncHNidG4nKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCIjRDNEM0QzXCIpO1xyXG5cclxuICAgICAgJHNjb3BlLmJ0bk1hcmtlcj1cIi4uL2Fzc2V0cy9pbWFnZXMvZ3BzLnBuZ1wiO1xyXG4gICAgICAkc2NvcGUuYnRuQ2lyY2xlPVwiLi4vYXNzZXRzL2ltYWdlcy9jaXJjbGV3aGl0ZS5wbmdcIjtcclxuICAgICAgJHNjb3BlLmJ0bkxpbmU9XCIuLi9hc3NldHMvaW1hZ2VzL2xpbmVpY29uLnBuZ1wiO1xyXG4gICAgICAkc2NvcGUuYnRuVGV4dD1cIi4uL2Fzc2V0cy9pbWFnZXMvdGV4dC1vcHRpb24taW50ZXJmYWNlLXN5bWJvbC5wbmdcIjtcclxuXHJcbiAgICAgICQoJyNsaW5lYnV0dG9uJykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiI0QzRDNEM1wiKTtcclxuICAgICAgJCgnI3R4dGJ0bicpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcIiNEM0QzRDNcIik7XHJcbiAgICAgICQoJyNjaXJjbGVidG4nKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCIjMDA5QUNEXCIpO1xyXG4gICAgICAkKCcjY2lyY2xlYnRuJykuY3NzKFwiY29sb3JcIixcIiNmZmZmZmZcIik7XHJcbiAgICAgIFxyXG4gICAgICAkc2NvcGUuY3R4ID0gJHNjb3BlLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAkc2NvcGUuY2FudmFzeCA9ICQoJHNjb3BlLmNhbnZhcykub2Zmc2V0KCkubGVmdDtcclxuICAgICAgJHNjb3BlLmNhbnZhc3kgPSAkKCRzY29wZS5jYW52YXMpLm9mZnNldCgpLnRvcDtcclxuICAgICAgJHNjb3BlLmxhc3RfbW91c2V5LCRzY29wZS5tb3VzZXk7XHJcbiAgICAgICRzY29wZS5sYXN0X21vdXNleCA9ICRzY29wZS5sYXN0X21vdXNleSA9IDA7XHJcbiAgICAgICRzY29wZS5tb3VzZXggPSAkc2NvcGUubW91c2V5ID0gMDtcclxuICAgICAgJHNjb3BlLm1vdXNlZG93biA9IGZhbHNlO1xyXG4gICAgICAkc2NvcGUucmVjdDEgPSAkc2NvcGUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBpZigkc2NvcGUuaXNMaW5lPT10cnVlfHwkc2NvcGUuaXNNYXJrZXI9PXRydWUpe1xyXG4gICAgICAgICRzY29wZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxkcmFnU3RhcnRMaW5lKTtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsZHJhZ0xpbmUpO1xyXG4gICAgICAgICRzY29wZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsZHJhZ1N0b3BMaW5lKTtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsTWFya1dyaXRlKTtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsVGV4dFdyaXRlKTtcclxuXHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLGRyYWdTdGFydCk7XHJcbiAgICAgICRzY29wZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxkcmFnKTtcclxuICAgICAgJHNjb3BlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJyxkcmFnU3RvcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9jaXJjbCBmdW5jdGlvbnNcclxuICAgIGZ1bmN0aW9uIGRyYWdTdGFydChlKXtcclxuICAgICAgJHNjb3BlLmlzQ2lyY2xlPXRydWU7XHJcbiAgICAgIC8vICRzY29wZS5sYXN0X21vdXNleCA9IHBhcnNlSW50KGUuY2xpZW50WC0kc2NvcGUuY2FudmFzeCk7XHJcbiAgICAgIC8vICRzY29wZS5sYXN0X21vdXNleSA9IHBhcnNlSW50KGUuY2xpZW50WS0kc2NvcGUuY2FudmFzeSk7XHJcbiAgICAgICRzY29wZS5sYXN0X21vdXNleCA9IHBhcnNlSW50KCAoIGUuY2xpZW50WCAtICRzY29wZS5yZWN0MS5sZWZ0ICkgLyAoICRzY29wZS5yZWN0MS5yaWdodCAtICRzY29wZS5yZWN0MS5sZWZ0ICkgKiAkc2NvcGUuY2FudmFzLndpZHRoKTtcclxuICAgICAgJHNjb3BlLmxhc3RfbW91c2V5ID0gcGFyc2VJbnQoKCBlLmNsaWVudFkgLSAkc2NvcGUucmVjdDEudG9wICkgLyAoICRzY29wZS5yZWN0MS5ib3R0b20gLSAkc2NvcGUucmVjdDEudG9wICkgKiAkc2NvcGUuY2FudmFzLmhlaWdodCApO1xyXG4gICAgICAkc2NvcGUubW91c2Vkb3duID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLnNuYXBzaG90Q2lyY2xlPSAkc2NvcGUuY3R4LmdldEltYWdlRGF0YSgwLDAsJHNjb3BlLmNhbnZhcy53aWR0aCwkc2NvcGUuY2FudmFzLmhlaWdodCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBkcmFnKGUpe1xyXG4gICAgICAvLyAkc2NvcGUubW91c2V4ID0gcGFyc2VJbnQoZS5jbGllbnRYLSRzY29wZS5jYW52YXN4KTtcclxuICAgICAgLy8gJHNjb3BlLm1vdXNleSA9IHBhcnNlSW50KGUuY2xpZW50WS0kc2NvcGUuY2FudmFzeSk7XHJcbiAgICAgICRzY29wZS5tb3VzZXggPSBwYXJzZUludCggKCBlLmNsaWVudFggLSAkc2NvcGUucmVjdDEubGVmdCApIC8gKCAkc2NvcGUucmVjdDEucmlnaHQgLSAkc2NvcGUucmVjdDEubGVmdCApICogJHNjb3BlLmNhbnZhcy53aWR0aCk7XHJcbiAgICAgICRzY29wZS5tb3VzZXkgPSBwYXJzZUludCgoIGUuY2xpZW50WSAtICRzY29wZS5yZWN0MS50b3AgKSAvICggJHNjb3BlLnJlY3QxLmJvdHRvbSAtICRzY29wZS5yZWN0MS50b3AgKSAqICRzY29wZS5jYW52YXMuaGVpZ2h0ICk7XHJcbiAgICBcclxuICAgICAgICBpZigkc2NvcGUubW91c2Vkb3duKSB7XHJcbiAgICAgICAgIFxyXG4gICAgICAgIC8vICAkc2NvcGUuY3R4LmNsZWFyUmVjdCgwLDAsJHNjb3BlLmNhbnZhcy53aWR0aCwkc2NvcGUuY2FudmFzLmhlaWdodCk7IC8vY2xlYXIgY2FudmFzXHJcbiAgICAgICAgICAgIC8vU2F2ZVxyXG4gICAgICAgICAgICAkc2NvcGUuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgJHNjb3BlLmN0eC5wdXRJbWFnZURhdGEoJHNjb3BlLnNuYXBzaG90Q2lyY2xlLDAsMCk7XHJcbiAgICAgICAgICAgICRzY29wZS5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIC8vRHluYW1pYyBzY2FsaW5nXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgc2NhbGV4ID0gMSooKCRzY29wZS5tb3VzZXgtJHNjb3BlLmxhc3RfbW91c2V4KS8yKTtcclxuICAgICAgICAgICAgdmFyIHNjYWxleSA9IDEqKCgkc2NvcGUubW91c2V5LSRzY29wZS5sYXN0X21vdXNleSkvMik7XHJcbiAgICAgICAgICAgICRzY29wZS5jdHguc2NhbGUoc2NhbGV4LHNjYWxleSk7XHJcbiAgICAgICAgICAgIC8vQ3JlYXRlIGVsbGlwc2VcclxuICAgICAgICAgICAgJHNjb3BlLmNlbnRlcnggPSAoJHNjb3BlLmxhc3RfbW91c2V4L3NjYWxleCkrMTtcclxuICAgICAgICAgICAgJHNjb3BlLmNlbnRlcnkgPSAoJHNjb3BlLmxhc3RfbW91c2V5L3NjYWxleSkrMTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLmN0eC5hcmMoJHNjb3BlLmNlbnRlcngsICRzY29wZS5jZW50ZXJ5LCAxLCAwLCAyKk1hdGguUEkpO1xyXG4gICAgICAgICAgICAvL1Jlc3RvcmUgYW5kIGRyYXdcclxuICAgICAgICAgICAgICRzY29wZS5jdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgJHNjb3BlLmN0eC5zdHJva2VTdHlsZSA9ICRzY29wZS5jb2xvcnBpY2s7XHJcbiAgICAgICAgICAgICAkc2NvcGUuY3R4LmZpbGxTdHlsZSA9ICRzY29wZS5maWxsQ29sb3I7XHJcbiAgICAgICAgICAgICAkc2NvcGUuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICRzY29wZS5jdHgubGluZVdpZHRoID0yO1xyXG4gICAgICAgICAgICAgJHNjb3BlLmN0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgIFxyXG4gICAgIFxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZHJhZ1N0b3AoZSl7XHJcbiAgICAgICRzY29wZS5tb3VzZWRvd24gPSBmYWxzZTtcclxuICAgICAgdmFyIGltYWdlRGF0YSA9ICRzY29wZS5jdHguZ2V0SW1hZ2VEYXRhKDAsMCwkc2NvcGUuY2FudmFzLndpZHRoLCRzY29wZS5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgJHNjb3BlLlVuZG9BcnJheS5wdXNoKGltYWdlRGF0YSk7XHJcbiAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8vTUFSS0VSXHJcbiAgICAkc2NvcGUuZHJhd21hcmtlck9uQ2FudmFzPWZ1bmN0aW9uKCl7XHJcbiAgICAgIFxyXG4gICAgICAkc2NvcGUub3BlbkZpbGxDb2xvcj10cnVlO1xyXG4gICAgICAkc2NvcGUudGV4dEZvcm09ZmFsc2U7XHJcbiAgICAgICRzY29wZS5tYXJrZXJjb250ZXh0PSRzY29wZS5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgaWYoJHNjb3BlLmlzQ2lyY2xlPT10cnVlfHwkc2NvcGUuaXNMaW5lPT10cnVlfHwkc2NvcGUuaXNUZXh0PT10cnVlKXtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsZHJhZ1N0YXJ0KTtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsZHJhZyk7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJyxkcmFnU3RvcCk7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLGRyYWdTdGFydExpbmUpO1xyXG4gICAgICAgICRzY29wZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxkcmFnTGluZSk7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJyxkcmFnU3RvcExpbmUpO1xyXG4gICAgICAgICRzY29wZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxUZXh0V3JpdGUpO1xyXG5cclxuXHJcbiAgICB9XHJcbiAgICAgICQoJyNncHNidG4nKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCIjMDA5QUNEXCIpO1xyXG5cclxuICAgICAgJHNjb3BlLmJ0bk1hcmtlcj1cIi4uL2Fzc2V0cy9pbWFnZXMvZ3Bzd2hpdGUucG5nXCI7XHJcbiAgICAgICRzY29wZS5idG5DaXJjbGU9XCIuLi9hc3NldHMvaW1hZ2VzL2NpcmNsZS1zaGFwZS1vdXRsaW5lLnBuZ1wiO1xyXG4gICAgICAkc2NvcGUuYnRuTGluZT1cIi4uL2Fzc2V0cy9pbWFnZXMvbGluZWljb24ucG5nXCI7XHJcbiAgICAgICRzY29wZS5idG5UZXh0PVwiLi4vYXNzZXRzL2ltYWdlcy90ZXh0LW9wdGlvbi1pbnRlcmZhY2Utc3ltYm9sLnBuZ1wiO1xyXG5cclxuICAgICAgJCgnI3R4dGJ0bicpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcIiNEM0QzRDNcIik7XHJcbiAgICAgICQoJyNjaXJjbGVidG4nKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCIjRDNEM0QzXCIpO1xyXG4gICAgICAkKCcjbGluZWJ1dHRvbicpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcIiNEM0QzRDNcIik7XHJcbiAgICAgICRzY29wZS5yZWN0bWFya2VyID0gJHNjb3BlLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgJHNjb3BlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLE1hcmtXcml0ZSk7XHJcbiAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gTWFya1dyaXRlKGUpe1xyXG4gICAgICAkc2NvcGUuaXNNYXJrZXI9dHJ1ZTtcclxuICAgICAgdmFyIG1vdXNleCA9IHBhcnNlSW50KCggZS5jbGllbnRYIC0gJHNjb3BlLnJlY3RtYXJrZXIubGVmdCApIC8gKCAkc2NvcGUucmVjdG1hcmtlci5yaWdodCAtICRzY29wZS5yZWN0bWFya2VyLmxlZnQgKSAqICRzY29wZS5jYW52YXMud2lkdGgpO1xyXG4gICAgICB2YXIgbW91c2V5ID0gcGFyc2VJbnQoKCBlLmNsaWVudFkgLSAkc2NvcGUucmVjdG1hcmtlci50b3AgKSAvICggJHNjb3BlLnJlY3RtYXJrZXIuYm90dG9tIC0gJHNjb3BlLnJlY3RtYXJrZXIudG9wICkgKiAkc2NvcGUuY2FudmFzLmhlaWdodCApO1xyXG4gICAgICAkc2NvcGUubWFya2VyY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgJHNjb3BlLm1hcmtlcmNvbnRleHQuYXJjKG1vdXNleCxtb3VzZXksIDgsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgICAgJHNjb3BlLm1hcmtlcmNvbnRleHQuc3Ryb2tlU3R5bGUgPSAkc2NvcGUuY29sb3JwaWNrO1xyXG4gICAgICAkc2NvcGUubWFya2VyY29udGV4dC5maWxsU3R5bGUgPSAgXCJibHVlXCI7XHJcbiAgICAgICRzY29wZS5tYXJrZXJjb250ZXh0LmZpbGwoKTtcclxuICAgICAgJHNjb3BlLm1hcmtlcmNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgIHZhciBpbWFnZURhdGEgPSAkc2NvcGUubWFya2VyY29udGV4dC5nZXRJbWFnZURhdGEoMCwwLCRzY29wZS5jYW52YXMud2lkdGgsJHNjb3BlLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgJHNjb3BlLlVuZG9BcnJheS5wdXNoKGltYWdlRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy90ZXh0IHdyaXRpbmdcclxuICAgICRzY29wZS5maWxsVGV4dE9uQ2FudmFzPWZ1bmN0aW9uKCl7XHJcbiAgICAgICRzY29wZS5vcGVuRmlsbENvbG9yPWZhbHNlO1xyXG4gICAgICAkc2NvcGUudGV4dEZvcm09dHJ1ZTtcclxuICAgICAgJCgnI2dwc2J0bicpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcIiNEM0QzRDNcIik7XHJcblxyXG4gICAgICAkc2NvcGUuYnRuTWFya2VyPVwiLi4vYXNzZXRzL2ltYWdlcy9ncHMucG5nXCI7XHJcbiAgICAgICRzY29wZS5idG5DaXJjbGU9XCIuLi9hc3NldHMvaW1hZ2VzL2NpcmNsZS1zaGFwZS1vdXRsaW5lLnBuZ1wiO1xyXG4gICAgICAkc2NvcGUuYnRuTGluZT1cIi4uL2Fzc2V0cy9pbWFnZXMvbGluZWljb24ucG5nXCI7XHJcbiAgICAgICRzY29wZS5idG5UZXh0PVwiLi4vYXNzZXRzL2ltYWdlcy90ZXh0d2hpdGUucG5nXCI7XHJcblxyXG4gICAgICAkKCcjdHh0YnRuJykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiIzAwOUFDRFwiKTtcclxuICAgICAgJCgnI2NpcmNsZWJ0bicpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcIiNEM0QzRDNcIik7XHJcbiAgICAgICQoJyNsaW5lYnV0dG9uJykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiI0QzRDNEM1wiKTtcclxuICAgICAgaWYoJHNjb3BlLmlzQ2lyY2xlPT10cnVlfHwkc2NvcGUuaXNMaW5lPT10cnVlfHwkc2NvcGUuaXNNYXJrZXI9PXRydWUpe1xyXG4gICAgICAgICRzY29wZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxkcmFnU3RhcnQpO1xyXG4gICAgICAgICRzY29wZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxkcmFnKTtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLGRyYWdTdG9wKTtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsZHJhZ1N0YXJ0TGluZSk7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLGRyYWdMaW5lKTtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLGRyYWdTdG9wTGluZSk7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLE1hcmtXcml0ZSk7XHJcblxyXG4gICAgfVxyXG4gICAgICBcclxuICAgICAgXHJcbiAgICAgICAkc2NvcGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsVGV4dFdyaXRlKTtcclxuICAgICAgLy8gJHNjb3BlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJyxleHRVcCk7XHJcbiAgICAgIFxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gVGV4dFdyaXRlKGUpe1xyXG4gICAgICAkc2NvcGUuaXNUZXh0PXRydWU7XHJcbiAgICAgIFxyXG4gICAgICAkc2NvcGUuY250eHQgPSAkc2NvcGUuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgdmFyIGNvb3JkcyA9ICRzY29wZS5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIHZhciBtb3VzZXggPSBwYXJzZUludCgoIGUuY2xpZW50WCAtIGNvb3Jkcy5sZWZ0ICkgLyAoIGNvb3Jkcy5yaWdodCAtIGNvb3Jkcy5sZWZ0ICkgKiAkc2NvcGUuY2FudmFzLndpZHRoKTtcclxuICAgICAgdmFyIG1vdXNleSA9IHBhcnNlSW50KCggZS5jbGllbnRZIC0gY29vcmRzLnRvcCApIC8gKCBjb29yZHMuYm90dG9tIC0gY29vcmRzLnRvcCApICogJHNjb3BlLmNhbnZhcy5oZWlnaHQgKTtcclxuICAgICAgJHNjb3BlLmNudHh0LmZvbnQgICAgICA9IFwiMTVweCBUaW1lcyBOZXcgUm9tYW5cIjtcclxuICAgICAgJHNjb3BlLmNudHh0LmZpbGxTdHlsZSA9ICRzY29wZS5jb2xvcnBpY2s7XHJcbiAgICAgICRzY29wZS5jbnR4dC5zdHJva2VUZXh0KCRzY29wZS5wbGFjZURhdGFBdFBpeGVsLG1vdXNleCxtb3VzZXkpO1xyXG4gICAgICB2YXIgaW1hZ2VEYXRhID0gJHNjb3BlLmNudHh0LmdldEltYWdlRGF0YSgwLDAsJHNjb3BlLmNhbnZhcy53aWR0aCwkc2NvcGUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAkc2NvcGUuVW5kb0FycmF5LnB1c2goaW1hZ2VEYXRhKTtcclxuICAgICAgICRzY29wZS5wbGFjZURhdGFBdFBpeGVsPVwiXCI7XHJcbiAgICAgIFxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgXHJcblxyXG4gICAgXHJcblxyXG4gICAgJHNjb3BlLlVuZG9EcmF3aW5nID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoJHNjb3BlLlVuZG9BcnJheS5sZW5ndGg+MCl7XHJcbiAgICAgICAgIHZhciB1bmRvQ3R4ID0gJHNjb3BlLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICB1bmRvQ3R4LmNsZWFyUmVjdCgwLDAsJHNjb3BlLmNhbnZhcy53aWR0aCwkc2NvcGUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgIHZhciBpbWdkYXRhPSRzY29wZS5VbmRvQXJyYXkucG9wKCk7XHJcbiAgICAgICAgICRzY29wZS5yZWRvQXJyYXkucHVzaChpbWdkYXRhKTtcclxuICAgICAgIFxyXG4gICAgICAgICAkc2NvcGUuVW5kb0FycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgIHVuZG9DdHgucHV0SW1hZ2VEYXRhKGVsZW1lbnQsMCwwKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgICBcclxuICAgICRzY29wZS5SZWRvRHJhd2luZyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIHZhciB1bmRvQ3R4ID0gJHNjb3BlLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICBpZigkc2NvcGUucmVkb0FycmF5Lmxlbmd0aD4wKXtcclxuICAgICAgICB2YXIgcmVkbyA9ICRzY29wZS5yZWRvQXJyYXkucG9wKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdW5kb0N0eC5wdXRJbWFnZURhdGEocmVkbywwLDApO1xyXG4gICAgICAgXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2bS5zYXZlTWFya0luZm89ZnVuY3Rpb24oKXtcclxuICAgICAgXHJcbiAgICAgIHZhciBkYXRhSW1hZ2U9JHNjb3BlLmNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XHJcbiAgICAgIGNvbnNvbGUubG9nKGRhdGFJbWFnZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHZtLmJhY2tJbWcpO1xyXG4gICAgICAvLyBtZXJnZUltYWdlcyhbXHJcbiAgICAgIC8vIHsgc3JjOiB2bS5iYWNrSW1nfSxcclxuICAgICAgLy8geyBzcmM6IGRhdGFJbWFnZX1cclxuICAgICAgLy8gXSkudGhlbihiNjQ9PntcclxuICAgICAgLy8gdmFyIGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGluaycpO1xyXG4gICAgICAvLyBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAnTWludHlQYXBlci5wbmcnKTtcclxuICAgICAgLy8gbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBiNjQpO1xyXG4gICAgICAvLyBsaW5rLmNsaWNrKCk7XHJcblxyXG4gICAgICAvLyB9KVxyXG4gICAgICB2YXIgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW5rJyk7XHJcbiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICdNaW50eVBhcGVyLnBuZycpO1xyXG4gICAgICBsZXQgZGF0YWltYWdlPWxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgJHNjb3BlLmNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9qcGdcIikucmVwbGFjZShcImltYWdlL2pwZ1wiLCBcImltYWdlL29jdGV0LXN0cmVhbVwiKSk7XHJcbiAgICAgIGxpbmsuY2xpY2soKTtcclxuICAgICBcclxuXHJcblxyXG4gICAgLy8gICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIC8vICB2YXIgZHQ9ICRzY29wZS5jYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gICAgLy8gICBjb25zb2xlLmxvZyhcInZtLklNR1NUT1JFIGluIHBuZzogXCIsZHQpO1xyXG4gICAgLy8gICB1cmx0b0ZpbGUoZHQsICdoZWxsby5wbmcnLCAnaW1hZ2UvcG5nJylcclxuICAgIC8vIC50aGVuKGZ1bmN0aW9uKGZpbGUpe1xyXG4gICAgLy8gICB2bS5JTUdTVE9SRSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAvLyAgIGNvbnNvbGUubG9nKFwiRklMRSBTUkM6IFwiLHZtLklNR1NUT1JFKTtcclxuICAgICAgLy8gICBhcGlGYWN0b3J5LnBvc3RNYXJrSW1nKGZpbGUpLnRoZW4ocmVzcD0+e1xyXG4gICAgICAvLyAgICBjb25zb2xlLmxvZyhyZXNwKTtcclxuICAgICAgLy8gICAgY29uc29sZS5sb2coXCJDT05WRVJURUQgRklMRTogXCIsZmlsZSk7XHJcbiAgICAgIC8vIH0pXHJcbiAgICAgIC8vIH0pXHJcbiAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgLy9yZXR1cm4gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIEZpbGUgaW5zdGFuY2VcclxuICBmdW5jdGlvbiB1cmx0b0ZpbGUodXJsLCBmaWxlbmFtZSwgbWltZVR5cGUpe1xyXG4gIHJldHVybiAoZmV0Y2godXJsKVxyXG4gICAgICAudGhlbihmdW5jdGlvbihyZXMpe3JldHVybiByZXMuYXJyYXlCdWZmZXIoKTt9KVxyXG4gICAgICAudGhlbihmdW5jdGlvbihidWYpe3JldHVybiBuZXcgRmlsZShbYnVmXSwgZmlsZW5hbWUsIHt0eXBlOm1pbWVUeXBlfSk7fSlcclxuICApO1xyXG59XHJcbiAgICBcclxuXHJcbiAgfVxyXG59KSgpOyIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIm1hdGVyaWFsQ3RybFwiLCBtYXRlcmlhbEN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBtYXRlcmlhbEN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICBOZ01hcCxcclxuICAgIFVwbG9hZCxcclxuICAgIG1vbWVudFxyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCBkZWJvdW5jZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5pbnB1dEltZyA9IFtdO1xyXG4gICAgdm0uaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgLyogRGF0YSB0YWJsZSBzZXR1cCAqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHZtLmR0T3B0aW9ucyA9IHtcclxuICAgICAgcmV0cmlldmU6IHRydWUsXHJcbiAgICAgIHBhZ2luZzogZmFsc2UsXHJcbiAgICAgIGluZm86IGZhbHNlLFxyXG4gICAgICBvcmRlcmluZzogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLy8gJChcIi5tYXRlcmlhbExpc3RcIikuRGF0YVRhYmxlKCk7XHJcblxyXG4gICAgLyogU2V0dGluZyB1cCBpbnZlbnRvcnkgc3RhdGUgKi9cclxuICAgIGNvbnN0IGludmVudG9yeVN0YXRlID0gZ2xvYmFscy5pbnZlbnRvcnlTdGF0ZSgpO1xyXG4gICAgdm0uYWN0aXZlVGFiID0gaW52ZW50b3J5U3RhdGUuZ2V0KCkudGFiO1xyXG4gICAgJChcIi50YWItY29udGVudCAudGFiLXBhbmVcIilcclxuICAgICAgLmVxKGludmVudG9yeVN0YXRlLmdldCgpLnRhYilcclxuICAgICAgLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgIHZtLmN1cnJlbnRQYWdlID0gMTtcclxuXHJcbiAgICB2bS50b2dnbGVUYWIgPSB2YWwgPT4ge1xyXG4gICAgICBpbnZlbnRvcnlTdGF0ZS5zZXRUYWIodmFsKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0udG9nZ2xlT2JqID0ge1xyXG4gICAgICBtYXRlcmlhbDoge1xyXG4gICAgICAgIHN5c3RlbVRhZzogdHJ1ZSxcclxuICAgICAgICBtYXRlcmlhbENvc3Q6IGZhbHNlLFxyXG4gICAgICAgIHJvb2ZlckNvc3Q6IGZhbHNlLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcclxuICAgICAgICBuYW1lOiBmYWxzZVxyXG4gICAgICB9LFxyXG4gICAgICBjb21ibzoge1xyXG4gICAgICAgIHN5c3RlbVRhZzogdHJ1ZSxcclxuICAgICAgICBtYXRlcmlhbENvc3Q6IGZhbHNlLFxyXG4gICAgICAgIHJvb2ZlckNvc3Q6IGZhbHNlLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcclxuICAgICAgICBuYW1lOiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmdldEFsbFN1cHBsaWVycygpXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLnN1cHBsaWVycyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHZtLnNlYXJjaFRleHQgPSBpbnZlbnRvcnlTdGF0ZS5nZXQoKS5zZWFyY2hUZXh0O1xyXG5cclxuICAgICRzY29wZS4kd2F0Y2goXHJcbiAgICAgIFwidm0uc2VhcmNoVGV4dFwiLFxyXG4gICAgICB0ZXh0ID0+IHtcclxuICAgICAgICBpbnZlbnRvcnlTdGF0ZS50ZXh0KHRleHQpO1xyXG4gICAgICB9LFxyXG4gICAgICB0cnVlXHJcbiAgICApO1xyXG5cclxuICAgIHZtLnVuaXRTZWxlY3QgPSBkYXRhID0+IHtcclxuICAgICAgdm0uc2VsZWN0ZWRVbml0ID0gZGF0YS5uYW1lO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zb3J0RGlzcGxheSA9ICh0eXBlLCByZXNvdXJjZSkgPT4ge1xyXG4gICAgICBpZiAodHlwZSAmJiByZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiBgU29ydGVkIEJ5OiAke3R5cGV9IC0gJHtcclxuICAgICAgICAgIHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0gPyBcIkFTQ1wiIDogXCJEU0NcIlxyXG4gICAgICAgIH1gO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnNvcnRNYXRlcmlhbHMgPSAodHlwZSwgcmVzb3VyY2UpID0+IHtcclxuICAgICAgLyogRm9yIHRvZ2dsaW5nIGFzY2VuZGluZyBhbmQgZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICAgICB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID09PSB1bmRlZmluZWRcclxuICAgICAgICA/ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gdHJ1ZSlcclxuICAgICAgICA6ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gIXZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0pO1xyXG4gICAgICBsZXQgYXBpTmFtZSA9XHJcbiAgICAgICAgcmVzb3VyY2UgPT09IFwibWF0ZXJpYWxcIiA/IFwibGlzdEFsbE1hdGVyaWFsc1wiIDogXCJsaXN0QWxsQ29tYm9NYXRlcmlhbHNcIjtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnlbYXBpTmFtZV0oe1xyXG4gICAgICAgIHBhZ2U6IGludmVudG9yeVN0YXRlLmdldCgpLnBhZ2VbcmVzb3VyY2VdLFxyXG4gICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICBzb3J0OiB0eXBlLFxyXG4gICAgICAgIHNlYXJjaDogaW52ZW50b3J5U3RhdGUuZ2V0KCkuc2VhcmNoVGV4dCxcclxuICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm1bcmVzb3VyY2VdID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICB2bVtyZXNvdXJjZSArIFwiQ291bnRcIl0gPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICQoXCIjXCIgKyByZXNvdXJjZSArIFwiUGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcclxuICAgICAgICAgICAgICBpdGVtczogdm1bcmVzb3VyY2UgKyBcIkNvdW50XCJdLFxyXG4gICAgICAgICAgICAgIGl0ZW1zT25QYWdlOiAxMCxcclxuICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IGludmVudG9yeVN0YXRlLmdldCgpLnBhZ2VbcmVzb3VyY2VdLFxyXG4gICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGludmVudG9yeVN0YXRlLnNldFBhZ2UocmVzb3VyY2UsIHBhZ2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlbYXBpTmFtZV0oe1xyXG4gICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgIHNlYXJjaDogaW52ZW50b3J5U3RhdGUuZ2V0KCkuc2VhcmNoVGV4dCxcclxuICAgICAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtW3Jlc291cmNlXSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBzZWFyY2hEZWJvdW5jZSA9IGRlYm91bmNlKDI1MCk7IC8qIFBhc3NpbmcgaW4gdGhlIGRlYm91bmNlIHJhdGUgKi9cclxuICAgIHZtLnNlYXJjaE1hdGVyaWFscyA9ICh0ZXh0LCByZXNvdXJjZSkgPT4ge1xyXG4gICAgICAvKipcclxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBwYXNzIHRoZSBmdW5jdGlvbiB3aGljaCB5b3Ugd2FudCB0byBkZWJvdW5jZVxyXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIC0gcGFzcyB0aGUgYXJndW1lbnRzIGZyb20gdGhlIHZpZXcgYXMgYW4gYXJyYXlcclxuICAgICAgICovXHJcbiAgICAgIHNlYXJjaERlYm91bmNlKFxyXG4gICAgICAgICgpID0+IHtcclxuICAgICAgICAgIGxldCBhcGlOYW1lID1cclxuICAgICAgICAgICAgcmVzb3VyY2UgPT09IFwibWF0ZXJpYWxcIlxyXG4gICAgICAgICAgICAgID8gXCJsaXN0QWxsTWF0ZXJpYWxzXCJcclxuICAgICAgICAgICAgICA6IFwibGlzdEFsbENvbWJvTWF0ZXJpYWxzXCI7XHJcblxyXG4gICAgICAgICAgYXBpRmFjdG9yeVthcGlOYW1lXSh7XHJcbiAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgc2VhcmNoOiB0ZXh0LFxyXG4gICAgICAgICAgICBzb3J0OiBcImNyZWF0ZWREYXRlXCIsXHJcbiAgICAgICAgICAgIHNvcnRUeXBlOiBmYWxzZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgdm1bcmVzb3VyY2VdID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgdm1bcmVzb3VyY2UgKyBcIkNvdW50XCJdID0gcmVzcC5kYXRhLnRvdGFsO1xyXG4gICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoXCIjXCIgKyByZXNvdXJjZSArIFwiUGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcclxuICAgICAgICAgICAgICAgICAgaXRlbXM6IHZtW3Jlc291cmNlICsgXCJDb3VudFwiXSxcclxuICAgICAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxyXG4gICAgICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICAgICAgICBocmVmVGV4dFByZWZpeDogXCIjXCIsXHJcbiAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpRmFjdG9yeVthcGlOYW1lXSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5tYXRlcmlhbHMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgW3RleHQsIHJlc291cmNlXVxyXG4gICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBJbml0aWFsbHkgZ2V0dGluZyB0aGUgdmFsdWVzIG9mIG1hdGVyaWFsIGFuZCBjb21ibyBtYXRlcmlhbHMgKi9cclxuICAgIHZtLnNvcnRNYXRlcmlhbHMoXCJjcmVhdGVkQXRcIiwgXCJtYXRlcmlhbFwiKTtcclxuICAgIHZtLnNvcnRNYXRlcmlhbHMoXCJjcmVhdGVkQXRcIiwgXCJjb21ib1wiKTtcclxuICAgIC8qIEVuZCBvZiAgRGF0YSB0YWJsZSBzZXR1cCAqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgIC8qIEFkZCBtYXRlcmlhbCBmdW5jdGlvbmFsaXR5ICovXHJcbiAgICBsZXQgZGVmYXVsdE1haW50ZW5hbmNlUGVyaW9kID0gOTA7XHJcbiAgICB2bS5hZGRNYXRlcmlhbCA9IHtcclxuICAgICAgY29udmVyc2lvbkZhY3RvcjogMSxcclxuICAgICAgbWFpbnRlbmFuY2VQZXJpb2Q6IGRlZmF1bHRNYWludGVuYW5jZVBlcmlvZCxcclxuICAgICAgbWFpbnRlbmFuY2VEYXRlOiBtb21lbnQoKVxyXG4gICAgICAgIC5hZGQoZGVmYXVsdE1haW50ZW5hbmNlUGVyaW9kLCBcImRheXNcIilcclxuICAgICAgICAuZm9ybWF0KClcclxuICAgIH07XHJcbiAgICB2bS5jaGFuZ2VNYWludGVuYW5jZVBlcmlvZCA9IGRheXMgPT4ge1xyXG4gICAgICB2bS5hZGRNYXRlcmlhbC5tYWludGVuYW5jZURhdGUgPSBtb21lbnQoKVxyXG4gICAgICAgIC5hZGQoZGF5cywgXCJkYXlzXCIpXHJcbiAgICAgICAgLmZvcm1hdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS50YWJTZXR0aW5ncyA9IHsgZGlzYWJsZTogdHJ1ZSB9O1xyXG5cclxuICAgIHZtLnRhYkNoYW5nZSA9ICh2YWwsIGZsYWcpID0+IHtcclxuICAgICAgaWYgKGZsYWcgPT0gXCJjb21ib1wiKSB7XHJcbiAgICAgICAgaWYgKHZhbCA9PSAwKSB7XHJcbiAgICAgICAgICB0YWJDaGFuZ2VGdW4odmFsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZhbCA9PSAxKSB7XHJcbiAgICAgICAgICBpZiAoIXZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLm5hbWUgfHwgIXZtLmVkaXRDb21ib01hdGVyaWFsLm5hbWUpIHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGVudGVyIGNvbWJvIG1hdGVyaWFsIG5hbWVcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoIXZtLnNlbGVjdGVkVW5pdCkge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IHVuaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoIXZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLmRlc2NyaXB0aW9uIHx8ICF2bS5lZGl0Q29tYm9NYXRlcmlhbC5kZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgY29tYm8gZGVzY3JpcHRpb25cIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRhYkNoYW5nZUZ1bih2YWwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodmFsID09IDIpIHtcclxuICAgICAgICAgIGlmICh2bS5jb21ib01hdGVyaWFsTGlzdC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgYWRkIENvbWJpbmF0aW9uIGxpc3RcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZtLlRvdGFsTUMgPSAwO1xyXG4gICAgICAgICAgICB2bS5Ub3RhbFJDID0gMDtcclxuXHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5jb21ib01hdGVyaWFsTGlzdCwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICB2bS5Ub3RhbE1DID1cclxuICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQodm0uVG90YWxNQykgKyBwYXJzZUZsb2F0KHZhbHVlLm1hdGVyaWFsQ29zdCk7XHJcbiAgICAgICAgICAgICAgdm0uVG90YWxSQyA9XHJcbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KHZtLlRvdGFsUkMpICsgcGFyc2VGbG9hdCh2YWx1ZS5yb29mZXJDb3N0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZtLlRvdGFsTUMgPSBwYXJzZUZsb2F0KE1hdGgucm91bmQodm0uVG90YWxNQyAqIDEwMCkgLyAxMDApO1xyXG4gICAgICAgICAgICB2bS5Ub3RhbFJDID0gcGFyc2VGbG9hdChNYXRoLnJvdW5kKHZtLlRvdGFsUkMgKiAxMDApIC8gMTAwKTtcclxuICAgICAgICAgICAgdGFiQ2hhbmdlRnVuKHZhbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHRhYkNoYW5nZUZ1bih2YWwpIHtcclxuICAgICAgICAgICQoXCIuZGNwX21vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKFwiLmRjcF9tb2RhbCAubmF2LXRhYnMgbGkgLm5hdi1saW5rXCIpXHJcbiAgICAgICAgICAgIC5lcSh2YWwpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAkKFwiLmRjcF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgJChcIi5kY3BfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAkKFwiLmRjcF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpXHJcbiAgICAgICAgICAgIC5lcSh2YWwpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAkKFwiLmRjcF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpXHJcbiAgICAgICAgICAgIC5lcSh2YWwpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYodmFsPT0wKSB7XHJcbiAgICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIilcclxuICAgICAgICAgICAgLmVxKHZhbClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICAgICQoXCIubWF0ZXJpYWxfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICQoXCIubWF0ZXJpYWxfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC50YWItY29udGVudCAudGFiLXBhbmVcIilcclxuICAgICAgICAgICAgLmVxKHZhbClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICQoXCIubWF0ZXJpYWxfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKVxyXG4gICAgICAgICAgICAuZXEodmFsKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHZhbD09MSl7XHJcbiAgICAgICAgICBpZiAoIXZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSkge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgbWF0ZXJpYWwgbmFtZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICghdm0uc2VsZWN0ZWRVbml0KSB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgbWF0ZXJpYWwgdW5pdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvKiB9IGVsc2UgaWYgKCF2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSkge1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgY3VycmVuY3lcIik7XHJcbiAgICAgICAgICAgICAgcmV0dXJuOyAqL1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAubmF2LXRhYnMgbGkgLm5hdi1saW5rXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIilcclxuICAgICAgICAgICAgICAuZXEodmFsKVxyXG4gICAgICAgICAgICAgIC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICQoXCIubWF0ZXJpYWxfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpXHJcbiAgICAgICAgICAgICAgLmVxKHZhbClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC50YWItY29udGVudCAudGFiLXBhbmVcIilcclxuICAgICAgICAgICAgICAuZXEodmFsKVxyXG4gICAgICAgICAgICAgIC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYodmFsPT0yKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBhcGlGYWN0b3J5XHJcbiAgICAgIC5nZXRDb21wYW55QnlJZCh2bS51c2VyRGF0YS5jb21wYW55SWQpXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLmNvbXBhbnlEYXRhID0gcmVzcC5kYXRhO1xyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5ID0gYW5ndWxhci5jb3B5KHZtLmNvbXBhbnlEYXRhLmN1cnJlbnRDdXJyZW5jeS5jdXJyZW5jeUNvZGUpO1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLiR3YXRjaChcInZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5XCIsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICQoXCJhLml0ZW0tc2VsZWN0ZWQgc3BhblwiKS5yZW1vdmVDbGFzcyhcImdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlXCIpO1xyXG4gICAgICAkKFwiYS5pdGVtLXNlbGVjdGVkIHNwYW5cIikuYWRkQ2xhc3MoXCJmYXMgZmEtdGltZXMgbXItM1wiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZtLnNob3dDb252ZXJzaW9uUmF0ZSA9IChmcm9tLCB0bykgPT4ge1xyXG4gICAgICAkKFwiLmxvYWRlclwiKS5zaG93KCk7XHJcbiAgICAgIGxldCBjdXJyZW5jeURhdGEgPSB7XHJcbiAgICAgICAgZnJvbSxcclxuICAgICAgICB0b1xyXG4gICAgICB9O1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLnNob3dDb252ZXJzaW9uUmF0ZShjdXJyZW5jeURhdGEpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yID0gcmVzcC5kYXRhLmNvbnZlcnNpb25GYWN0b3I7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJChcIi5sb2FkZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5hZGRNYXRlcmlhbE5leHQgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsVW5pdCk7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUgPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxOYW1lID09IFwiXCJcclxuICAgICAgKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGVudGVyIG1hdGVyaWFsIG5hbWVcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsVW5pdCAmJiB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbFVuaXQgPT0gXCJcIikge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgbWF0ZXJpYWwgVW5pdFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSA9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSA9PSBcIlwiXHJcbiAgICAgICkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgQ3VycmVuY3lcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUuYWN0aXZlSnVzdGlmaWVkID0gMTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uY2hhbmdlQ29zdCA9IChjb3N0LCBjb252ZXJzaW9uUmF0ZSkgPT4ge1xyXG4gICAgICByZXR1cm4gY29zdCAqIGNvbnZlcnNpb25SYXRlO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5kZWxldGVGaWxlID0gKGluZGV4VmFsLHR5cGUpID0+IHtcclxuICAgICAgaWYodHlwZT09J2ltYWdlJykge1xyXG4gICAgICAgIHZtLmlucHV0SW1nLnNwbGljZShpbmRleFZhbCwgMSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdm0uaW5wdXRGaWxlcy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmRlc2NyaXB0aW9uUG9wb3ZlciA9IChpbmRleFZhbCwgdHlwZSkgPT4ge1xyXG4gICAgICAkc2NvcGUuZmlsZVR5cGUgPSB0eXBlO1xyXG4gICAgICAkc2NvcGUuZmlsZUluZGV4ID0gaW5kZXhWYWw7XHJcbiAgICB9O1xyXG4gICAgdm0uYWRkRGVzY3JpcHRpb24gPSAoaW5kZXgsIGRhdGEpID0+IHtcclxuICAgICAgaWYgKCRzY29wZS5maWxlVHlwZSA9PSBcImltYWdlXCIpIHtcclxuICAgICAgICB2bS5pbnB1dEltZ1tpbmRleF0uZGVzY3JpcHRpb24gPSBkYXRhO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZtLmlucHV0RmlsZXNbaW5kZXhdLmRlc2NyaXB0aW9uID0gZGF0YTtcclxuICAgICAgfVxyXG4gICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5wb3BvdmVyJykuYWRkQ2xhc3MoJ01vaGFtZWQnKVxyXG4gICAgfVxyXG4gICAgdm0uY2xlYXJEYXRhID0gKHZhbCkgPT4ge1xyXG4gICAgICBpZiAodmFsID09ICdkY3AnKSB7XHJcbiAgICAgICAgdm0uYWRkQ29tYm9NYXRlcmlhbEZvcm0gPSB7fVxyXG4gICAgICAgIHZtLmlucHV0SW1nID0gW11cclxuICAgICAgICB2bS5pbnB1dEZpbGVzID0gW11cclxuICAgICAgICB2bS5zZWxlY3RlZFVuaXQgPSAnJ1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsID0ge1xyXG4gICAgICAgICAgY29udmVyc2lvbkZhY3RvcjogMSxcclxuICAgICAgICAgIG1haW50ZW5hbmNlUGVyaW9kOiA5MCxcclxuICAgICAgICAgIGN1cnJlbmN5OiBhbmd1bGFyLmNvcHkodm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZtLmFkZE1hdGVyaWFsKVxyXG4gICAgICAgIHZtLmlucHV0SW1nID0gW11cclxuICAgICAgICB2bS5pbnB1dEZpbGVzID0gW11cclxuICAgICAgICB2bS5zZWxlY3RlZFVuaXQgPSAnJ1xyXG4gICAgICAgICQoJyNwcm9maWxlLXRhYiwgI2RjcDEnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAkKCcjaG9tZS10YWIsICNtYXRlcmlhbDEnKS5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAkKCcjbWF0ZXJpYWwxJykuYWRkQ2xhc3MoJ3Nob3cnKVxyXG4gICAgICAgIHZtLmNoYW5nZU1haW50ZW5hbmNlUGVyaW9kKHZtLmFkZE1hdGVyaWFsLm1haW50ZW5hbmNlUGVyaW9kKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB2bS5hZGRNYXRlcmlhbERldGFpbHMgPSAoKSA9PiB7XHJcbiAgICAgIGlmICghdm0uc2VsZWN0ZWRVbml0KSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKCdQbGVhc2UgU2VsZWN0IFVuaXQnKTtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfSBlbHNlIGlmICghdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxDb3N0VmFsdWUpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoJ1BsZWFzZSBTZWxlY3QgbWF0ZXJpYWwgY29zdCB2YWx1ZScpO1xyXG4gICAgICAgIHJldHVybiBcclxuICAgICAgfSBlbHNlIGlmICghdm0uYWRkTWF0ZXJpYWwucm9vZmVyQ29zdFZhbHVlKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKCdQbGVhc2UgU2VsZWN0IHJvb2ZlciBjb3N0IHZhbHVlJyk7XHJcbiAgICAgICAgcmV0dXJuIFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRzY29wZS51cGxvYWRGaWxlcyA9IFtdLmNvbmNhdCh2bS5pbnB1dEltZywgdm0uaW5wdXRGaWxlcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLnVwbG9hZEZpbGVzKVxyXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IHtcclxuICAgICAgICAgIG5hbWU6IHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSxcclxuICAgICAgICAgIHVuaXQ6IHZtLnNlbGVjdGVkVW5pdCxcclxuICAgICAgICAgIG1hdGVyaWFsQ29zdDoge1xyXG4gICAgICAgICAgICB2YWx1ZTogdm0uY2hhbmdlQ29zdChcclxuICAgICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbENvc3RWYWx1ZSxcclxuICAgICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3lcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByb29mZXJDb3N0OiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiB2bS5jaGFuZ2VDb3N0KFxyXG4gICAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLnJvb2ZlckNvc3RWYWx1ZSxcclxuICAgICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3lcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzdXBwbGllcnM6IHZtLmFkZE1hdGVyaWFsLnN1cHBsaWVycyxcclxuICAgICAgICAgIGZpbGVzOiAkc2NvcGUudXBsb2FkRmlsZXMsXHJcbiAgICAgICAgICBhc3NldE9iajogJHNjb3BlLnVwbG9hZEZpbGVzLm1hcCgoeCwgaSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIGFzc2V0RGVzY3JpcHRpb246IHguZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAuY3JlYXRlTWF0ZXJpYWxzKGZvcm1EYXRhKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICRzY29wZS50YWIgPSAxO1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICQoXCIjdG9kb19tb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAgICQoJyNwcm9maWxlLXRhYiwgI2RjcDEnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgJCgnI2hvbWUtdGFiLCAjbWF0ZXJpYWwxJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICQoJyNtYXRlcmlhbDEnKS5hZGRDbGFzcygnc2hvdycpXHJcbiAgICAgICAgICAgIHZtLmlucHV0SW1nID0gW11cclxuICAgICAgICAgICAgdm0uaW5wdXRGaWxlcyA9IFtdXHJcbiAgICAgICAgICAgIHZtLnNlbGVjdGVkVW5pdCA9ICcnXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvKiBTZXR0aW5nIGJlbG93IHByb3AgdHJ1ZSB0byBmb3JjZSBkZWNlbmRpbmcgb3JkZXIgb24gbWF0ZXJpYWwgYWRkIGluc3RlYWQgb2YgdG9nZ2xpbmcgc3RhdGVzICovXHJcbiAgICAgICAgICAgIHZtLnRvZ2dsZU9iai5tYXRlcmlhbC5jcmVhdGVkQXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB2bS5zb3J0TWF0ZXJpYWxzKFwiY3JlYXRlZEF0XCIsIFwibWF0ZXJpYWxcIik7XHJcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsID0ge1xyXG4gICAgICAgICAgICAgIGNvbnZlcnNpb25GYWN0b3I6IDFcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmdldE1hdGVyaWFsQnlJZCA9IGlkID0+IHtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5nZXRNYXRlcmlhbEJ5SWQoaWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBFdmVudCBoYW5kbGVyIHRvIHJlc2V0IGFkZCBtYXRlcmlhbCBtb2RhbCAqL1xyXG4gICAgJChcIiNhZGRNYXRlcmlhbFwiKS5vbihcImhpZGUuYnMubW9kYWxcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAwO1xyXG4gICAgICB2bS5hZGRNYXRlcmlhbCA9IHtcclxuICAgICAgICBjb252ZXJzaW9uRmFjdG9yOiAxXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiBBZGQgQ29tYm8gTWF0ZXJpYWwgKi9cclxuICAgIHZtLmNvbWJvTWF0ZXJpYWxMaXN0ID0gW107XHJcbiAgICB2bS5hZGRDb21ib01hdGVyaWFsRm9ybSA9IHt9O1xyXG4gICAgdm0ucGVyY2VudGFnZUFkZGl0aW9uID0gW107XHJcblxyXG4gICAgLyogZ2V0IGFsbCBtYXRlcmlhbCBMaXN0ICovXHJcbiAgICB2bS5tVW5pdHMgPSBnbG9iYWxzLm1Vbml0cztcclxuICAgIGdsb2JhbHMuZ2V0Q3VycmVuY3koKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICB2bS5jdXJyZW5jaWVzID0gcmVzcC5kYXRhO1xyXG4gICAgICB2bS5sb2FkQ3VycmVuY2llcyA9ICRxdWVyeSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmxpc3RBbGxNYXRlcmlhbHMoKVxyXG4gICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5hbGxtYXRlcmlsYUxpc3QgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB2bS5jb21ib0xpc3QgPSB7XHJcbiAgICAgIHF1YW50aXR5OiAxLFxyXG4gICAgICBtYXRlcmlhbENvc3Q6IDAsXHJcbiAgICAgIHJvb2ZlckNvc3Q6IDBcclxuICAgIH07XHJcblxyXG4gICAgdm0uZ2V0TWF0ZXJpYWxJbmZvID0gbWF0ZXJpYWwgPT4ge1xyXG4gICAgICBsZXQgbWF0ZXJpYWxJbmZvID0gSlNPTi5wYXJzZShtYXRlcmlhbCk7XHJcbiAgICAgIGlmIChtYXRlcmlhbCkge1xyXG4gICAgICAgIHZtLmNvbWJvTGlzdC5tYXRlcmlhbENvc3QgPSBwYXJzZUZsb2F0KFxyXG4gICAgICAgICAgTWF0aC5yb3VuZChcclxuICAgICAgICAgICAgdm0uY29tYm9MaXN0LnF1YW50aXR5ICpcclxuICAgICAgICAgICAgICBtYXRlcmlhbEluZm8uY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlICpcclxuICAgICAgICAgICAgICAxMDBcclxuICAgICAgICAgICkgLyAxMDBcclxuICAgICAgICApO1xyXG4gICAgICAgIHZtLmNvbWJvTGlzdC5yb29mZXJDb3N0ID0gcGFyc2VGbG9hdChcclxuICAgICAgICAgIE1hdGgucm91bmQoXHJcbiAgICAgICAgICAgIHZtLmNvbWJvTGlzdC5xdWFudGl0eSAqXHJcbiAgICAgICAgICAgICAgbWF0ZXJpYWxJbmZvLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWUgKlxyXG4gICAgICAgICAgICAgIDEwMFxyXG4gICAgICAgICAgKSAvIDEwMFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLnJlbW92ZUNsYXNzKFwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIik7XHJcbiAgICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLmFkZENsYXNzKFwiZmFzIGZhLXRpbWVzIG1yLTNcIik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0uUXR5Q2hhbmdlID0gKHZhbCwgZGF0YSkgPT4ge1xyXG4gICAgICBsZXQgbWF0ZXJpYWwgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICBpZiAodmFsID09IFwiXCIgfHwgdmFsID09IDApIHtcclxuICAgICAgICB2bS5jb21ib0xpc3QucXVhbnRpdHkgPSAxO1xyXG4gICAgICAgIHZhbCA9IDE7XHJcbiAgICAgICAgdm0uY29tYm9MaXN0Lm1hdGVyaWFsQ29zdCA9IHBhcnNlRmxvYXQoXHJcbiAgICAgICAgICBNYXRoLnJvdW5kKHZhbCAqIG1hdGVyaWFsLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZSAqIDEwMCkgLyAxMDBcclxuICAgICAgICApO1xyXG4gICAgICAgIHZtLmNvbWJvTGlzdC5yb29mZXJDb3N0ID0gcGFyc2VGbG9hdChcclxuICAgICAgICAgIE1hdGgucm91bmQodmFsICogbWF0ZXJpYWwuY3VycmVudFJhdGUucm9vZmVyQ29zdC52YWx1ZSAqIDEwMCkgLyAxMDBcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZtLmNvbWJvTGlzdC5tYXRlcmlhbENvc3QgPSBwYXJzZUZsb2F0KFxyXG4gICAgICAgICAgTWF0aC5yb3VuZCh2YWwgKiBtYXRlcmlhbC5jdXJyZW50UmF0ZS5tYXRlcmlhbENvc3QudmFsdWUgKiAxMDApIC8gMTAwXHJcbiAgICAgICAgKTtcclxuICAgICAgICB2bS5jb21ib0xpc3Qucm9vZmVyQ29zdCA9IHBhcnNlRmxvYXQoXHJcbiAgICAgICAgICBNYXRoLnJvdW5kKHZhbCAqIG1hdGVyaWFsLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWUgKiAxMDApIC8gMTAwXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5hZGRQZXJjZW50YWdlVmFsdWUgPSAoKSA9PiB7XHJcbiAgICAgIHZtLnBlcmNlbnRhZ2VBZGRpdGlvbi5wdXNoKHtcclxuICAgICAgICBwZXJjZW50YWdlVHlwZTogXCJcIixcclxuICAgICAgICBwZXJjZW50YWdlVmFsdWU6IFwiXCJcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdm0ucmVtb3ZlUGVyY2VudGFnZUFkZGl0aW9uID0gaW5kZXggPT4ge1xyXG4gICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0ubWF0ZXJpYWxDb21iaW5hdGlvbiA9IG1hdGVyaWFsID0+IHtcclxuICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKG1hdGVyaWFsKTtcclxuICAgICAgY29uc29sZS5sb2coXCJtYXRlcmlhbC0tXCIsIGRhdGEpO1xyXG4gICAgICBpZiAoZGF0YSAhPSBcIlwiKSB7XHJcbiAgICAgICAgdm0uY29tYm9NYXRlcmlhbExpc3QucHVzaCh7XHJcbiAgICAgICAgICBtYXRlcmlhbElkOiBkYXRhLl9pZCxcclxuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgIHF1YW50aXR5OiB2bS5jb21ib0xpc3QucXVhbnRpdHksXHJcbiAgICAgICAgICBtYXRlcmlhbENvc3Q6IHZtLmNvbWJvTGlzdC5tYXRlcmlhbENvc3QsXHJcbiAgICAgICAgICByb29mZXJDb3N0OiB2bS5jb21ib0xpc3Qucm9vZmVyQ29zdCxcclxuICAgICAgICAgIHBlcmNlbnRhZ2VBZGRpdGlvbnM6IHZtLnBlcmNlbnRhZ2VBZGRpdGlvblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZtLnBlcmNlbnRhZ2VBZGRpdGlvbiA9IFtdO1xyXG4gICAgICAgIHZtLmNvbWJvTGlzdCA9IHtcclxuICAgICAgICAgIHF1YW50aXR5OiAxLFxyXG4gICAgICAgICAgbWF0ZXJpYWxDb3N0OiAwLFxyXG4gICAgICAgICAgcm9vZmVyQ29zdDogMFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLmNvbWJvTWF0ZXJpYWwgPSBcIlwiO1xyXG4gICAgICAgICQoXCIuc2VsZWN0Mi1jaG9pY2UgLnNlbGVjdDItY2hvc2VuXCIpLnRleHQoXCJcIik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0uZmlsZVVwZGF0ZWQgPSAoZmlsZXMsIGV2ZW50LCBtb2RlbCkgPT4ge1xyXG4gICAgICBsZXQgZmlsZU9iaiA9IGV2ZW50LnRhcmdldC5maWxlcztcclxuICAgICAgdm0uZmlsZU5hbWVzID0gT2JqZWN0LmtleXMoZmlsZU9iaikubWFwKHggPT4gZmlsZU9ialt4XS5uYW1lKTtcclxuICAgICAgYW5ndWxhci5mb3JFYWNoKGZpbGVzLCBmdW5jdGlvbih4LCBpbmRleCkge1xyXG4gICAgICAgIHguZGVzY3JpcHRpb24gPSBcIlwiO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uY3JlYXRlQ29tYm9NYXRlcmlhbExpc3QgPSAoKSA9PiB7XHJcbiAgICAgIHZhciBjbUxpc3QgPSBbXTtcclxuXHJcbiAgICAgIHZtLmNvbWJvTWF0ZXJpYWxMaXN0LmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgdmFyIHBlckFkZGl0aW9ucyA9IHt9O1xyXG4gICAgICAgIGlmICh4LnBlcmNlbnRhZ2VBZGRpdGlvbnMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICB4LnBlcmNlbnRhZ2VBZGRpdGlvbnMuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgcGVyQWRkaXRpb25zW3gucGVyY2VudGFnZVR5cGVdID0gTnVtYmVyKHgucGVyY2VudGFnZVZhbHVlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjbUxpc3QucHVzaCh7XHJcbiAgICAgICAgICBtYXRlcmlhbElkOiB4Lm1hdGVyaWFsSWQsXHJcbiAgICAgICAgICBxdWFudGl0eTogeC5xdWFudGl0eSxcclxuICAgICAgICAgIHBlcmNlbnRhZ2VBZGRpdGlvbnM6IHBlckFkZGl0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLm5hbWUsXHJcbiAgICAgICAgdW5pdDogdm0uc2VsZWN0ZWRVbml0LFxyXG4gICAgICAgIGNvbWJvTWF0ZXJpYWxMaXN0OiBjbUxpc3QsXHJcbiAgICAgICAgZmlsZXM6IHZtLmlucHV0SW1nXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmdldFN5c3RlbVRhZygpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBkYXRhLnN5c3RlbVRhZyA9IHJlc3AuZGF0YS5jb21ib1RhZztcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmNyZWF0ZUNvbWJvTWF0ZXJpYWwoZGF0YSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICQoXCIjYWRkQ29tYm9NYXRlcmlhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoZS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnJlbW92ZU1hdGVyaWwgPSBpdGVtID0+IHtcclxuICAgICAgdm0uY29tYm9NYXRlcmlhbExpc3Quc3BsaWNlKGl0ZW0sIDEpO1xyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIm1hdGVyaWFsVmlld0N0cmxcIiwgbWF0ZXJpYWxWaWV3Q3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIG1hdGVyaWFsVmlld0N0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgJHN0YXRlUGFyYW1zLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBVcGxvYWRcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9O1xyXG4gICAgdm0uaW5wdXRJbWc9W107XHJcbiAgICB2bS5pbnB1dEZpbGVzID1bXTtcclxuICAgIHZtLmNsZWFyRGF0YSA9ICgpID0+IHtcclxuICAgICAgdm0uaW5wdXRJbWcgPSBbXVxyXG4gICAgICB2bS5pbnB1dEZpbGVzID0gW11cclxuICAgICAgdm0uc2VsZWN0ZWRVbml0ID0gJydcclxuICAgIH1cclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmdldENvbXBhbnlCeUlkKHZtLnVzZXJEYXRhLmNvbXBhbnlJZClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uY29tcGFueURhdGEgPSByZXNwLmRhdGE7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB2bS5tYXRlcmlhbElkID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgdm0ubVVuaXRzID0gZ2xvYmFscy5tVW5pdHM7XHJcbiAgICBnbG9iYWxzLmdldEN1cnJlbmN5KCkudGhlbihyZXNwID0+IHtcclxuICAgICAgdm0uY3VycmVuY2llcyA9IHJlc3AuZGF0YTtcclxuICAgICAgdm0ubG9hZEN1cnJlbmNpZXMgPSAkcXVlcnkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICByZXNvbHZlKHJlc3AuZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS5zaG93Q29udmVyc2lvblJhdGUgPSAoZnJvbSwgdG8pID0+IHtcclxuICAgICAgJChcIi5sb2FkZXJcIikuc2hvdygpO1xyXG4gICAgICBsZXQgY3VycmVuY3lEYXRhID0ge1xyXG4gICAgICAgIGZyb20sXHJcbiAgICAgICAgdG9cclxuICAgICAgfTtcclxuICAgICAgaWYgKGZyb20pIHtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAuc2hvd0NvbnZlcnNpb25SYXRlKGN1cnJlbmN5RGF0YSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICB2bS5lZGl0TWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvciA9IHJlc3AuZGF0YS5jb252ZXJzaW9uRmFjdG9yO1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgJChcIi5sb2FkZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgIH07XHJcblxyXG4gICAgdm0udGFiQ2hhbmdlID0gKHZhbCkgPT4ge1xyXG4gICAgICBpZiAodmFsID09IDApIHtcclxuXHJcbiAgICAgIH0gZWxzZSBpZiAodmFsID09IDEpIHtcclxuICAgICAgICBpZiAoIXZtLmVkaXRNYXRlcmlhbC5uYW1lKSB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgbWF0ZXJpYWwgbmFtZVwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCF2bS5zZWxlY3RlZFVuaXQpIHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgbWF0ZXJpYWwgdW5pdFwiKTtcclxuICAgICAgICAgIC8qIH0gZWxzZSBpZiAoIXZtLmVkaXRNYXRlcmlhbC5jdXJyZW5jeSkge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IGN1cnJlbmN5XCIpOyAqL1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIikuZXEodmFsKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC50YWItY29udGVudCAudGFiLXBhbmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC50YWItY29udGVudCAudGFiLXBhbmVcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLmVxKHZhbCkuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLmVxKHZhbCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfTtcclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmdldEFsbFN1cHBsaWVycygpXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLnN1cHBsaWVycyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHZtLmVkaXRGbGFnID0gZmFsc2U7XHJcbiAgICB2bS5yZW1vdmVkRmlsZXMgPSBbXTtcclxuICAgICRzY29wZS5nZXRNYXREZXRhaWwgPSAoKSA9PiB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0TWF0ZXJpYWxCeUlkKHZtLm1hdGVyaWFsSWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5tYXRyaWFsRGF0YSA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHZtLm1hdHJpYWxEYXRhKVxyXG4gICAgICAgICAgdm0ubWF0cmlhbE5hbWUgPSB2bS5tYXRyaWFsRGF0YS5uYW1lO1xyXG4gICAgICAgICAgdm0ubWF0cmlhbFVuaXQgPSB2bS5tYXRyaWFsRGF0YS51bml0O1xyXG4gICAgICAgICAgdm0ubWF0cmlhbENvc3QgPSBOdW1iZXIoXHJcbiAgICAgICAgICAgIHZtLm1hdHJpYWxEYXRhLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZVxyXG4gICAgICAgICAgKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgdm0ubWF0cmlhbEN1cnJlbmN5Q29kZSA9XHJcbiAgICAgICAgICAgIHZtLm1hdHJpYWxEYXRhLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC5jdXJyZW5jeUNvZGU7XHJcbiAgICAgICAgICB2bS5tYXRyaWFsUm9vZmVyQ29zdCA9IE51bWJlcihcclxuICAgICAgICAgICAgdm0ubWF0cmlhbERhdGEuY3VycmVudFJhdGUucm9vZmVyQ29zdC52YWx1ZVxyXG4gICAgICAgICAgKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgdm0ubWF0cmlhbFJvb2ZlckN1cnJlbmN5Q29kZSA9XHJcbiAgICAgICAgICAgIHZtLm1hdHJpYWxEYXRhLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QuY3VycmVuY3lDb2RlO1xyXG4gICAgICAgICAgdm0ubWF0cmlhbENyZWF0ZWRCeSA9IHZtLm1hdHJpYWxEYXRhLnByb3ZpZGVyRGF0YS51cGRhdGVkQnkubmFtZTtcclxuICAgICAgICAgIHZtLm1hdHJpYWxDcmVhdGVkQXQgPSB2bS5tYXRyaWFsRGF0YS5jcmVhdGVkQXQ7XHJcbiAgICAgICAgICB2bS5tYXRyaWFsVXBkYXRlZEF0ID0gdm0ubWF0cmlhbERhdGEuY3JlYXRlZEF0O1xyXG4gICAgICAgICAgJHNjb3BlLmdyYXlfYm94ID0gW1xyXG4gICAgICAgICAgICB7ICdpbWcnOiAnL2Fzc2V0cy9pbWFnZXMvVW5pdC1JY29uLnBuZycsICd0aXRsZSc6ICdVbml0JywgJ3ZhbHVlJzogdm0ubWF0cmlhbFVuaXQgfSxcclxuICAgICAgICAgICAgeyAnaW1nJzogJy9hc3NldHMvaW1hZ2VzL0RvbGxhci1JY29uLnBuZycsICd0aXRsZSc6ICdNYXRlcmlhbCBDb3N0JywgJ3ZhbHVlJzogdm0ubWF0cmlhbENvc3QsICdjdXJyZW5jeUNvZGUnOiB2bS5tYXRyaWFsQ3VycmVuY3lDb2RlIH0sXHJcbiAgICAgICAgICAgIHsgJ2ltZyc6ICcvYXNzZXRzL2ltYWdlcy9Eb2xsYXItSWNvbi5wbmcnLCAndGl0bGUnOiAnUm9vZmVyIENvc3QnLCAndmFsdWUnOiB2bS5tYXRyaWFsUm9vZmVyQ29zdCwgJ2N1cnJlbmN5Q29kZSc6IHZtLm1hdHJpYWxSb29mZXJDdXJyZW5jeUNvZGUgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgICAgJHNjb3BlLm5leHRNYWludGFuY2VEYXRlQ2FsYyh2bS5tYXRyaWFsRGF0YS5jcmVhdGVkQXQsIHZtLm1hdHJpYWxEYXRhLm1haW50ZW5hbmNlUGVyaW9kKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAkc2NvcGUuZ2V0TWF0RGV0YWlsKCk7XHJcbiAgICAkc2NvcGUubmV4dE1haW50YW5jZURhdGVDYWxjID0gKGNyZWF0ZWRBdCwgbWFpbnRlbmFuY2VQZXJpb2QpID0+IHtcclxuICAgICAgbGV0IGNyZWF0ZWREYXRlID0gbW9tZW50KGNyZWF0ZWRBdCkuZm9ybWF0KFwiWFwiKTtcclxuICAgICAgbGV0IG5leHRNYWludGFuY2VEYXRlID0gbW9tZW50KGNyZWF0ZWRBdCkuYWRkKG1haW50ZW5hbmNlUGVyaW9kLCBcImRheXNcIikuZm9ybWF0KFwiWFwiKTtcclxuICAgICAgaWYgKGNyZWF0ZWREYXRlIDwgbmV4dE1haW50YW5jZURhdGUpIHtcclxuICAgICAgICB2bS5uZXh0TWFpbnRlbmFuY2VEYXRlID0gbW9tZW50KGNyZWF0ZWRBdCkuYWRkKG1haW50ZW5hbmNlUGVyaW9kLCBcImRheXNcIikuZm9ybWF0KFwiTU1NIERELCBZWVlZXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFsZXJ0KClcclxuICAgICAgICBsZXQgY3JlYXRlZERhdGUxID0gbW9tZW50LnV0YyhjcmVhdGVkQXQpLmFkZChtYWludGVuYW5jZVBlcmlvZCwgXCJkYXlzXCIpLmZvcm1hdCgpXHJcbiAgICAgICAgJHNjb3BlLm5leHRNYWludGFuY2VEYXRlQ2FsYyhjcmVhdGVkRGF0ZTEsIG1haW50ZW5hbmNlUGVyaW9kKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdm0ucmVtb3ZlSW1nID0gKGluZGV4VmFsLCB0eXBlKSA9PiB7XHJcbiAgICAgIGlmICh0eXBlID09ICdtYXRlcmlhbEltZycpIHtcclxuICAgICAgICB2bS5yZW1vdmVkRmlsZXMucHVzaCh2bS5tYXRyaWFsRGF0YS5maWxlcy5pbWFnZXNbaW5kZXhWYWxdLl9pZCk7XHJcbiAgICAgICAgdm0ubWF0ZXJpYWxJbWcuc3BsaWNlKGluZGV4VmFsLCAxKTtcclxuICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdpbWFnZScpIHtcclxuICAgICAgICB2bS5pbnB1dEltZy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ21hdGVyaWFsRG9jdW1lbnQnKSB7XHJcbiAgICAgICAgdm0ucmVtb3ZlZEZpbGVzLnB1c2godm0ubWF0cmlhbERhdGEuZmlsZXMuZG9jc1tpbmRleFZhbF0uX2lkKTtcclxuICAgICAgICB2bS5tYXRlcmlhbEZpbGVzLnNwbGljZShpbmRleFZhbCwgMSk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZG9jdW1lbnQnKSB7XHJcbiAgICAgICAgdm0uaW5wdXRGaWxlcy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgdm0uZGVzY3JpcHRpb25Qb3BvdmVyID0gKGluZGV4VmFsLCB0eXBlKSA9PiB7XHJcbiAgICAgICRzY29wZS5maWxlVHlwZSA9IHR5cGU7XHJcbiAgICAgICRzY29wZS5maWxlSW5kZXggPSBpbmRleFZhbDtcclxuICAgIH1cclxuICAgIHZtLmFkZERlc2NyaXB0aW9uID0gKGluZGV4LCBkYXRhKSA9PiB7XHJcbiAgICAgIGlmICgkc2NvcGUuZmlsZVR5cGUgPT0gJ21hdGVyaWFsSW1nJykge1xyXG4gICAgICAgIHZtLm1hdGVyaWFsSW1nW2luZGV4XS5kZXNjcmlwdGlvbiA9IGRhdGE7XHJcbiAgICAgICAgdm0ubWF0ZXJpYWxJbWdbaW5kZXhdLmFzc2V0RGVzY3JpcHRpb24gPSBkYXRhO1xyXG4gICAgICB9IGVsc2UgaWYgKCRzY29wZS5maWxlVHlwZSA9PSAnaW1hZ2UnKSB7XHJcbiAgICAgICAgdm0uaW5wdXRJbWdbaW5kZXhdLmRlc2NyaXB0aW9uID0gZGF0YTtcclxuICAgICAgfSBlbHNlIGlmICgkc2NvcGUuZmlsZVR5cGUgPT0gJ21hdGVyaWFsRG9jdW1lbnQnKSB7XHJcbiAgICAgICAgdm0ubWF0ZXJpYWxGaWxlc1tpbmRleF0uZGVzY3JpcHRpb24gPSBkYXRhO1xyXG4gICAgICAgIHZtLm1hdGVyaWFsRmlsZXNbaW5kZXhdLmFzc2V0RGVzY3JpcHRpb24gPSBkYXRhO1xyXG4gICAgICB9IGVsc2UgaWYgKCRzY29wZS5maWxlVHlwZSA9PSAnZG9jdW1lbnQnKSB7XHJcbiAgICAgICAgdm0uaW5wdXRGaWxlc1tpbmRleF0uZGVzY3JpcHRpb24gPSBkYXRhO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB2bS5jaGFuZ2VNYWludGVuYW5jZVBlcmlvZCA9IGRheXMgPT4ge1xyXG4gICAgICB2bS5lZGl0TWF0ZXJpYWwubWFpbnRlbmFuY2VEYXRlID0gbW9tZW50KHZtLmVkaXRNYXRlcmlhbC5jcmVhdGVkQXQpXHJcbiAgICAgICAgLmFkZChkYXlzLCBcImRheXNcIilcclxuICAgICAgICAuZm9ybWF0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmVkaXRNYXRlcmlhbEZ1bmN0aW9uID0gdmFsID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSAxKSB7XHJcbiAgICAgICAgLy8gZWRpdCBNYXRlcmlhbFxyXG4gICAgICAgIHZtLmVkaXRGbGFnID0gdHJ1ZTtcclxuICAgICAgICB2bS5lZGl0TWF0ZXJpYWwgPSBhbmd1bGFyLmNvcHkodm0ubWF0cmlhbERhdGEpXHJcbiAgICAgICAgdm0uY2hhbmdlTWFpbnRlbmFuY2VQZXJpb2Qodm0ubWF0cmlhbERhdGEubWFpbnRlbmFuY2VQZXJpb2QpXHJcbiAgICAgICAgdm0uc2VsZWN0ZWRVbml0ID0gdm0uZWRpdE1hdGVyaWFsLnVuaXRcclxuICAgICAgICB2bS5jdXJyZW50Q3VycmVuY3kgPSB2bS5lZGl0TWF0ZXJpYWwuY3VycmVudFJhdGUucm9vZmVyQ29zdC5jdXJyZW5jeUNvZGVcclxuICAgICAgICB2bS5lZGl0TWF0ZXJpYWwuY3VycmVuY3kgPSB2bS5lZGl0TWF0ZXJpYWwuY3VycmVudFJhdGUucm9vZmVyQ29zdC5jdXJyZW5jeUNvZGVcclxuICAgICAgICB2bS5tYXRlcmlhbEltZyA9IHZtLmVkaXRNYXRlcmlhbC5maWxlcy5pbWFnZXM7XHJcbiAgICAgICAgdm0ubWF0ZXJpYWxGaWxlcyA9IHZtLmVkaXRNYXRlcmlhbC5maWxlcy5kb2NzO1xyXG4gICAgICAgIHZtLm1hdGVyaWFsQ29zdFZhbHVlID0gdm0uZWRpdE1hdGVyaWFsLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZVxyXG4gICAgICAgIHZtLnJvb2ZlckNvc3RWYWx1ZSA9IHZtLmVkaXRNYXRlcmlhbC5jdXJyZW50UmF0ZS5yb29mZXJDb3N0LnZhbHVlXHJcbiAgICAgICAgdm0uc2hvd0NvbnZlcnNpb25SYXRlKHZtLmN1cnJlbnRDdXJyZW5jeSwgdm0uZWRpdE1hdGVyaWFsLmN1cnJlbmN5KVxyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5tYXRlcmlhbEltZywgZnVuY3Rpb24gKHgsIGluZGV4KSB7XHJcbiAgICAgICAgICB4LmRlc2NyaXB0aW9uID0gJydcclxuICAgICAgICB9KVxyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5tYXRlcmlhbEZpbGVzLCBmdW5jdGlvbiAoeCwgaW5kZXgpIHtcclxuICAgICAgICAgIHguZGVzY3JpcHRpb24gPSAnJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc29sZS5sb2codm0uZWRpdE1hdGVyaWFsKVxyXG4gICAgICAgICQoJyN0b2RvX21vZGFsLm1hdGVyaWFsX21vZGFsJykubW9kYWwoJ3Nob3cnKVxyXG4gICAgICAgIC8vICQoXCIubWF0ZXJpYWxEZXRhaWwgaW5wdXQsIC5tYXRlcmlhbERldGFpbCBzZWxlY3RcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlICk7XHJcbiAgICAgIH0gZWxzZSBpZiAodmFsID09IDIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh2bS5pbnB1dEltZywgdm0uaW5wdXRGaWxlcylcclxuICAgICAgICAkc2NvcGUudXBsb2FkRmlsZXMgPSBbXS5jb25jYXQodm0uaW5wdXRJbWcsdm0uaW5wdXRGaWxlcyk7XHJcbiAgICAgICAgJHNjb3BlLnVwbG9hZGFsbEZpbGVzID0gW10uY29uY2F0KHZtLmlucHV0SW1nLCB2bS5pbnB1dEZpbGVzLCB2bS5tYXRlcmlhbEltZywgdm0ubWF0ZXJpYWxGaWxlcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLnVwbG9hZGFsbEZpbGVzKVxyXG4gICAgICAgIC8vIHVwZGF0ZSBNYXRlcmlhbFxyXG4gICAgICAgIHZtLmVkaXRGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gJyc7XHJcbiAgICAgICAgaWYgKHZtLmlucHV0SW1nLmxlbmd0aCA+IDAgfHwgdm0uaW5wdXRGaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbiA9ICRzY29wZS51cGxvYWRhbGxGaWxlcy5tYXAoKHgsIGkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBhc3NldERlc2NyaXB0aW9uOiB4LmRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtYXRlcmlhbHVwZGF0ZWRhdGEgPSB7XHJcbiAgICAgICAgICBuYW1lOiB2bS5lZGl0TWF0ZXJpYWwubmFtZSxcclxuICAgICAgICAgIHVuaXQ6IHZtLnNlbGVjdGVkVW5pdCxcclxuICAgICAgICAgIHJlbW92ZWRGaWxlczogdm0ucmVtb3ZlZEZpbGVzLFxyXG4gICAgICAgICAgc3VwcGxpZXJzOiB2bS5lZGl0TWF0ZXJpYWwuc3VwcGxpZXJzLFxyXG4gICAgICAgICAgY3VycmVudFJhdGU6IHtcclxuICAgICAgICAgICAgbWF0ZXJpYWxDb3N0OiB7XHJcbiAgICAgICAgICAgICAgdmFsdWU6IHZtLm1hdGVyaWFsQ29zdFZhbHVlLFxyXG4gICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uZWRpdE1hdGVyaWFsLmN1cnJlbmN5IC8vJHNjb3BlLmNoZWNrTnVsbCgkc2NvcGUubWF0ZXJpYWxPYmoubWF0ZXJpYWxDb3N0Y3VycmVuY3lDb2RlKVtcImNjXCJdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJvb2ZlckNvc3Q6IHtcclxuICAgICAgICAgICAgICB2YWx1ZTogdm0ucm9vZmVyQ29zdFZhbHVlLFxyXG4gICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uZWRpdE1hdGVyaWFsLmN1cnJlbmN5IC8vJHNjb3BlLmNoZWNrTnVsbCgkc2NvcGUubWF0ZXJpYWxPYmoucm9vZmVyQ29zdGN1cnJlbmN5Q29kZSlbXCJjY1wiXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZmlsZXM6ICRzY29wZS51cGxvYWRGaWxlcyxcclxuICAgICAgICAgIGFzc2V0T2JqOiBkZXNjcmlwdGlvblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLnVwZGF0ZU1hdGVyaWFsQnlJZCh2bS5tYXRlcmlhbElkLCBtYXRlcmlhbHVwZGF0ZWRhdGEpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAkKCcjdG9kb19tb2RhbC5tYXRlcmlhbF9tb2RhbCcpLm1vZGFsKCdoaWRlJylcclxuICAgICAgICAgICAgJHNjb3BlLmdldE1hdERldGFpbCgpO1xyXG4gICAgICAgICAgICB2bS5maWxlTmFtZXM9W107XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmZpbGVVcGRhdGVkID0gKGZpbGVzLCBldmVudCkgPT4ge1xyXG4gICAgICBsZXQgZmlsZU9iaiA9IGV2ZW50LnRhcmdldC5maWxlcztcclxuICAgICAgdm0uZmlsZU5hbWVzID0gT2JqZWN0LmtleXMoZmlsZU9iaikubWFwKHggPT4gZmlsZU9ialt4XS5uYW1lKTtcclxuICAgICAgYW5ndWxhci5mb3JFYWNoKGZpbGVzLCBmdW5jdGlvbiAoeCwgaW5kZXgpIHtcclxuICAgICAgICB4LmRlc2NyaXB0aW9uID0gJydcclxuICAgICAgfSlcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW1nU2xpZGVyKCkge1xyXG4gICAgICAkKFwiI2Nhcm91c2VsXCIpLmZsZXhzbGlkZXIoe1xyXG4gICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxyXG4gICAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxyXG4gICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXHJcbiAgICAgICAgaXRlbVdpZHRoOiA3NSxcclxuICAgICAgICBpdGVtTWFyZ2luOiA1LFxyXG4gICAgICAgIGFzTmF2Rm9yOiBcIiNzbGlkZXJcIlxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoXCIjc2xpZGVyXCIpLmZsZXhzbGlkZXIoe1xyXG4gICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxyXG4gICAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxyXG4gICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXHJcbiAgICAgICAgc3luYzogXCIjY2Fyb3VzZWxcIlxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcblxyXG4gIH1cclxuICBcclxuICBcclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwibWVldGluZ1Jvb21DdHJsXCIsIG1lZXRpbmdSb29tQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIG1lZXRpbmdSb29tQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFscyxcclxuICAgIFVwbG9hZCxcclxuICAgIFNCY29tbW9uLFxyXG4gICAgU0JjaGFubmVsXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG5cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gICAgbGV0IHJvb20gPSBTQmNvbW1vbjtcclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmdldEFjY2Vzc01lZXRpbmdSb29tVG9rZW4oKVxyXG4gICAgICAvKiBTdGVwIDEgLSBPYnRhaW4gYWNjZXNzIHRva2VuICovXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHJldHVybiByZXNwLmRhdGEuYWNjZXNzVG9rZW47XHJcbiAgICAgIH0pXHJcbiAgICAgIC8qIFN0ZXAgMiAtIExvZ2luIHVzZXIgKi9cclxuICAgICAgLnRoZW4odG9rZW4gPT4ge1xyXG4gICAgICAgIGlmICghdG9rZW4pIHRocm93IG5ldyBFcnJvcihcIlRva2VuIHVuYXZhaWxhYmxlXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gcm9vbS5jb25uZWN0KFxyXG4gICAgICAgICAgdXNlclN0b3JlLmdldCgpLmVtYWlsLFxyXG4gICAgICAgICAgdG9rZW5cclxuICAgICAgICApO1xyXG4gICAgICB9KVxyXG4gICAgICAvKiBTdGVwIDMgLSBHZXQgY2hhbm5lbCBsaXN0IGFmdGVyIHN1Y2Nlc3NmdWxsIGNvbm5lY3Rpb24gKi9cclxuICAgICAgLnRoZW4oY29ubmVjdGVkVXNlciA9PiB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJDb25uZWN0ZWQgdG8gbWVldGluZyByb29tXCIpO1xyXG4gICAgICAgIHJldHVybiBTQmNoYW5uZWwubGlzdENoYW5uZWxzKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC8qIFN0ZXAgNCAtIEJpbmQgaW5pdGlhbCB2aWV3IHZhcnMgaGVyZSAqL1xyXG4gICAgICAudGhlbihjaGFubmVsTGlzdCA9PiB7XHJcbiAgICAgICAgdm0ubmV3TWVldGluZyA9IHt9O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2hhbm5lbGRhdGFcIiwgY2hhbm5lbExpc3QpO1xyXG4gICAgICAgIHZtLmNoYW5uZWxMaXN0ID0gY2hhbm5lbExpc3Q7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChyb29tLmVycm9yKTtcclxuXHJcbiAgICAvKiBDcmVhdGUgYSBjaGFubmVsICovXHJcblxyXG4gICAgdm0uY3JlYXRlQ2hhbm5lbCA9IGZvcm1EYXRhID0+IHtcclxuICAgICAgU0JjaGFubmVsLmNyZWF0ZUNoYW5uZWwoZm9ybURhdGEubmFtZSwgXCJsZW9AYXNrcHVuZGl0LmNvbVwiKVxyXG4gICAgICAgIC50aGVuKGNoYW5uZWwgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJDcmVhdGVkQ2hhbm5lbFwiLCBjaGFubmVsKTtcclxuICAgICAgICAgIFNCY2hhbm5lbC5saXN0Q2hhbm5lbHMoKS50aGVuKGNoYW5uZWxMaXN0ID0+IHtcclxuICAgICAgICAgICAgdm0uY2hhbm5lbExpc3QgPSBjaGFubmVsTGlzdDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKHJvb20uZXJyb3IpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInBheXJvbGxDdHJsXCIsIHBheXJvbGxDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gcGF5cm9sbEN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgICRsb2NhdGlvbixcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHNcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHsgbG9nb3V0KCk7IH07XHJcblxyXG5cclxuICAgIHZhciB1cmwgPSAkbG9jYXRpb24ucGF0aCgpO1xyXG4gICAgXHJcbiAgICBcclxuICAgICQoJy5wYXlyb2xsTWVudScpLmNzcygnZGlzcGxheScsICdibG9jayAhaW1wb3J0YW50Jyk7XHJcbiAgICBcclxuICAgICQoJy5wYXlyb2xsTGlzdCcpLkRhdGFUYWJsZSgpO1xyXG4gICAgXHJcbiAgICBcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInByZUxvZ2luQ3RybFwiLCBwcmVMb2dpbkN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBwcmVMb2dpbkN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgICRzdGF0ZSxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIGdsb2JhbHMsXHJcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgTmdNYXBcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBwcm9ncmVzcywgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICB2bS5sb2dnZWRJbiA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICAkc3RhdGUuZ28oXCJkYXNoYm9hcmRcIik7XHJcbiAgICAgIHZtLmxvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIEdvb2dsZSBtYXAgY29uZmlnICovXHJcblxyXG4gICAgdm0uZ21hcCA9IHtcclxuICAgICAgdXJsOlxyXG4gICAgICAgIFwiaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP2tleT1BSXphU3lBM01JQS1tS1dxXzYwcTFLMHpPSGd1cmF4VC0xUVB4TlVcIixcclxuICAgICAgc3R5bGVzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMyMTIxMjFcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMuaWNvblwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvZmZcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNzU3NTc1XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuc3Ryb2tlXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMjEyMTIxXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwiYWRtaW5pc3RyYXRpdmVcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNzU3NTc1XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwiYWRtaW5pc3RyYXRpdmUuY291bnRyeVwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzllOWU5ZVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcImFkbWluaXN0cmF0aXZlLmxhbmRfcGFyY2VsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcIm9mZlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcImFkbWluaXN0cmF0aXZlLmxvY2FsaXR5XCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjYmRiZGJkXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicG9pXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNzU3NTc1XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicG9pLnBhcmtcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMTgxODE4XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicG9pLnBhcmtcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM2MTYxNjFcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2kucGFya1wiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuc3Ryb2tlXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMWIxYjFiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZFwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnkuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzJjMmMyY1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWRcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM4YThhOGFcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkLmFydGVyaWFsXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzM3MzczN1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQuaGlnaHdheVwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMzYzNjM2NcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkLmhpZ2h3YXkuY29udHJvbGxlZF9hY2Nlc3NcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNGU0ZTRlXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5sb2NhbFwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzYxNjE2MVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInRyYW5zaXRcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM3NTc1NzVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJ3YXRlclwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMwMDAwMDBcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJ3YXRlclwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzNkM2QzZFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9XHJcbiAgICAgIF0sXHJcbiAgICAgIG1hcmtlcnM6IFtbMjguNzA0MSwgNzcuMTAyNV0sIFsxMy4wODI3LCA4MC4yNzA3XV1cclxuICAgIH07XHJcblxyXG4gICAgTmdNYXAuZ2V0TWFwKCkudGhlbihtYXAgPT4ge1xyXG4gICAgICBtYXAuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgc3R5bGVzOiB2bS5nbWFwLnN0eWxlcyxcclxuICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0cnVlLFxyXG4gICAgICAgIHpvb206IDIsXHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICBsYXQ6IDI4LjcwNDEsXHJcbiAgICAgICAgICBsbmc6IDc3LjEwMjVcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyogTG9naW4gKi9cclxuICAgIC8vICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uIChpc1ZhbGlkKSB7XHJcbiAgICAvLyAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAvLyAgICAgYWxlcnQoKVxyXG4gICAgLy8gICAgIHZhciBmb3JtRGF0YSA9IHtcclxuICAgIC8vICAgICAgIGVtYWlsOiAkc2NvcGUudXNlcm5hbWUsXHJcbiAgICAvLyAgICAgICBwYXNzd29yZDogJHNjb3BlLnBhc3N3b3JkXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKVxyXG4gICAgLy8gICAgIGFwaUZhY3RvcnlcclxuICAgIC8vICAgICAgIC5sb2dpbihmb3JtRGF0YSlcclxuICAgIC8vICAgICAgIC50aGVuKHJlc3AgPT4geyB9KVxyXG4gICAgLy8gICAgICAgLmNhdGNoKGVyciA9PiB7IH0pO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgICB2bS5yZWdzaXRlck1vZGFsID0gKCkgPT4ge1xyXG4gICAgICAkKFwiI2xvZ2luTW9kYWwsICNmb3Jnb3RQYXNzTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAkKFwiI3JlZ2lzdGVyTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgfTtcclxuICAgIHZtLmxvZ2luTW9kYWwgPSAoKSA9PiB7XHJcbiAgICAgICQoXCIjcmVnaXN0ZXJNb2RhbCwgI2ZvcmdvdFBhc3NNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICQoXCIjbG9naW5Nb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICB9O1xyXG4gICAgdm0uZm9yZ290UGFzc01vZGFsID0gKCkgPT4ge1xyXG4gICAgICAkKFwiI2xvZ2luTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAkKFwiI2ZvcmdvdFBhc3NNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmxvZ2luID0gKGlzVmFsaWQsIGZvcm1EYXRhKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKTtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5sb2dpbihmb3JtRGF0YSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICQoXCIjbG9naW5Nb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcIm1vZGFsLW9wZW5cIik7XHJcbiAgICAgICAgICAkKFwiLm1vZGFsLWJhY2tkcm9wXCIpLmhpZGUoKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwiYWNjZXNzLXRva2VuXCIsIHJlc3AuZGF0YS50b2tlbik7XHJcbiAgICAgICAgICB1c2VyU3RvcmUuc2V0KHJlc3AuZGF0YS51c2VyKTtcclxuICAgICAgICAgICRzdGF0ZS5nbyhcImRhc2hib2FyZFwiKTtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiTG9naW4gc3VjY2Vzc1wiKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKGVyci5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5mb3Jnb3RQYXNzID0gKGlzVmFsaWQsIGZvcm1EYXRhKSA9PiB7XHJcbiAgICAgIGlmIChmb3JtRGF0YSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJwbGVhc2UgVmFsaWQgbWFpbCBJZFwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgZGF0YSA9IGZvcm1EYXRhO1xyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5mb3Jnb3RQYXNzd29yZChkYXRhKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICQoXCIjZm9yZ290UGFzc01vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKGVyci5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0ucmVnaXN0ZXIgPSAoaXNWYWxpZCwgZm9ybURhdGEpID0+IHtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5yZWdpc3RyYXRpb24oZm9ybURhdGEpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAkKFwiI3JlZ2lzdGVyTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAkKFwiI3JlZ2lzdGVyTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKGVyci5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zdWJzY3JpYmUgPSBlbWFpbCA9PiB7XHJcbiAgICAgIGxldCBlbWFpbFJlZ2V4ID0gL15cXHcrKFtcXC4tXT9cXHcrKSpAXFx3KyhbXFwuLV0/XFx3KykqKFxcLlxcd3syLDN9KSskLztcclxuICAgICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoZW1haWwpKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiSW52YWxpZCBlbWFpbFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5zdWJzY3JpYmUoeyBlbWFpbDogZW1haWwgfSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLnN1YnNjcmliZUVtYWlsID0gXCJcIjtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKGVyci5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcbiAgKGZ1bmN0aW9uKCQpIHtcclxuICAgICQod2luZG93KS5vbihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICQoXCIjcmVnaXN0ZXJNb2RhbCAubW9kYWwtYm9keVwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtcclxuICAgICAgICBzZXRIZWlnaHQ6IDM0MCxcclxuICAgICAgICB0aGVtZTogXCJtaW5pbWFsLWRhcmtcIlxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJwcm9qZWN0Q3RybFwiLCBwcm9qZWN0Q3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIHByb2plY3RDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgTmdNYXBcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgbGV0IHZtID0gdGhpcztcclxuXHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG5cclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcblxyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcblxyXG4gICAgYXBpRmFjdG9yeVxyXG4gICAgICAubGlzdEFsbFByb2plY3RzKClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwicmVwb3J0RGV0YWlsQ3RybFwiLCByZXBvcnREZXRhaWxDdHJsKTtcclxuXHJcbiAgICBmdW5jdGlvbiByZXBvcnREZXRhaWxDdHJsKFxyXG4gICAgICAgICRzY29wZSxcclxuICAgICAgICAkdGltZW91dCxcclxuICAgICAgICBhdXRoRmFjdG9yeSxcclxuICAgICAgICAkc3RhdGUsXHJcbiAgICAgICAgYXBpRmFjdG9yeSxcclxuICAgICAgICBOb3RpZmljYXRpb24sXHJcbiAgICAgICAgTmdNYXAsXHJcbiAgICAgICAgZ2xvYmFscyxcclxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgICApIHtcclxuICAgICAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgICAgICRzY29wZS5pbWFnZTE9XCIuLi9hc3NldHMvaW1hZ2VzL3JlcG9ydGltZ3MvcmVwLmpwZ1wiO1xyXG4gICAgICAgICRzY29wZS5pbWFnZTI9XCIuLi9hc3NldHMvaW1hZ2VzL3JlcG9ydGltZ3MvZmlsZS5qcGdcIjtcclxuICAgICAgICBjb25zdCB7IGxvZ291dCB9ID0gZ2xvYmFscztcclxuICAgICAgICAkc2NvcGUucmVwb3J0T2JqPXt9O1xyXG4gICAgICAgICRzY29wZS5zaHdDb21tZW50U2VjdGlvbj1mYWxzZTtcclxuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWU9e307XHJcbiAgICAgICAgJHNjb3BlLmlzc3VlVG9BZGQ9W107XHJcbiAgICAgICAgJHNjb3BlLm1vZGVscyA9IHtcclxuICAgICAgICAgIHNlbGVjdGVkOiBudWxsLFxyXG4gICAgICAgICBcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5leHBvcnRUb1BkZiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICBpbWcuc3JjPVwiLi4vYXNzZXRzL2ltYWdlcy9yZXBvcnRpbWdzL3JlcC5qcGdcIjtcclxuICAgICAgICAgIHZhciBpbWcxID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICBpbWcxLnNyYz1cIi4uL2Fzc2V0cy9pbWFnZXMvcmVwb3J0aW1ncy9maWxlLmpwZ1wiO1xyXG4gICAgICAgIHZhciBkb2MgPSBuZXcganNQREYoJ3AnKTtcclxuICAgICAgICB2YXIgb3B0aW9ucyA9IHsgJ2JhY2tncm91bmQnOiAnI2ZmZicgfTtcclxuICAgICAgICBkb2MuYWRkSW1hZ2UoaW1nLCAncG5nJywgMTUsIDIwLCA5MCwgOTApO1xyXG4gICAgICAgIGRvYy5hZGRJbWFnZShpbWcxLCdwbmcnLDExMCwyMCw5MCw5MCk7XHJcbiAgICAgIFxyXG4gICAgICBkb2MuYXV0b1RhYmxlKHtcclxuICAgICAgICBodG1sOiAnI3N0YXRpY3RhYmxlJyxcclxuICAgICAgICBcclxuICAgICAgICBtYXJnaW46IHt0b3A6IDEyMH0sXHJcbiAgICAgICAgcGFnZUJyZWFrOiAnYXV0bycsIC8vICdhdXRvJywgJ2F2b2lkJyBvciAnYWx3YXlzJ1xyXG4gICAgICAgIHRhYmxlV2lkdGg6ICdhdXRvJywgLy8gJ2F1dG8nLCAnd3JhcCcgb3IgYSBudW1iZXIsXHJcbiAgICAgICAgc2hvd0hlYWRlcjogJ2V2ZXJ5UGFnZScsIC8vICdldmVyeVBhZ2UnLCAnZmlyc3RQYWdlJywgJ25ldmVyJywgXHJcbiAgICAgICBcclxuICAgIH0pO1xyXG5cclxuICAgICAgICBkb2Muc2V0Rm9udFNpemUoMjUpO1xyXG4gICAgICAgIGRvYy50ZXh0KDIwLCAxNTAsICdDb21tZW50cycpO1xyXG4gICAgICAgIGRvYy5zZXRGb250U2l6ZSgxMCk7XHJcbiAgICAgICAgZG9jLnNldEZvbnQoXCJoZWx2ZXRpY2FcIik7XHJcbiAgICAgICBcclxuICAgICAgICBkb2MudGV4dCgyMCwgMTYwLCAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgc2VkIGRvIGVpdXNtb2QgdGVtcG9yJyk7XHJcbiAgICAgICAgZG9jLnRleHQoMjAsMTcwLCdpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLiBVdCBlbmltIGFkIG1pbmltIHZlbmlhbSwgcXVpcyBub3N0cnVkIGV4ZXJjaXRhdGlvbiB1bGxhbWNvJyk7XHJcbiAgICAgICAgLy8gZG9jLmFkZEhUTUwoJCgnI3BkZmlkMScpWzBdLDE1LDE1LCBvcHRpb25zLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBkb2MudGV4dCgyMCwxODAsJyBsYWJvcmlzIG5pc2kgdXQgYWxpcXVpcCBleCBlYSBjb21tb2RvIGNvbnNlcXVhdC4nKTtcclxuICAgICAgICAvLyAgIGRvYy5hdXRvVGFibGUoe1xyXG4gICAgICAgIC8vICAgICBoZWFkOiBbWydOYW1lJywgJ0VtYWlsJywgJ0NvdW50cnknXV0sXHJcbiAgICAgICAgLy8gICAgIGJvZHk6IFtcclxuICAgICAgICAvLyAgICAgICAgIFsnRGF2aWQnLCAnZGF2aWRAZXhhbXBsZS5jb20nLCAnU3dlZGVuJ10sXHJcbiAgICAgICAgLy8gICAgICAgICBbJ0Nhc3RpbGxlJywgJ2Nhc3RpbGxlQGV4YW1wbGUuY29tJywgJ05vcndheSddLFxyXG4gICAgICAgIC8vICAgICAgICAgLy8gLi4uXHJcbiAgICAgICAgLy8gICAgIF1cclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAgIGRvYy5zYXZlKFwiY29sdW1uOC5wZGZcIik7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICBcclxuICAgICAgICAgIC8vIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgICAgLy8gICBwYWdlc3BsaXQ6IHRydWUgLy9pbmNsdWRlIHRoaXMgaW4geW91ciBjb2RlXHJcbiAgICAgICAgICAvLyB9O1xyXG4gICAgICAgICAgLy8gdmFyIGRvYyA9IG5ldyBqc1BERigncCcsICdwdCcsICdhNCcpXHJcbiAgICAgICAgICAvLyBkb2MuYWRkSFRNTCgkKCcjcGRmaWQnKSxvcHRpb25zLCB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gICAnYmFja2dyb3VuZCc6ICcjZmZmJyxcclxuICAgICAgICAgIC8vIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgLy8gICBkb2Muc2F2ZSgnc2FtcGxlLWZpbGUucGRmJyk7XHJcbiAgICAgICAgICAvLyB9KTtcclxuICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBQcm9qZWN0IHBpY2tlciBsb2FkIGZ1bmN0aW9uYWxpdHkgKi9cclxuXHJcbiAgICAgICAgICAgIGxldCBlbmFibGVkID0gdHJ1ZSxcclxuICAgICAgICAgICAgY2h1bmtTaXplID0gNTtcclxuICAgICAgICAgICAgdm0uaXNzdWVTZWFyY2ggPSBcIlwiO1xyXG4gICAgICAgICAgICB2bS5lbmFibGVMYXp5TG9hZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2bS5zb3J0UGFyYW1zID0ge1xyXG4gICAgICAgICAgICBmaWVsZDogXCJjcmVhdGVkXCIsXHJcbiAgICAgICAgICAgIHR5cGU6IGZhbHNlXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyAkc2NvcGUub3BlblJlcG9ydFBpY2sgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vICAgdm0uZW5hYmxlTGF6eUxvYWQgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC8vICAgICAubGlzdEFsbElzc3Vlcyh7XHJcbiAgICAgICAgLy8gICAgICAgc2VhcmNoOiB2bS5pc3N1ZVNlYXJjaCxcclxuICAgICAgICAvLyAgICAgICBjaHVuazogY2h1bmtTaXplLFxyXG4gICAgICAgIC8vICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgLy8gICAgICAgc29ydDogdm0uc29ydFBhcmFtcy5maWVsZCxcclxuICAgICAgICAvLyAgICAgICBzb3J0VHlwZTogdm0uc29ydFBhcmFtcy50eXBlXHJcbiAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgLy8gICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIC8vICAgICAgIHZtLmlzc3VlUGlja2VyRGF0YSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgXHJcbiAgICAgICAgLy8gICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgLy8gT3BlbiBpbiB0aGUgbmV4dCBldmVudCBsb29wXHJcbiAgICAgICAgLy8gICAgICAgICAkKFwiI2Nob29zZUlzc3VlTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgIC8vICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgXHJcbiAgICAgICAgJHNjb3BlLm9wZW5SZXBvcnRQaWNrZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgdm0uZW5hYmxlTGF6eUxvYWQgPSB0cnVlO1xyXG4gICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAubGlzdEFsbElzc3Vlcyh7XHJcbiAgICAgICAgICAgICAgc2VhcmNoOiB2bS5pc3N1ZVNlYXJjaCxcclxuICAgICAgICAgICAgICBjaHVuazogY2h1bmtTaXplLFxyXG4gICAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgc29ydDogdm0uc29ydFBhcmFtcy5maWVsZCxcclxuICAgICAgICAgICAgICBzb3J0VHlwZTogdm0uc29ydFBhcmFtcy50eXBlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgdm0uaXNzdWVQaWNrZXJEYXRhPVtdO1xyXG4gICAgICAgICAgICAgIGlmKCRzY29wZS5pc3N1ZVRvQWRkLmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS5pc3N1ZVRvQWRkLmZvckVhY2goZWxlbWVudD0+e1xyXG4gICAgICAgICAgICAgICAgcmVzcC5kYXRhLmxpc3QuZm9yRWFjaCgocmVzZGF0YSxpbmRleCk9PntcclxuICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50Ll9pZD09cmVzZGF0YS5faWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICByZXNwLmRhdGEubGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmYWxzZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIE9wZW4gaW4gdGhlIG5leHQgZXZlbnQgbG9vcFxyXG4gICAgICAgICAgICAgICAgdm0uaXNzdWVQaWNrZXJEYXRhID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkKFwiI2xpc3Rpc3N1ZXNtb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAgICAgICAkKFwiI2Nob29zZUlzc3VlTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkVkaXRNb2RlPWZhbHNlO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKFwiI2Nob29zZUlzc3VlTW9kYWxcIikub24oXCJoaWRlLmJzLm1vZGFsXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdm0uZW5hYmxlTGF6eUxvYWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdm0uY2xvc2VJc3N1ZVBpY2tlciA9ICgpID0+IHtcclxuICAgICAgICAgICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICB2bS5pc3N1ZVNlYXJjaCA9IFwiXCI7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmFkZE1vcmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImNhbGxpbmcgYWRkIG1vcmVcIik7XHJcbiAgICAgICAgICBpZiAoZW5hYmxlZCkge1xyXG4gICAgICAgICAgICBlbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICBlbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICAgICAgY2h1bmtTaXplICs9IDU7XHJcbiAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAubGlzdEFsbElzc3Vlcyh7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2g6IHZtLmlzc3VlU2VhcmNoLFxyXG4gICAgICAgICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcclxuICAgICAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgICBzb3J0OiB2bS5zb3J0UGFyYW1zLmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gdm0uaXNzdWVQaWNrZXJEYXRhID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICB2bS5pc3N1ZVBpY2tlckRhdGE9W107XHJcbiAgICAgICAgICAgICAgaWYoJHNjb3BlLmlzc3VlVG9BZGQubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS5pc3N1ZVRvQWRkLmZvckVhY2goZWxlbWVudD0+e1xyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIHJlc3AuZGF0YS5saXN0LmZvckVhY2goKHJlc2RhdGEsaW5kZXgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5faWQ9PXJlc2RhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgICAgICAgIHJlc3AuZGF0YS5saXN0LnNwbGljZShpbmRleCwxKVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gT3BlbiBpbiB0aGUgbmV4dCBldmVudCBsb29wXHJcbiAgICAgICAgICAgICAgICB2bS5pc3N1ZVBpY2tlckRhdGEgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAgLyogRnVuY3Rpb24gdG8gc2VhcmNoIHByb2plY3RzICovXHJcbiAgICB2bS5zZWFyY2hJc3N1ZXMgPSB0ZXh0ID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJzZXJjaHRleHRcIiwgdGV4dCk7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAubGlzdEFsbElzc3Vlcyh7XHJcbiAgICAgICAgICBzZWFyY2g6IHZtLmlzc3VlU2VhcmNoLFxyXG4gICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcclxuICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICBzb3J0OiB2bS5zb3J0UGFyYW1zLmZpZWxkLFxyXG4gICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5pc3N1ZVBpY2tlckRhdGEgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgLy9BZGQgcmVtYXJrIGJ1dHRvbiBpbiByZXBvcnQtcmVtYXJrcyBwYWdlIGZvcm1cclxuICAgICAgICRzY29wZS5yZW1hcmtEYXRhPVtdO1xyXG4gICAgICAgJHNjb3BlLmFkZFJlbWFyayA9IGZ1bmN0aW9uKHRpdGxlLHZhbHVlKXtcclxuICAgICAgICBpZih0aXRsZSE9dW5kZWZpbmVkfHx2YWx1ZSE9dW5kZWZpbmVkKXtcclxuICAgICAgICAgICRzY29wZS5yZW1hcmtEYXRhLnB1c2goe1RpdGxlOnRpdGxlLCBWYWx1ZTp2YWx1ZX0pO1xyXG4gICAgICAgICAgJCgnI3JlbWFya3RpdGxlJykudmFsKFwiXCIpO1xyXG4gICAgICAgICAgJCgnI3JlbWFya3ZhbHVlJykudmFsKFwiXCIpO1xyXG4gICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAgfSxcclxuXHJcbiAgICAgICB2bS5jaG9vc2VJc3N1ZXMgPSBmdW5jdGlvbihpc3N1ZSxpbmRleCxhcnJheSl7XHJcbiAgICAgICAgLy8kc2NvcGUuY3VycmVudFJlcG9ydD17fTtcclxuICAgICAgICAgaWYoaXNzdWUpe1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJpU1NVRVwiLGlzc3VlKTtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW5kZXhcIixpbmRleCk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkFSUkFZXCIsYXJyYXkpO1xyXG4gICAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICRzY29wZS5pc3N1ZVRvQWRkLnB1c2goaXNzdWUpO1xyXG4gICAgICAgICAgJChcIiNjaG9vc2VJc3N1ZU1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgICQoXCIjbGlzdGlzc3Vlc21vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIk5vIHNlbGVjdGlvblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgdm0uYWRkVG9MaXN0SXNzdWVQaWNrZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgJChcIiNsaXN0aXNzdWVzbW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgICRzY29wZS5zZW5kSXNzdWVUb1BkZiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJChcIiNsaXN0aXNzdWVzbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICRzY29wZS5zaHdDb21tZW50U2VjdGlvbj10cnVlO1xyXG4gICAgICAgfVxyXG4gICAgICAvLyB2bS5jaG9vc2VJc3N1ZXMgPSBmdW5jdGlvbihpc3N1ZSl7XHJcbiAgICAgIC8vICAgJHNjb3BlLmN1cnJlbnRSZXBvcnQ9e307XHJcbiAgICAgIC8vICAgaWYoaXNzdWUpe1xyXG4gICAgICAvLyAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcucGFuZWwnICkgKTtcclxuICAgICAgLy8gICAgIHZhciB0b2JlQ2xvbmVkRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCggZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5jaGlsZCcgKSApO1xyXG4gICAgICAvLyAgICAgcGFyZW50RWxlbWVudC5hcHBlbmQodG9iZUNsb25lZEVsZW1lbnQuY2xvbmUoKSk7XHJcbiAgICAgIC8vICAgICAkc2NvcGUuaXNzdWVUb0FkZC5wdXNoKGlzc3VlKTtcclxuICAgICAgLy8gICAgLy8gJChcIiNjaG9vc2VJc3N1ZU1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgLy8gICAgaWYoJHNjb3BlLmlzc3VlVG9BZGQubGVuZ3RoPj0wKXtcclxuICAgICAgLy8gICAgICRzY29wZS5pc3N1ZVRvQWRkLmZvckVhY2gob25laXNzdWUgPT4ge1xyXG4gICAgICAvLyAgICAgICBpZihfLmlzRXF1YWwob25laXNzdWUsIGlzc3VlKSl7XHJcbiAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJlcXVhbFwiKTtcclxuICAgICAgLy8gICAgICAgICAkc2NvcGUuY3VycmVudFJlcG9ydD1pc3N1ZTtcclxuICAgICAgLy8gICAgICAgfWVsc2V7XHJcbiAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJub3QgZXF1YWxcIik7XHJcbiAgICAgIC8vICAgICAgIH1cclxuICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAvLyAgICB9XHJcbiAgICAgICAgIFxyXG4gICAgICAvLyAgIH1cclxuICAgICAgLy8gICBlbHNle1xyXG4gICAgICAvLyAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiTm8gc2VsZWN0aW9uXCIpO1xyXG4gICAgICAvLyAgIH1cclxuICAgICAgICBcclxuICAgICAgLy8gIH1cclxuICAgIC8vTG9hZCBNb2RhbHNcclxuICAgICAgJHNjb3BlLmNvdmVyUGFnZU1vZGFsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAkKFwiI2NvdmVycGFnZW1vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUuYWJvdXRVc01vZGFsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAkKFwiI2Fib3V0dXNtb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLnByb2plY3RNZXRhTW9kYWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICQoXCIjcHJvamVjdG1ldGFtb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLnJlcG9ydHJlbWFya01vZGFsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAkKFwiI3JlcG9ydHJlbWFya21vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgfVxyXG4gICAgICAvL25ldyBpc3N1ZSBsaXN0aW5nIG1vZGVsXHJcbiAgICAgICRzY29wZS5saXN0SXNzdWVNb2RlbENsaWNrID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAkKFwiI2xpc3Rpc3N1ZXNtb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vc2V0IG9iamVjdCBmb3IgbW9kYWxzXHJcbiAgICAgICRzY29wZS5zZXRSZXBvcnRPYmogPSBmdW5jdGlvbihvYmplY3Qpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG9iamVjdCk7XHJcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLnRpdGxlID0gb2JqZWN0LnRpdGxlO1xyXG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5kZXNjcmlwdGlvbiA9IG9iamVjdC5kZXNjcmlwdGlvbjtcclxuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUuY29tcGFueU5hbWUgPSBvYmplY3QuY29tcGFueU5hbWU7XHJcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLmVtYWlsID0gb2JqZWN0LmVtYWlsO1xyXG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS53ZWJzaXRlID0gb2JqZWN0LndlYnNpdGU7XHJcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLnBob25lID0gb2JqZWN0LnBob25lO1xyXG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5wcm9qZWN0TmFtZSA9IG9iamVjdC5wcm9qZWN0TmFtZTtcclxuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUuc2VyaWFsTm8gPSBvYmplY3Quc2VyaWFsTm87XHJcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLmVudGVycHJpc2UgPSBvYmplY3QuZW50ZXJwcmlzZTtcclxuICAgICAgICBpZigkc2NvcGUuaXNzdWVUb0FkZC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUuaXNzdWVUb0FkZCA9ICRzY29wZS5pc3N1ZVRvQWRkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZigkc2NvcGUucmVtYXJrRGF0YS5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUucmVtYXJrRGF0YT0kc2NvcGUucmVtYXJrRGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLmF1dGhvck5hbWU9b2JqZWN0LmF1dGhvck5hbWU7XHJcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLnJlbWFya0RhdGU9b2JqZWN0LnJlbWFya0RhdGU7XHJcblxyXG4gICAgICAgICQoXCIjY292ZXJwYWdlbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICQoXCIjYWJvdXR1c21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAkKFwiI3Byb2plY3RtZXRhbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICQoXCIjcmVwb3J0cmVtYXJrbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7IFxyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUuRWRpdE1vZGU9ZmFsc2U7XHJcbiAgICAgICRzY29wZS5FZGl0SXNzdWVEYXRhPWZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHNjb3BlLkVkaXRNb2RlPXRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5yZW1vdmVGcm9tSXNzdWVMaXN0PWZ1bmN0aW9uKGluZGV4LGFycmF5KXtcclxuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5pc3N1ZVRvQWRkKTsgXHJcbiAgICAgIH1cclxuICAgICBcclxuICAgICBcclxuICAgICBcclxuICAgIH1cclxufSkoKTsiLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInJlcG9ydHNDdHJsXCIsIHJlcG9ydHNDdHJsKTtcclxuXHJcbiAgICBmdW5jdGlvbiByZXBvcnRzQ3RybChcclxuICAgICAgICAkc2NvcGUsXHJcbiAgICAgICAgJHRpbWVvdXQsXHJcbiAgICAgICAgYXV0aEZhY3RvcnksXHJcbiAgICAgICAgJHN0YXRlLFxyXG4gICAgICAgIGFwaUZhY3RvcnksXHJcbiAgICAgICAgTm90aWZpY2F0aW9uLFxyXG4gICAgICAgIE5nTWFwLFxyXG4gICAgICAgIGdsb2JhbHMsXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgICBcclxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRVc2VyID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJ1c2VyRGF0YVwiKVxyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS5yZXBvcnRDYXRlZ29yeSA9IFsnaXNzdWVSZXBvcnQnLCAnc2FmZXR5UmVwb3J0JywgJ3FhUmVwb3J0J107XHJcbiAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsVXNlcnMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uYWxsQWRtaW5Vc2VycyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAubGlzdEFsbFByb2plY3RzKClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLnByb2plY3RMaXN0ID0gcmVzcC5kYXRhO1xyXG4gICAgICAgICAgLyogSW5pdGlhbGx5IGxvYWQgdGhlIGZpcnN0IHByb2plY3QgYXMgZGVmYXVsdCAqL1xyXG4gICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgKGZ1bmN0aW9uKCQpIHtcclxuICAgICAgICAkKHdpbmRvdykub24oXCJsb2FkXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJChcIiNyZXBvcnRNb2RhbCAubW9kYWwtYm9keVwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtcclxuICAgICAgICAgICAgc2V0SGVpZ2h0OiAzNDAsXHJcbiAgICAgICAgICAgIHRoZW1lOiBcIm1pbmltYWwtZGFya1wiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG59KSgpOyIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInJlcG9ydHNMaXN0aW5nQ3RybFwiLCByZXBvcnRzTGlzdGluZ0N0cmwpO1xyXG5cclxuICBmdW5jdGlvbiByZXBvcnRzTGlzdGluZ0N0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgICRsb2NhdGlvbixcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHNcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHsgbG9nb3V0KCk7IH07XHJcblxyXG5cclxuICAgIHZhciB1cmwgPSAkbG9jYXRpb24ucGF0aCgpO1xyXG4gICAgXHJcbiAgICBpZiAodXJsID09ICcvcGF5cm9sbCcpIHtcclxuICAgICAgJCgnLnBheXJvbGxNZW51JykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrICFpbXBvcnRhbnQnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAkKCcucGF5cm9sbExpc3QnKS5EYXRhVGFibGUoKTtcclxuICAgIFxyXG4gICAgXHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJzZXRQYXNzd29yZEN0cmxcIiwgc2V0UGFzc3dvcmRDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gc2V0UGFzc3dvcmRDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBnbG9iYWxzXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgbGV0IHZtID0gdGhpcztcclxuXHJcbiAgICBjb25zdCB7IHRva2VuIH0gPSAkbG9jYXRpb24uc2VhcmNoKCk7XHJcblxyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXBpRmFjdG9yeVxyXG4gICAgICAuaXNUb2tlblZhbGlkKHsgdG9rZW4gfSlcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTtcclxuICAgICAgICBpZiAocmVzcC5kYXRhLnRva2VuVmFsaWQpIHtcclxuICAgICAgICAgIHZtLnVzZXIgPSByZXNwLmRhdGEudXNlcjtcclxuICAgICAgICAgICQoXCIuZm9yZ290UGFzc01vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJChcIi50b2tlbkludmFsaWRcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB2bS5yZXNldFBhc3MgPSAoaXNWYWxpZCwgZGF0YSkgPT4ge1xyXG4gICAgICAkKFwiLmZvcmdvdFBhc3NNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGlmICh2bS5yZXNldFBhc3MucGFzc3dvcmQgPT09IHZtLnJlc2V0UGFzcy5jX3Bhc3N3b3JkKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICBwYXNzd29yZDogdm0ucmVzZXRQYXNzLnBhc3N3b3JkLFxyXG4gICAgICAgICAgdXNlcjogdm0udXNlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLnNldFBhc3N3b3JkKGRhdGEpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJwcmVMb2dpblwiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGFzc3dvcmQgTWlzbWF0Y2gsIFBsZWFzZSBlbnRlciBzYW1lIHBhc3N3b3JkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgdm0uYmFjayA9ICgpID0+IHtcclxuICAgICAgJChcIi50b2tlbkludmFsaWRcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgJHN0YXRlLmdvKFwicHJlTG9naW5cIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInNldHRpbmdDdHJsXCIsIHNldHRpbmdDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gc2V0dGluZ0N0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICBVcGxvYWRcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUsIGNvbXBhbnlTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgIGlmIChjb21wYW55U3RvcmUuZ2V0KCkpIHtcclxuICAgICAgdm0uY29tcGFueURhdGEgPSBjb21wYW55U3RvcmUuZ2V0KCk7XHJcbiAgICAgIHZtLnByaXZpbGVnZXMgPSB2bS5jb21wYW55RGF0YS5wcml2aWxlZ2VzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5nZXRDb21wYW55QnlJZCh2bS51c2VyRGF0YS5jb21wYW55SWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5jb21wYW55RGF0YSA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgIHZtLnByaXZpbGVnZXMgPSB2bS5jb21wYW55RGF0YS5wcml2aWxlZ2VzO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdm0uc3VibWl0Um9sZVNldHRpbmdzID0gZm9ybURhdGEgPT4ge1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLnVwZGF0ZVJvbGVCYXNlZEFjY2Vzcyhmb3JtRGF0YSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGNvbXBhbnlTdG9yZS5yZWZldGNoKHZtLnVzZXJEYXRhLmNvbXBhbnlJZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5nb1RvRGFzaGJvYXJkID0gKCkgPT4ge1xyXG4gICAgICAkc3RhdGUuZ28oXCJkYXNoYm9hcmRcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJzdWJjb250cmFjdG9yQ3RybFwiLCBzdWJjb250cmFjdG9yQ3RybCk7XHJcblxyXG4gICAgZnVuY3Rpb24gc3ViY29udHJhY3RvckN0cmwoXHJcbiAgICAgICAgJHNjb3BlLFxyXG4gICAgICAgICR0aW1lb3V0LFxyXG4gICAgICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgICAgICRzdGF0ZSxcclxuICAgICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICAgIE5vdGlmaWNhdGlvbixcclxuICAgICAgICBOZ01hcCxcclxuICAgICAgICBnbG9iYWxzLFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZtLnNlbGVjdGVkTWF0ZXJpYWxzPVtdO1xyXG4gICAgICAgIHZtLm1lbWJlcnMyPVtdO1xyXG4gICAgICAgIGNvbnN0IHsgbG9nb3V0LGRlYm91bmNlLCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICAgICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8qKkdldCBhbGwgc3VwcGxpZXJzZGF0YSAqL1xyXG4gICAgICAgICAgdm0uZ2V0U3ViY29udHJhY3RvcnMgPSAodHlwZSkgPT4ge1xyXG4gICAgICAgICAgICAvKiBGb3IgdG9nZ2xpbmcgYXNjZW5kaW5nIGFuZCBkZXNjZW5kaW5nIG9yZGVyICovXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgIC5nZXRBbGxTdWJjb250cmFjdG9ycyh7XHJcbiAgICAgICAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgLy8gc2VhcmNoOiB2bS5zZWFyY2hUZXh0LFxyXG4gICAgICAgICAgICAgICAvLyBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyB2bVtyZXNvdXJjZV09IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgLy8gdm1bcmVzb3VyY2UgKyBcIkNvdW50XCJdID0gcmVzcC5kYXRhLnRvdGFsO1xyXG4gICAgICAgICAgICAgICAgdm0uYWxsU3ViY29udHJhY3RvciA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgdm0uc3ViY29udHJhY3RvcnNDb3VudCA9IHJlc3AuZGF0YS50b3RhbDtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VwcGxpZXJzIGFyZTpcIix2bS5hbGxTdWJjb250cmFjdG9yKTtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuc2VhcmNoaW5nVGV4dD0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICQoXCIjcGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtczogdm0uc3ViY29udHJhY3RvcnNDb3VudCxcclxuICAgICAgICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgICAgICAgICBocmVmVGV4dFByZWZpeDogXCIjXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0QWxsU3ViY29udHJhY3RvcnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29ydFR5cGU6IHZtLnRvZ2dsZU9ialt0eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5hbGxTdWJjb250cmFjdG9yID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgLyogSW5pdGlhbGx5IHNvcnQgaXNzdWUgaW4gZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICAgICAgICB2bS5nZXRTdWJjb250cmFjdG9ycyhcImNyZWF0ZWRcIik7XHJcblxyXG4gICAgICAgICAvL25leHQgYW5kIHByZXZpb3VzIGJ1dHRvbiBmdW5jdGlvbnNcclxuICAgICAgICAgdm0uYWRkU3ViY29udHJhY3Rvck5leHQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBpZigkKCcjaG9tZScpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaG9tZVwiKTtcclxuICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICQoJyNwcm9maWxlLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICQoJyNob21lJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICQoJyNob21lJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIH1lbHNlIGlmKCQoJyNwcm9maWxlLXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcclxuICAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJCgnI2NvbnRhY3QtdGFiJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKCcjY29udGFjdCcpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuICAgICAgIFxyXG5cclxuICAgICAgICB2bS5hZGRTdWJjb250cmFjdG9yUHJldmlvdXM9KCk9PntcclxuICAgICAgICAgIGlmKCQoJyNwcm9maWxlLXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaG9tZVwiKTtcclxuICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfWVsc2UgaWYoJCgnI2NvbnRhY3QtdGFiJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9maWxlXCIpO1xyXG4gICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKCcjcHJvZmlsZS10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgICQoJyNjb250YWN0JykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICBcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vZGVsZXRlIG1hdGVyaWFsIGZyb20gbGlzdFxyXG4gICAgICAgICRzY29wZS5kZWxldGVNYXRlcmlhbCA9IGZ1bmN0aW9uKGluZGV4LGFycmF5KXtcclxuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgICRzY29wZS5kZWxldGVTdGFmZiA9IGZ1bmN0aW9uKGluZGV4LGFycmF5KXtcclxuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgICAvKipJbnNlcnQgZnVuY3Rpb25zICovXHJcbiAgICAgICAgIC8qKkluc2VydCBTdXBwbGllciBmdW5jdGlvbnMgKi9cclxuICAgICAgICAgJHNjb3BlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGZpbGVzKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmKGZpbGVzWzBdID09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgICAgJHNjb3BlLkZJTEVJTUcgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGVzWzBdKTtcclxuICAgICAgICAgICRzY29wZS5maWxlRXh0ID0gZmlsZXNbMF0ubmFtZS5zcGxpdChcIi5cIikucG9wKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2xvYmFscy5nZXRDb3VudHJ5Q29kZSgpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5nZXRDb3VudHJ5Q29kZSA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgXHJcbiAgICAgICAgICB2bS5sb2FkQ291bnRyeUNvZGUgPSAkcXVlcnkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxNYXRlcmlhbHMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uYWxsTWF0ZXJpYWxzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwgPSBmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgIHZtLnNlbGVjdGVkTWF0ZXJpYWxzLnB1c2goaXRlbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2bS5hZGRNZW1iZXIgPSBmdW5jdGlvbihuYW1lKXtcclxuICAgICAgICAgIHZtLm1lbWJlcnMyLnB1c2gobmFtZSk7XHJcbiAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICRzY29wZS5jcmVhdGVTdWJjb250cmFjdG9yID0gZnVuY3Rpb24oc3ViY29udHJhY3Rvcil7XHJcbiAgICAgICAgICBzdWJjb250cmFjdG9yLnN1cHBsaWVzPVtdO3N1YmNvbnRyYWN0b3Iuc3RhZmY9W107XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInN1YmNvbnRyYWN0b3JcIixzdWJjb250cmFjdG9yKTtcclxuICAgICAgICAgIGlmKHZtLnNlbGVjdGVkTWF0ZXJpYWxzLmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgdm0uc2VsZWN0ZWRNYXRlcmlhbHMuZm9yRWFjaChlbGVtZW50PT57XHJcbiAgICAgICAgICAgICAgc3ViY29udHJhY3Rvci5zdXBwbGllcy5wdXNoKGVsZW1lbnQuX2lkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZih2bS5tZW1iZXJzMi5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgIHZtLm1lbWJlcnMyLmZvckVhY2goZWxlbWVudD0+e1xyXG4gICAgICAgICAgICAgIHN1YmNvbnRyYWN0b3Iuc3RhZmYucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInN1YmNvbnRyYWN0b3JcIixzdWJjb250cmFjdG9yKTtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5jcmVhdGVOZXdTdWJjb250cmFjdG9yKHN1YmNvbnRyYWN0b3IpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJTdWItY29udHJhY3RvciBoYXMgYmVlbiBzYXZlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAgIHZtLnN1cHBsaWVyPXt9O1xyXG4gICAgICAgICAgICB2bS5zZWxlY3RlZE1hdGVyaWFscz1bXTtcclxuICAgICAgICAgICAgdm0ubWFtYmVyczI9W107XHJcbiAgICAgICAgICAgICRzY29wZS5pbnB1dEZpbGVzID0gW107XHJcbiAgICAgICAgICAgIHN1YmNvbnRyYWN0b3Iuc3VwcGxpZXM9W107XHJcbiAgICAgICAgICAgIHN1YmNvbnRyYWN0b3Iuc3RhZmY9W107XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkKCcjc3ViLWNvbnRyYWN0b3JfbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICB2bS5nZXRTdWJjb250cmFjdG9ycyhcImNyZWF0ZWRcIik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgLy8gdm0uc3VwcGxpZXI9e307XHJcbiAgICAgICAgICAgIC8vIHZtLnNlbGVjdGVkTWF0ZXJpYWxzPVtdO1xyXG4gICAgICAgICAgICAvLyB2bS5tYW1iZXJzMj1bXTtcclxuICAgICAgICAgICAgLy8gJHNjb3BlLmlucHV0RmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgLy8gc3VwcGxpZXIuc3VwcGxpZXM9W107XHJcbiAgICAgICAgICAgIC8vIHN1cHBsaWVyLnN0YWZmPVtdO1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuY29udHJhY3RzPVtcclxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXHJcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxyXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcclxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXHJcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxyXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfVxyXG4gICAgICAgIF1cclxuICAgIH1cclxuXHJcbiAgICB9KSgpOyIsIigoKSA9PiB7XHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwic3ViY29udHJhY3RvckRldGFpbEN0cmxcIiwgc3ViY29udHJhY3RvckRldGFpbEN0cmwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHN1YmNvbnRyYWN0b3JEZXRhaWxDdHJsKFxyXG4gICAgICAgICRzY29wZSxcclxuICAgICAgICAkdGltZW91dCxcclxuICAgICAgICBhdXRoRmFjdG9yeSxcclxuICAgICAgICAkc3RhdGUsXHJcbiAgICAgICAgJHN0YXRlUGFyYW1zLFxyXG4gICAgICAgIGFwaUZhY3RvcnksXHJcbiAgICAgICAgTm90aWZpY2F0aW9uLFxyXG4gICAgICAgIE5nTWFwLFxyXG4gICAgICAgIGdsb2JhbHMsXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgY29uc3QgeyBsb2dvdXQsdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuXHJcbiAgXHJcbiAgICAgICAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHZtLnN1YmNvbnRyYWN0b3JJZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgICAgICAgICRzY29wZS5nZXRTdWJjb250cmFjdG9yRGV0YWlsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgLmdldFN1YmNvbnRyYWN0b3JCeUlkKHZtLnN1YmNvbnRyYWN0b3JJZClcclxuICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHZtLnN1YmNvbnRyYWN0b3JEYXRhID0gcmVzcC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmdldFN1YmNvbnRyYWN0b3JEZXRhaWwoKTtcclxuICAgICAgfVxyXG5cclxuICAgIH0pKCk7IiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJzdXBwbGllckN0cmxcIiwgc3VwcGxpZXJDdHJsKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzdXBwbGllckN0cmwoXHJcbiAgICAgICRzY29wZSxcclxuICAgICAgJHJvb3RTY29wZSxcclxuICAgICAgJHRpbWVvdXQsXHJcbiAgICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgICAkc3RhdGUsXHJcbiAgICAgIGFwaUZhY3RvcnksXHJcbiAgICAgIE5vdGlmaWNhdGlvbixcclxuICAgICAgZ2xvYmFscyxcclxuICAgICAgZmlsZU1hbmFnZXJGYWN0b3J5LFxyXG4gICAgICBVcGxvYWQsXHJcbiAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uc2VsZWN0ZWRNYXRlcmlhbHM9W107XHJcbiAgICAgICAgdm0ubWVtYmVyczI9W107XHJcbiAgICAgICAgY29uc3QgeyBsb2dvdXQsZGVib3VuY2UsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgICAgICAkc2NvcGUuYWN0aXZlSnVzdGlmaWVkID0gMDtcclxuICAgICBcclxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqR2V0IGFsbCBzdXBwbGllcnNkYXRhICovXHJcbiAgICAgICAgdm0uZ2V0U3VwcGxpZXJzID0gKHR5cGUpID0+IHtcclxuICAgICAgICAgIC8qIEZvciB0b2dnbGluZyBhc2NlbmRpbmcgYW5kIGRlc2NlbmRpbmcgb3JkZXIgKi9cclxuICAgICAgICAgXHJcbiAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmdldEFsbFN1cHBsaWVycyh7XHJcbiAgICAgICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgIC8vIHNlYXJjaDogdm0uc2VhcmNoVGV4dCxcclxuICAgICAgICAgICAgIC8vIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIHZtW3Jlc291cmNlXT0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgLy8gdm1bcmVzb3VyY2UgKyBcIkNvdW50XCJdID0gcmVzcC5kYXRhLnRvdGFsO1xyXG4gICAgICAgICAgICAgIHZtLmFsbFN1cHBsaWVycyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgIHZtLnN1cHBpZXJzQ291bnQgPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdXBwbGllcnMgYXJlOlwiLHZtLmFsbFN1cHBsaWVycyk7XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAvLyAkc2NvcGUuc2VhcmNoaW5nVGV4dD0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3BhZ2luYXRpb25cIikucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zOiB2bS5zdXBwaWVyc0NvdW50LFxyXG4gICAgICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXHJcbiAgICAgICAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAgICAgICAuZ2V0QWxsU3VwcGxpZXJzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzb3J0OiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3R5cGVdXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmFsbFN1cHBsaWVycyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKiBJbml0aWFsbHkgc29ydCBpc3N1ZSBpbiBkZXNjZW5kaW5nIG9yZGVyICovXHJcbiAgICAgICB2bS5nZXRTdXBwbGllcnMoXCJjcmVhdGVkXCIpO1xyXG5cclxuICAgICAgICAvKipJbnNlcnQgU3VwcGxpZXIgZnVuY3Rpb25zICovXHJcbiAgICAgICAgJHNjb3BlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGZpbGVzKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmKGZpbGVzWzBdID09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgICAgJHNjb3BlLkZJTEVJTUcgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGVzWzBdKTtcclxuICAgICAgICAgICRzY29wZS5maWxlRXh0ID0gZmlsZXNbMF0ubmFtZS5zcGxpdChcIi5cIikucG9wKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2xvYmFscy5nZXRDb3VudHJ5Q29kZSgpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5nZXRDb3VudHJ5Q29kZSA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgXHJcbiAgICAgICAgICB2bS5sb2FkQ291bnRyeUNvZGUgPSAkcXVlcnkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxNYXRlcmlhbHMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uYWxsTWF0ZXJpYWxzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwgPSBmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgIHZtLnNlbGVjdGVkTWF0ZXJpYWxzLnB1c2goaXRlbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2bS5hZGRNZW1iZXIgPSBmdW5jdGlvbihuYW1lKXtcclxuICAgICAgICAgIHZtLm1lbWJlcnMyLnB1c2gobmFtZSk7XHJcbiAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICBcclxuXHJcbiAgICAgICAgdm0uYWRkU3VwcGxpZXJOZXh0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgaWYoJCgnI2hvbWUnKS5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImhvbWVcIik7XHJcbiAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAkKCcjcHJvZmlsZS10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICB9ZWxzZSBpZigkKCcjcHJvZmlsZS10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInByb2ZpbGVcIik7XHJcbiAgICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoJyNjb250YWN0LXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgICQoJyNjb250YWN0JykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZtLmFkZFN1cHBsaWVyUHJldmlvdXM9KCk9PntcclxuICAgICAgICAgIGlmKCQoJyNwcm9maWxlLXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaG9tZVwiKTtcclxuICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfWVsc2UgaWYoJCgnI2NvbnRhY3QtdGFiJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9maWxlXCIpO1xyXG4gICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKCcjcHJvZmlsZS10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgICQoJyNjb250YWN0JykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAgLy9kZWxldGUgbWF0ZXJpYWwgZnJvbSBsaXN0XHJcbiAgICAgICAgICRzY29wZS5kZWxldGVNYXRlcmlhbCA9IGZ1bmN0aW9uKGluZGV4LGFycmF5KXtcclxuICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgIH1cclxuICBcclxuICAgICAgICAgJHNjb3BlLmRlbGV0ZVN0YWZmID0gZnVuY3Rpb24oaW5kZXgsYXJyYXkpe1xyXG4gICAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuY3JlYXRlU3VwcGxpZXIgPSBmdW5jdGlvbihzdXBwbGllcil7XHJcbiAgICAgICAgICBzdXBwbGllci5zdXBwbGllcz1bXTtzdXBwbGllci5zdGFmZj1bXTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VwcGxpZXJcIixzdXBwbGllcik7XHJcbiAgICAgICAgICBpZih2bS5zZWxlY3RlZE1hdGVyaWFscy5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgIHZtLnNlbGVjdGVkTWF0ZXJpYWxzLmZvckVhY2goZWxlbWVudD0+e1xyXG4gICAgICAgICAgICAgIHN1cHBsaWVyLnN1cHBsaWVzLnB1c2goZWxlbWVudC5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmKHZtLm1lbWJlcnMyLmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgdm0ubWVtYmVyczIuZm9yRWFjaChlbGVtZW50PT57XHJcbiAgICAgICAgICAgICAgc3VwcGxpZXIuc3RhZmYucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInN1cHBsaWVyXCIsc3VwcGxpZXIpO1xyXG4gICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLmNyZWF0ZU5ld1N1cHBsaWVyKHN1cHBsaWVyKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiU3VwcGxpZXIgaGFzIGJlZW4gc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgICB2bS5zdXBwbGllcj17fTtcclxuICAgICAgICAgICAgdm0uc2VsZWN0ZWRNYXRlcmlhbHM9W107XHJcbiAgICAgICAgICAgIHZtLm1hbWJlcnMyPVtdO1xyXG4gICAgICAgICAgICAkc2NvcGUuaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICBzdXBwbGllci5zdXBwbGllcz1bXTtcclxuICAgICAgICAgICAgc3VwcGxpZXIuc3RhZmY9W107XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkKCcjc3VwcGxpZXJfbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICB2bS5nZXRTdXBwbGllcnMoXCJjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIC8vIHZtLnN1cHBsaWVyPXt9O1xyXG4gICAgICAgICAgICAvLyB2bS5zZWxlY3RlZE1hdGVyaWFscz1bXTtcclxuICAgICAgICAgICAgLy8gdm0ubWFtYmVyczI9W107XHJcbiAgICAgICAgICAgIC8vICRzY29wZS5pbnB1dEZpbGVzID0gW107XHJcbiAgICAgICAgICAgIC8vIHN1cHBsaWVyLnN1cHBsaWVzPVtdO1xyXG4gICAgICAgICAgICAvLyBzdXBwbGllci5zdGFmZj1bXTtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmNvbnRyYWN0cz1bXHJcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxyXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcclxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXHJcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxyXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcclxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ31cclxuICAgICAgICBdXHJcbiAgICB9XHJcblxyXG4gICAgfSkoKTsiLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInN1cHBsaWVyRGV0YWlsQ3RybFwiLCBzdXBwbGllckRldGFpbEN0cmwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHN1cHBsaWVyRGV0YWlsQ3RybChcclxuICAgICAgICAkc2NvcGUsXHJcbiAgICAgICAgJHRpbWVvdXQsXHJcbiAgICAgICAgYXV0aEZhY3RvcnksXHJcbiAgICAgICAgJHN0YXRlLFxyXG4gICAgICAgICRzdGF0ZVBhcmFtcyxcclxuICAgICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICAgIE5vdGlmaWNhdGlvbixcclxuICAgICAgICBOZ01hcCxcclxuICAgICAgICBnbG9iYWxzLFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgbG9nb3V0LHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcblxyXG4gIFxyXG4gICAgICAgICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2bS5zdXBwbGllcklkID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgICAgICAgJHNjb3BlLmdldFN1cHBsaWVyRGV0YWlsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgLmdldFN1cHBsaWVyQnlJZCh2bS5zdXBwbGllcklkKVxyXG4gICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm0uc3VwcGxpZXJEYXRhID0gcmVzcC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmdldFN1cHBsaWVyRGV0YWlsKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9KSgpOyIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInRvZG9DdHJsXCIsIHRvZG9DdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gdG9kb0N0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICBVcGxvYWRcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgJHNjb3BlLnRvZG9fbGlzdCA9IFtcclxuICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9Uby1Eby1JY29uLnBuZycsIHN1YnRpdGxlOiAnMS4nLCB0aXRsZTogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQsc2VkIGRvIGVpdXNtb2QgdGVtcG9yLicsIHdvcms6ICdJbiAxIEhvdXInLCBjbGFzc25hbWU6ICdyZWQtY29sb3InIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvVG8tRG8tSWNvbi5wbmcnLCBzdWJ0aXRsZTogJzIuJywgdGl0bGU6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCxjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LHNlZCBkbyBlaXVzbW9kIHRlbXBvci4nLCB3b3JrOiAnSW4gMSBEYXknLCBjbGFzc25hbWU6ICd5ZWxsb3ctY29sb3InIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvVG8tRG8tSWNvbi5wbmcnLCBzdWJ0aXRsZTogJzMuJywgdGl0bGU6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCxjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LHNlZCBkbyBlaXVzbW9kIHRlbXBvci4nLCB3b3JrOiAnSW4gMSBXZWVrJywgY2xhc3NuYW1lOiAnZ3JlZW4tY29sb3InIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvVG8tRG8tSWNvbi5wbmcnLCBzdWJ0aXRsZTogJzQuJywgdGl0bGU6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCxjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LHNlZCBkbyBlaXVzbW9kIHRlbXBvci4nLCB3b3JrOiAnSW4gMiBXZWVrcycsIGNsYXNzbmFtZTogJ2dyYXktY29sb3InIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvVG8tRG8tSWNvbi5wbmcnLCBzdWJ0aXRsZTogJzUuJywgdGl0bGU6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCxjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LHNlZCBkbyBlaXVzbW9kIHRlbXBvci4nLCB3b3JrOiAnSW4gMyBXZWVrcycsIGNsYXNzbmFtZTogJ2dyYXktY29sb3InIH0sXHJcbiAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvVG8tRG8tSWNvbi5wbmcnLCBzdWJ0aXRsZTogJzYuJywgdGl0bGU6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCxjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LHNlZCBkbyBlaXVzbW9kIHRlbXBvci4nLCB3b3JrOiAnSW4gNCBXZWVrcycsIGNsYXNzbmFtZTogJ2dyYXktY29sb3InIH1cclxuICAgIF1cclxuXHJcbiAgICBcclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gICAgXHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInRvZG9WaWV3Q3RybFwiLCB0b2RvVmlld0N0cmwpO1xyXG5cclxuICBmdW5jdGlvbiB0b2RvVmlld0N0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICBVcGxvYWRcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgJHNjb3BlLnRvZG9fbGlzdCA9IFtcclxuICAgICAgICB7IGltZzogJy9hc3NldHMvaW1hZ2VzL1RvLURvLUljb24ucG5nJywgc3VidGl0bGU6ICcxLicsIHRpdGxlOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdCxzZWQgZG8gZWl1c21vZCB0ZW1wb3IuJywgd29yazogJ0luIDEgSG91cicsIGNsYXNzbmFtZTogJ3JlZC1jb2xvcicgfSxcclxuICAgICAgICB7IGltZzogJy9hc3NldHMvaW1hZ2VzL1RvLURvLUljb24ucG5nJywgc3VidGl0bGU6ICcyLicsIHRpdGxlOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdCxzZWQgZG8gZWl1c21vZCB0ZW1wb3IuJywgd29yazogJ0luIDEgRGF5JywgY2xhc3NuYW1lOiAneWVsbG93LWNvbG9yJyB9LFxyXG4gICAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvVG8tRG8tSWNvbi5wbmcnLCBzdWJ0aXRsZTogJzMuJywgdGl0bGU6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCxjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LHNlZCBkbyBlaXVzbW9kIHRlbXBvci4nLCB3b3JrOiAnSW4gMSBXZWVrJywgY2xhc3NuYW1lOiAnZ3JlZW4tY29sb3InIH0sXHJcbiAgICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9Uby1Eby1JY29uLnBuZycsIHN1YnRpdGxlOiAnNC4nLCB0aXRsZTogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQsc2VkIGRvIGVpdXNtb2QgdGVtcG9yLicsIHdvcms6ICdJbiAyIFdlZWtzJywgY2xhc3NuYW1lOiAnZ3JheS1jb2xvcicgfSxcclxuICAgICAgICB7IGltZzogJy9hc3NldHMvaW1hZ2VzL1RvLURvLUljb24ucG5nJywgc3VidGl0bGU6ICc1LicsIHRpdGxlOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdCxzZWQgZG8gZWl1c21vZCB0ZW1wb3IuJywgd29yazogJ0luIDMgV2Vla3MnLCBjbGFzc25hbWU6ICdncmF5LWNvbG9yJyB9LFxyXG4gICAgICAgIHsgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvVG8tRG8tSWNvbi5wbmcnLCBzdWJ0aXRsZTogJzYuJywgdGl0bGU6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCxjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LHNlZCBkbyBlaXVzbW9kIHRlbXBvci4nLCB3b3JrOiAnSW4gNCBXZWVrcycsIGNsYXNzbmFtZTogJ2dyYXktY29sb3InIH1cclxuICAgIF1cclxuXHJcbiAgICBcclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gICAgXHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJ2aXN1YWxQbGFubmVyQ3RybFwiLCB2aXN1YWxQbGFubmVyQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIHZpc3VhbFBsYW5uZXJDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgY29tbW9uVlBGYWN0b3J5LFxyXG4gICAgdG9vbHNWUEZhY3RvcnksXHJcbiAgICBzaGFwZXNWUEZhY3RvcnksXHJcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgZXZlbnRzVlBGYWN0b3J5LFxyXG4gICAgbGF5ZXJzVlBGYWN0b3J5XHJcbiAgKSB7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG5cclxuICAgIC8qIERyYWcgYW5kIGRyb3AgKi9cclxuICAgIC8vIGRyYWdFbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlkaXZcIikpO1xyXG4gICAgJChcIi5kcmFnX2VsZW1lbnRcIikubW91c2Vkb3duKGZ1bmN0aW9uKCkge1xyXG4gICAgICBkcmFnRWxlbWVudChcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgLmNsb3Nlc3QoXCJkaXZcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiKVxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyYWdFbGVtZW50KGVsbW50LCBlKSB7XHJcbiAgICAgIHZhciBwb3MxID0gMCxcclxuICAgICAgICBwb3MyID0gMCxcclxuICAgICAgICBwb3MzID0gMCxcclxuICAgICAgICBwb3M0ID0gMDtcclxuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsbW50LmlkICsgXCJoZWFkZXJcIikpIHtcclxuICAgICAgICAvKiBpZiBwcmVzZW50LCB0aGUgaGVhZGVyIGlzIHdoZXJlIHlvdSBtb3ZlIHRoZSBESVYgZnJvbToqL1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICAgICAgZWxtbnQuaWQgKyBcImhlYWRlclwiXHJcbiAgICAgICAgKS5vbm1vdXNlZG93biA9IGRyYWdNb3VzZURvd247XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLyogb3RoZXJ3aXNlLCBtb3ZlIHRoZSBESVYgZnJvbSBhbnl3aGVyZSBpbnNpZGUgdGhlIERJVjoqL1xyXG4gICAgICAgIGVsbW50Lm9ubW91c2Vkb3duID0gZHJhZ01vdXNlRG93bjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gZHJhZ01vdXNlRG93bihlKSB7XHJcbiAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAvLyBnZXQgdGhlIG1vdXNlIGN1cnNvciBwb3NpdGlvbiBhdCBzdGFydHVwOlxyXG4gICAgICAgIHBvczMgPSBlLmNsaWVudFg7XHJcbiAgICAgICAgcG9zNCA9IGUuY2xpZW50WTtcclxuICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBjbG9zZURyYWdFbGVtZW50O1xyXG4gICAgICAgIC8vIGNhbGwgYSBmdW5jdGlvbiB3aGVuZXZlciB0aGUgY3Vyc29yIG1vdmVzOlxyXG4gICAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZWxlbWVudERyYWc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGVsZW1lbnREcmFnKGUpIHtcclxuICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbjpcclxuICAgICAgICBwb3MxID0gcG9zMyAtIGUuY2xpZW50WDtcclxuICAgICAgICBwb3MyID0gcG9zNCAtIGUuY2xpZW50WTtcclxuICAgICAgICBwb3MzID0gZS5jbGllbnRYO1xyXG4gICAgICAgIHBvczQgPSBlLmNsaWVudFk7XHJcbiAgICAgICAgLy8gc2V0IHRoZSBlbGVtZW50J3MgbmV3IHBvc2l0aW9uOlxyXG4gICAgICAgIGVsbW50LnN0eWxlLnRvcCA9IGVsbW50Lm9mZnNldFRvcCAtIHBvczIgKyBcInB4XCI7XHJcbiAgICAgICAgZWxtbnQuc3R5bGUubGVmdCA9IGVsbW50Lm9mZnNldExlZnQgLSBwb3MxICsgXCJweFwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjbG9zZURyYWdFbGVtZW50KCkge1xyXG4gICAgICAgIC8qIHN0b3AgbW92aW5nIHdoZW4gbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkOiovXHJcbiAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcclxuICAgICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBkcmFnIGFuZCBkcm9wIC1lbmQgKi9cclxuXHJcbiAgICAvKiBBdXRob3JpemUgdXNlciAqL1xyXG4gICAgdmFyIHVzZXJQcmVzZW50ID0gYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCk7XHJcbiAgICBpZiAoIXVzZXJQcmVzZW50KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgY29udGVudEVsZW1lbnQ6ICcjdmlzdWFsUGxhbm5lckRpYWxvZycsXHJcbiAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogZmFsc2UsXHJcbiAgICAgICAgZXNjYXBlVG9DbG9zZTogZmFsc2VcclxuICAgICAgfSk7ICovXHJcblxyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIC8vIFdhaXQgZm9yIHRoZSBkb2N1bWVudCB0byBsb2FkIGJlZm9yZSBzZXR0aW5nIHVwIHRoZSBjYW52YXMgc3RhZ2VcclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFxyXG4gICAgICAgIFByZWxvYWQgZnVuY3Rpb25hbGl0eVxyXG4gICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHZtLmhpZGVJbml0TW9kYWwgPSBmYWxzZTtcclxuXHJcbiAgICB2bS5yb29mUGxhbnMgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcInJvb2ZQbGFuc1wiKTtcclxuXHJcbiAgICB2bS5zZWxlY3RQbGFuID0gZnVuY3Rpb24ocGxhbikge1xyXG4gICAgICB2bS5zZWxlY3RlZFBsYW4gPSBwbGFuLl9pZDtcclxuICAgICAgbG9hZFBsYW5uZXIocGxhbik7XHJcbiAgICAgIHZtLmhpZGVJbml0TW9kYWwgPSB0cnVlO1xyXG4gICAgfTtcclxuICAgIHZtLnNlbGVjdFBsYW4obG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJzZWxlY3RlZFBsYW5cIikpO1xyXG4gICAgLy8gdm0uY2hvb3NlUGxhbiA9IGZ1bmN0aW9uKHBsYW5JZCkge1xyXG4gICAgLy8gICB2YXIgcGxhbiA9IHZtLnJvb2ZQbGFucy5maWx0ZXIoZnVuY3Rpb24oeCkge1xyXG4gICAgLy8gICAgIHJldHVybiB4Ll9pZCA9PT0gcGxhbklkO1xyXG4gICAgLy8gICB9KVswXTtcclxuICAgIC8vICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgLy8gICB2bS5zZWxlY3RQbGFuKHBsYW4pO1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvLyB2bS5jaG9vc2VQbGFuKGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwic2VsZWN0ZWRQbGFuXCIpKTtcclxuXHJcbiAgICB2bS5jbG9zZVZpc3VhbFBsYW5uZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAkc3RhdGUuZ28oXCJkYXNoYm9hcmRcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFxyXG4gICAgICAgRW5kIG9mIFByZWxvYWQgZnVuY3Rpb25hbGl0eVxyXG4gICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkUGxhbm5lcihyb29mUGxhbikge1xyXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcclxuICAgICAgICAgIEVzc2VudGlhbCB2YXJzXHJcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgIC8qIEhlbHBlciB2YXJzICovXHJcblxyXG4gICAgICB2YXIgbG9hZEZyb21Kc29uID0gcm9vZlBsYW4ucGxhbm5lckRhdGFcclxuICAgICAgICA/IHJvb2ZQbGFuLnBsYW5uZXJEYXRhLmluaXRpYWxpemVkXHJcbiAgICAgICAgICA/IHRydWVcclxuICAgICAgICAgIDogZmFsc2VcclxuICAgICAgICA6IGZhbHNlO1xyXG5cclxuICAgICAgLyogRXhwb3NlIHNoYXBlIHNlbGVjdGlvbiBtZXRob2RkcyAqL1xyXG5cclxuICAgICAgdmFyIHNlbGVjdGVkU2hhcGUgPSBjb21tb25WUEZhY3Rvcnkuc2VsZWN0ZWRTaGFwZSgpO1xyXG5cclxuICAgICAgLyogQ29sb3IgcGlja2VyIGNvbmZpZyAqL1xyXG5cclxuICAgICAgdmFyIGNvbG9yUGlja2VyID0gdG9vbHNWUEZhY3RvcnkuY29sb3JQaWNrZXIoKTtcclxuICAgICAgLyogbWFrZSB0aGlzIG9iamVjdCBhdmFpbGFibGUgdG8gc2hhcGUgZmFjdG9yeSBzbyBpdCBjYW4gZmV0Y2ggdGhlIHByb3BzICovXHJcbiAgICAgIHNoYXBlc1ZQRmFjdG9yeS5nZXRTaGFwZVRvb2xzKGNvbG9yUGlja2VyKTtcclxuXHJcbiAgICAgIHZtLnNoYXBlUHJvcHMgPSB7XHJcbiAgICAgICAgY29sb3JUeXBlOiBcInN0cm9rZUNvbG9yXCIsXHJcbiAgICAgICAgc3Ryb2tlQ29sb3I6IFwicmdiYSgwICwwICwgMCAsIDEpXCIsXHJcbiAgICAgICAgZmlsbENvbG9yOiBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC41NylcIixcclxuICAgICAgICBzdHJva2VXaWR0aDogMVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogQ29sb3IgUGlja2VyIE9wdGlvbnMgKi9cclxuXHJcbiAgICAgIHZtLmNwT3B0aW9ucyA9IHtcclxuICAgICAgICBzd2F0Y2g6IHRydWUsXHJcbiAgICAgICAgaW5wdXRDbGFzczogXCJoLTMwXCIsXHJcbiAgICAgICAgZm9ybWF0OiBcInJnYlwiLFxyXG4gICAgICAgIGNhc2U6IFwibG93ZXJcIixcclxuICAgICAgICBhbHBoYTogdHJ1ZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogQ29sb3IgUGlja2VyIEV2ZW50cyAqL1xyXG4gICAgICB2bS5jcEV2ZW50cyA9IHtcclxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24oYXBpLCBjb2xvciwgJGV2ZW50KSB7XHJcbiAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICBvYmouc3Ryb2tlID0gdm0uc2hhcGVQcm9wcy5zdHJva2VDb2xvcjtcclxuICAgICAgICAgIG9iai5maWxsID0gdm0uc2hhcGVQcm9wcy5maWxsQ29sb3I7XHJcbiAgICAgICAgICBjb2xvclBpY2tlci5zZXQob2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBib3VuZCB0byBuZyBjaGFuZ2Ugb2YgdGhlIHNsaWRlciAqL1xyXG4gICAgICB2bS5jaGFuZ2VTdHJva2VXaWR0aCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbG9yUGlja2VyLnNldCh7XHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogdm0uc2hhcGVQcm9wcy5zdHJva2VXaWR0aFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogRW5kIG9mIGNvbG9yIHBpY2tlciBjb25maWcgKi9cclxuXHJcbiAgICAgIC8qIENyZWF0aW5nIHRoZSBzdGFnZSAqL1xyXG5cclxuICAgICAgdmFyIHN0YWdlID0gY29tbW9uVlBGYWN0b3J5LmNyZWF0ZVN0YWdlKFxyXG4gICAgICAgIFwic3RhZ2VcIixcclxuICAgICAgICB7XHJcbiAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcclxuICAgICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcm9vZlBsYW4ucGxhbm5lckRhdGFcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8qIENoZWNrIGlmIHJvb2ZQbGFucyBoYXMgZXhpc3RpbmcgZHJhd2luZ3MgKi9cclxuXHJcbiAgICAgIHZhciBzdGFnZUV2ZW50cyA9IGV2ZW50c1ZQRmFjdG9yeS5zdGFnZUV2ZW50cyhzdGFnZSk7XHJcblxyXG4gICAgICBzdGFnZUV2ZW50cy5yZWdpc3RlcihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvKiByZWdpc3RlciBtb3VzZSBtb3ZlIGV2ZW50IGZvciBzdGFnZSAqL1xyXG4gICAgICAgIHZtLnBvaW50ZXJQb3NpdGlvbiA9IHtcclxuICAgICAgICAgIHg6IHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLngsXHJcbiAgICAgICAgICB5OiBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS55XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLyogSW5pdGlhbGl6aW5nIGRyYXcgc3RhdGUgKi9cclxuXHJcbiAgICAgIHZhciBkcmF3U3RhdGUgPSBjb21tb25WUEZhY3RvcnkuZHJhd1N0YXRlKCk7XHJcblxyXG4gICAgICAkc2NvcGUuJG9uKFwiZHJhd1N0YXRlQ2hhbmdlXCIsIGZ1bmN0aW9uKGUsIGRyYXdTdGF0ZXMpIHtcclxuICAgICAgICB2bS5jdXJyZW50RHJhd1N0YXRlID0gZHJhd1N0YXRlcztcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvKiBDcmVhdGluZyB0aGUgYmFzZSBsYXllciAqL1xyXG4gICAgICB2YXIgYmFzZUxheWVyID0gbG9hZEZyb21Kc29uXHJcbiAgICAgICAgPyBzdGFnZS5nZXRDaGlsZHJlbigpWzBdXHJcbiAgICAgICAgOiBsYXllcnNWUEZhY3RvcnkuY3JlYXRlTGF5ZXIoc3RhZ2UpO1xyXG5cclxuICAgICAgdmFyIHByb2Nlc3NTdG9yZSA9IGxheWVyc1ZQRmFjdG9yeS5pbml0aWF0ZVByb2Nlc3Moc3RhZ2UsIGJhc2VMYXllcik7XHJcblxyXG4gICAgICB2YXIgc2VsZWN0aW9uU3RvcmUgPSBjb21tb25WUEZhY3Rvcnkuc2VsZWN0aW9uU3RvcmUoKTtcclxuXHJcbiAgICAgIC8qIEluaXRpYWxpemluZyB0cmFuc2Zvcm1lciBzdG9yZSBmb3Igc2hhcGVzICovXHJcblxyXG4gICAgICB2YXIgdHJhbnNmb3JtZXJTdG9yZSA9IGNvbW1vblZQRmFjdG9yeS50cmFuc2Zvcm1lcnMoYmFzZUxheWVyKTtcclxuXHJcbiAgICAgIC8qIEFkZGluZyByb29mIHBsYW4gaW1hZ2UgdG8gdGhlIGJhc2UgbGF5ZXIgKi9cclxuXHJcbiAgICAgIC8qICBJbml0aWFsaXppbmcgY2FsaWJyYXRvciAqL1xyXG5cclxuICAgICAgdmFyIGNhbGlicmF0b3IgPSBzaGFwZXNWUEZhY3RvcnkuY2FsaWJyYXRvcihzdGFnZSwgYmFzZUxheWVyKTtcclxuXHJcbiAgICAgIHZhciBjYWxpYnJhdGlvblN0YXRlID0gY29tbW9uVlBGYWN0b3J5LmNhbGlicmF0aW9uU3RhdGUoKTtcclxuXHJcbiAgICAgIC8qIEluaXRpYWxpemluZyBtZXRyaWMgZnVuY3Rpb24gKi9cclxuXHJcbiAgICAgIHZhciBtZXRyaWNzID0gdG9vbHNWUEZhY3RvcnkubWV0cmljcygpO1xyXG5cclxuICAgICAgdm0uc2hvd1BhbmVsID0gZmFsc2U7XHJcbiAgICAgIHZtLnpvb21MZXZlbCA9IDEwMDtcclxuICAgICAgdm0uc2hhcGVJbmZvO1xyXG5cclxuICAgICAgLyogU2V0dGluZyB1cCB0aGUgY2FsaWJyYXRpb24gYW5kIGxheWVycyB2YWx1ZSB0byBiaW5kIGl0IGluIHRoZSB2aWV3ICovXHJcbiAgICAgIGlmIChsb2FkRnJvbUpzb24pIHtcclxuICAgICAgICBpZiAocm9vZlBsYW4ucGxhbm5lckRhdGEgJiYgcm9vZlBsYW4ucGxhbm5lckRhdGEuY2FsaWJyYXRpb24pIHtcclxuICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuc2V0KHJvb2ZQbGFuLnBsYW5uZXJEYXRhLmNhbGlicmF0aW9uKTtcclxuICAgICAgICAgIC8qIExvYWQgUHJvY2VzcyBpZiBhdmFpbGFibGUgKi9cclxuICAgICAgICAgIHZhciBsb2FkZWRQcm9jZXNzZXMgPSBzdGFnZVxyXG4gICAgICAgICAgICAuZ2V0Q2hpbGRyZW4oKVswXVxyXG4gICAgICAgICAgICAuZ2V0Q2hpbGRyZW4oKVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gL3Byb2Nlc3MqLy50ZXN0KHgubmFtZSgpKSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpZiAobG9hZGVkUHJvY2Vzc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmxvYWRQcm9jZXNzZXMobG9hZGVkUHJvY2Vzc2VzKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5jcmVhdGVQcm9jZXNzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocm9vZlBsYW4ucGxhbm5lckRhdGEgJiYgcm9vZlBsYW4ucGxhbm5lckRhdGEuY291bnREYXRhKSB7XHJcbiAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkubG9hZFNoYXBlSWQocm9vZlBsYW4ucGxhbm5lckRhdGEuY291bnREYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJvY2Vzc1N0b3JlLmNyZWF0ZVByb2Nlc3MoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogQmluZGluZyBjYWxpYnJhdGlvbiBkYXRhIHRvIHZpZXcgKi9cclxuICAgICAgdm0uY2FsaWJyYXRpb25EYXRhID0gY2FsaWJyYXRpb25TdGF0ZS5nZXQoKTtcclxuXHJcbiAgICAgIHZtLmZvcm1hdENhbGlicmF0aW9uID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbC50b0ZpeGVkKDMpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogQmluZGluZyBwcm9jZXNzIGRhdGEgdG8gdmlldyAqL1xyXG4gICAgICB2bS5wcm9jZXNzZXMgPSBwcm9jZXNzU3RvcmUuZ2V0UHJvY2Vzc2VzKCk7XHJcblxyXG4gICAgICAvKiBJbml0aWFsaXppbmcgYXNzb2NpYXRpb25zIG1vZHVsZSAqL1xyXG5cclxuICAgICAgdm0uYXNzb2NpYXRpb25zID0gY29tbW9uVlBGYWN0b3J5LmFzc29jaWF0aW9ucygpO1xyXG5cclxuICAgICAgLyogSW5pdGlhbGl6aW5nIHJvb2YgcGxhbiBpbWFnZSAqL1xyXG5cclxuICAgICAgdmFyIGltYWdlT2JqID0gbmV3IEltYWdlKCk7XHJcbiAgICAgIGltYWdlT2JqLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcclxuXHJcbiAgICAgIGlmIChyb29mUGxhbi5wbGFubmVyRGF0YSAmJiByb29mUGxhbi5wbGFubmVyRGF0YS5qc29uU3RyaW5nKSB7XHJcbiAgICAgICAgaW1hZ2VPYmouc3JjID0gcm9vZlBsYW4uYXNzZXRPYmoudXJsO1xyXG4gICAgICAgIGltYWdlT2JqLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGltYWdlQ29udGFpbmVyID0gYmFzZUxheWVyLmdldChcIiNiZ0ltYWdlXCIpWzBdO1xyXG4gICAgICAgICAgaW1hZ2VDb250YWluZXIuaW1hZ2UoaW1hZ2VPYmopO1xyXG5cclxuICAgICAgICAgIHZtLmltYWdlUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHg6IE1hdGgucm91bmQoaW1hZ2VDb250YWluZXIud2lkdGgoKSksXHJcbiAgICAgICAgICAgIHk6IE1hdGgucm91bmQoaW1hZ2VDb250YWluZXIuaGVpZ2h0KCkpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgc3RhZ2UuZHJhdygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW1hZ2VPYmouc3JjID0gcm9vZlBsYW4uYXNzZXRPYmoudXJsO1xyXG5cclxuICAgICAgICBpbWFnZU9iai5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIC8qIFNldHRpbmcgaW1hZ2UgcHJvcHMgKi9cclxuICAgICAgICAgIHZhciBpbWFnZUhlaWdodCA9IE1hdGgucm91bmQoc3RhZ2UuaGVpZ2h0KCkgLSA3NSk7XHJcbiAgICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBpbWFnZU9iai5oZWlnaHQgLyBpbWFnZUhlaWdodDtcclxuICAgICAgICAgIHZhciBpbWFnZVdpZHRoID0gTWF0aC5yb3VuZChpbWFnZU9iai53aWR0aCAvIGFzcGVjdFJhdGlvKTtcclxuXHJcbiAgICAgICAgICB2bS5pbWFnZVByb3BzID0ge1xyXG4gICAgICAgICAgICB4OiBpbWFnZVdpZHRoLFxyXG4gICAgICAgICAgICB5OiBpbWFnZUhlaWdodFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2YXIgYmdJbWFnZSA9IG5ldyBLb252YS5JbWFnZSh7XHJcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZU9iaixcclxuICAgICAgICAgICAgbmFtZTogXCJiZ0ltYWdlXCIsXHJcbiAgICAgICAgICAgIGlkOiBcImJnSW1hZ2VcIixcclxuICAgICAgICAgICAgaGVpZ2h0OiBpbWFnZUhlaWdodCxcclxuICAgICAgICAgICAgc2hhZG93T2Zmc2V0WDogMSxcclxuICAgICAgICAgICAgc2hhZG93T2Zmc2V0WTogMSxcclxuICAgICAgICAgICAgc2hhZG93T3BhY2l0eTogMC41LFxyXG4gICAgICAgICAgICB4OiBzdGFnZS53aWR0aCgpIC8gMiAtIGltYWdlV2lkdGggLyAyLFxyXG4gICAgICAgICAgICAvKiBDZW50ZXJpbmcgdGhlIGltYWdlIG9uIHRoZSBzdGFnZSAqL1xyXG4gICAgICAgICAgICB5OiAyMCxcclxuICAgICAgICAgICAgd2lkdGg6IGltYWdlV2lkdGhcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGJnSW1hZ2Uub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vIGFkZCB0aGUgc2hhcGUgdG8gdGhlIGxheWVyXHJcbiAgICAgICAgICBiYXNlTGF5ZXIuYWRkKGJnSW1hZ2UpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIC8vIG1vdmUgQkcgbGF5ZXIgdG8gYm90dG9tXHJcbiAgICAgICAgICBiYXNlTGF5ZXIubW92ZVRvQm90dG9tKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogSW5pdGlhdGluZyBhY3Rpb24gc3RhdGVzIGZvciB1bmRvIGFuZCByZWRvICovXHJcbiAgICAgIHZhciBhY3Rpb25TdGF0ZXMgPSBjb21tb25WUEZhY3RvcnkuYWN0aW9uU3RhdGVzKCk7XHJcblxyXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcclxuICAgICAgICAgIEVuZCBvZiBlc3NlbnRpYWwgdmFyc1xyXG4gICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogXHJcbiAgICAgICAgICBSZWdpc3RlcmluZyBldmVudHMgXHJcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgIHZhciB3aW5kb3dFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS53aW5kb3dFdmVudHMod2luZG93KTtcclxuICAgICAgd2luZG93RXZlbnQucmVnaXN0ZXIoc3RhZ2UpO1xyXG4gICAgICB2bS5oaXN0b3J5UG9zID0ge1xyXG4gICAgICAgIHg6IHVuZGVmaW5lZCxcclxuICAgICAgICB5OiB1bmRlZmluZWRcclxuICAgICAgfTtcclxuICAgICAgLyogRXZlbnQgbGlzdGVuZXIgZm9yIHpvb20gZnVuY3Rpb25hbGl0eSAqL1xyXG5cclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIHNjYWxlQnkgPSAxLjE1O1xyXG5cclxuICAgICAgICAvKiBEaXNhYmxlIHNjcm9sbCBvbmx5IG9uIHZpc3VhbCBwbGFubmVyIHN0YXRlICovXHJcbiAgICAgICAgJHN0YXRlLiRjdXJyZW50Lm5hbWUgPT09IFwidmlzdWFsUGxhbm5lclwiICYmXHJcbiAgICAgICAgICAvKiBBbHNvIGFsbG93IHNjcm9sbCBpbnNpZGUgcG9wLXVwcyAqL1xyXG4gICAgICAgICAgIS9tb2RhbC1vcGVuLy50ZXN0KFxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0uY2xhc3NOYW1lXHJcbiAgICAgICAgICApICYmXHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIC8qIENlbnRlciBwb3NpdGlvbiAqL1xyXG5cclxuICAgICAgICB2YXIgY2VudGVyWSA9IE1hdGgucm91bmQoc3RhZ2UuaGVpZ2h0KCkgLyAyKSxcclxuICAgICAgICAgIGNlbnRlclggPSBNYXRoLnJvdW5kKHN0YWdlLndpZHRoKCkgLyAyKTtcclxuXHJcbiAgICAgICAgaWYgKGUuY3RybEtleSkge1xyXG4gICAgICAgICAgdmFyIG9sZFNjYWxlID0gYmFzZUxheWVyLnNjYWxlWCgpO1xyXG4gICAgICAgICAgdmFyIG1vdXNlUG9pbnRUbyA9IHtcclxuICAgICAgICAgICAgeDpcclxuICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS54IC8gb2xkU2NhbGUgLVxyXG4gICAgICAgICAgICAgIGJhc2VMYXllci54KCkgLyBvbGRTY2FsZSxcclxuICAgICAgICAgICAgeTpcclxuICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS55IC8gb2xkU2NhbGUgLSBiYXNlTGF5ZXIueSgpIC8gb2xkU2NhbGVcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdmFyIG5ld1NjYWxlID0gZS5kZWx0YVkgPCAwID8gb2xkU2NhbGUgKiBzY2FsZUJ5IDogb2xkU2NhbGUgLyBzY2FsZUJ5O1xyXG4gICAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcclxuICAgICAgICAgICAgeDogbmV3U2NhbGUsXHJcbiAgICAgICAgICAgIHk6IG5ld1NjYWxlXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB2YXIgbmV3UG9zID0ge1xyXG4gICAgICAgICAgICB4OlxyXG4gICAgICAgICAgICAgIC0obW91c2VQb2ludFRvLnggLSBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS54IC8gbmV3U2NhbGUpICpcclxuICAgICAgICAgICAgICBuZXdTY2FsZSxcclxuICAgICAgICAgICAgeTpcclxuICAgICAgICAgICAgICAtKG1vdXNlUG9pbnRUby55IC0gc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCkueSAvIG5ld1NjYWxlKSAqXHJcbiAgICAgICAgICAgICAgbmV3U2NhbGVcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLyogQ2hhbmdlIGltYWdlIHJlc29sdXRpb24gd2l0aCBzY2FsZSAqL1xyXG4gICAgICAgICAgdmFyIGltYWdlUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHk6IE1hdGgucm91bmQoYmFzZUxheWVyLmZpbmQoXCIjYmdJbWFnZVwiKVswXS5oZWlnaHQoKSAqIG5ld1NjYWxlKSxcclxuICAgICAgICAgICAgeDogTWF0aC5yb3VuZChiYXNlTGF5ZXIuZmluZChcIiNiZ0ltYWdlXCIpWzBdLndpZHRoKCkgKiBuZXdTY2FsZSlcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2bS5pbWFnZVByb3BzID0gaW1hZ2VQcm9wcztcclxuXHJcbiAgICAgICAgICB2bS56b29tTGV2ZWwgPSBNYXRoLnJvdW5kKGJhc2VMYXllci5zY2FsZSgpLnggKiAxMDApO1xyXG4gICAgICAgICAgdG9vbHNWUEZhY3Rvcnkuc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tKGJhc2VMYXllcik7XHJcblxyXG4gICAgICAgICAgLy8gYWRkaW5nIHpvb20gbGV2ZWwgZm9yIGRpc3BsYXlcclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5wb3NpdGlvbihuZXdQb3MpO1xyXG4gICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSBcIkNBTlZBU1wiKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuY2FuY2VsRHJhd2luZygpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvKiBab29tIHVzaW5nIGJ1dHRvbiAqL1xyXG5cclxuICAgICAgdm0uem9vbUJ1dHRvbiA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICAvLyAwIC0gaW4gLCAxIC0gb3V0XHJcblxyXG4gICAgICAgIHZhciBjZW50ZXJZID0gTWF0aC5yb3VuZChzdGFnZS5oZWlnaHQoKSAvIDIpLFxyXG4gICAgICAgICAgY2VudGVyWCA9IE1hdGgucm91bmQoc3RhZ2Uud2lkdGgoKSAvIDIpO1xyXG4gICAgICAgIHZhciBzY2FsZUJ5ID0gMS4xNTtcclxuICAgICAgICB2YXIgb2xkU2NhbGUgPSBiYXNlTGF5ZXIuc2NhbGVYKCk7XHJcbiAgICAgICAgdmFyIG1vdXNlUG9pbnRUbyA9IHtcclxuICAgICAgICAgIHg6IGNlbnRlclggLyBvbGRTY2FsZSAtIGJhc2VMYXllci54KCkgLyBvbGRTY2FsZSxcclxuICAgICAgICAgIHk6IGNlbnRlclkgLyBvbGRTY2FsZSAtIGJhc2VMYXllci55KCkgLyBvbGRTY2FsZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIG5ld1NjYWxlID0gdHlwZSA+IDAgPyBvbGRTY2FsZSAqIHNjYWxlQnkgOiBvbGRTY2FsZSAvIHNjYWxlQnk7XHJcbiAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcclxuICAgICAgICAgIHg6IG5ld1NjYWxlLFxyXG4gICAgICAgICAgeTogbmV3U2NhbGVcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgbmV3UG9zID0ge1xyXG4gICAgICAgICAgeDogLShtb3VzZVBvaW50VG8ueCAtIGNlbnRlclggLyBuZXdTY2FsZSkgKiBuZXdTY2FsZSxcclxuICAgICAgICAgIHk6IC0obW91c2VQb2ludFRvLnkgLSBjZW50ZXJZIC8gbmV3U2NhbGUpICogbmV3U2NhbGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKiBDaGFuZ2UgaW1hZ2UgcmVzb2x1dGlvbiB3aXRoIHNjYWxlICovXHJcbiAgICAgICAgdmFyIGltYWdlUHJvcHMgPSB7XHJcbiAgICAgICAgICB5OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0uaGVpZ2h0KCkgKiBuZXdTY2FsZSksXHJcbiAgICAgICAgICB4OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0ud2lkdGgoKSAqIG5ld1NjYWxlKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdm0uaW1hZ2VQcm9wcyA9IGltYWdlUHJvcHM7XHJcbiAgICAgICAgdG9vbHNWUEZhY3Rvcnkuc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tKGJhc2VMYXllcik7XHJcbiAgICAgICAgdm0uem9vbUxldmVsID0gTWF0aC5yb3VuZChiYXNlTGF5ZXIuc2NhbGUoKS54ICogMTAwKTtcclxuXHJcbiAgICAgICAgYmFzZUxheWVyLnBvc2l0aW9uKG5ld1Bvcyk7XHJcbiAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS56b29tU2xpZGVyID0gZnVuY3Rpb24ocGVyY2VudGFnZSkge1xyXG4gICAgICAgIHZhciBjZW50ZXJZID0gTWF0aC5yb3VuZChzdGFnZS5oZWlnaHQoKSAvIDIpLFxyXG4gICAgICAgICAgY2VudGVyWCA9IE1hdGgucm91bmQoc3RhZ2Uud2lkdGgoKSAvIDIpO1xyXG5cclxuICAgICAgICB2YXIgb2xkU2NhbGUgPSBiYXNlTGF5ZXIuc2NhbGVYKCk7XHJcbiAgICAgICAgdmFyIG1vdXNlUG9pbnRUbyA9IHtcclxuICAgICAgICAgIHg6IGNlbnRlclggLyBvbGRTY2FsZSAtIGJhc2VMYXllci54KCkgLyBvbGRTY2FsZSxcclxuICAgICAgICAgIHk6IGNlbnRlclkgLyBvbGRTY2FsZSAtIGJhc2VMYXllci55KCkgLyBvbGRTY2FsZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBuZXdTY2FsZSA9IHBlcmNlbnRhZ2UgLyAxMDA7XHJcbiAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcclxuICAgICAgICAgIHg6IG5ld1NjYWxlLFxyXG4gICAgICAgICAgeTogbmV3U2NhbGVcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgbmV3UG9zID0ge1xyXG4gICAgICAgICAgeDogLShtb3VzZVBvaW50VG8ueCAtIGNlbnRlclggLyBuZXdTY2FsZSkgKiBuZXdTY2FsZSxcclxuICAgICAgICAgIHk6IC0obW91c2VQb2ludFRvLnkgLSBjZW50ZXJZIC8gbmV3U2NhbGUpICogbmV3U2NhbGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKiBDaGFuZ2UgaW1hZ2UgcmVzb2x1dGlvbiB3aXRoIHNjYWxlICovXHJcbiAgICAgICAgdmFyIGltYWdlUHJvcHMgPSB7XHJcbiAgICAgICAgICB5OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0uaGVpZ2h0KCkgKiBuZXdTY2FsZSksXHJcbiAgICAgICAgICB4OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0ud2lkdGgoKSAqIG5ld1NjYWxlKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdm0uaW1hZ2VQcm9wcyA9IGltYWdlUHJvcHM7XHJcbiAgICAgICAgdG9vbHNWUEZhY3Rvcnkuc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tKGJhc2VMYXllcik7XHJcbiAgICAgICAgdm0uem9vbUxldmVsID0gTWF0aC5yb3VuZChiYXNlTGF5ZXIuc2NhbGUoKS54ICogMTAwKTtcclxuXHJcbiAgICAgICAgYmFzZUxheWVyLnBvc2l0aW9uKG5ld1Bvcyk7XHJcbiAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBmdW5jdGlvbiB0byByZXNldCB6b29tICovXHJcblxyXG4gICAgICB2bS5yZXNldFpvb20gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2bS56b29tTGV2ZWwgPSAxMDA7XHJcbiAgICAgICAgYmFzZUxheWVyLnBvc2l0aW9uKHtcclxuICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICB5OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcclxuICAgICAgICAgIHg6IDEsXHJcbiAgICAgICAgICB5OiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgYmFzZUxheWVyRXZlbnQgPSBldmVudHNWUEZhY3RvcnkubGF5ZXJFdmVudHMoYmFzZUxheWVyKTtcclxuXHJcbiAgICAgIC8qIERlZmF1bHQgYmFzZWxheWVyIGNsaWNrIGV2ZW50ICovXHJcbiAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT09IFwiSW1hZ2VcIikge1xyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICAgIHZtLmNsb3NlSW5mb1dpZGdldCgpO1xyXG4gICAgICAgICAgdm0uY2xvc2VUZXh0SW5mb1dpZGdldCgpO1xyXG4gICAgICAgICAgc2VsZWN0ZWRTaGFwZS5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvKiBFdmVudCB3cmFwcGVycyAqL1xyXG5cclxuICAgICAgZnVuY3Rpb24gcmVjdGFuZ2xlRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBzaGFwZVR5cGUsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgcmVjdGFuZ2xlRXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoXHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZVxyXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBzaGFwZSAqL1xyXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xyXG4gICAgICAgICAgLyogRG8gbm90IGNyZWF0ZSBwcm9jZXNzIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUgZnJvbSBqc29uICovXHJcbiAgICAgICAgICB2YXIgY3VycmVudFByb2Nlc3MgPSBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnNoYXBlKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBpbml0aWF0aW5nIGN1c3RvbSB0cmFuc2Zvcm1lcnMgKi9cclxuICAgICAgICB2YXIgY3VzdG9tVHJhbnNmb3JtZXIgPSB0b29sc1ZQRmFjdG9yeS5jdXN0b21UcmFuc2Zvcm1lcihcclxuICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgYmFzZUxheWVyLFxyXG4gICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGUsXHJcbiAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci5zZXQoc2hhcGVPYmplY3Quc2hhcGUucG9pbnRzKCkpO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGN1c3RvbVRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xyXG5cclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgUmVnaXN0ZXJpbmcgYSBkcmFnbW92ZSBtZXRob2QgdG8gYmluZCBkcmFnbW92ZSBhbmQgY2xpY2sgZXZlbnQgdG8gdGhlIGN1c3RvbSB0cmFuc2Zvcm1lclxyXG4gICAgICAgICAgKi9cclxuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcImRyYWdtb3ZlLlwiICsgc2hhcGVUeXBlLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xyXG4gICAgICAgICAgICB4OiBzaGFwZU9iamVjdC5zaGFwZS54KCksXHJcbiAgICAgICAgICAgIHk6IHNoYXBlT2JqZWN0LnNoYXBlLnkoKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIFxyXG4gICAgICAgICAgICBSZWdpc3RlcmluZyBjdXN0b20gdHJhbnNmb3JtZXIgZXZlbnQgdG8gdGhlIGNyZWF0ZWQgcG9seWdvblxyXG4gICAgICAgICAgKi9cclxuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybVBvbHlnb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcblxyXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xyXG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5wb2x5Z29uQXJlYShzaGFwZU9iamVjdC5zaGFwZS5wb2ludHMoKSwgc2NhbGUpLFxyXG4gICAgICAgICAgICB1bml0OiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnVuaXRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcclxuXHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZS5wb2ludHMoY3VzdG9tVHJhbnNmb3JtZXIuZ2V0UG9pbnRzKCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBFbmFibGUgdHJhbnNmb3JtZXIgb24gc2VsZWN0ICovXHJcbiAgICAgICAgcmVjdGFuZ2xlRXZlbnQucmVnaXN0ZXIoXCJjbGljay5cIiArIHNoYXBlVHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZS5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqZWN0LnNoYXBlKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xyXG4gICAgICAgICAgICB4OiBzaGFwZU9iamVjdC5zaGFwZS54KCksXHJcbiAgICAgICAgICAgIHk6IHNoYXBlT2JqZWN0LnNoYXBlLnkoKVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdm0ub3BlbkluZm9XaWRnZXQoKTtcclxuICAgICAgICAgIHZhciBzY2FsZSA9XHJcbiAgICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWUgPT09IDBcclxuICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgIDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZTtcclxuXHJcbiAgICAgICAgICBtZXRyaWNzLnNldFNoYXBlSW5mbyh7XHJcbiAgICAgICAgICAgIGFyZWE6IHRvb2xzVlBGYWN0b3J5LnBvbHlnb25BcmVhKHNoYXBlT2JqZWN0LnNoYXBlLnBvaW50cygpLCBzY2FsZSksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xyXG4gICAgICAgICAgdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmFkZChjdXN0b21UcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIFxyXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHZhciBtb3ZlbWVudCA9IGNvbW1vblZQRmFjdG9yeS5tb3ZlbWVudCgpO1xyXG5cclxuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5cIiArIHNoYXBlVHlwZSwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxyXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRQb3NpdGlvbigpXHJcbiAgICAgICAgICApOyAvKiBHcmFiYmluZyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbW92ZW1lbnQgKi9cclxuICAgICAgICB9KTtcclxuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcImRyYWdlbmQuXCIgKyBzaGFwZVR5cGUsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIC8qIHB1c2hpbmcgdGhlIG1vdmVtZW50IHRvIGFjdGlvblN0YXRlIGFmdGVyIHRoZSBlbmQgcG9zaXRpb24gKi9cclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgIFwibW92ZVwiLFxyXG4gICAgICAgICAgICAgIG1vdmVtZW50LmFkZChlLnRhcmdldC5nZXRQb3NpdGlvbigpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBlbGxpcHNlRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBzaGFwZVR5cGUsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgZWxsaXBzZUV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKFxyXG4gICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGVcclxuICAgICAgICApOyAvKiBDcmVhdGUgYW4gZXZlbnQgb2JqIGZvciB0aGUgZWxsaXBzZSAqL1xyXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xyXG4gICAgICAgICAgLyogRG8gbm90IGNyZWF0ZSBwcm9jZXNzIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUgZnJvbSBqc29uICovXHJcbiAgICAgICAgICB2YXIgY3VycmVudFByb2Nlc3MgPSBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnNoYXBlKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogRWxsaXBzZSB0cmFuc2Zvcm1lciBzZXR1cCAqL1xyXG5cclxuICAgICAgICB2YXIgZWxsaXBzZVRyYW5zZm9tZXIgPSB0b29sc1ZQRmFjdG9yeS5lbGxpcHNlVHJhbnNmb21lcihcclxuICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgYmFzZUxheWVyLFxyXG4gICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBlbGxpcHNlVHJhbnNmb21lci5zZXQoc2hhcGVPYmplY3Quc2hhcGUucmFkaXVzKCkpO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGVsbGlwc2VUcmFuc2ZvbWVyLmdldEdyb3VwKCkpO1xyXG5cclxuICAgICAgICBlbGxpcHNlRXZlbnQucmVnaXN0ZXIoXCJkcmFnbW92ZS5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGVsbGlwc2VUcmFuc2ZvbWVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgIGVsbGlwc2VUcmFuc2ZvbWVyID0gdG9vbHNWUEZhY3RvcnkuZWxsaXBzZVRyYW5zZm9tZXIoXHJcbiAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICBiYXNlTGF5ZXIsXHJcbiAgICAgICAgICAgIHNoYXBlT2JqZWN0LnNoYXBlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgZWxsaXBzZVRyYW5zZm9tZXIuc2V0KHNoYXBlT2JqZWN0LnNoYXBlLnJhZGl1cygpKTtcclxuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGVsbGlwc2VUcmFuc2ZvbWVyLmdldEdyb3VwKCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlbGxpcHNlRXZlbnQucmVnaXN0ZXIoXCJjbGljay5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnNoYXBlLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIC8qIHJlbW92ZSBvdGhlciB0cmFuc2Zvcm1lcnMgKi9cclxuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5zaGFwZSk7XHJcbiAgICAgICAgICB2bS5vcGVuSW5mb1dpZGdldCgpO1xyXG4gICAgICAgICAgLyogQXJlYSBjYWxjdWxhdGlvbiAqL1xyXG4gICAgICAgICAgdmFyIHNjYWxlID1cclxuICAgICAgICAgICAgY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZSA9PT0gMFxyXG4gICAgICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgOiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlO1xyXG5cclxuICAgICAgICAgIG1ldHJpY3Muc2V0U2hhcGVJbmZvKHtcclxuICAgICAgICAgICAgYXJlYTogdG9vbHNWUEZhY3RvcnkuZWxsaXBzZUFyZWEoc2hhcGVPYmplY3Quc2hhcGUucmFkaXVzKCksIHNjYWxlKSxcclxuICAgICAgICAgICAgdW5pdDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS51bml0XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBlbGxpcHNlVHJhbnNmb21lci5kZXN0cm95KCk7XHJcbiAgICAgICAgICBlbGxpcHNlVHJhbnNmb21lciA9IHRvb2xzVlBGYWN0b3J5LmVsbGlwc2VUcmFuc2ZvbWVyKFxyXG4gICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgYmFzZUxheWVyLFxyXG4gICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGVsbGlwc2VUcmFuc2ZvbWVyLnNldChzaGFwZU9iamVjdC5zaGFwZS5yYWRpdXMoKSk7XHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChlbGxpcHNlVHJhbnNmb21lci5nZXRHcm91cCgpKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcblxyXG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcclxuICAgICAgICAgIHZtLnNob3dQYW5lbCA9IHRydWU7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVsbGlwc2VFdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybUVsbGlwc2VcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgLyogQXJlYSBjYWxjdWxhdGlvbiAqL1xyXG5cclxuICAgICAgICAgIHZhciBzY2FsZSA9XHJcbiAgICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWUgPT09IDBcclxuICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgIDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZTtcclxuXHJcbiAgICAgICAgICBtZXRyaWNzLnNldFNoYXBlSW5mbyh7XHJcbiAgICAgICAgICAgIGFyZWE6IHRvb2xzVlBGYWN0b3J5LmVsbGlwc2VBcmVhKHNoYXBlT2JqZWN0LnNoYXBlLnJhZGl1cygpLCBzY2FsZSksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcclxuICAgICAgICAgIHZtLnNob3dQYW5lbCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIERyYWdzdGFydCBhbmQgZHJhZ2VuZCBtb3ZlbWVudHMgZm9yIHVuZG8vcmVkbyBzdGF0ZXNcclxuICAgICAgICAgICovXHJcbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XHJcblxyXG4gICAgICAgIGVsbGlwc2VFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWxsaXBzZUV2ZW50LnJlZ2lzdGVyKFwiZHJhZ2VuZC5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIC8qIHB1c2hpbmcgdGhlIG1vdmVtZW50IHRvIGFjdGlvblN0YXRlIGFmdGVyIHRoZSBlbmQgcG9zaXRpb24gKi9cclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgIFwibW92ZVwiLFxyXG4gICAgICAgICAgICAgIG1vdmVtZW50LmFkZChlLnRhcmdldC5nZXRQb3NpdGlvbigpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBwb2x5Z29uRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBwcm9jZXNzKSB7XHJcbiAgICAgICAgdmFyIHBvbHlnb25FdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb25cclxuICAgICAgICApOyAvKiBDcmVhdGUgYW4gZXZlbnQgb2JqIGZvciB0aGUgcG9seWdvbiAqL1xyXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xyXG4gICAgICAgICAgLyogRG8gbm90IGNyZWF0ZSBwcm9jZXNzIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUgZnJvbSBqc29uICovXHJcbiAgICAgICAgICB2YXIgY3VycmVudFByb2Nlc3MgPSBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnBvbHlnb24pO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MubW92ZVRvVG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIGluaXRpYXRpbmcgY3VzdG9tIHRyYW5zZm9ybWVycyAqL1xyXG4gICAgICAgIHZhciBjdXN0b21UcmFuc2Zvcm1lciA9IHRvb2xzVlBGYWN0b3J5LmN1c3RvbVRyYW5zZm9ybWVyKFxyXG4gICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICBiYXNlTGF5ZXIsXHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLFxyXG4gICAgICAgICAgZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGN1c3RvbVRyYW5zZm9ybWVyLnNldChzaGFwZU9iamVjdC5wb2x5Z29uLnBvaW50cygpKTtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChjdXN0b21UcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGEgZHJhZ21vdmUgbWV0aG9kIHRvIGJpbmQgZHJhZ21vdmUgYW5kIGNsaWNrIGV2ZW50IHRvIHRoZSBjdXN0b20gdHJhbnNmb3JtZXJcclxuICAgICAgICAgICovXHJcbiAgICAgICAgcG9seWdvbkV2ZW50LnJlZ2lzdGVyKFwiZHJhZ21vdmUucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xyXG4gICAgICAgICAgICB4OiBzaGFwZU9iamVjdC5wb2x5Z29uLngoKSxcclxuICAgICAgICAgICAgeTogc2hhcGVPYmplY3QucG9seWdvbi55KClcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcImNsaWNrLnBvbHlnb25cIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgY3VzdG9tVHJhbnNmb3JtZXIudXBkYXRlKHtcclxuICAgICAgICAgICAgeDogc2hhcGVPYmplY3QucG9seWdvbi54KCksXHJcbiAgICAgICAgICAgIHk6IHNoYXBlT2JqZWN0LnBvbHlnb24ueSgpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIERyYWdzdGFydCBhbmQgZHJhZ2VuZCBtb3ZlbWVudHMgZm9yIHVuZG8vcmVkbyBzdGF0ZXNcclxuICAgICAgICAgICovXHJcbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XHJcblxyXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcG9seWdvbkV2ZW50LnJlZ2lzdGVyKFwiZHJhZ2VuZC5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIC8qIHB1c2hpbmcgdGhlIG1vdmVtZW50IHRvIGFjdGlvblN0YXRlIGFmdGVyIHRoZSBlbmQgcG9zaXRpb24gKi9cclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLFxyXG4gICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgXCJtb3ZlXCIsXHJcbiAgICAgICAgICAgICAgbW92ZW1lbnQuYWRkKGUudGFyZ2V0LmdldFBvc2l0aW9uKCkpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGN1c3RvbSB0cmFuc2Zvcm1lciBldmVudCB0byB0aGUgY3JlYXRlZCBwb2x5Z29uXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybVBvbHlnb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcblxyXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xyXG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5wb2x5Z29uQXJlYShcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLnBvaW50cygpLFxyXG4gICAgICAgICAgICAgIHNjYWxlXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xyXG5cclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24ucG9pbnRzKGN1c3RvbVRyYW5zZm9ybWVyLmdldFBvaW50cygpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xyXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbi5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5wb2x5Z29uKTtcclxuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcblxyXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xyXG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5wb2x5Z29uQXJlYShcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLnBvaW50cygpLFxyXG4gICAgICAgICAgICAgIHNjYWxlXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xyXG4gICAgICAgICAgdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmFkZChjdXN0b21UcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGZyZWVIYW5kRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBwcm9jZXNzKSB7XHJcbiAgICAgICAgdmFyIGZyZWVIYW5kRXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoXHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uXHJcbiAgICAgICAgKTsgLyogQ3JlYXRlIGFuIGV2ZW50IG9iaiBmb3IgdGhlIHBvbHlnb24gKi9cclxuICAgICAgICBpZiAoIXByb2Nlc3MpIHtcclxuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xyXG4gICAgICAgICAgdmFyIGN1cnJlbnRQcm9jZXNzID0gcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLmFkZChzaGFwZU9iamVjdC5wb2x5Z29uKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgRHJhZ3N0YXJ0IGFuZCBkcmFnZW5kIG1vdmVtZW50cyBmb3IgdW5kby9yZWRvIHN0YXRlc1xyXG4gICAgICAgICAgKi9cclxuICAgICAgICB2YXIgbW92ZW1lbnQgPSBjb21tb25WUEZhY3RvcnkubW92ZW1lbnQoKTtcclxuXHJcbiAgICAgICAgZnJlZUhhbmRFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnJlZUhhbmRFdmVudC5yZWdpc3RlcihcImRyYWdlbmQucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAvKiBwdXNoaW5nIHRoZSBtb3ZlbWVudCB0byBhY3Rpb25TdGF0ZSBhZnRlciB0aGUgZW5kIHBvc2l0aW9uICovXHJcbiAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcclxuICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbixcclxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgIFwibW92ZVwiLFxyXG4gICAgICAgICAgICAgIG1vdmVtZW50LmFkZChlLnRhcmdldC5nZXRQb3NpdGlvbigpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBFbmFibGUgdHJhbnNmb3JtZXIgb24gc2VsZWN0ICovXHJcbiAgICAgICAgZnJlZUhhbmRFdmVudC5yZWdpc3RlcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbi5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5wb2x5Z29uKTtcclxuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcbiAgICAgICAgICBtZXRyaWNzLnNldFNoYXBlSW5mbyh7XHJcbiAgICAgICAgICAgIGFyZWE6IHRvb2xzVlBGYWN0b3J5LnBvbHlnb25BcmVhKFxyXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24ucG9pbnRzKCksXHJcbiAgICAgICAgICAgICAgc2NhbGVcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgdW5pdDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS51bml0XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHZtLnNoYXBlSW5mbyA9IG1ldHJpY3MuZ2V0U2hhcGVJbmZvKCk7XHJcbiAgICAgICAgICB2bS5zaG93UGFuZWwgPSB0cnVlO1xyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGxpbmVFdmVudFdyYXBwZXIoc2hhcGVPYmplY3QsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgbGluZUV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKHNoYXBlT2JqZWN0LmxpbmUpO1xyXG5cclxuICAgICAgICBpZiAoIXByb2Nlc3MpIHtcclxuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xyXG4gICAgICAgICAgdmFyIGN1cnJlbnRQcm9jZXNzID0gcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLmFkZChzaGFwZU9iamVjdC5saW5lKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgRHJhZ3N0YXJ0IGFuZCBkcmFnZW5kIG1vdmVtZW50cyBmb3IgdW5kby9yZWRvIHN0YXRlc1xyXG4gICAgICAgICAgKi9cclxuICAgICAgICB2YXIgbW92ZW1lbnQgPSBjb21tb25WUEZhY3RvcnkubW92ZW1lbnQoKTtcclxuXHJcbiAgICAgICAgbGluZUV2ZW50LnJlZ2lzdGVyKFwiZHJhZ3N0YXJ0LmxpbmVcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxyXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRQb3NpdGlvbigpXHJcbiAgICAgICAgICApOyAvKiBHcmFiYmluZyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbW92ZW1lbnQgKi9cclxuICAgICAgICB9KTtcclxuICAgICAgICBsaW5lRXZlbnQucmVnaXN0ZXIoXCJkcmFnZW5kLmxpbmVcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgLyogcHVzaGluZyB0aGUgbW92ZW1lbnQgdG8gYWN0aW9uU3RhdGUgYWZ0ZXIgdGhlIGVuZCBwb3NpdGlvbiAqL1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LmxpbmUsXHJcbiAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICBcIm1vdmVcIixcclxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xyXG4gICAgICAgIGxpbmVFdmVudC5yZWdpc3RlcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2hhcGVPYmplY3QubGluZS5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqZWN0LmxpbmUpO1xyXG4gICAgICAgICAgdm0ub3BlbkluZm9XaWRnZXQoKTtcclxuICAgICAgICAgIC8vdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBmcmVlSGFuZE1hcmtlcldyYXBwZXIoc2hhcGVPYmplY3QsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgZnJlZUhhbmRFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb25cclxuICAgICAgICApOyAvKiBDcmVhdGUgYW4gZXZlbnQgb2JqIGZvciB0aGUgcG9seWdvbiAqL1xyXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xyXG4gICAgICAgICAgLyogRG8gbm90IGNyZWF0ZSBwcm9jZXNzIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUgZnJvbSBqc29uICovXHJcbiAgICAgICAgICB2YXIgY3VycmVudFByb2Nlc3MgPSBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnBvbHlnb24pO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MubW92ZVRvVG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIFxyXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHZhciBtb3ZlbWVudCA9IGNvbW1vblZQRmFjdG9yeS5tb3ZlbWVudCgpO1xyXG5cclxuICAgICAgICBmcmVlSGFuZEV2ZW50LnJlZ2lzdGVyKFwiZHJhZ3N0YXJ0LmZyZWVIYW5kTWFya2VyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnJlZUhhbmRFdmVudC5yZWdpc3RlcihcImRyYWdlbmQuZnJlZUhhbmRNYXJrZXJcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgLyogcHVzaGluZyB0aGUgbW92ZW1lbnQgdG8gYWN0aW9uU3RhdGUgYWZ0ZXIgdGhlIGVuZCBwb3NpdGlvbiAqL1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24sXHJcbiAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICBcIm1vdmVcIixcclxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xyXG4gICAgICAgIGZyZWVIYW5kRXZlbnQucmVnaXN0ZXIoXCJjbGljay5mcmVlSGFuZE1hcmtlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24ubW92ZVRvVG9wKCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG5cclxuICAgICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqZWN0LnBvbHlnb24pO1xyXG4gICAgICAgICAgdm0ub3BlbkluZm9XaWRnZXQoKTtcclxuXHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gYmV6aWVyRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBwcm9jZXNzKSB7XHJcbiAgICAgICAgdmFyIGJlemllckV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKFxyXG4gICAgICAgICAgc2hhcGVPYmplY3QubGluZVxyXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBwb2x5Z29uICovXHJcbiAgICAgICAgaWYgKCFwcm9jZXNzKSB7XHJcbiAgICAgICAgICAvKiBEbyBub3QgY3JlYXRlIHByb2Nlc3MgaWYgaXQncyBhbHJlYWR5IGF2YWlsYWJsZSBmcm9tIGpzb24gKi9cclxuICAgICAgICAgIHZhciBjdXJyZW50UHJvY2VzcyA9IHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCk7XHJcbiAgICAgICAgICBjdXJyZW50UHJvY2Vzcy5hZGQoc2hhcGVPYmplY3QubGluZSk7XHJcbiAgICAgICAgICBjdXJyZW50UHJvY2Vzcy5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogaW5pdGlhdGluZyBjdXN0b20gdHJhbnNmb3JtZXJzICovXHJcbiAgICAgICAgdmFyIGJlemllclRyYW5zZm9ybWVyID0gdG9vbHNWUEZhY3RvcnkuYmV6aWVyVHJhbnNmb3JtZXIoXHJcbiAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgIGJhc2VMYXllcixcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LmxpbmVcclxuICAgICAgICApO1xyXG4gICAgICAgIGJlemllclRyYW5zZm9ybWVyLnNldChzaGFwZU9iamVjdC5saW5lLnBvaW50cygpKTtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChiZXppZXJUcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGEgZHJhZ21vdmUgbWV0aG9kIHRvIGJpbmQgZHJhZ21vdmUgYW5kIGNsaWNrIGV2ZW50IHRvIHRoZSBjdXN0b20gdHJhbnNmb3JtZXJcclxuICAgICAgICAgICovXHJcbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJkcmFnbW92ZS5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGJlemllclRyYW5zZm9ybWVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHg6IHNoYXBlT2JqZWN0LmxpbmUueCgpLFxyXG4gICAgICAgICAgICB5OiBzaGFwZU9iamVjdC5saW5lLnkoKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJjbGljay5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGJlemllclRyYW5zZm9ybWVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHg6IHNoYXBlT2JqZWN0LmxpbmUueCgpLFxyXG4gICAgICAgICAgICB5OiBzaGFwZU9iamVjdC5saW5lLnkoKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIFxyXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHZhciBtb3ZlbWVudCA9IGNvbW1vblZQRmFjdG9yeS5tb3ZlbWVudCgpO1xyXG5cclxuICAgICAgICBiZXppZXJFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJkcmFnZW5kLnBvbHlnb25cIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgLyogcHVzaGluZyB0aGUgbW92ZW1lbnQgdG8gYWN0aW9uU3RhdGUgYWZ0ZXIgdGhlIGVuZCBwb3NpdGlvbiAqL1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LmxpbmUsXHJcbiAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICBcIm1vdmVcIixcclxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgUmVnaXN0ZXJpbmcgY3VzdG9tIHRyYW5zZm9ybWVyIGV2ZW50IHRvIHRoZSBjcmVhdGVkIHBvbHlnb25cclxuICAgICAgICAgICovXHJcbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJ0cmFuc2Zvcm1CZXppZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5saW5lLnBvaW50cyhiZXppZXJUcmFuc2Zvcm1lci5nZXRQb2ludHMoKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIEVuYWJsZSB0cmFuc2Zvcm1lciBvbiBzZWxlY3QgKi9cclxuICAgICAgICBiZXppZXJFdmVudC5yZWdpc3RlcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2hhcGVPYmplY3QubGluZS5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5saW5lKTtcclxuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcblxyXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xyXG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5wb2x5Z29uQXJlYShzaGFwZU9iamVjdC5saW5lLnBvaW50cygpLCBzY2FsZSksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xyXG4gICAgICAgICAgdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmFkZChiZXppZXJUcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHRleHRFdmVudFdyYXBwZXIoZ3JvdXAsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgdGV4dEV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKFxyXG4gICAgICAgICAgZ3JvdXBcclxuICAgICAgICApOyAvKiBDcmVhdGUgYW4gZXZlbnQgb2JqIGZvciB0aGUgc2hhcGUgKi9cclxuICAgICAgICBpZiAoIXByb2Nlc3MpIHtcclxuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xyXG4gICAgICAgICAgdmFyIGN1cnJlbnRQcm9jZXNzID0gcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLmFkZChncm91cCk7XHJcbiAgICAgICAgICBjdXJyZW50UHJvY2Vzcy5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGluaXRpYXRpbmcgY3VzdG9tIHRyYW5zZm9ybWVycyAqL1xyXG4gICAgICAgIHZhciBjdXN0b21UcmFuc2Zvcm1lciA9IHRvb2xzVlBGYWN0b3J5LmN1c3RvbVRyYW5zZm9ybWVyKFxyXG4gICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICBiYXNlTGF5ZXIsXHJcbiAgICAgICAgICBncm91cCxcclxuICAgICAgICAgIHRydWVcclxuICAgICAgICApO1xyXG4gICAgICAgIHZhciB3cmFwcGVyID0gZ3JvdXAuZ2V0Q2hpbGRyZW4oKVswXTtcclxuICAgICAgICB2YXIgdGV4dCA9IGdyb3VwLmdldENoaWxkcmVuKClbMV07XHJcblxyXG4gICAgICAgIGN1c3RvbVRyYW5zZm9ybWVyLnNldCh3cmFwcGVyLnBvaW50cygpKTtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChjdXN0b21UcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGEgZHJhZ21vdmUgbWV0aG9kIHRvIGJpbmQgZHJhZ21vdmUgYW5kIGNsaWNrIGV2ZW50IHRvIHRoZSBjdXN0b20gdHJhbnNmb3JtZXJcclxuICAgICAgICAgICovXHJcbiAgICAgICAgdGV4dEV2ZW50LnJlZ2lzdGVyKFwiZHJhZ21vdmUudGV4dEdyb3VwXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGN1c3RvbVRyYW5zZm9ybWVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHg6IGdyb3VwLngoKSxcclxuICAgICAgICAgICAgeTogZ3JvdXAueSgpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGN1c3RvbSB0cmFuc2Zvcm1lciBldmVudCB0byB0aGUgY3JlYXRlZCBwb2x5Z29uXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHRleHRFdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybVBvbHlnb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB3cmFwcGVyLnBvaW50cyhjdXN0b21UcmFuc2Zvcm1lci5nZXRQb2ludHMoKSk7XHJcblxyXG4gICAgICAgICAgdmFyIHVwZGF0ZWRQb2ludHMgPSB3cmFwcGVyLnBvaW50cygpO1xyXG5cclxuICAgICAgICAgIHRleHQud2lkdGgoTWF0aC5hYnModXBkYXRlZFBvaW50c1swXSAtIHVwZGF0ZWRQb2ludHNbMl0pIC0gMTApO1xyXG4gICAgICAgICAgdGV4dC5wb3NpdGlvbih7XHJcbiAgICAgICAgICAgIHg6IHVwZGF0ZWRQb2ludHNbMF0gKyA1LFxyXG4gICAgICAgICAgICB5OiB1cGRhdGVkUG9pbnRzWzFdICsgNVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBFbmFibGUgdHJhbnNmb3JtZXIgb24gc2VsZWN0ICovXHJcbiAgICAgICAgdGV4dEV2ZW50LnJlZ2lzdGVyKFwiY2xpY2sudGV4dEdyb3VwXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZ3JvdXAubW92ZVRvVG9wKCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldCh0ZXh0KTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xyXG4gICAgICAgICAgICB4OiBncm91cC54KCksXHJcbiAgICAgICAgICAgIHk6IGdyb3VwLnkoKVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuYWRkKGN1c3RvbVRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xyXG4gICAgICAgICAgd3JhcHBlci5zdHJva2UoXCJncmV5XCIpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIHZtLm9wZW5UZXh0SW5mb1dpZGdldCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiAgXHJcbiAgICAgICAgICAgIERyYWdzdGFydCBhbmQgZHJhZ2VuZCBtb3ZlbWVudHMgZm9yIHVuZG8vcmVkbyBzdGF0ZXNcclxuICAgICAgICAgICovXHJcbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XHJcblxyXG4gICAgICAgIHRleHRFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC50ZXh0R3JvdXBcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxyXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRQb3NpdGlvbigpXHJcbiAgICAgICAgICApOyAvKiBHcmFiYmluZyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbW92ZW1lbnQgKi9cclxuICAgICAgICB9KTtcclxuICAgICAgICB0ZXh0RXZlbnQucmVnaXN0ZXIoXCJkcmFnZW5kLnRleHRHcm91cFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAvKiBwdXNoaW5nIHRoZSBtb3ZlbWVudCB0byBhY3Rpb25TdGF0ZSBhZnRlciB0aGUgZW5kIHBvc2l0aW9uICovXHJcbiAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcclxuICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICAgICAgZ3JvdXAsXHJcbiAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICBcIm1vdmVcIixcclxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogQXR0YWNoIGV2ZW50cyB3aGVuIHNoYXBlcyBhcmUgbG9hZGVkIGZyb20ganNvbiAqL1xyXG4gICAgICAoZnVuY3Rpb24obG9hZFR5cGUpIHtcclxuICAgICAgICBpZiAobG9hZFR5cGUpIHtcclxuICAgICAgICAgIC8qIFNlYXJjaCBmb3IgZ3JvdXBzIHdpdGggdGhlIG5hbWUgcHJvY2VzcyBhbmQgZmV0Y2ggdGhlIHNoYXBlcyAqL1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGJhc2VMYXllci5nZXRDaGlsZHJlbigpLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIGlmICgvcHJvY2VzcyovLnRlc3QoeC5uYW1lKCkpKSB7XHJcbiAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHguZ2V0Q2hpbGRyZW4oKSwgZnVuY3Rpb24oY2hpbGQpIHtcclxuICAgICAgICAgICAgICAgIC8qIEZvciBjaXJjbGUgYW5kIGVsbGlwc2UgKi9cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuY2xhc3NOYW1lID09PSBcIkVsbGlwc2VcIikge1xyXG4gICAgICAgICAgICAgICAgICBlbGxpcHNlRXZlbnRXcmFwcGVyKFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJlbGxpcHNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgLyogRm9yIGxpbmVzIGFuZCBwb2x5Z29ucyAqL1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NOYW1lID09PSBcIkxpbmVcIiB8fFxyXG4gICAgICAgICAgICAgICAgICBjaGlsZC5jbGFzc05hbWUgPT09IFwiQXJyb3dcIlxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8qIENoZWNrIGlmIGdpdmVuIHNoYXBlIGlzIGEgcmVjdGFuZ2xlIG9yIGEgcG9seWdvbiAqL1xyXG4gICAgICAgICAgICAgICAgICB2YXIgc2hhcGVOYW1lID0gY2hpbGQubmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoL1JlY3QqLy50ZXN0KHNoYXBlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWN0YW5nbGVFdmVudFdyYXBwZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicmVjdGFuZ2xlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvcG9seWdvbiovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvbHlnb25FdmVudFdyYXBwZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb246IGNoaWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL2xpbmUqLy50ZXN0KHNoYXBlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lRXZlbnRXcmFwcGVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9mcmVlSGFuZCovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyZWVIYW5kRXZlbnRXcmFwcGVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uOiBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9tYXJrZXJGcmVlSGFuZCovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyZWVIYW5kTWFya2VyV3JhcHBlcihcclxuICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWdvbjogY2hpbGRcclxuICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgLyogRm9yIHRleHQgKi9cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL3RleHRHcm91cCovLnRlc3QoY2hpbGQubmFtZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICB0ZXh0RXZlbnRXcmFwcGVyKGNoaWxkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9KShsb2FkRnJvbUpzb24pO1xyXG5cclxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogXHJcbiAgICAgICAgICBFbmQgb2YgZXZlbnRzXHJcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcclxuICAgICAgICAgIFZpZXcgZnVuY3Rpb25zXHJcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgICAvKiBGdW5jdGlvbiB0byBkcmF3IHJlY3RhbmdsZS9zcXVhcmUgKi9cclxuICAgICAgdm0ucmVjdGFuZ2xlID0gZnVuY3Rpb24oc3F1YXJlKSB7XHJcbiAgICAgICAgdmFyIHNoYXBlVHlwZSA9IHNxdWFyZSA/IFwic3F1YXJlXCIgOiBcInJlY3RhbmdsZVwiO1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJzaGFwZXMuXCIgKyBzaGFwZVR5cGUpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcclxuICAgICAgICBjb25zb2xlLmxvZyh2bS5jdXJyZW50RHJhd1N0YXRlLnNoYXBlcy5zcXVhcmUpO1xyXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLlwiICsgc2hhcGVUeXBlLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJzaGFwZXMuXCIgKyBzaGFwZVR5cGUpKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVTaGFwZShcclxuICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5zaGFwZSk7XHJcbiAgICAgICAgICAgICAgLyogQWRkaW5nIGFjdGlvbiBoYW5kbGVycyBmb3IgdW5kbyByZWRvICovXHJcblxyXG4gICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvKiBBZGQgcmVjdGFuZ2xlIHRyYW5zZm9ybWVycyAqL1xyXG4gICAgICAgICAgICAgIHJlY3RhbmdsZUV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCwgc2hhcGVUeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcclxuICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS5cIiArIHNoYXBlVHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLlwiICsgc2hhcGVUeXBlKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1NoYXBlKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICBzcXVhcmVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIEZ1bmN0aW9uIHRvIGRyYXcgZWxsaXBzZS9jaXJjbGUgKi9cclxuICAgICAgdm0uZWxsaXBzZSA9IGZ1bmN0aW9uKGNpcmNsZSkge1xyXG4gICAgICAgIHZhciBzaGFwZVR5cGUgPSBjaXJjbGUgPyBcImNpcmNsZVwiIDogXCJlbGxpcHNlXCI7XHJcbiAgICAgICAgZHJhd1N0YXRlLnNldChcInNoYXBlcy5cIiArIHNoYXBlVHlwZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xyXG5cclxuICAgICAgICAvKiBFdmVudCBjb25maWd1cmF0aW9uICovXHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwiY2xpY2suXCIgKyBzaGFwZVR5cGUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy5cIiArIHNoYXBlVHlwZSkpIHtcclxuICAgICAgICAgICAgdmFyIHNoYXBlT2JqZWN0ID0gc2hhcGVzVlBGYWN0b3J5LmNyZWF0ZVNoYXBlKFxyXG4gICAgICAgICAgICAgIDEsXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChzaGFwZU9iamVjdC5zdGFydCkge1xyXG4gICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3Quc2hhcGUpO1xyXG4gICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG5cclxuICAgICAgICAgICAgICBlbGxpcHNlRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBzaGFwZVR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcclxuICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS5cIiArIHNoYXBlVHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLlwiICsgc2hhcGVUeXBlKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1NoYXBlKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICBjaXJjbGVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIEZ1bmN0aW9uIHRvIGRyYXcgcG9seWdvbiAqL1xyXG4gICAgICB2bS5wb2x5Z29uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZHJhd1N0YXRlLnNldChcInNoYXBlcy5wb2x5Z29uXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcclxuXHJcbiAgICAgICAgLyogRXZlbnQgY29uZmlndXJhdGlvbiAqL1xyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwiY2xpY2sucG9seWdvblwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJzaGFwZXMucG9seWdvblwiKSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlUG9seWdvbihcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbixcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY3JlYXRlXCJcclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3QucG9seWdvbik7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIFBvbHlnb24gZmluaXNoIGJsb2NrICovXHJcblxyXG4gICAgICAgICAgICAgICAgcG9seWdvbkV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS5wb2x5Z29uXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy5wb2x5Z29uXCIpKSB7XHJcbiAgICAgICAgICAgIHNoYXBlc1ZQRmFjdG9yeS5kcmF3UG9seWdvbihcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIEZ1bmN0aW9uIHRvIGRyYXcgYSBmcmVlaGFuZCBzaGFwZSAqL1xyXG4gICAgICB2bS5mcmVlSGFuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJtZWFzdXJlbWVudC5mcmVlSGFuZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY3Jvc3NoYWlyXCI7XHJcblxyXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlZG93bi5mcmVlaGFuZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtZWFzdXJlbWVudC5mcmVlSGFuZFwiKSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlUG9seWdvbihcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVPYmplY3QpIHtcclxuICAgICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5wb2x5Z29uKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLyogUG9seWdvbiBmaW5pc2ggYmxvY2sgKi9cclxuXHJcbiAgICAgICAgICAgICAgICBmcmVlSGFuZEV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS5mcmVlaGFuZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtZWFzdXJlbWVudC5mcmVlSGFuZFwiKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1BvbHlnb24oXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIE1hcmtlciBmdW5jdGlvbnMgKi9cclxuICAgICAgdm0uc2ltcGxlTGluZSA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICBkcmF3U3RhdGUuc2V0KFwibWFya2luZ3MuXCIgKyB0eXBlKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY3Jvc3NoYWlyXCI7XHJcblxyXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLlwiICsgdHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3MuXCIgKyB0eXBlKSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlTGluZShcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgdHlwZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVPYmplY3QpIHtcclxuICAgICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5saW5lLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5saW5lKTtcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIFBvbHlnb24gZmluaXNoIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgICBsaW5lRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICAgICAgZHJhd1N0YXRlLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLlwiICsgdHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3MuXCIgKyB0eXBlKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd0xpbmUoXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5iZXppZXJMaW5lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZHJhd1N0YXRlLnNldChcIm1hcmtpbmdzLmJlemllclwiKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY3Jvc3NoYWlyXCI7XHJcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJjbGljay5iZXppZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3MuYmV6aWVyXCIpKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVCZXppZXJMaW5lKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVPYmplY3QpIHtcclxuICAgICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5saW5lLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5saW5lKTtcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIFBvbHlnb24gZmluaXNoIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgICBiZXppZXJFdmVudFdyYXBwZXIoc2hhcGVPYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIHNoYXBlc1ZQRmFjdG9yeS5kZXN0cm95U2hhcGUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZW1vdmUuYmV6aWVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcIm1hcmtpbmdzLmJlemllclwiKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd0JlemllckxpbmUoXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBGcmVlIGhhbmQgbWFya2VyIGZ1bmN0aW9ucyAqL1xyXG4gICAgICB2bS5mcmVlaGFuZE1hcmtlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJzaGFwZXMuZnJlZUhhbmRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xyXG5cclxuICAgICAgICAvKiBFdmVudCBjb25maWd1cmF0aW9uICovXHJcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWRvd24uZnJlZWhhbmRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLmZyZWVIYW5kXCIpKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVQb2x5Z29uKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbixcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY3JlYXRlXCJcclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3QucG9seWdvbik7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZyZWVIYW5kTWFya2VyV3JhcHBlcihzaGFwZU9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICAgICAgZHJhd1N0YXRlLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLmZyZWVoYW5kXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy5mcmVlSGFuZFwiKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1BvbHlnb24oXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLnRleHRXaWRnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBkcmF3U3RhdGUuc2V0KFwic2hhcGVzLnRleHRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xyXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLnRleHRXcmFwcGVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy50ZXh0XCIpKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVTaGFwZShcclxuICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5zaGFwZSk7XHJcbiAgICAgICAgICAgICAgLyogQWRkaW5nIGFjdGlvbiBoYW5kbGVycyBmb3IgdW5kbyByZWRvICovXHJcblxyXG4gICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGdyb3VwIGZvciB0ZXh0XHJcblxyXG4gICAgICAgICAgICAgIHZhciB0ZXh0R3JvdXAgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlVGV4dEdyb3VwKCk7XHJcblxyXG4gICAgICAgICAgICAgIHRleHRHcm91cC5hZGQoc2hhcGVPYmplY3Quc2hhcGUpO1xyXG5cclxuICAgICAgICAgICAgICAvKiBBZGQgcHJvcGVydGllcyAqL1xyXG4gICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzaGFwZU9iamVjdC5zaGFwZS5wb2ludHMoKTtcclxuICAgICAgICAgICAgICB2YXIgdGV4dFByb3BzID0ge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgeDogcG9pbnRzWzBdICsgMTAsXHJcbiAgICAgICAgICAgICAgICAgIHk6IHBvaW50c1sxXSArIDEwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IE1hdGguYWJzKHBvaW50c1swXSAtIHBvaW50c1syXSkgLSAxMFxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgdmFyIHRleHRPYmogPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlVGV4dCh0ZXh0UHJvcHMpO1xyXG4gICAgICAgICAgICAgIHRleHRHcm91cC5hZGQodGV4dE9iaik7XHJcblxyXG4gICAgICAgICAgICAgIHRleHRFdmVudFdyYXBwZXIodGV4dEdyb3VwKTtcclxuXHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcclxuICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcblxyXG4gICAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS50ZXh0V3JhcHBlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJzaGFwZXMudGV4dFwiKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1NoYXBlKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICBcIndyYXBwZXJcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0ubWFudWFsU2VsZWN0aW9uID0gZnVuY3Rpb24oc2hhcGVPYmopIHtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIHNlbGVjdGVkU2hhcGUucmVzZXQoKTtcclxuICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iaik7XHJcbiAgICAgICAgc2hhcGVPYmouZmlyZShcImNsaWNrXCIpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uZHJhZ1NlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJtYXJraW5ncy5zZWxlY3Rpb25cIik7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcclxuICAgICAgICAvKiBFdmVudCBjb25maWd1cmF0aW9uICovXHJcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWRvd24uc2VsZWN0aW9uXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcIm1hcmtpbmdzLnNlbGVjdGlvblwiKSkge1xyXG4gICAgICAgICAgICB2bS5zZWxlY3RBbGxTaGFwZXMoZmFsc2UpO1xyXG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlU2hhcGUoXHJcbiAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5zaGFwZSk7XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2V1cC5zZWxlY3Rpb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3Muc2VsZWN0aW9uXCIpKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xyXG5cclxuICAgICAgICAgICAgLyogU2VsZWN0aW9uIGxvZ2ljICovXHJcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25Qb2ludHMgPSBzaGFwZXNWUEZhY3RvcnkuY2FuY2VsRHJhd2luZygpO1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRTaGFwZXMgPSBzaGFwZXNWUEZhY3Rvcnkuc2VsZWN0U2hhcGVzKFxyXG4gICAgICAgICAgICAgIGJhc2VMYXllcixcclxuICAgICAgICAgICAgICBzZWxlY3Rpb25Qb2ludHNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkU2hhcGVOYW1lcyA9IHNlbGVjdGVkU2hhcGVzLm1hcChmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHgubmFtZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNlbGVjdGlvblN0b3JlLnN0b3JlKHNlbGVjdGVkU2hhcGVzKTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnByb2Nlc3NlcywgZnVuY3Rpb24ocHJvY2Vzcykge1xyXG4gICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcm9jZXNzLmdldENoaWxkcmVuKCksIGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRTaGFwZU5hbWVzLmluZGV4T2YoY2hpbGQubmFtZSgpKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLnNlbGVjdGlvblwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtYXJraW5ncy5zZWxlY3Rpb25cIikpIHtcclxuICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRyYXdTaGFwZShcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgXCJncmFiYmVyXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLnNlbGVjdEFsbFNoYXBlcyA9IGZ1bmN0aW9uKHRvZ2dsZVZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFsbFNoYXBlcyA9IHNoYXBlc1ZQRmFjdG9yeS5leHRyYWN0QWxsU2hhcGVzKGJhc2VMYXllcik7XHJcbiAgICAgICAgaWYgKHRvZ2dsZVZhbHVlKSB7XHJcbiAgICAgICAgICBzZWxlY3Rpb25TdG9yZS5zdG9yZShhbGxTaGFwZXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxlY3Rpb25TdG9yZS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goYWxsU2hhcGVzLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICB4LnNlbGVjdGVkID0gdG9nZ2xlVmFsdWUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS50b2dnbGVTaGFwZVZpc2liaWxpdHkgPSBmdW5jdGlvbihzaGFwZSkge1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgc2hhcGUudmlzaWJsZSghc2hhcGUudmlzaWJsZSgpKTtcclxuICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uY2FsaWJyYXRvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJtZWFzdXJlbWVudC5jYWxpYnJhdG9yXCIpO1xyXG4gICAgICAgIGNhbGlicmF0b3IgPSBzaGFwZXNWUEZhY3RvcnkuY2FsaWJyYXRvcihzdGFnZSwgYmFzZUxheWVyKTtcclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLmNhbGlicmF0b3JcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWVhc3VyZW1lbnQuY2FsaWJyYXRvclwiKSkge1xyXG4gICAgICAgICAgICBjYWxpYnJhdG9yKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLmNhbGlicmF0b3JcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWVhc3VyZW1lbnQuY2FsaWJyYXRvclwiKSkge1xyXG4gICAgICAgICAgICBjYWxpYnJhdG9yKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogQ2FsaWJyYXRpb24gaGFuZGxpbmcgKi9cclxuXHJcbiAgICAgICRzY29wZS4kb24oXCJjYWxpYnJhdGVkXCIsIGZ1bmN0aW9uKGUsIGNhbGlicmF0ZWRMaW5lKSB7XHJcbiAgICAgICAgLy8gdmFyIHZhbHVlID0gd2luZG93LnByb21wdCgnUGxlYXNlIGVudGVyIGEgc2NhbGUnKTtcclxuICAgICAgICB2YXIgdmFsdWU7XHJcbiAgICAgICAgJChcIiNjYWxpYnJhdGVNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcblxyXG4gICAgICAgIC8qIERpc3RhbmNlIG9mIHRoZSBsaW5lICovXHJcbiAgICAgICAgdmFyIHBvaW50cyA9IGNhbGlicmF0ZWRMaW5lLnBvaW50cygpO1xyXG4gICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChcclxuICAgICAgICAgIE1hdGgucG93KHBvaW50c1swXSAtIHBvaW50c1syXSwgMikgK1xyXG4gICAgICAgICAgICBNYXRoLnBvdyhwb2ludHNbMV0gLSBwb2ludHNbM10sIDIpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdm0uY2FsaWJyYXRpb25EaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgIHZtLnNhdmVDYWxpYnJhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gdm0uY2FsaWJyYXRpb25TY2FsZS52YWx1ZTtcclxuXHJcbiAgICAgICAgICB2YXIgc2NhbGU7XHJcblxyXG4gICAgICAgICAgc2NhbGUgPSBwYXJzZUludCh2YWx1ZSkgLyBkaXN0YW5jZTtcclxuXHJcbiAgICAgICAgICAvKiBTZXR0aW5nIGNhbGlicmF0aW9uIHZhbHVlIHRvIHRoYXQgaXQgY2FuIGJlIGZldGNoZWQgZ2xvYmFsbHkgKi9cclxuICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuc2V0KHtcclxuICAgICAgICAgICAgdmFsdWU6IHNjYWxlLFxyXG4gICAgICAgICAgICB1bml0OiB2bS5jYWxpYnJhdGlvblNjYWxlLnVuaXRcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHZtLmNhbGlicmF0aW9uRGF0YSA9IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCk7XHJcblxyXG4gICAgICAgICAgdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuICAgICAgICAgIHZtLnNoYXBlSW5mbyA9IG1ldHJpY3MuZ2V0U2hhcGVJbmZvKCk7XHJcbiAgICAgICAgICBjYWxpYnJhdGVkTGluZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG5cclxuICAgICAgICAgICQoXCIjY2FsaWJyYXRlTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICQoXCIjY2FsaWJyYXRlTW9kYWxcIikub24oXCJoaWRlLmJzLm1vZGFsXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGNhbGlicmF0ZWRMaW5lLmRlc3Ryb3koKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdm0uZGVsZXRlU2hhcGUgPSBmdW5jdGlvbihzaGFwZU9iaikge1xyXG4gICAgICAgIHZhciBzaGFwZSA9IHNoYXBlT2JqID8gc2hhcGVPYmogOiBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgIGlmIChzaGFwZSkge1xyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZSxcclxuICAgICAgICAgICAgICBzaGFwZS5nZXRQYXJlbnQoKSxcclxuICAgICAgICAgICAgICBcImRlbGV0ZVwiXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBzaGFwZS5yZW1vdmUoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB2bS5jbG9zZUluZm9XaWRnZXQoKTtcclxuICAgICAgICAgIHZtLmNsb3NlVGV4dEluZm9XaWRnZXQoKTtcclxuICAgICAgICAgIHNlbGVjdGVkU2hhcGUucmVzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5vcGVuSW5mb1dpZGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzaGFwZSA9IHNlbGVjdGVkU2hhcGUuZ2V0KCk7XHJcbiAgICAgICAgdm0uaW5mb1dpZGdldFByb3BzID0ge1xyXG4gICAgICAgICAgbmFtZTogc2hhcGUubmFtZSgpLFxyXG4gICAgICAgICAgY29sb3JUeXBlOiBcInN0cm9rZVwiLFxyXG4gICAgICAgICAgc3Ryb2tlOiBzaGFwZS5zdHJva2UoKSxcclxuICAgICAgICAgIGZpbGw6IHNoYXBlLmZpbGwoKSxcclxuICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2bS5zaGFwZUluZm9XaWRnZXQgPSB0cnVlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uY29sb3JUeXBlcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0eXBlOiBcIlN0cm9rZVwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwic3Ryb2tlXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHR5cGU6IFwiRmlsbFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwiZmlsbFwiXHJcbiAgICAgICAgfVxyXG4gICAgICBdO1xyXG5cclxuICAgICAgdm0udGV4dENvbG9yVHlwZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogXCJCYWNrZ3JvdW5kXCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJzdHJva2VcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogXCJGb250XCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJmaWxsXCJcclxuICAgICAgICB9XHJcbiAgICAgIF07XHJcblxyXG4gICAgICB2bS5mb250U3R5bGVzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHR5cGU6IFwiTm9ybWFsXCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJub3JtYWxcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogXCJCb2xkXCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJib2xkXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHR5cGU6IFwiSXRhbGljXCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJpdGFsaWNcIlxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuXHJcbiAgICAgIHZtLndlYlNhZmVGb250cyA9IFtcclxuICAgICAgICBcIkFyaWFsXCIsXHJcbiAgICAgICAgXCJDYWxpYnJpXCIsXHJcbiAgICAgICAgXCJIZWx2ZXRpY2FcIixcclxuICAgICAgICBcIlRpbWVzIE5ldyBSb21hblwiLFxyXG4gICAgICAgIFwiVGltZXNcIixcclxuICAgICAgICBcIkNvdXJpZXIgTmV3XCIsXHJcbiAgICAgICAgXCJDb3VyaWVyXCIsXHJcbiAgICAgICAgXCJWZXJkYW5hXCIsXHJcbiAgICAgICAgXCJHZW9yZ2lhXCIsXHJcbiAgICAgICAgXCJQYWxhdGlub1wiLFxyXG4gICAgICAgIFwiR2FyYW1vbmRcIixcclxuICAgICAgICBcIkJvb2ttYW5cIixcclxuICAgICAgICBcIkNvbWljIFNhbnMgTVNcIixcclxuICAgICAgICBcIlRyZWJ1Y2hldCBNU1wiLFxyXG4gICAgICAgIFwiQXJpYWwgQmxhY2tcIixcclxuICAgICAgICBcIkltcGFjdFwiXHJcbiAgICAgIF07XHJcblxyXG4gICAgICB2bS5vcGVuVGV4dEluZm9XaWRnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgIHZtLnRleHRJbmZvV2lkZ2V0UHJvcHMgPSB7XHJcbiAgICAgICAgICBjb2xvclR5cGU6IFwic3Ryb2tlXCIsXHJcbiAgICAgICAgICB0ZXh0OiBzaGFwZS50ZXh0KCksXHJcbiAgICAgICAgICBmb250U2l6ZTogc2hhcGUuZm9udFNpemUoKSxcclxuICAgICAgICAgIGZvbnRTdHlsZTogc2hhcGUuZm9udFN0eWxlKCksXHJcbiAgICAgICAgICBmb250RmFtaWx5OiBzaGFwZS5mb250RmFtaWx5KCksXHJcbiAgICAgICAgICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxyXG4gICAgICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlLnN0cm9rZVdpZHRoKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZtLnRleHRJbmZvV2lkZ2V0ID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5jaGFuZ2VUZXh0SW5mbyA9IGZ1bmN0aW9uKHByb3AsIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICBzaGFwZVtwcm9wXSh2YWx1ZSk7XHJcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmluZm9XaWRnZXRTdHJva2UgPSBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgIC8vIHZhciBzdHJva2VIaXN0b3J5ID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlUHJvcGVydHlIaXN0b3J5KClcclxuICAgICAgICAvLyB2YXIgcHJvcHMgPSB7XHJcbiAgICAgICAgLy8gICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxyXG4gICAgICAgIC8vICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgIC8vICAgc3Ryb2tlV2lkdGg6IHNoYXBlLnN0cm9rZVdpZHRoKClcclxuICAgICAgICAvLyB9O1xyXG4gICAgICAgIC8vIHN0cm9rZUhpc3RvcnkuYWRkKHByb3BzKTtcclxuICAgICAgICAvLyB2YXIgZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgIGlmKGRvbmUpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgdmFyIGVuZFByb3BzID0ge1xyXG4gICAgICAgIC8vICAgICAgIHN0cm9rZTogc2hhcGUuc3Ryb2tlKCksXHJcbiAgICAgICAgLy8gICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgIC8vICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXHJcbiAgICAgICAgLy8gICAgIH07XHJcbiAgICAgICAgLy8gICAgIGFjdGlvblN0YXRlcy5wdXNoKGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKHN0YWdlLCBzaGFwZSwgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSwgJ3NoYXBlUHJvcHMnLCBzdHJva2VIaXN0b3J5LmFkZChlbmRQcm9wcykpKTtcclxuICAgICAgICAvLyAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgLy8gICB9XHJcbiAgICAgICAgLy8gfSwgMTAwMCk7XHJcblxyXG4gICAgICAgIHNoYXBlLnN0cm9rZVdpZHRoKHZhbCk7XHJcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciBzaGFwZVByb3BIaXN0b3J5ID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlUHJvcGVydHlIaXN0b3J5KCk7XHJcblxyXG4gICAgICB2bS5pbmZvV2lkZ2V0RXZlbnRzID0ge1xyXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbihhcGksIGNvbG9yLCAkZXZlbnQpIHtcclxuICAgICAgICAgIHZhciBzaGFwZSA9IHNlbGVjdGVkU2hhcGUuZ2V0KCk7XHJcbiAgICAgICAgICBpZiAodm0uaW5mb1dpZGdldFByb3BzLmNvbG9yVHlwZSA9PT0gXCJmaWxsXCIpIHtcclxuICAgICAgICAgICAgc2hhcGUuZmlsbChjb2xvcik7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHZtLmluZm9XaWRnZXRQcm9wcy5jb2xvclR5cGUgPT09IFwic3Ryb2tlXCIpIHtcclxuICAgICAgICAgICAgc2hhcGUuc3Ryb2tlKGNvbG9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKiBmb3Igc2hhcGUgdW5kbyBhbmQgcmVkbyAqL1xyXG4gICAgICAgIG9uT3BlbjogZnVuY3Rpb24oYXBpLCBjb2xvciwgJGV2ZW50KSB7XHJcbiAgICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgICAgdmFyIHByb3BzID0ge1xyXG4gICAgICAgICAgICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxyXG4gICAgICAgICAgICBmaWxsOiBzaGFwZS5maWxsKCksXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgc2hhcGVQcm9wSGlzdG9yeS5hZGQocHJvcHMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DbG9zZTogZnVuY3Rpb24oYXBpLCBjb2xvciwgJGV2ZW50KSB7XHJcbiAgICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgICAgdmFyIHByb3BzID0ge1xyXG4gICAgICAgICAgICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxyXG4gICAgICAgICAgICBmaWxsOiBzaGFwZS5maWxsKCksXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlLFxyXG4gICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgXCJzaGFwZVByb3BzXCIsXHJcbiAgICAgICAgICAgICAgc2hhcGVQcm9wSGlzdG9yeS5hZGQocHJvcHMpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICAvKiBSZXNldCBzaGFwZSBwcm9wcyBoaXN0b3J5ICovXHJcbiAgICAgICAgICBzaGFwZVByb3BIaXN0b3J5ID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlUHJvcGVydHlIaXN0b3J5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0udGV4dEluZm9XaWRnZXRFdmVudHMgPSB7XHJcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKGFwaSwgY29sb3IsICRldmVudCkge1xyXG4gICAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICAgIGlmICh2bS50ZXh0SW5mb1dpZGdldFByb3BzLmNvbG9yVHlwZSA9PT0gXCJmaWxsXCIpIHtcclxuICAgICAgICAgICAgc2hhcGUuZmlsbChjb2xvcik7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHZtLnRleHRJbmZvV2lkZ2V0UHJvcHMuY29sb3JUeXBlID09PSBcInN0cm9rZVwiKSB7XHJcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gc2hhcGUuZ2V0UGFyZW50KCkuZmluZChcIkxpbmVcIik7XHJcbiAgICAgICAgICAgIHdyYXBwZXIuZmlsbChjb2xvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyogZm9yIHNoYXBlIHVuZG8gYW5kIHJlZG8gKi9cclxuICAgICAgICBvbk9wZW46IGZ1bmN0aW9uKGFwaSwgY29sb3IsICRldmVudCkge1xyXG4gICAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICAgIHZhciBwcm9wcyA9IHtcclxuICAgICAgICAgICAgc3Ryb2tlOiBzaGFwZS5zdHJva2UoKSxcclxuICAgICAgICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGUuc3Ryb2tlV2lkdGgoKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHNoYXBlUHJvcEhpc3RvcnkuYWRkKHByb3BzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uKGFwaSwgY29sb3IsICRldmVudCkge1xyXG4gICAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICAgIHZhciBwcm9wcyA9IHtcclxuICAgICAgICAgICAgc3Ryb2tlOiBzaGFwZS5zdHJva2UoKSxcclxuICAgICAgICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGUuc3Ryb2tlV2lkdGgoKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZSxcclxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgIFwic2hhcGVQcm9wc1wiLFxyXG4gICAgICAgICAgICAgIHNoYXBlUHJvcEhpc3RvcnkuYWRkKHByb3BzKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgLyogUmVzZXQgc2hhcGUgcHJvcHMgaGlzdG9yeSAqL1xyXG4gICAgICAgICAgc2hhcGVQcm9wSGlzdG9yeSA9IGNvbW1vblZQRmFjdG9yeS5zaGFwZVByb3BlcnR5SGlzdG9yeSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmNsb3NlSW5mb1dpZGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZtLnNoYXBlSW5mb1dpZGdldCA9IGZhbHNlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uY2xvc2VUZXh0SW5mb1dpZGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICBpZiAodGV4dCAmJiB0ZXh0Lm5hbWUoKSA9PT0gXCJ0ZXh0XCIpIHtcclxuICAgICAgICAgIHZhciBncm91cCA9IHRleHQuZ2V0UGFyZW50KCk7XHJcbiAgICAgICAgICB2YXIgd3JhcHBlciA9IGdyb3VwLmZpbmQoXCJMaW5lXCIpWzBdO1xyXG4gICAgICAgICAgd3JhcHBlci5zdHJva2UobnVsbCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdm0udGV4dEluZm9XaWRnZXQgPSBmYWxzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIEVuZCBvZiBzaGFwZSBldmVudHMgKi9cclxuXHJcbiAgICAgIC8qIFBhbiBpbWFnZSAqL1xyXG4gICAgICB2bS5jdXJyZW50UGFuU3RhdGUgPSB0cnVlO1xyXG4gICAgICB2bS5wYW5JbWFnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZtLmN1cnJlbnRQYW5TdGF0ZSA9IGJhc2VMYXllci5kcmFnZ2FibGUoKTtcclxuICAgICAgICB2bS5jdXJyZW50UGFuU3RhdGVcclxuICAgICAgICAgID8gKGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCIpXHJcbiAgICAgICAgICA6IChkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwibW92ZVwiKTtcclxuICAgICAgICBiYXNlTGF5ZXIuZHJhZ2dhYmxlKCF2bS5jdXJyZW50UGFuU3RhdGUpO1xyXG4gICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBVbmRvL1JlZG8gKi9cclxuXHJcbiAgICAgIHZtLnVuZG9PclJlZG8gPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICAgICAgLyogdHlwZSAwIC0gdW5kbyAsIDEgLSByZWRvICovXHJcbiAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICB0eXBlID09PSAxID8gYWN0aW9uU3RhdGVzLnJlZG8oKSA6IGFjdGlvblN0YXRlcy51bmRvKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBEb3dubG9hZHMgKi9cclxuXHJcbiAgICAgIHZtLmRvd25sb2FkSW1hZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGF0YVVSTCA9IHN0YWdlLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgICAgbGluay5kb3dubG9hZCA9IFwicm9vZnBsYW5faW1hZ2VfXCIgKyBEYXRlLm5vdygpO1xyXG4gICAgICAgIGxpbmsuaHJlZiA9IGRhdGFVUkw7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAgICAgICBsaW5rLmNsaWNrKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmRvd25sb2FkRmlsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBqc29uID0gc3RhZ2UudG9KU09OKCk7XHJcbiAgICAgICAgdmFyIGZpbGUgPSBuZXcgQmxvYihbanNvbl0sIHtcclxuICAgICAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSBcInJvb2ZwbGFuX2pzb25fXCIgKyBEYXRlLm5vdygpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgbGluay5jbGljaygpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5zYXZlUm9vZlBsYW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIHZhciBqc29uID0gc3RhZ2UudG9KU09OKCk7XHJcblxyXG4gICAgICAgIC8qIEdldCBhc3NvY2lhdGlvbnMgYW5kIHByb2Nlc3MgdGhlbSBiZWZvcmUgc2F2aW5nICovXHJcblxyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5zYXZlUm9vZlBsYW4ocm9vZlBsYW4uX2lkLCB7XHJcbiAgICAgICAgICAgIGpzb25TdHJpbmc6IGpzb24sXHJcbiAgICAgICAgICAgIGNhbGlicmF0aW9uOiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLFxyXG4gICAgICAgICAgICBjb3VudERhdGE6IHNoYXBlc1ZQRmFjdG9yeS5nZXRTaGFwZUlkKCksXHJcbiAgICAgICAgICAgIGFzc29jaWF0aW9uczogdm0uYXNzb2NpYXRpb25zLmdldEFzc29jaWF0aW9uc0ZvclNhdmUoKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgLmdldFByb2plY3RSb29mUGxhbnMobG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJyb29mUGxhblByb2plY3RcIikpXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcInJvb2ZQbGFuc1wiLCByZXNwLmRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBQcm9jZXNzIG1ldGhvZHMgKi9cclxuXHJcbiAgICAgIHZtLmhpZGVQcm9jZXNzID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIHByb2Nlc3NTdG9yZS5oaWRlUHJvY2VzcyhpbmRleCk7XHJcbiAgICAgIH07XHJcbiAgICAgIHZtLnNob3dQcm9jZXNzID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICBwcm9jZXNzU3RvcmUuc2hvd1Byb2Nlc3MoaW5kZXgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uYWRkUHJvY2VzcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHByb2Nlc3NTdG9yZS5jcmVhdGVQcm9jZXNzKCk7XHJcbiAgICAgICAgdm0ucHJvY2Vzc2VzID0gcHJvY2Vzc1N0b3JlLmdldFByb2Nlc3NlcygpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uc2VsZWN0TGF5ZXIgPSBmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgdm0uc2VsZWN0ZWRJbmRleCA9IGk7XHJcbiAgICAgICAgcHJvY2Vzc1N0b3JlLnNldEN1cnJlbnQoaSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBJbml0aWFsbHkgbG9hZCAxc3QgbGF5ZXIgKi9cclxuICAgICAgdm0uc2VsZWN0TGF5ZXIoMCk7XHJcblxyXG4gICAgICB2bS5zZWxlY3RPclVuc2VsZWN0ID0gZnVuY3Rpb24oc2hhcGUpIHtcclxuICAgICAgICBzaGFwZS5zZWxlY3RlZFxyXG4gICAgICAgICAgPyBzZWxlY3Rpb25TdG9yZS5wdXNoKHNoYXBlKVxyXG4gICAgICAgICAgOiBzZWxlY3Rpb25TdG9yZS5wdWxsKHNoYXBlLm5hbWUoKSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5sYXllckljb25OYW1lID0gZnVuY3Rpb24oc2hhcGVOYW1lKSB7XHJcbiAgICAgICAgaWYgKC9SZWN0Ki8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJzcXVhcmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKC9FbGxpcHNlKi8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJjaXJjbGVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKC9wb2x5Z29uKi8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJwb2x5Z29uXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgvbGluZSovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgcmV0dXJuIFwibGluZVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoL3RleHRHcm91cCovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgcmV0dXJuIFwidGV4dFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoL2ZyZWVIYW5kKi8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJwZW5jaWxcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5oaWRlU2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGVkU2hhcGVzID0gc2VsZWN0aW9uU3RvcmUuZ2V0KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRTaGFwZXMpO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xyXG4gICAgICAgICAgc2hhcGUudmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmRlbGV0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxlY3RlZFNoYXBlcyA9IHNlbGVjdGlvblN0b3JlLmdldCgpO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlLFxyXG4gICAgICAgICAgICAgIHNoYXBlLmdldFBhcmVudCgpLFxyXG4gICAgICAgICAgICAgIFwiZGVsZXRlXCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHNoYXBlLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5sb2FkTWF0ZXJpYWwgPSBzaGFwZVByb3AgPT4ge1xyXG4gICAgICAgICQoXCIjbG9hZE1hdGVyaWFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmNyZWF0ZUFzc29jaWF0aW9uID0gKHNoYXBlSWQsIGVudGl0eUlkLCB0eXBlKSA9PiB7XHJcbiAgICAgICAgdm0uYXNzb2NpYXRpb25zLmNyZWF0ZUFzc29jaWF0aW9uKHNoYXBlSWQsIGVudGl0eUlkLCB0eXBlKTtcclxuICAgICAgICAkKFwiI2xvYWRNYXRlcmlhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAkc2NvcGUuJG9uKFwic2VsZWN0ZWRNYXRlcmlhbFwiLCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2VsZWN0ZWRNYXRlcmlhbC0tLS1cIiwgZGF0YSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogXHJcbiAgICAgICAgICBFbmQgb2YgdmlldyBmdW5jdGlvbnNcclxuICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIH1cclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZGlyZWN0aXZlKFwiY2FudmFzUGRmXCIsIGNhbnZhc1BkZik7XHJcblxyXG4gIGZ1bmN0aW9uIGNhbnZhc1BkZigkcm9vdFNjb3BlLCBhcGlGYWN0b3J5LCAkdGltZW91dCwgZ2xvYmFscywgTm90aWZpY2F0aW9uKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogXCJBXCIsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY3VycmVudDogXCI9XCJcclxuICAgICAgfSxcclxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG4gICAgICAgIGdsb2JhbHMucmVuZGVyUGFnZSgkc2NvcGUuY3VycmVudCwgZWxlbVswXSk7XHJcbiAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5kaXJlY3RpdmUoXCJmaWxlUGlja2VyXCIsIGZpbGVQaWNrZXIpO1xyXG5cclxuICBmdW5jdGlvbiBmaWxlUGlja2VyKCRyb290U2NvcGUsIGFwaUZhY3RvcnksICR0aW1lb3V0LCBnbG9iYWxzLCBOb3RpZmljYXRpb24pIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiBcIkVcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2ZpbGVQaWNrZXIuaHRtbFwiLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGZvbGRlcnM6IFwiPVwiLFxyXG4gICAgICAgIG9wdGlvbnM6IFwiPVwiLFxyXG4gICAgICAgIHNvdXJjZTogXCI9XCIsXHJcbiAgICAgICAgc291cmNlZmlsZTogXCI9XCIsXHJcbiAgICAgICAgc291cmNlZGlyOiBcIj1cIlxyXG4gICAgICB9LFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW0sIGF0dHJzKSB7XHJcbiAgICAgICAgbGV0IGZvbGRlclBhdGhzID0gW107XHJcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0U3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICAgICAgJHNjb3BlLmZpbGVzID0gW107XHJcbiAgICAgICAgJHNjb3BlLmZvbGRlck5hbWUgPSBcIlJvb3QgRm9sZGVyXCI7XHJcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRGb2xkZXIgPSBcIlwiO1xyXG4gICAgICAgICRzY29wZS5zZWxlY3RlZEZvbGRlciA9IG51bGw7XHJcbiAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICRzY29wZS52aWV3Rm9sZGVyID0gZm9sZGVyID0+IHtcclxuICAgICAgICAgIGxldCBuYW1lID0gZm9sZGVyLm5hbWU7XHJcbiAgICAgICAgICBmb2xkZXJQYXRocy5wdXNoKGZvbGRlcik7XHJcbiAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRGb2xkZXI7XHJcbiAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgIC52aWV3SGllcmFyY2h5KGZvbGRlci5faWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEZvbGRlciA9IGZvbGRlcjtcclxuICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudEZvbGRlciA9IGZvbGRlci5uYW1lO1xyXG4gICAgICAgICAgICAgICRzY29wZS5mb2xkZXJzID0gcmVzcC5kYXRhLmZvbGRlcnM7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZpbGVzID0gcmVzcC5kYXRhLmZpbGVzO1xyXG4gICAgICAgICAgICAgICRzY29wZS5icmVhZENydW1icyA9IHJlc3AuZGF0YS5icmVhZGNydW1icztcclxuICAgICAgICAgICAgICAkc2NvcGUuZm9sZGVyTmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb2xkZXJOYW1lID09IFwiUm9vdCBGb2xkZXJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5zZWxlY3RGaWxlID0gKGZpbGUsIGJyZWFkQ3J1bWJzKSA9PiB7XHJcbiAgICAgICAgICBmaWxlLmJyZWFkQ3J1bWJzID0gYnJlYWRDcnVtYnM7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJsb2FkZXJcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJzZWxlY3RlZFJvb2ZQbGFuRG9jXCIsIGZpbGUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5iYWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgZm9sZGVyUGF0aHMucG9wKCk7XHJcblxyXG4gICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBmb2xkZXJQYXRoc1tmb2xkZXJQYXRocy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgIGNvbnN0IGFwaU5hbWUgPSBwcmV2aW91cyA/IFwidmlld0hpZXJhcmNoeVwiIDogXCJnZXRIaWVyYXJjaHlcIjtcclxuICAgICAgICAgIGNvbnN0IHBhcmFtID0gcHJldmlvdXMgPyBwcmV2aW91cy5faWQgOiBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkO1xyXG5cclxuICAgICAgICAgIGFwaUZhY3RvcnlbYXBpTmFtZV0ocGFyYW0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEZvbGRlciA9IHByZXZpb3VzIHx8IG51bGw7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRGb2xkZXIgPSBwcmV2aW91cyA/IHByZXZpb3VzLm5hbWUgOiBudWxsO1xyXG4gICAgICAgICAgICAgICRzY29wZS5mb2xkZXJzID0gcHJldmlvdXNcclxuICAgICAgICAgICAgICAgID8gcmVzcC5kYXRhLmZvbGRlcnNcclxuICAgICAgICAgICAgICAgIDogcmVzcC5kYXRhLmRhdGEuaGllcmFyY2hpZXM7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZpbGVzID0gcHJldmlvdXMgPyByZXNwLmRhdGEuZmlsZXMgOiBbXTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZm9sZGVyTmFtZSA9IHByZXZpb3VzID8gcHJldmlvdXMubmFtZSA6IFwiUm9vdCBGb2xkZXJcIjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb2xkZXJOYW1lID09IFwiUm9vdCBGb2xkZXJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5tb3ZlVG8gPSAoZm9sZGVyLCBzb3VyY2UpID0+IHtcclxuICAgICAgICAgIGlmICghZm9sZGVyKSB7XHJcbiAgICAgICAgICAgIC8qIHJldHVybiBpZiBubyBmb2xkZXIgaXMgc2VsZWN0ZWQgKi9cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICBhc3NldElkOiAkc2NvcGUuc291cmNlZmlsZS5faWQsXHJcbiAgICAgICAgICAgIHNvdXJjZUlkOiBzb3VyY2UuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBkZXN0SWQ6IGZvbGRlci5faWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICAvKiBTdGVwIDE6IE1vdmUgYXNzZXQgKi9cclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLm1vdmVBc3NldHMocGF5bG9hZClcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgLyogU3RlcCAyOiByZW1vdmUgZmlsZSBmcm9tIHRoZSBzb3VyY2UgZGlyIGlmIHN1Y2Nlc3NmdWwgKi9cclxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNvdXJjZWRpcikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvdXJjZWRpciA9ICRzY29wZS5zb3VyY2VkaXIuZmlsdGVyKFxyXG4gICAgICAgICAgICAgICAgICB4ID0+IHguX2lkICE9PSAkc2NvcGUuc291cmNlZmlsZS5faWRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiRmlsZSBNb3ZlZCBTdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAgICAgJChcIiNtb3ZlVG9cIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZSgnYXV0b0NvbXBsZXRlJywgZnVuY3Rpb24oJHRpbWVvdXQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgaUVsZW1lbnQuYXV0b2NvbXBsZXRlKHtcclxuICAgICAgICAgICAgICAgICAgc291cmNlOiBzY29wZVtpQXR0cnMudWlJdGVtc10sXHJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaUVsZW1lbnQudHJpZ2dlcignaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9KSgpO1xyXG4gIFxyXG4gICgoKSA9PiB7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZGlyZWN0aXZlKCdlcnJTcmMnLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgIGVsZW1lbnQuYmluZCgnZXJyb3InLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChhdHRycy5zcmMgIT0gYXR0cnMuZXJyU3JjKSB7XHJcbiAgICAgICAgICAgIGF0dHJzLiRzZXQoJ3NyYycsIGF0dHJzLmVyclNyYyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuICBcclxufSkoKTsiLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmRpcmVjdGl2ZShcIm1hdGVyaWFsUGlja2VyXCIsIG1hdGVyaWFsUGlja2VyKTtcclxuXHJcbiAgZnVuY3Rpb24gbWF0ZXJpYWxQaWNrZXIoXHJcbiAgICAkcm9vdFNjb3BlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgZ2xvYmFscyxcclxuICAgIE5vdGlmaWNhdGlvblxyXG4gICkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvbWF0ZXJpYWxQaWNrZXIuaHRtbFwiLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIG1hdGVyaWFsVHlwZTogXCI9XCIsXHJcbiAgICAgICAgc2VsZWN0ZWRNYXRlcmlhbDogXCI9XCIsXHJcbiAgICAgICAgY3VycmVudFNoYXBlOiBcIj1cIixcclxuICAgICAgICBhc3NvY2lhdGlvbnM6IFwiPVwiXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuICAgICAgICAvLyBsZXQgbWF0ZXJpYWxUeXBlID0gYW5ndWxhci5jb3B5KG1hdGVyaWFsVHlwZS50eXBlKTtcclxuXHJcbiAgICAgICAgLyogJHNjb3BlLiR3YXRjaCgnbWF0ZXJpYWxUeXBlJywobmV3VmFsLCBvbGRWYWwpID0+IHtcclxuICAgICAgICAgIGlmKG9sZFZhbC50eXBlID09PSBuZXdWYWwudHlwZSkgcmV0dXJuO1xyXG4gICAgICAgICAgLy8gZ2V0IE1hdGVyaWFsIExpc3RcclxuICAgICAgICAgIGlmIChuZXdWYWwudHlwZSA9PSAnbWF0ZXJpYWwnKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tYXRlcmlhbExpc3QgPSBbXVxyXG4gICAgICAgICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxNYXRlcmlhbHMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICRzY29wZS5tYXRlcmlhbExpc3QgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7IH0pO1xyXG5cclxuICAgICAgICAgIH0gZWxzZSBpZiAobmV3VmFsLnR5cGUgPT0gJ0RDUCcpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1hdGVyaWFsTGlzdCA9IFtdXHJcbiAgICAgICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbENvbWJvTWF0ZXJpYWxzKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAkc2NvcGUubWF0ZXJpYWxMaXN0ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4geyB9KTtcclxuXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUubWF0ZXJpYWxMaXN0ID0gW11cclxuICAgICAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsRXF1aXBtZW50cygpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm1hdGVyaWFsTGlzdCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICB9KS5jYXRjaChlID0+IHsgfSk7XHJcblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpICovXHJcblxyXG4gICAgICAgIC8vIGdldCBNYXRlcmlhbCBMaXN0XHJcbiAgICAgICAgJHNjb3BlLm1hdGVyaWFsTGlzdCA9IFtdO1xyXG4gICAgICAgICRzY29wZS5lbnRpdHlUeXBlID0gMTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAubGlzdEFsbE1hdGVyaWFscygpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgJHNjb3BlLm1hdGVyaWFsTGlzdCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCA9IGFuZ3VsYXIuY29weSgkc2NvcGUubWF0ZXJpYWxMaXN0WzBdKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7fSk7XHJcblxyXG4gICAgICAgIC8vIGdldCBEQ1AgTGlzdFxyXG4gICAgICAgICRzY29wZS5kY3BMaXN0ID0gW107XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLmxpc3RBbGxDb21ib01hdGVyaWFscygpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgJHNjb3BlLmRjcExpc3QgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7fSk7XHJcblxyXG4gICAgICAgIC8vIGdldCBFcXVpb21lbnQgTGlzdFxyXG4gICAgICAgICRzY29wZS5lcXVpcG1lbnRMaXN0ID0gW107XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLmxpc3RBbGxFcXVpcG1lbnRzKClcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAkc2NvcGUuZXF1aXBtZW50TGlzdCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHt9KTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkTWF0ZXJpYWxJbmZvID0gbWF0ZXJpYWwgPT4ge1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KFwic2VsZWN0ZWRNYXRlcmlhbFwiLCBtYXRlcmlhbCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhtYXRlcmlhbCk7XHJcbiAgICAgICAgICAkc2NvcGUubWF0ZXJpYWxJbWFnZXMgPSBtYXRlcmlhbDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUubWF0ZXJpYWxTZWxlY3Rpb24gPSBpdGVtID0+IHtcclxuICAgICAgICAgICRzY29wZS5zZWxlY3RlZE1hdGVyaWFsID0gaXRlbTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUucmVzZXRTZWxlY3RlZE1hdGVyaWFsID0gdmFsID0+IHtcclxuICAgICAgICAgIGlmICghJHNjb3BlLnNlbGVjdGVkTWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmN1cnJlbnRTaGFwZSk7XHJcbiAgICAgICAgICBpZiAodmFsID09IDApIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTWF0ZXJpYWwgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLm1hdGVyaWFsTGlzdFswXSk7XHJcbiAgICAgICAgICAgICRzY29wZS5lbnRpdHlUeXBlID0gdmFsICsgMTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodmFsID09IDEpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTWF0ZXJpYWwgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmRjcExpc3RbMF0pO1xyXG4gICAgICAgICAgICAkc2NvcGUuZW50aXR5VHlwZSA9IHZhbCArIDE7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCA9IGFuZ3VsYXIuY29weSgkc2NvcGUuZXF1aXBtZW50TGlzdFswXSk7XHJcbiAgICAgICAgICAgICRzY29wZS5lbnRpdHlUeXBlID0gdmFsICsgMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuYXNzaWduTWF0ZXJpYWwgPSAoc2hhcGVJZCwgZW50aXR5SWQsIHR5cGUpID0+IHtcclxuICAgICAgICAgICQoXCIjbG9hZE1hdGVyaWFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgICRzY29wZS5hc3NvY2lhdGlvbnMuY3JlYXRlQXNzb2NpYXRpb24oc2hhcGVJZCwgZW50aXR5SWQsIHR5cGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIC8qIEN1cnJlbnR5IGNvbnZlcnRvciAqL1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZpbHRlcihcImNvbnZlcnRDdXJyZW5jeVwiLCBjb252ZXJ0Q3VycmVuY3kpO1xyXG5cclxuICBmdW5jdGlvbiBjb252ZXJ0Q3VycmVuY3koKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIGNvbnZlcnNpb25SYXRlKSB7XHJcbiAgICAgIGlmICghaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gaW5wdXQgKiBjb252ZXJzaW9uUmF0ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qIFJvdW5kIG51bWJlciAqL1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5maWx0ZXIoXCJyb3VuZE51bVwiLCByb3VuZE51bSk7XHJcbiAgXHJcblxyXG4gIGZ1bmN0aW9uIHJvdW5kTnVtKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBwbGFjZSkge1xyXG4gICAgICBpZiAoIWlucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIE51bWJlcihpbnB1dCkudG9GaXhlZChwbGFjZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKiBGZXRjaCB0aHVtYm5haWwgKi9cclxuXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmlsdGVyKFwiZmV0Y2hUaHVtYm5haWxcIiwgZmV0Y2hUaHVtYm5haWwpO1xyXG5cclxuICBmdW5jdGlvbiBmZXRjaFRodW1ibmFpbCgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xyXG4gICAgICBpZiAoIWlucHV0KSByZXR1cm47XHJcbiAgICAgIHJldHVybiAvY2xvdWRpbmFyeS8udGVzdChpbnB1dC5zZWN1cmVfdXJsKVxyXG4gICAgICAgID8gaW5wdXQuc2VjdXJlX3VybC5yZXBsYWNlKC9cXC5wZGYvLCBcIi5wbmdcIilcclxuICAgICAgICA6IGlucHV0LnRodW1ibmFpbDtcclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iXX0=
