"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var app=angular.module("app",["ui.router","routesModule","LocalStorageModule","uiGmapgoogle-maps","ngProgress","ui-notification","ngMap","ui.select","ui.select2","ngSanitize","color.picker","ui.bootstrap","datatables","ngTagsInput","ngFileUpload","infinite-scroll","ui.tree","btorfs.multiselect","htmlToPdfSave","dndLists","angular.chips","ui.bootstrap.contextMenu","cloudinary"]);function config(NotificationProvider,uiGmapGoogleMapApiProvider,treeConfig,cloudinaryProvider){uiGmapGoogleMapApiProvider.configure({key:"AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",v:"3.exp",libraries:"places,weather,geometry,visualization"}),NotificationProvider.setOptions({delay:3e3,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"top"}),treeConfig.defaultCollapsed=!0,cloudinaryProvider.set("cloud_name","dktnhmsjx").set("upload_preset","cloudes_frontend")}function routeConfig($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("preLogin",{url:"/",templateUrl:"/partials/preLogin.html",controller:"preLoginCtrl as vm"}),$stateProvider.state("dashboard",{url:"/dashboard",templateUrl:"/partials/dashboard.html",controller:"dashboardCtrl as vm"}),$stateProvider.state("createProject",{url:"/create_project",templateUrl:"/partials/createProject.html",controller:"createProjectCtrl as vm"}),$stateProvider.state("visualPlanner",{url:"/visual_planner",templateUrl:"/partials/visualPlanner.html",controller:"visualPlannerCtrl as vm"}),$stateProvider.state("projects",{url:"/projects",templateUrl:"/partials/projects.html",controller:"projectCtrl as vm"}),$stateProvider.state("materials",{url:"/materials",templateUrl:"/partials/materials.html",controller:"materialCtrl as vm"}),$stateProvider.state("materialView",{url:"/material/:id",templateUrl:"/partials/materialView.html",controller:"materialViewCtrl as vm"}),$stateProvider.state("comboMaterialView",{url:"/combo_material/:id",templateUrl:"/partials/comboMaterialView.html",controller:"comboMaterialViewCtrl as vm"}),$stateProvider.state("equipments",{url:"/equipments",templateUrl:"/partials/equipments.html",controller:"equipmentCtrl as vm"}),$stateProvider.state("fileManager",{url:"/file_manager",templateUrl:"/partials/fileManager.html",controller:"fileManagerCtrl as vm"}),$stateProvider.state("payroll",{url:"/payroll",templateUrl:"/partials/payroll.html",controller:"payrollCtrl as vm"}),$stateProvider.state("calculation",{url:"/calculation",templateUrl:"/partials/calculation.html",controller:"calculationCtrl as vm"}),$stateProvider.state("report",{url:"/report",templateUrl:"/partials/reports.html",controller:"reportsCtrl as vm"}),$stateProvider.state("issues",{url:"/issues",templateUrl:"/partials/issues.html",controller:"issuesCtrl as vm"}),$stateProvider.state("issuesDetail",{url:"/issues_details/:id",templateUrl:"/partials/issues_details.html",controller:"issueDetailCtrl as vm"}),$stateProvider.state("reportsDetail",{url:"/reports_details/:id",templateUrl:"/partials/reportsdetails.html",controller:"reportDetailCtrl as vm"}),$stateProvider.state("billingArchive",{url:"/billing_archive",templateUrl:"/partials/billingArchive.html",controller:"billingArchiveCtrl as vm"}),$stateProvider.state("reportsListing",{url:"/reports_listing",templateUrl:"/partials/reportsListing.html",controller:"reportsListingCtrl as vm"}),$stateProvider.state("3dDashboard",{url:"/3d_dashboard",templateUrl:"/partials/3d-dashboard.html",controller:"_3dDashboardCtrl as vm"}),$stateProvider.state("setPassword",{url:"/set_password",templateUrl:"/partials/set_password.html",controller:"setPasswordCtrl as vm"}),$stateProvider.state("setting",{url:"/setting",templateUrl:"/partials/setting.html",controller:"settingCtrl as vm"}),$stateProvider.state("employees",{url:"/employees",templateUrl:"/partials/employee.html",controller:"employeesCtrl as vm"}),$stateProvider.state("3dviewer",{url:"/3dviewer",templateUrl:"/partials/3d-viewer.html",controller:"_3dviewerCtrl as vm"}),$stateProvider.state("clients",{url:"/clients",templateUrl:"/partials/clients.html",controller:"clientsCtrl as vm"}),$stateProvider.state("supplier",{url:"/supplier",templateUrl:"/partials/supplier.html",controller:"supplierCtrl as vm"}),$stateProvider.state("supplierDetail",{url:"/supplier_details/:id",templateUrl:"/partials/supplierdetails.html",controller:"supplierDetailCtrl as vm"}),$stateProvider.state("subcontractor",{url:"/subcontractor",templateUrl:"/partials/subcontractor.html",controller:"subcontractorCtrl as vm"}),$stateProvider.state("subcontractorDetail",{url:"/subcontractor_details/:id",templateUrl:"/partials/subcontractordetails.html",controller:"subcontractorDetailCtrl as vm"})}app.config(config),angular.module("routesModule",[]).config(routeConfig),function(){angular.module("app").factory("apiFactory",function($http,$state,$location,localStorageService,globals,Upload,Notification){var _ref,url="https://api.staging.cloudes.eu",headers=function(method,token){return{"Content-Type":"GET"===method?void 0:"application/json","x-access-token":token?localStorageService.get("access-token"):void 0,platform:JSON.stringify({source:"web"})}},progress=globals.progress,logout=(globals.userStore,globals.logout);return _defineProperty(_ref={login:function(payload){var promise=this.progressify($http({url:url+"/authenticate",method:"POST",headers:headers("POST"),data:payload}));return promise},forgotPassword:function(payload){var promise=this.progressify($http({url:url+"/forgetPassword",method:"POST",headers:headers("POST"),data:payload}));return promise},registration:function(payload){var promise=this.progressify($http({url:url+"/dashboardRegistration",method:"POST",headers:headers("POST"),data:payload}));return promise},subscribe:function(payload){var promise=this.progressify($http({url:url+"/subscribe",method:"POST",headers:headers("POST"),data:payload}));return promise},getCompanyById:function(companyId){var promise=this.progressify($http({url:url+"/api/getCompanyById/"+companyId,method:"GET",headers:headers("GET",!0)}));return promise},listAllUsers:function(){var promise=this.progressify($http({url:url+"/api/getadminusers",method:"GET",headers:headers("GET",!0)}));return promise},listAllProjects:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllProjects"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllClients:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllClients"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllRoofers:function(){var promise=this.progressify($http({url:url+"/api/listAllRoofers",method:"GET",headers:headers("GET",!0)}));return promise},createProject:function(payload){var promise=this.progressify($http({url:url+"/api/createProject",method:"POST",headers:headers("POST",!0),data:payload}));return promise},createIssue:function(issueobj){console.log("in create issue api",issueobj);var promise=this.progressify($http({url:url+"/api/createIssue",method:"POST",data:issueobj,headers:headers("POST",!0)}));return promise},createIssueS3Upload:function(issueobj){var promise=this.progressify(Upload.upload({url:url+"/api/createIssueForS3",method:"POST",data:issueobj,headers:headers("POST",!0)}));return promise},getIssueById:function(issueID){var promise=this.progressify($http({url:url+"/api/getIssueById/"+issueID,method:"GET",headers:headers("GET",!0)}));return promise},updateIssue:function(issueobj,id){var promise=this.progressify(Upload.upload({url:url+"/api/updateIssue/"+id,method:"PUT",data:issueobj,headers:headers("PUT",!0)}));return promise},getProjectRoofPlans:function(projectId){var promise=this.progressify($http({url:url+"/api/getProjectRoofPlans/"+projectId,method:"GET",headers:headers("GET",!0)}));return promise},saveRoofPlan:function(roofPlanId,payload){var promise=this.progressify($http({url:url+"/api/saveRoofPlan/"+roofPlanId,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise},createMaterials:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createMaterial",data:payload,headers:headers("POST",!0)}));return promise},createEquipment:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createEquipment",data:payload,headers:headers("POST",!0)}));return promise},listAllMaterials:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllMaterials"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllComboMaterials:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listComboMaterials"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllEquipments:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllEquipments"+query,method:"GET",headers:headers("GET",!0)}));return promise},updateMaterialById:function(id,payload){var promise=this.progressify(Upload.upload({url:url+"/api/updateMaterialById/"+id,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise},getMaterialById:function(materialID){var promise=this.progressify($http({url:url+"/api/getMaterialById/"+materialID,method:"GET",headers:headers("GET",!0)}));return promise},getComboMaterialById:function(comboId){var promise=this.progressify($http({url:url+"/api/getComboMaterialById/"+comboId,method:"GET",headers:headers("GET",!0)}));return promise},createComboMaterial:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createComboMaterial",method:"POST",headers:headers("POST",!0),data:payload}));return promise},updateComboMaterialList:function(id,payload){var promise=this.progressify($http({url:url+"/api/updateComboMaterialList/"+id,method:"PUT",headers:headers("POST",!0),data:payload}));return promise},updateComboMaterial:function(id,payload){var promise=this.progressify(Upload.upload({url:url+"/api/updateComboMaterial/"+id,method:"PUT",headers:headers("POST",!0),data:payload}));return promise},showConversionRate:function(payload){var promise=this.progressify($http({url:url+"/api/showConversionRate",method:"POST",headers:headers("POST",!0),data:payload}));return promise}},"getMaterialById",function(id){var promise=this.progressify($http({url:url+"/api/getMaterialById/"+id,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"progressify",function(promise){return new Promise(function(resolve,reject){progress.start(),promise.then(function(resp){progress.complete(),resolve(resp)}).catch(function(err){progress.complete(),401===err.status&&logout(),reject(err)})})}),_defineProperty(_ref,"listAllIssues",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllIssues"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getIssuesList",function(){var promise=this.progressify($http({url:url+"/api/allIssues",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"isTokenValid",function(payload){var promise=this.progressify($http({url:url+"/isTokenValid",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"setPassword",function(payload){var promise=this.progressify($http({url:url+"/resetPasswordAdmin",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"updateRoleBasedAccess",function(payload){var promise=this.progressify($http({url:url+"/api/updateRoleBasedAccess",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"addHierarchy",function(payload){var promise=this.progressify($http({url:url+"/api/addHierarchy",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"getHierarchyChildren",function(hierarchyId){var promise=this.progressify($http({url:url+"/api/getHierarchyChildren/"+hierarchyId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getHierarchy",function(projectId){var promise=this.progressify($http({url:url+"/api/getHierarchy/"+projectId+"?depth=2",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"viewProjectAssets",function(projectId){var promise=this.progressify($http({url:url+"/api/viewProjectAssets/"+projectId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"addFileToHierarchy",function(payload){var promise=this.progressify($http({url:url+"/api/addFileToHierarchy",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"viewHierarchy",function(hierarchyId){var promise=this.progressify($http({url:url+"/api/viewHierarchy/"+hierarchyId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"cloneAssets",function(payload){var promise=this.progressify($http({url:url+"/api/cloneAssets",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"uploadFileInFileManager",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/uploadFileInFileManager",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"dragMoveNodes",function(payload){var promise=this.progressify($http({url:url+"/api/dragMoveNodes",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"moveAssets",function(payload){var promise=this.progressify($http({url:url+"/api/moveAssets",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"deleteAssets",function(payload){var promise=this.progressify($http({url:url+"/api/deleteAssets",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"get3DPage",function(){var token=localStorageService.get("access-token"),Data3D={"x-access-token":token,projectId:"5b697c030a7e97056835a94a"},promise=this.progressify($http({url:"https://cloudes-3d.com",method:"POST",data:Data3D}));return promise}),_defineProperty(_ref,"createClient",function(client){console.log("client in api factory",client);var promise=this.progressify($http({url:url+"/api/createClient",method:"POST",headers:headers("POST",!0),data:client}));return promise}),_defineProperty(_ref,"saveHierarchyTree",function(projectId,name){var promise=this.progressify($http({url:url+"/api/saveHierarchyTree/"+projectId,method:"PUT",headers:headers("POST",!0),data:name}));return promise}),_defineProperty(_ref,"getSystemTag",function(){var promise=this.progressify($http({url:url+"/api/getComboSystemTag",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"bookMarkProject",function(id,added){var promise=this.progressify($http({url:url+"/api/bookMarkProject",method:"PUT",data:{projectId:id,added:added},headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getBookmarks",function(){var promise=this.progressify($http({url:url+"/api/getBookmarks",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getHierarchyTemplate",function(){var promise=this.progressify($http({url:url+"/api/getHierarchyTemplate",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"loadHierarchyTree",function(payload){var promise=this.progressify($http({url:url+"/api/loadHierarchyTree",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"newFileUpload",function(payload){var promise=this.progressify($http({url:url+"/api/newFileUpload",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"showProjectFiles",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/showProjectFiles"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"changeProjectTemplate",function(payload){var promise=this.progressify($http({url:url+"/api/changeProjectTemplate",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"showProjectFiles",function(id,limit){var promise=this.progressify($http({url:url+"/api/showProjectFiles/"+id+"?limit="+limit,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getProjectById",function(id){var promise=this.progressify($http({url:url+"/api/getProjectById/"+id,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"checkAssetDuplicate",function(payload){var promise=this.progressify($http({url:url+"/api/checkAssetDuplicate",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"createNewSupplier",function(supplier){var promise=this.progressify(Upload.upload({url:url+"/api/addsupplier",method:"POST",data:supplier,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getAllSuppliers",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listallsuppliers"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getAllSubcontractors",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listallsubcontractor"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"addProjectRoofPlan",function(payload,projectId){var promise=this.progressify($http({url:url+"/api/addProjectRoofPlan",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"generateRoofPlans",function(payload){var promise=this.progressify($http({url:url+"/api/generateRoofPlans",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"addRoofPlansFromAsset",function(payload){var promise=this.progressify($http({url:url+"/api/addRoofPlansFromAsset",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"getSupplierById",function(supplierID){var promise=this.progressify($http({url:url+"/api/getsupplier/"+supplierID,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"createNewSubcontractor",function(subcontractor){var promise=this.progressify(Upload.upload({url:url+"/api/addsubcontractor",method:"POST",data:subcontractor,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getSubcontractorById",function(supplierID){var promise=this.progressify($http({url:url+"/api/getsubcontractor/"+supplierID,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"issueImage",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/issueImage",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"newIssues3FileUpload",function(payload){console.log("IN S3 ISSUE FUNCTION");var promise=this.progressify($http({url:url+"/api/newIssues3FileUpload",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"postCommentForIssue",function(id,comment){console.log("Comment: ",comment);var promise=this.progressify($http({url:url+"/api/addcomment/"+id,method:"PUT",data:comment,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"saveLocalIssueAsset",function(files){var promise=this.progressify(Upload.upload({url:url+"/api/localFileImages",method:"POST",headers:headers("POST",!0),data:files}));return promise}),_defineProperty(_ref,"postMarkImg",function(dt){console.log("data: ",dt);var promise=this.progressify(Upload.upload({url:url+"/api/postmarkings",method:"POST",headers:headers("POST",!0),data:dt}));return promise}),_defineProperty(_ref,"reOpenIssueStatusUpdate",function(id){var promise=this.progressify($http({url:url+"/api/reopenStatus/"+id,method:"PUT",data:{completionStatus:"OPEN"},headers:headers("PUT",!0)}));return promise}),_ref})}(),function(){angular.module("app").factory("authFactory",function($http,$location,localStorageService){return{checkUser:function(){var token=localStorageService.get("access-token");return!(!token||""==token)},checkPrivilege:function(type,subType){var _localStorageService$=localStorageService.get("userData"),privilege=_localStorageService$.privilege,_localStorageService$2=localStorageService.get("companyData"),privileges=_localStorageService$2.privileges;return privilege<=privileges[type][subType]}}})}(),function(){angular.module("app").factory("fileManagerFactory",function(apiFactory,Notification){return{clipBoard:(items={type:0,data:[],source:null},{copy:function(item){items.source=null,items.type=0,items.data=[item]},cut:function(item,source){items.source=source,items.type=1,items.data=[item]},paste:function(destId){return new Promise(function(resolve,reject){if(items.data.length<1)return Notification.warning("Clipboard is empty"),void resolve(!1);var apiType=0===items.type?"cloneAssets":"moveAssets",payload={assetId:items.data.map(function(x){return x._id}),sourceId:0===items.type?void 0:items.source,destId:0===items.type?void 0:destId,hierarchyId:0===items.type?destId:void 0};apiFactory[apiType](payload).then(function(resp){Notification.success(resp.data.message),items={type:0,data:[],source:null},resolve(!0)}).catch(function(e){console.log(e),reject(!1)})})}}),navigationStack:function(){var stack=[],head=stack.length-1;return{push:function(item){stack.splice(head+1,stack.length,item),head=stack.length-1},forward:function(){if(stack.length&&head!==stack.length-1)return stack[++head]?(stack[head].toggle(),stack[head]):void 0},backward:function(){if(stack.length&&!(head<0))return stack[head]?(stack[head].toggle(),stack[--head]):void 0}}},breadCrumb:function(){var breadCrumbs=[];return{set:function(val){breadCrumbs.push(val)},get:function(){return breadCrumbs}}},splitDestination:function(filesArray){return filesArray.reduce(function(acc,x){return x.size<5e7&&("application/pdf"===x.type||/image*/.test(x.type))?acc.cloudinary.push(x):acc.s3.push(x),acc},{s3:[],cloudinary:[]})},resolveDestType:function(file){return file.size<5e7&&("application/pdf"===file.type||/image*/.test(file.type))?2:1},checkUploadCompletion:function(files){var bool=!0;return files.s3.forEach(function(x){x.completed||x.aborted||!bool||(bool=!1)}),files.cloudinary.forEach(function(x){x.completed||x.aborted||!bool||(bool=!1)}),bool},checkDuplicateFiles:function(files,destId){return new Promise(function(resolve,reject){apiFactory.checkAssetDuplicate({assetNames:files.map(function(x){return x.name}),destId:destId}).then(function(resp){var duplicateFiles=files.map(function(x){return x.action="rename",x.assetName=x.name,x}).reduce(function(acc,x){return-1===resp.data.duplicates.indexOf(x.name)?acc.uploadFiles.push(x):acc.duplicates.push(x),acc},{duplicates:[],uploadFiles:[]});resolve(duplicateFiles)}).catch(function(e){reject(e)})})},checkNameChange:function(files){return files.filter(function(x){return"rename"===x.action}).reduce(function(acc,x){return acc=acc||x.assetName===x.name},!1)},generateVersion:function(fileName){return fileName+" (v"+Date.now()+")"},generateThumbnail:function(file){var reader=new FileReader;reader.onload=function(){pdfjsLib.getDocument({url:reader.result}).then(function(doc){doc.getPage(1).then(function(page){console.log("page!!!",page);var viewport=page.getViewport(1),canvas=document.createElement("canvas"),context=canvas.getContext("2d");canvas.height=viewport.height,canvas.width=viewport.width;var task=page.render({canvasContext:context,viewport:viewport});task.promise.then(function(){var dataURL=canvas.toDataURL("image/png"),link=document.createElement("a");link.download="roofplan_image_"+Date.now(),link.href=dataURL,document.body.appendChild(link),link.click(),document.body.removeChild(link)})})})},reader.readAsDataURL(file)},splitFileDest:function(filesArray){return filesArray.reduce(function(acc,x){return x.file.size<2e7&&("application/pdf"===x.file.type||/image*/.test(x.file.type))?acc.cloudinary.push(x):acc.s3.push(x),acc},{s3:[],cloudinary:[]})}};var items})}(),function(){angular.module("app").factory("globals",function($http,$state,$location,ngProgressFactory,Notification,localStorageService){var throttler=(enabled=!0,function(fn){enabled&&(enabled=!1,setTimeout(function(){enabled=!0}),fn())});var enabled;return{progress:(progressbar=ngProgressFactory.createInstance(),progressbar),logout:function(){localStorageService.remove("access-token"),localStorageService.remove("userData"),localStorageService.remove("companyData"),localStorageService.set("currentProject",null),localStorageService.remove("inventoryState"),$state.go("preLogin"),throttler(function(){return Notification.error("Please login")})},userStore:(userData=localStorageService.get("userData")||{},{set:function(data){return data.privilege=["admin","manager","sub_contractor","team_leader","worker"].indexOf(data.designation),localStorageService.set("userData",data),userData=data},get:function(){return userData},reset:function(){localStorageService.remove("userData"),userData={}}}),companyStore:(companyData=localStorageService.get("companyData")||null,{set:function(data){return localStorageService.set("companyData",data),companyData=data},get:function(){return companyData},refetch:function(id){$http({method:"GET",headers:{"x-access-token":localStorageService.get("access-token"),platform:JSON.stringify({source:"web"})},url:"https://api.staging.cloudes.eu/api/getCompanyById/"+id}).then(function(resp){localStorageService.set("companyData",resp.data)}).catch(function(e){console.log(e)})},reset:function(){localStorageService.remove("companyData"),companyData={}}}),projectStore:function(){localStorageService.get("currentProject");return{set:function(data){return localStorageService.set("currentProject",data),data},get:function(){return localStorageService.get("currentProject")},reset:function(){localStorageService.remove("currentProject"),null}}}(),inventoryState:function(){var state=localStorageService.get("inventoryState")||{tab:0,searchText:"",page:{material:1,combo:1}};return{setPage:function(type,value){state.page[type]=value,localStorageService.set("inventoryState",state)},setTab:function(val){state.tab=val,localStorageService.set("inventoryState",state)},text:function(_text){_text&&(state.searchText=_text,localStorageService.set("inventoryState",state))},get:function(){return state}}},mUnits:[{name:"mt",value:"mt"},{name:"sq.mt",value:"sq.mt"},{value:"cu.mt",name:"cu.mt"},{name:"ft",value:"ft"},{name:"sq.ft",value:"sq.ft"},{value:"cu.ft",name:"cu.ft"},{value:"unit",name:"unit"}],getCurrency:function(){return $http.get("/data/currencies.json")},getCountryCode:function(){return $http.get("/data/CountryCode.json")},getIndustry:function(){return $http.get("/data/industry.json")},debounce:function(rate){var timer=void 0;return function(fn,args){clearTimeout(timer),timer=setTimeout(function(){fn.apply(null,args)},rate)}},genericStore:function(){var item=void 0;return{store:function(val){item=val},get:function(){return item}}},extractPagesFromPdf:function(pdfLink,pageCount){return[].concat(_toConsumableArray(Array(pageCount).keys())).reduce(function(acc,_,i){var pageObj={pageNo:i,url:pdfLink.replace("/upload/","/upload/pg_"+(i+1)+"/").replace(/\.pdf$/,".png"),title:"title_"+Date.now(),selected:!1,description:""};return acc.push(pageObj),acc},[])},createPagesFromPdf:function(pdf){return new Promise(function(resolve,reject){pdfjsLib.getDocument(pdf.secure_url).promise.then(function(doc){Promise.all([].concat(_toConsumableArray(Array(doc.numPages).keys())).map(function(_,i){return doc.getPage(i+1)})).then(function(pages){resolve(pages.map(function(x,i){return x.pageNo=i,x.title="title_"+Date.now(),x.selected=!1,x.description="",x}))}).catch(function(e){reject(e)})}).catch(function(e){console.log(e),reject(e)})})},renderPage:function(page,canvas){var viewport=page.getViewport(canvas.width/page.getViewport(1).width),context=canvas.getContext("2d");canvas.height=viewport.height;page.render({canvasContext:context,viewport:viewport})}};var companyData;var userData;var progressbar})}(),function(){angular.module("app").factory("uploadFactory",function($http,$location,localStorageService,apiFactory,Upload,cloudinary,Notification){var config={signerUrl:"https://api.staging.cloudes.eu/signv4_auth",aws_key:"AKIAJMO3YJTPKYV5DN5A",bucket:"3dfilesdata/test",awsRegion:"ap-south-1",computeContentMd5:!0,allowS3ExistenceOptimization:!0,cryptoMd5Method:function(data){return AWS.util.crypto.md5(data,"base64")},cryptoHexEncodedHash256:function(data){return AWS.util.crypto.sha256(data,"hex")}};return{init:function(){return Evaporate.create(config)},start:function(handler){var fileUpload=this.init();fileUpload.then(handler).catch(function(e){console.log(e)})},pause:function(file){this.pause("3dfilesdata/test/"+file.name,{force:!0}).then(function(){file.isPaused=!0,console.log("Paused!")}).catch(function(e){console.log(e)})},resume:function(file){this.resume("3dfilesdata/test/"+file.name).then(function(){file.isPaused=!1,console.log("Resumed!")}).catch(function(e){console.log(e)})},abort:function(file){this.cancel("3dfilesdata/test/"+file.name).then(function(){console.log("Canceled!")}).catch(function(e){console.log(e)})}}})}(),function(){angular.module("app").factory("commonVPFactory",function($rootScope){return{createStage:function(divId,initialSize,plannerData){var stage;plannerData&&plannerData.jsonString?((stage=Konva.Node.create(plannerData.jsonString,"stage")).width(initialSize.width),stage.height(initialSize.height)):stage=new Konva.Stage({container:divId,x:1,y:1,width:initialSize.width,height:initialSize.height});var getStageSize=this.getStageSize;return stage.on("windowResized",function(){var dimensions=getStageSize(divId);stage.width(dimensions.width),stage.height(dimensions.height),stage.draw()}),stage},getStageSize:function(divId){var el=document.getElementById(divId);return{height:el.clientHeight,width:el.clientWidth}},shapeId:function(){var defaultCount={shapes:{rectangle:0,square:0,circle:0,ellipse:0,calibrator:0,freeHand:0,polygon:0},markings:{line:0,singleArrow:0,doubleArrow:0,bezier:0,freehand:0,text:0,selection:0},measurement:{rectangle:0,square:0,circle:0,ellipse:0,calibrator:0,polygon:0,freeHand:0}},currentCount=defaultCount;return{load:function(count){currentCount=count},getCount:function(type,shape){return currentCount[type][shape]++,currentCount[type][shape]},get:function(){return currentCount},reset:function(){currentCount=defaultCount}}},drawState:function(){var initialDrawStates={shapes:{rectangle:!1,square:!1,circle:!1,ellipse:!1,calibrator:!1,polygon:!1},markings:{line:!1,singleArrow:!1,doubleArrow:!1,bezier:!1,freehand:!1,text:!1,selection:!1},measurement:{rectangle:!1,square:!1,circle:!1,ellipse:!1,calibrator:!1,polygon:!1,freeHand:!1}},drawStates=angular.copy(initialDrawStates);return{set:function(type){var keys=type.split(".");this.reset(),drawStates[keys[0]][keys[1]]=!0,$rootScope.$broadcast("drawStateChange",drawStates)},check:function(type){var keys=type?type.split("."):"";return type?drawStates[keys[0]][keys[1]]:drawStates},reset:function(){drawStates=angular.copy(initialDrawStates),$rootScope.$broadcast("drawStateChange",drawStates)}}},calibrationState:function(){var state={value:1,unit:"units"};return{set:function(obj){state=obj},get:function(){return state}}},actionStates:function(actions){var stack=actions||[],head=stack.length-1;return{push:function(val){stack.splice(head+1,stack.length,val),head=stack.length-1},show:function(){return stack},peek:function(){return stack[head]},undo:function(){head>-1&&(stack[head].delete(),head-=1)},redo:function(){head<stack.length&&(head=head===stack.length-1?head:head+1,stack[head].restore())}}},actionHandler:function(stage,entity,process,actionType,props){var entity=entity,stage=stage,process=process,props=props,handlers={create:{delete:function(){entity.remove(),stage.batchDraw()},restore:function(){process.add(entity),stage.batchDraw()}},move:{delete:function(){entity.position(props.start),stage.batchDraw()},restore:function(){entity.position(props.end),stage.batchDraw()}},delete:{delete:function(){process.add(entity),stage.batchDraw()},restore:function(){entity.remove(),stage.batchDraw()}},shapeProps:{delete:function(){for(var key in props.start)entity[key](props.start[key]);stage.batchDraw()},restore:function(){for(var key in props.end)entity[key](props.end[key]);stage.batchDraw()}}};return{entity:entity,restore:handlers[actionType].restore,delete:handlers[actionType].delete}},movement:function(){var start;return{add:function(position){if(start)return{start:start,end:position};start=position}}},shapePropertyHistory:function(){var start;return{add:function(props){if(start)return{start:start,end:props};start=props}}},transformers:function(layer){var layer=layer,transformers=[];return{add:function(transformer){transformers.push(transformer)},removeAll:function(){angular.forEach(transformers,function(x){x.remove()}),layer.draw()}}},dragOffset:function(stagePosition,layerOffset,stageScale){return{x:(stagePosition.x-layerOffset.x)/stageScale.x,y:(stagePosition.y-layerOffset.y)/stageScale.y}},selectedShape:function(shape){return{get:function(){return shape},set:function(val){shape=val},reset:function(){shape=void 0}}},selectionStore:function(){var selections=[];return{store:function(shapes){selections=shapes},get:function(){return selections},pull:function(shapeName){selections=selections.filter(function(shape){return shape.name()!==shapeName})},push:function(shape){var shapeNames=selections.map(function(shape){return shape.name()});shapeNames.indexOf(shape.name())>-1||selections.push(shape)},clear:function(){selections=[]}}},associations:function(){var associations={},methods={createAssociation:function(shapeId,entityId,type){var key=shapeId+"-"+entityId+"-"+Date.now();return associations[key]={shapeId:shapeId,entityId:entityId,type:type},key},getAssociations:function(key){return key?associations[key]:associations},getAssociationsForSave:function(){return Object.keys(associations).reduce(function(acc,x){var obj={shapeId:associations[x].shapeId,type:associations[x].type};switch(associations[x].type){case 1:obj.materialId=associations[x].entityId;break;case 2:obj.comboId=associations[x].entityId;break;case 3:obj.equipmentId=associations[x].entityId}return acc.push(obj),acc},[])},removeAssociation:function(key){associations[key]=void 0},reset:function(){associations={}}};return Object.freeze(methods)}}})}(),function(){angular.module("app").factory("eventsVPFactory",function($rootScope){return{windowEvents:function(windowObject){var entities=[];return windowObject.addEventListener("resize",function(ev){angular.forEach(entities,function(v){v.fire("windowResized")})}),{register:function(entity){entities.push(entity)},show:function(){}}},stageEvents:function(stage){var stage=stage,events=[];return{register:function(event,handler){stage&&(events.push(event),stage.on(event,handler))}}},shapeEvents:function(shape){var shape=shape,events=[];return{register:function(event,handler){events.indexOf(event)>-1||(events.push(event),shape.on(event,handler))}}},layerEvents:function(layer){var layer=layer,events=[];return{register:function(event,handler){events.indexOf(event)>-1||(events.push(event),layer.on(event,handler))}}}}})}(),function(){angular.module("app").factory("layersVPFactory",function($rootScope){return{createLayer:function(stage){var layer=new Konva.Layer;return stage.add(layer),layer},initiateProcess:function(stage,baseLayer){var head,processes=[];return{createProcess:function(){var group=new Konva.Group({name:"process-"+Date.now()});processes.push(group),head=processes.length-1,baseLayer.add(group)},getProcesses:function(){return processes},getCurrent:function(){return processes[head]},setCurrent:function(index){head=index},showProcess:function(index){void 0!==index?baseLayer.add(processes[index]):angular.forEach(processes,function(x){baseLayer.add(x)}),baseLayer.draw()},hideProcess:function(index){void 0!==index?processes[index].remove():angular.forEach(processes,function(x){x.remove()}),baseLayer.draw()},loadProcesses:function(processesFromJson){head=(processes=processesFromJson).length-1}}}}})}(),function(){angular.module("app").factory("shapesVPFactory",function($rootScope,eventsVPFactory,commonVPFactory,toolsVPFactory){var createdShape,shapeTools,shapeId=commonVPFactory.shapeId(),polygonOptions={init:!1,points:[],pointSet:!0};return{getShapeTools:function(obj){shapeTools=obj},loadShapeId:function(obj){shapeId.load(obj)},getShapeId:function(){return shapeId.get()},createShape:function(type,position){if(createdShape)return{start:!1,shape:createdShape};var shape,shapeProps=shapeTools.get();switch(type){case 0:shape=new Konva.Line({points:[position.x,position.y,position.x,position.y,position.x,position.y,position.x,position.y,position.x,position.y],stroke:shapeProps.stroke||"black",name:"Rect"+shapeId.getCount("shapes","rectangle"),strokeWidth:shapeProps.strokeWidth||1,fill:shapeProps.fill,draggable:!0,closed:!0});break;case 1:shape=new Konva.Ellipse({x:position.x,y:position.y,radius:{x:1,y:1},stroke:shapeProps.stroke||"black",name:"Ellipse"+shapeId.getCount("shapes","ellipse"),strokeWidth:shapeProps.strokeWidth||1,fill:shapeProps.fill,draggable:!0})}return{start:!0,shape:createdShape=shape}},drawShape:function(position,shapeLock,misc){if(createdShape)switch(createdShape.className){case"Line":this.drawRectangle(position,createdShape,shapeLock,misc);break;case"Ellipse":createdShape.radius({x:Math.abs(position.x-createdShape.x()),y:Math.abs(shapeLock?position.x-createdShape.x():position.y-createdShape.y())})}},drawRectangle:function(position,shape,shapelock,misc){var points=shape.points();switch(points[4]=position.x,points[5]=shapelock?Math.abs(points[1]+(position.x-points[0])):position.y,points[7]=shapelock?Math.abs(points[1]+(position.x-points[0])):position.y,points[2]=position.x,misc){case"grabber":shape.dash([10,10]);break;case"wrapper":shape.stroke("grey"),shape.draggable(!1)}shape.points(points)},destroyShape:function(){createdShape=void 0,polygonOptions={init:!1,points:[],pointSet:!0}},cancelDrawing:function(selection){var selectionPoints=createdShape.points();return document.body.style.cursor="default",createdShape&&createdShape.remove(),createdShape=void 0,polygonOptions={init:!1,points:[],pointSet:!0},selectionPoints},createPolygon:function(position,freeHand,freeHandMarker){if(!polygonOptions.init&&!createdShape){var shapeProps=shapeTools.get();return polygonOptions.points=[position.x,position.y],createdShape=freeHandMarker?new Konva.Line({name:"markerFreeHand"+shapeId.getCount("markings","freehand"),points:polygonOptions.points,fill:shapeProps.fill,stroke:shapeProps.stroke||"black",strokeWidth:shapeProps.strokeWidth||1}):new Konva.Line({name:freeHand?"freeHand"+shapeId.getCount("shapes","freeHand"):"polygon"+shapeId.getCount("shapes","polygon"),points:polygonOptions.points,fill:shapeProps.fill,stroke:shapeProps.stroke||"black",strokeWidth:shapeProps.strokeWidth||1}),polygonOptions.init=!0,{start:!0,polygon:createdShape}}return freeHandMarker?(polygonOptions.pointSet=!0,createdShape.draggable(!0),{start:!1,polygon:createdShape}):this.checkThreshold(position)?(polygonOptions.points.splice(-2),polygonOptions.points.push(polygonOptions.points[0],polygonOptions.points[1]),createdShape.points(polygonOptions.points),polygonOptions.pointSet=!0,createdShape.closed(!0),createdShape.draggable(!0),{start:!1,polygon:createdShape}):(polygonOptions.points.splice(-2),polygonOptions.points.push(position.x,position.y),createdShape.points(polygonOptions.points),void(polygonOptions.pointSet=!0))},drawPolygon:function(position,freeHand){createdShape&&(freeHand?(polygonOptions.points.push(position.x,position.y),createdShape.points(polygonOptions.points)):polygonOptions.pointSet?(polygonOptions.points.push(position.x,position.y),polygonOptions.pointSet=!1,createdShape.points(polygonOptions.points)):(polygonOptions.points[polygonOptions.points.length-2]=position.x,polygonOptions.points[polygonOptions.points.length-1]=position.y,createdShape.points(polygonOptions.points)))},createLine:function(position,type){if(createdShape)return{start:!1,line:createdShape};var line,shapeProps=shapeTools.get();switch(type){case"line":line=new Konva.Line({name:"lineSimple"+shapeId.getCount("markings","line"),points:[position.x,position.y],strokeWidth:shapeProps.strokeWidth||1,stroke:shapeProps.stroke||"black",draggable:!0});break;case"singleArrow":line=new Konva.Arrow({name:"lineArrow"+shapeId.getCount("markings","singleArrow"),points:[position.x,position.y],strokeWidth:1,stroke:shapeProps.stroke||"black",fill:shapeProps.fill||"black",draggable:!0,pointerLength:10,pointerWidth:10});break;case"doubleArrow":line=new Konva.Arrow({name:"lineArrowDouble"+shapeId.getCount("markings","doubleArrow"),points:[position.x,position.y],strokeWidth:shapeProps.strokeWidth||1,stroke:shapeProps.stroke||"black",fill:shapeProps.fill||"black",draggable:!0,pointerLength:10,pointerWidth:10,pointerAtBeginning:!0})}return{start:!0,line:createdShape=line}},drawLine:function(position){if(createdShape){var points=createdShape.points();points[2]=position.x,points[3]=position.y,createdShape.points(points)}},createBezierLine:function(position){if(createdShape){var createdPoints=createdShape.points(),q=[.5*(createdPoints[2]-createdPoints[0])+createdPoints[0],.5*(createdPoints[3]-createdPoints[1])+createdPoints[1]];createdPoints[2],createdPoints[0],createdPoints[0],createdPoints[3],createdPoints[1],createdPoints[1],createdPoints[2],createdPoints[0],createdPoints[0],createdPoints[3],createdPoints[1],createdPoints[1];return createdPoints.push(q[0],q[1]),createdShape.points(createdPoints),createdShape.tension(1.1),{start:!1,line:createdShape}}var shapeProps=shapeTools.get(),bezier=new Konva.Line({name:"bezier"+shapeId.getCount("markings","bezier"),lineJoin:"round",points:[position.x,position.y],strokeWidth:shapeProps.strokeWidth||1,stroke:shapeProps.stroke||"black",draggable:!0});return{start:!0,line:createdShape=bezier}},drawBezierLine:function(position){if(createdShape){var points=createdShape.points();points[2]=position.x,points[3]=position.y,createdShape.points(points)}},createText:function(props){var textShape=new Konva.Text({x:props.position.x,y:props.position.y,name:"text",text:"Placeholder text",width:props.width,fontSize:16,fontFamily:"Calibri",fill:"black"});return textShape},createTextGroup:function(){var textGroup=new Konva.Group({name:"textGroup"+shapeId.getCount("markings","text"),draggable:!0});return textGroup},calibrator:function(stage,layer){var line,points=[],isDone=!1,init=!0;return function(position,set,kill){if(kill)return line.destroy(),void layer.draw();position={x:position.x/stage.scale().x,y:position.y/stage.scale().y},isDone||(init&&set?(points.push(position.x,position.y),line=new Konva.Line({points:points,fill:"grey",stroke:"black",strokeWidth:1,dash:[5,1]}),init=!1,layer.add(line)):init||(set?(points[2]=position.x,points[3]=position.y,line.points(points),isDone=!0,$rootScope.$broadcast("calibrated",line)):(points[2]=position.x,points[3]=position.y,line.points(points)))),layer.draw()}},checkThreshold:function(position){var xUpperThreshold=polygonOptions.points[0]+10,yUpperThreshold=polygonOptions.points[1]+10,xLowerThreshold=polygonOptions.points[0]-10,yLowerThreshold=polygonOptions.points[1]-10;return xUpperThreshold>position.x&&xLowerThreshold<position.x&&yUpperThreshold>position.y&&yLowerThreshold<position.y},extractAllShapes:function(layer){var allShapes=layer.find("Group").reduce(function(acc,x){return/process*/.test(x.name())&&angular.forEach(x.getChildren(),function(child){acc.push(child)}),acc},[]);return allShapes},selectShapes:function(layer,points){var allShapes=this.extractAllShapes(layer),min=(points[0],points[1],points[4],points[5],{x:points[0]>points[4]?points[4]:points[0],y:points[1]>points[5]?points[5]:points[1]}),max={x:points[0]<points[4]?points[4]:points[0],y:points[1]<points[5]?points[5]:points[1]},checkSelection=this.checkSelection,selectedShapes=allShapes.filter(function(x){var shapeName=x.name();if(/Rect*/.test(shapeName)||/polygon*/.test(shapeName)||/freeHand*/.test(shapeName)||/markerFreeHand/.test(shapeName)){for(var points=x.points(),positionOffset=x.position(),vertices=[],i=0;i<points.length-2;i+=2)vertices.push([points[i]+positionOffset.x,points[i+1]+positionOffset.y]);return checkSelection({min:min,max:max},vertices,"rectangle")}if(/line*/.test(shapeName)){for(var points=x.points(),positionOffset=x.position(),vertices=[],i=0;i<points.length;i+=2)vertices.push([points[i]+positionOffset.x,points[i+1]+positionOffset.y]);return checkSelection({min:min,max:max},vertices,"rectangle")}return!!/Ellipse*/.test(shapeName)&&checkSelection({min:min,max:max},x.position(),"ellipse")});return selectedShapes},checkSelection:function(range,prop,type){if("rectangle"===type){for(var i=0;i<prop.length;i++)if(prop[i][0]>=range.min.x&&prop[i][0]<=range.max.x&&prop[i][1]>=range.min.y&&prop[i][1]<=range.max.y)return!0;return!1}if("ellipse"===type)return prop.x>=range.min.x&&prop.x<=range.max.x&&prop.y>=range.min.y&&prop.y<=range.max.y}}})}(),function(){angular.module("app").factory("toolsVPFactory",function($rootScope,eventsVPFactory){return{polygonArea:function(points,scale){for(var result,det=0,chunkedArray=[],chunk=[],i=0;i<points.length;i++)chunk.length<2?chunk.push(points[i]):(chunkedArray.push({x:chunk[0],y:chunk[1]}),(chunk=[]).push(points[i]));var l=chunkedArray.length;chunkedArray[0]!=chunkedArray[chunkedArray.length-1]&&(chunkedArray=chunkedArray.concat(chunkedArray[0]));for(var i=0;i<l;i++)det+=chunkedArray[i].x*chunkedArray[i+1].y-chunkedArray[i].y*chunkedArray[i+1].x;return result=scale?Math.abs(det)/2*scale:Math.abs(det)/2,Number.parseFloat(result).toFixed(2)},rectangleArea:function(height,width,scale){var area=height*width*scale;return area},ellipseArea:function(radii,scale){var area=Math.PI*radii.x*radii.y,result=scale?area*scale:area;return Number.parseFloat(result).toFixed(2)},ellipseTransfomer:function(stage,layer,ellipse){var vertices=[],group=new Konva.Group({name:"transformers"});return{set:function(radius){var ellipsePosition=ellipse.position();vertices.push([ellipsePosition.x-radius.x,ellipsePosition.y],[ellipsePosition.x+radius.x,ellipsePosition.y],[ellipsePosition.x,ellipsePosition.y+radius.y],[ellipsePosition.x,ellipsePosition.y-radius.y]);var inc=0;return angular.forEach(vertices,function(x,$index){var circle=new Konva.Circle({x:x[0],y:x[1],radius:5/layer.scaleX(),name:($index+inc).toString()+","+($index+inc+1).toString(),fill:"white",stroke:"black",strokeWidth:3/layer.scaleX(),dragBoundFunc:function(pos){return{x:$index>1?this.getAbsolutePosition().x:pos.x,y:$index<=1?this.getAbsolutePosition().y:pos.y}},draggable:!0});inc++;var circleEvent=eventsVPFactory.shapeEvents(circle);circleEvent.register("dragmove.transformer",function(){var previousRadius=ellipse.radius(),selectedVertex=circle.name(),isNegative=!1;switch(selectedVertex){case"0,1":isNegative=ellipse.position().x-circle.x()<0,ellipse.radius({x:Math.abs(ellipse.position().x-circle.x()),y:previousRadius.y}),angular.forEach(group.children,function(z){"2,3"===z.name()&&(isNegative?z.x(ellipse.position().x-ellipse.radius().x):z.x(ellipse.position().x+ellipse.radius().x))});break;case"2,3":isNegative=ellipse.position().x-circle.x()<0,ellipse.radius({x:Math.abs(ellipse.position().x-circle.x()),y:previousRadius.y}),angular.forEach(group.children,function(z){"0,1"===z.name()&&(isNegative?z.x(ellipse.position().x-ellipse.radius().x):z.x(ellipse.position().x+ellipse.radius().x))});break;case"4,5":isNegative=ellipse.position().y-circle.y()<0,ellipse.radius({x:previousRadius.x,y:Math.abs(ellipse.position().y-circle.y())}),angular.forEach(group.children,function(z){"6,7"===z.name()&&(isNegative?z.y(ellipse.position().y-ellipse.radius().y):z.y(ellipse.position().y+ellipse.radius().y))});break;case"6,7":isNegative=ellipse.position().y-circle.y()<0,ellipse.radius({x:previousRadius.x,y:Math.abs(ellipse.position().y-circle.y())}),angular.forEach(group.children,function(z){"4,5"===z.name()&&(isNegative?z.y(ellipse.position().y-ellipse.radius().y):z.y(ellipse.position().y+ellipse.radius().y))})}layer.draw(),ellipse.fire("transformEllipse")}),circleEvent.register("scaleOnZoom",function(e){e.target.radius(5/layer.scaleX()),e.target.strokeWidth(3/layer.scaleX()),layer.draw()}),circleEvent.register("mouseenter",function(e){document.body.style.cursor="move"}),circleEvent.register("mouseleave",function(e){document.body.style.cursor="default"}),group.add(circle)}),ellipse.fire("transformEllipse"),!0,layer.add(group),group},getGroup:function(){return group},destroy:function(){group.destroy()}}},customTransformer:function(stage,layer,polygon,isRectangle){var vertices=[],group=new Konva.Group({name:"transformers"}),polygon=polygon;return{set:function(points){for(var i=0;i<points.length-2;i+=2)vertices.push([points[i],points[i+1]]);var inc=0;return angular.forEach(vertices,function(x,$index){var circle=new Konva.Circle({x:x[0],y:x[1],radius:5/layer.scaleX(),name:($index+inc).toString()+","+($index+inc+1).toString(),fill:"white",stroke:"black",strokeWidth:3/layer.scaleX(),draggable:!0});inc++;var circleEvent=eventsVPFactory.shapeEvents(circle);circleEvent.register("dragmove.transformer",function(e){if(isRectangle){var selectedVertex=circle.name();switch(selectedVertex){case"0,1":vertices[0]=[circle.x(),circle.y()],vertices[1][1]=circle.y(),vertices[3][0]=circle.x(),angular.forEach(group.children,function(z){"6,7"===z.name()&&z.x(circle.x()),"2,3"===z.name()&&z.y(circle.y())});break;case"2,3":vertices[1]=[circle.x(),circle.y()],vertices[0][1]=circle.y(),vertices[2][0]=circle.x(),angular.forEach(group.children,function(z){"4,5"===z.name()&&z.x(circle.x()),"0,1"===z.name()&&z.y(circle.y())});break;case"4,5":vertices[2]=[circle.x(),circle.y()],vertices[3][1]=circle.y(),vertices[1][0]=circle.x(),angular.forEach(group.children,function(z){"2,3"===z.name()&&z.x(circle.x()),"6,7"===z.name()&&z.y(circle.y())});break;case"6,7":vertices[3]=[circle.x(),circle.y()],vertices[2][1]=circle.y(),vertices[0][0]=circle.x(),angular.forEach(group.children,function(z){"0,1"===z.name()&&z.x(circle.x()),"4,5"===z.name()&&z.y(circle.y())})}}else{var temp=[];angular.forEach(group.children,function(x){temp.push([x.x(),x.y()])}),vertices=angular.copy(temp)}polygon.fire("transformPolygon")}),circleEvent.register("scaleOnZoom",function(e){e.target.radius(5/layer.scaleX()),e.target.strokeWidth(3/layer.scaleX()),layer.draw()}),circleEvent.register("mouseenter",function(e){document.body.style.cursor="move"}),circleEvent.register("mouseleave",function(e){document.body.style.cursor="default"}),group.add(circle)}),!0,layer.add(group),group},update:function(offset){group.x(offset.x),group.y(offset.y),layer.draw()},getPoints:function(){return vertices.reduce(function(acc,x,i){return acc.push(x[0],x[1]),i===vertices.length-1&&acc.push(vertices[0],vertices[1]),acc},[])},getGroup:function(){return group}}},bezierTransformer:function(stage,layer,bezier){var vertices=[],group=new Konva.Group({name:"transformers"}),bezier=bezier;return{set:function(points){for(var i=0;i<points.length;i+=2)vertices.push([points[i],points[i+1]]);var inc=0;return angular.forEach(vertices,function(x,$index){var circle=new Konva.Circle({x:x[0],y:x[1],radius:5/layer.scaleX(),name:($index+inc).toString()+","+($index+inc+1).toString(),fill:"white",stroke:"black",strokeWidth:3/layer.scaleX(),draggable:!0});inc++;var circleEvent=eventsVPFactory.shapeEvents(circle);circleEvent.register("dragmove.transformer",function(e){var temp=[];angular.forEach(group.children,function(x){temp.push([x.x(),x.y()])}),vertices=angular.copy(temp),bezier.fire("transformBezier")}),circleEvent.register("scaleOnZoom",function(e){e.target.radius(5/layer.scaleX()),e.target.strokeWidth(3/layer.scaleX()),layer.draw()}),circleEvent.register("mouseenter",function(e){document.body.style.cursor="move"}),circleEvent.register("mouseleave",function(e){document.body.style.cursor="default"}),group.add(circle)}),!0,layer.add(group),group},update:function(offset){group.x(offset.x),group.y(offset.y),layer.draw()},getPoints:function(){return vertices.reduce(function(acc,x,i){return acc.push(x[0],x[1]),i===vertices.length-1&&acc.push(vertices[0],vertices[1]),acc},[])},getGroup:function(){return group}}},scaleTransformerBasedOnZoom:function(baseLayer){var transformerGroup=baseLayer.find(".transformers");transformerGroup.length&&angular.forEach(transformerGroup[0].getChildren(),function(child){child.fire("scaleOnZoom")})},metrics:function(){var shapeInfo;return{setShapeInfo:function(info){shapeInfo=info},getShapeInfo:function(){return shapeInfo}}},colorPicker:function(){var props={stroke:"black",opacity:1,fill:"rgba(255, 255, 255, 0)",strokeWidth:1};return{set:function(obj){props=Object.assign(props,obj)},get:function(prop){return prop?props[prop]:props}}}}})}(),function(){angular.module("app").controller("_3dDashboardCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,localStorageService,globals,NgMap){this.loggedIn=!0;var logout=globals.logout;globals.userStore,globals.throttler;if(!authFactory.checkUser())return logout(),void(this.loggedIn=!1);this.logout=function(){logout()}})}(),function(){angular.module("app").controller("_3dviewerCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var logout=globals.logout;authFactory.checkUser()||logout();this.logout=function(){logout()}})}(),function(){angular.module("app").controller("billingArchiveCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()},"/payroll"==$location.path()&&$(".payrollMenu").css("display","block !important");$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("calculationCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()},$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("clientsCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,debounce=globals.debounce,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},$scope.$watch("vm.clientData.clientContact.dialCode",function(value){$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")}),$(".clientsList").DataTable(),$scope.activeJustified=0,vm.currentPage=1,vm.toggleObj={toggleClient:{clientName:!1,phoneNo:!1,email:!1,primaryAdd:!1,created:!0}},vm.searchText="",vm.sortclients=function(type,resource){void 0===vm.toggleObj[resource][type]?vm.toggleObj[resource][type]=!0:vm.toggleObj[resource][type]=!vm.toggleObj[resource][type],apiFactory.listAllClients({page:1,chunk:10,sort:type,search:vm.searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allClients=resp.data.list,vm.clientCount=resp.data.total,$timeout(function(){$("#pagination").pagination({items:vm.clientCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllClients({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.allClients=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.searchText="";var searchDebounce=debounce(250);vm.searchClients=function(text){searchDebounce(function(){apiFactory.listAllClients({page:1,chunk:10,search:text,sort:"created",sortType:!1}).then(function(resp){vm.allClients=resp.data.list,vm.clientCount=resp.data.total,$timeout(function(){$("#pagination").pagination({items:vm.clientCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllClients({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allClients=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},[text])},vm.sortclients("created","toggleClient"),vm.dtOptions={paging:!1,info:!1,ordering:!1,searching:!1},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),globals.getIndustry().then(function(resp){vm.getIndustries=resp.data,vm.loadIndustry=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),globals.getCurrency().then(function(resp){vm.getCurrencies=resp.data,vm.loadCurrency=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.addNewClient=function(valid,clientdata){var client={},industries=[];null==clientdata&&Notification.error("Cannot save empty record"),void 0===clientdata.clientName?Notification.error("Please enter name of client"):client.clientName=clientdata.clientName,void 0===clientdata.clientContact?Notification.error("Please enter phone details"):client.clientContact={dialCode:clientdata.clientContact.dialCode[0].dialCode,phoneNumber:clientdata.clientContact.phoneNumber},null!=clientdata.description&&(client.description=clientdata.description),null!=clientdata.yearFounded&&(client.yearFounded=clientdata.yearFounded),null!=clientdata.clientWebsite&&(client.clientWebsite=clientdata.clientWebsite),null!=clientdata.email&&(client.email=clientdata.email),null!=clientdata.industry&&(clientdata.industry.forEach(function(element){industries.push(element.type)}),client.industry=industries),null!=clientdata.clientContactPerson&&(clientdata.clientContactPerson.dialCode?(console.log("dial code exist"),client.clientContactPerson={firstName:clientdata.clientContactPerson.firstName,middleName:clientdata.clientContactPerson.middleName,lastName:clientdata.clientContactPerson.lastName,email:clientdata.clientContactPerson.email,mobile:{dialCode:clientdata.clientContactPerson.dialCode[0].dialCode,phoneNumber:clientdata.clientContactPerson.phoneNumber}}):client.clientContactPerson={firstName:clientdata.clientContactPerson.firstName,middleName:clientdata.clientContactPerson.middleName,lastName:clientdata.clientContactPerson.lastName,email:clientdata.clientContactPerson.email,mobile:{phoneNumber:clientdata.clientContactPerson.phoneNumber}}),null!=clientdata.annualRevenue&&(clientdata.annualRevenue.currencyCode?client.annualRevenue={value:clientdata.annualRevenue.value,currencyCode:clientdata.annualRevenue.currencyCode[0].cc}:client.annualRevenue={value:clientdata.annualRevenue.value}),null!=clientdata.address2&&(clientdata.address2.countryCode?client.address2={line1:clientdata.address2.line1,line2:clientdata.address2.line2,line3:clientdata.address2.line3,city:clientdata.address2.city,postalCode:clientdata.address2.postalCode,countryCode:clientdata.address2.countryCode[0].code}:client.address2={line1:clientdata.address2.line1,line2:clientdata.address2.line2,line3:clientdata.address2.line3,city:clientdata.address2.city,postalCode:clientdata.address2.postalCode}),null!=clientdata.address1&&(clientdata.address1.countryCode?client.address1={line1:clientdata.address1.line1,line2:clientdata.address1.line2,line3:clientdata.address1.line3,city:clientdata.address1.city,postalCode:clientdata.address1.postalCode,countryCode:clientdata.address1.countryCode[0].code}:client.address1={line1:clientdata.address1.line1,line2:clientdata.address1.line2,line3:clientdata.address1.line3,city:clientdata.address1.city,postalCode:clientdata.address1.postalCode}),apiFactory.createClient(client).then(function(resp){Notification.success("Issue has been saved successfully"),vm.clientData={},$("#addClient").modal("hide"),vm.sortclients("created","toggleClient")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})}})}(),function(){angular.module("app").controller("comboMaterialViewCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,globals,$location,Upload){var vm=this,logout=globals.logout;globals.userStore;if(!authFactory.checkUser())return void logout();function getComboMatDetail(){apiFactory.getComboMaterialById(vm.comboId).then(function(resp){vm.comboData=resp.data.data,vm.comboMmatrialName=vm.comboData.name,vm.description=vm.comboData.description,vm.uom=vm.comboData.unit,console.log(vm.comboData),angular.forEach(vm.comboData.comboMaterialList,function(item){vm.materialCost=item.materialId.currentRate.materialCost.value*item.quantity,vm.materialTotal=vm.materialTotal+vm.materialCost,vm.rooferCost=item.materialId.currentRate.rooferCost.value*item.quantity,vm.rooferTotal=vm.rooferTotal+vm.rooferCost}),console.log(vm.comboData),$timeout(imgSlider,1500)}).catch(function(e){console.log(e)})}function imgSlider(){$("#comboCarousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:75,itemMargin:5,asNavFor:"#comboSlider"}),$("#comboSlider").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,sync:"#comboCarousel"})}vm.editFlag=!1,vm.comboId=$stateParams.id,vm.mUnits=globals.mUnits,vm.removedFiles=[],vm.materialTotal=0,vm.rooferTotal=0,getComboMatDetail(),vm.removeImg=function(img){vm.removedFiles.push(vm.matrialData.files[img]._id),vm.matrialData.files.splice(img,1)},vm.editComboMaterialList=function(item){vm.materialList=vm.comboData.comboMaterialList[item],vm.materialQty=vm.materialList.quantity,vm.selectedMaterialCost=vm.materialQty*vm.materialList.materialId.currentRate.materialCost.value,vm.selectedMaterialRooferCost=vm.materialQty*vm.materialList.materialId.currentRate.rooferCost.value,0!=vm.materialList.percentageAdditions.length&&null!=vm.materialList.percentageAdditions.length?vm.percentageAddition=vm.materialList.percentageAdditions:vm.percentageAddition=[],vm.materialIndex=item,$("#editComboMaterial").modal("show"),"new"==item?$("#editComboMaterial .modal-header h5").text("Add Combo Material Details"):$("#editComboMaterial .modal-header h5").text("Update Combo Material Details")},vm.addPercentageValue=function(){vm.percentageAddition.push({percentageType:"",value:""})},vm.removePercentageAddition=function(index){vm.percentageAddition.splice(index,1)},vm.fileUpdated=function(files,event){var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name})},vm.editComboMaterial=function(val){if(1==val)vm.editFlag=!0,$(".materialDetail textarea, .materialDetail input, .materialDetail select").attr("disabled",!1),console.log(vm.comboData.comboMaterialList);else if(2==val){$(".materialDetail textarea, .materialDetail input, .materialDetail select").attr("disabled",!0),vm.editFlag=!1;var comboListData={comboListArray:vm.comboData.comboMaterialList},comboMaterialData={name:vm.comboMmatrialName,description:vm.description,unit:vm.uom,files:vm.inputFiles};console.log(comboListData),apiFactory.updateComboMaterialList(vm.comboData._id,comboListData).then(function(resp){console.log(resp),apiFactory.updateComboMaterial(vm.comboData._id,comboMaterialData).then(function(resp){console.log(resp),Notification.success(resp.data.message),getComboMatDetail(),vm.fileNames=[],$timeout(imgSlider,1e3)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},vm.updateCombo=function(item,data){vm.comboData.comboMaterialList[item].quantity=vm.materialQty,vm.comboData.comboMaterialList[item].percentageAdditions=data,console.log(vm.comboData.comboMaterialList[item].percentageAdditions),$("#editComboMaterial").modal("hide")}})}(),function(){angular.module("app").controller("createProjectCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals){var vm=this,logout=globals.logout;globals.userStore,globals.companyStore;authFactory.checkUser()||logout();if(!authFactory.checkPrivilege("project","createProject"))return Notification.warning("Insufficient permissions"),void $state.go("dashboard");vm.clients=[],$scope.$watch("vm.projectData.client",function(value){$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")}),Promise.all([apiFactory.listAllClients(),apiFactory.getHierarchyTemplate()]).then(function(resp){vm.clients=resp[0].data.list,vm.templateList=resp[1].data.data;vm.templateList.filter(function(item){return"5b8910fbdd6fa81a20bfe745"==item._id});vm.filemanagerTemplate="5b8910fbdd6fa81a20bfe745"}).catch(function(e){console.log(e)}),vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU&libraries=places",markers:[],styles:[],center:"41,-87",zoom:3},vm.projectData={address:{}},$scope.select2Options={allowClear:!0},vm.placeMarker=function(map){var placeData=this.getPlace().geometry.location;vm.gmap.markers=[[placeData.lat(),placeData.lng()]],vm.gmap.zoom=15,vm.gmap.center=placeData.lat()+","+placeData.lng(),vm.projectData.address.loc={coordinates:[placeData.lat(),placeData.lng()]}},vm.addProject=function(formData){formData.client=formData.client._id,apiFactory.createProject(formData).then(function(resp){Notification.success("Project has been created successfully");var payload={projectId:resp.data._id,templateId:resp.data._id&&vm.filemanagerTemplate&&"false"!=vm.filemanagerTemplate?vm.filemanagerTemplate:"5b8910fbdd6fa81a20bfe745"};apiFactory.loadHierarchyTree(payload).then(function(resp){console.log(resp.data.message)}).catch(function(e){console.log(e)}),console.log("projectid",resp.data._id),$state.go("dashboard")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})},vm.updateMarker=function(){var pos=this.getPosition();vm.projectData.address.loc={coordinates:[pos.lat(),pos.lng()]}},NgMap.getMap().then(function(map){vm.map=map,map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoomControl:!0,zoom:1,center:{lat:0,lng:0}})}),vm.logout=function(){logout()},vm.assignTemplate=function(){vm.filemanagerTemplate=vm.selectedTemplate._id,$("#assignTemplateModal").modal("hide")}})}(),function(){angular.module("app").controller("dashboardCtrl",function($scope,$timeout,authFactory,$state,$window,$location,apiFactory,Notification,localStorageService,globals,NgMap){var vm=this;vm.loggedIn=!0;var logout=globals.logout,userStore=globals.userStore,companyStore=globals.companyStore,projectStore=globals.projectStore;globals.throttler;if(!authFactory.checkUser())return logout(),void(vm.loggedIn=!1);vm.loader=!1,vm.userData=userStore.get(),vm.clientUrl="https://res.cloudinary.com/dktnhmsjx/image/upload/v1486129234/default/company.png",vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],markers:[]},Promise.all([apiFactory.getCompanyById(vm.userData.companyId),apiFactory.listAllProjects(),apiFactory.listAllClients()]).then(function(data){var projectList,mxLat,mxLng,mnLat,mnLng,markers;companyStore.set(data[0].data),vm.gmap.markers=(projectList=data[1].data.list,mxLat=0,mxLng=0,mnLat=0,mnLng=0,markers=[],projectList.forEach(function(element){if(element.address&&(0!=element.address.loc.coordinates[0]||0!=element.address.loc.coordinates[1])){var mrkr={id:element._id,latitude:element.address.loc.coordinates[1],longitude:element.address.loc.coordinates[0]};mxLat=mxLat>mrkr.latitude?mrkr.latitude:mxLat,mnLat=mnLat<mrkr.latitude?mrkr.latitude:mnLat,mxLng=mxLng>mrkr.longitude?mrkr.longitude:mxLng,mnLng=mnLng<mrkr.longitude?mrkr.longitude:mnLng,markers.push([mrkr.latitude,mrkr.longitude])}}),markers),vm.dashboardData={company:data[0].data,projects:data[1].data.list,clients:data[2].data.list}}).catch(function(e){console.log(e)}),NgMap.getMap().then(function(map){map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoom:1,center:{lat:0,lng:0}})});var enabled=!0,chunkSize=5;if(vm.projectSearch="",vm.enableLazyLoad=!1,vm.sortParams={field:"created",type:!1},vm.projectName="PROJECT",$scope.getBookmarkedProject=function(){apiFactory.getBookmarks().then(function(resp){vm.bookmarkedProject=resp.data.bookmarks,vm.bookmarkedProjectList=angular.copy(vm.bookmarkedProject),vm.bookmarkedProjectList.push({_id:"others",projectName:"All Project List"})}).catch(function(e){console.log(e)})},$scope.getBookmarkedProject(),vm.loadProjectFiles=function(id){apiFactory.showProjectFiles(id,5).then(function(resp){vm.projectFiles=resp.data.data})},vm.bookmarkFlag=!1,vm.selectedProject=function(project){"others"==project._id?apiFactory.listAllProjects().then(function(resp){vm.projectPickerData=resp.data.list,$("#chooseProject").modal("show")}).catch(function(e){console.log(e)}):(vm.bookmarkFlag=!1,angular.forEach(vm.bookmarkedProject,function(x){if(x._id==project._id)return vm.bookmarkFlag=!0}),vm.projectName=project.projectName,projectStore.set(project),vm.loadProjectFiles(project._id))},vm.chooseProject=function(project){var index=vm.bookmarkedProjectList.findIndex(function(x){return"others"==x._id});vm.bookmarkedProjectList.splice(index,1);var alreadyExist=!0;angular.forEach(vm.bookmarkedProject,function(x){x._id==project._id&&(alreadyExist=!1)}),alreadyExist&&vm.bookmarkedProjectList.push(project),vm.bookmarkedProjectList.push({_id:"others",projectName:"All Project List"}),vm.project=project,vm.projectName=project.projectName,vm.bookmarkFlag=!1,projectStore.set(project),$("#chooseProject").modal("hide")},localStorageService.get("currentProject")){var currentProject=localStorageService.get("currentProject");vm.project=currentProject,vm.projectName=currentProject.projectName,vm.loadProjectFiles(vm.project._id);var alreadyBookmarked=!1;angular.forEach(vm.bookmarkedProject,function(x){if(x._id==currentProject._id)return alreadyBookmarked=!0}),alreadyBookmarked||$timeout(function(){var index=vm.bookmarkedProjectList.findIndex(function(x){return"others"==x._id});vm.bookmarkedProjectList.splice(index,1),vm.bookmarkedProjectList.push(currentProject),vm.bookmarkedProjectList.push({_id:"others",projectName:"All Project List"})},1500)}$("#chooseProject").on("hide.bs.modal",function(){vm.enableLazyLoad=!1}),vm.closeProjectPicker=function(){$("#chooseProject").modal("hide"),vm.project=null,projectStore.set("")},vm.checkBookmark=function(data){var bookmark=!0,alreadyBookmarked=!1;angular.forEach(vm.bookmarkedProject,function(x){if(x._id==data._id)return alreadyBookmarked=!0}),bookmark=!alreadyBookmarked,apiFactory.bookMarkProject(projectStore.get()._id,bookmark).then(function(resp){if(bookmark)Notification.success("Project successfully bookmarked"),vm.bookmarkedProject.push(data),vm.bookmarkFlag=!0;else{Notification.success("Project successfully removed from bookmark list");var index=vm.bookmarkedProject.findIndex(function(x){return x._id==data._id});vm.bookmarkedProject.splice(index,1),vm.bookmarkFlag=!1}}).catch(function(err){console.log(err)})},vm.addMore=function(){enabled&&(enabled=!1,$timeout(function(){enabled=!0},500),chunkSize+=5,apiFactory.listAllProjects({search:vm.projectSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.projectPickerData=resp.data.list}).catch(function(e){console.log(e)}))},vm.searchProjects=function(text){apiFactory.listAllProjects({search:vm.projectSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.projectPickerData=resp.data.list}).catch(function(e){console.log(e)})},vm.sort=function(field){vm.sortParams.field===field?vm.sortParams.type=!vm.sortParams.type:(vm.sortParams.field=field,vm.sortParams.type=!0),apiFactory.listAllProjects({search:vm.projectSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.projectPickerData=resp.data.list}).catch(function(e){console.log(e)})},vm.logout=function(){logout()},$scope.redirectTo3D=function(){console.log("rediection called"),apiFactory.get3DPage().then(function(response){console.log("response:",response)})},vm.goToFileManager=function(){console.log("project",projectStore.get()),projectStore.get()?$state.go("fileManager"):(Notification.warning("Please select a project"),$("html, body").animate({scrollTop:$(".project").offset().top},500,function(){$("#selectProject").focus().addClass("blink"),setTimeout(function(){$("#selectProject").removeClass("blink")},1e3)}))},vm.planPickerPlans=[],vm.rootFolders=[],vm.openPlanPicker=function(){projectStore.get()?(apiFactory.getProjectRoofPlans(projectStore.get()._id).then(function(resp){var roofPlans=resp.data.data;localStorageService.set("roofPlanProject",projectStore.get()._id),localStorageService.set("roofPlans",roofPlans),vm.planPickerPlans=roofPlans,$("#chooseRoofModal").modal("show")}).catch(function(e){console.log(e)}),apiFactory.getHierarchy(projectStore.get()._id).then(function(resp){vm.showTree=!0,vm.rootFolders=resp.data.data.hierarchies}).catch(function(e){console.log(e)})):Notification.warning("No project selected")},vm.choosePlan=function(plan){$("#chooseRoofModal").modal("hide"),localStorageService.set("selectedPlan",plan),$state.go("visualPlanner")},vm.allModalClose=function(){$("#chooseFile, #selectFileCanvas, #selectFile, #chooseRoofModal").modal("hide")},vm.fileChoose=function(){vm.pickerFolders=angular.copy(vm.rootFolders),$("#chooseFile").modal("show"),$("#chooseFile").css("display","block"),$("#chooseFile .modal-dialog").css({"-webkit-box-shadow":"0px 0px 47px 6px rgba(0, 0, 0, 0.75)","-moz-box-shadow":"0px 0px 47px 6px rgba(0, 0, 0, 0.75)","box-shadow":"0px 0px 47px 6px rgba(0, 0, 0, 0.75)"}),$(".rootFolder").show(),$(".childFolder").hide(),vm.moveto="move To",$scope.folderName="Root Folder","Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1},$scope.$on("loader",function(e,data){vm.loader=data,vm.loader?$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),$scope.$on("selectedRoofPlanDoc",function(e,data){vm.selectedAssetForPlan=data,vm.roofplanBreadCrumb=data.breadCrumbs.reduce(function(acc,x){return acc+=x.name+" > "},"")+data.assetName,/cloudinary/.test(data.secure_url)?(vm.fileArray=globals.extractPagesFromPdf(data.secure_url,data.pages),vm.loader=!1,$("#chooseRoofModal").css("visibility","hidden"),$("#selectFile").modal("show"),$("#selectFile").css("display","block"),vm.pdfFiles=angular.copy(vm.fileArray),console.log(vm.fileArray)):data.planDocument?($timeout(function(){$scope.$apply()}),vm.pdfPagesData=vm.pdfFiles=data.planImages.map(function(x,i){var obj={pageNo:i,title:"title_"+Date.now(),url:x,selected:!1,description:""};return obj}),vm.loader=!1,$("#chooseRoofModal").css("visibility","hidden"),$("#selectFile").modal("show"),$("#selectFile").css("display","block")):globals.createPagesFromPdf(data).then(function(pages){$timeout(function(){$scope.$apply()}),vm.pdfPagesData=pages,vm.pdfFiles=pages,vm.loader=!1,$("#chooseRoofModal").css("visibility","hidden"),$("#selectFileCanvas").modal("show"),$("#selectFileCanvas").css("display","block")})}),vm.hideSelectFile=function(){$("#chooseRoofModal").css("visibility","visible"),$("#selectFile").css("display","none")},vm.selectedFileList=function(val,type,asset){if("submit"==val)if($("#chooseFile, #selectFile, #selectFileCanvas").css("display","none"),$("#chooseRoofModal").css("visibility","visible"),vm.selectedFiles=[],angular.forEach(vm.pdfFiles,function(x){x.selected&&vm.selectedFiles.push(x)}),1===type){var endpoint=!asset.planDocument&&/cloudinary/.test(asset.secure_url)?"addProjectRoofPlan":"addRoofPlansFromAsset",payload={assetId:asset._id,projectId:projectStore.get()._id,pages:vm.selectedFiles};apiFactory[endpoint](payload).then(function(resp){Notification.success(resp.data.message),apiFactory.getProjectRoofPlans(projectStore.get()._id).then(function(resp){var roofPlans=resp.data.data;localStorageService.set("roofPlanProject",projectStore.get()._id),localStorageService.set("roofPlans",roofPlans),vm.planPickerPlans=roofPlans}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}else{var _payload={assetId:asset._id,pdfUrl:asset.secure_url,projectId:projectStore.get()._id,pages:vm.selectedFiles.reduce(function(acc,x){var obj={title:x.title,description:x.description,pageNo:x.pageNo};return acc.push(obj),acc},[])};apiFactory.generateRoofPlans(_payload).then(function(resp){Notification.success(resp.data.message),apiFactory.getProjectRoofPlans(projectStore.get()._id).then(function(resp){var roofPlans=resp.data.data;localStorageService.set("roofPlanProject",projectStore.get()._id),localStorageService.set("roofPlans",roofPlans),vm.planPickerPlans=roofPlans}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}else"close"==val&&($("#chooseFile, #selectFile, #selectFileCanvas").css("display","none"),$("#chooseRoofModal").css("visibility","visible"))}})}(),function(){angular.module("app").controller("employeesCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var logout=globals.logout;authFactory.checkUser()||logout();this.logout=function(){logout()}})}(),function(){angular.module("app").controller("equipmentCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();$(".payrollMenu").hide(),vm.userData=userStore.get(),vm.logout=function(){logout()},$(".materialList").DataTable(),apiFactory.listAllEquipments().then(function(resp){vm.equipment=resp.data.list}).catch(function(e){console.log(e)}),vm.dtOptions={paging:!1,info:!1,ordering:!1},$(".equipmentList").DataTable(),$scope.activeJustified=0,vm.currentPage=1,vm.toggleObj={systemTag:!0,materialCost:!1,rooferCost:!1,createdAt:!1,name:!1},vm.searchText="",vm.sortEquipment=function(type){void 0===vm.toggleObj[type]?vm.toggleObj[type]=!0:vm.toggleObj[type]=!vm.toggleObj[type],apiFactory.listAllEquipments({page:1,chunk:10,sort:type,search:vm.searchText,sortType:vm.toggleObj[type]}).then(function(resp){vm.equipment=resp.data.list,vm.equipmentCount=resp.data.total,$timeout(function(){$("#equipmentPagination").pagination({items:vm.equipmentCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllEquipments({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.equipment=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.searchEquipment=function(text){apiFactory.listAllEquipments({page:1,chunk:10,search:text,sort:"createdDate",sortType:!1}).then(function(resp){vm.equipment=resp.data.list,vm.equipmentCount=resp.data.total,$timeout(function(){$("#equipmentPagination").pagination({items:vm.equipmentCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllEquipments({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.equipment=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.sortEquipment("createdAt"),vm.addMaterial={conversionFactor:1},vm.tabSettings={disable:!0},apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.addMaterial.currency=vm.companyData.currentCurrency.currencyCode}).then(function(e){console.log(e)}),vm.showConversionRate=function(from,to){var currencyData={from:from,to:to};apiFactory.showConversionRate(currencyData).then(function(resp){vm.addMaterial.conversionFactor=resp.data.conversionFactor}).catch(function(e){console.log(e)})},vm.mUnits=globals.mUnits,globals.getCurrency().then(function(resp){vm.currencies=resp.data}),vm.tabStyle=function(){void 0!==vm.addMaterial.materialName&&" "!==vm.addMaterial.materialName&&void 0!==vm.addMaterial.materialUnit&&" "!==vm.addMaterial.materialUnit&&void 0!==vm.addMaterial.currency&&""!==vm.addMaterial.currency&&void 0!==vm.addMaterial.conversionFactor&&""!==vm.addMaterial.conversionFactor?($("uib-tab-heading.info i.fa").attr("style","display: inline-block !important; color: #3cbdaa"),$("uib-tab-heading.info .number").hide(),$(".btn-success.next").attr("disabled",!1)):($("uib-tab-heading.info i.fa").attr("style","display: none !important; color: #3cbdaa"),$("uib-tab-heading.info .number").show(),$(".btn-success.next").attr("disabled",!0))},vm.addMaterialNext=function(){null!=vm.addMaterial.materialName&&" "!=vm.addMaterial.materialName?null!=vm.addMaterial.materialUnit&&" "!=vm.addMaterial.materialUnit?null!=vm.addMaterial.currency&&" "!=vm.addMaterial.currency?$scope.activeJustified=1:Notification.error("Please select Currency"):Notification.error("Please select material Unit"):Notification.error("Please enter material name")},vm.changeCost=function(cost,conversionRate){return cost*conversionRate},vm.addMaterialDetails=function(){var formData={name:vm.addMaterial.materialName,unit:vm.addMaterial.materialUnit,equipmentCosts:{value:vm.changeCost(vm.addMaterial.equipmentCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},rooferCost:{value:vm.changeCost(vm.addMaterial.rooferCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},files:vm.inputFiles};apiFactory.createEquipment(formData).then(function(resp){$("#addEquipments").modal("hide"),Notification.success(resp.data.message),vm.sortEquipment("createdAt"),vm.addMaterial={conversionFactor:1}}).catch(function(e){console.log(e)})}})}(),function(){angular.module("app").controller("fileManagerCtrl",function($scope,$http,$window,$timeout,authFactory,$state,apiFactory,Notification,globals,fileManagerFactory,uploadFactory){var vm=this,logout=globals.logout,userStore=globals.userStore,projectStore=globals.projectStore,genericStore=globals.genericStore,clipBoard=(globals.breakcrumbStore,fileManagerFactory.clipBoard);if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},apiFactory.listAllProjects().then(function(resp){vm.projectList=resp.data;var selectedProject=projectStore.get();vm.selectedProject=selectedProject._id,vm.getPrimaryFolders(selectedProject)}).catch(function(e){console.log(e)}),vm.rootFolders=[],vm.backupFolders=projectStore.get().backupFolders,vm.windowItems={folderData:"",folders:[],files:[]},vm.resolveAssetIcon=function(assetObj){var assetFormat=assetObj.format.trim(),icon=void 0;return/jp*g/.test(assetFormat)?icon="jpg":/png/.test(assetFormat)?icon="png":/pdf/.test(assetFormat)&&(icon="pdf"),icon},vm.showTree=!1,vm.getPrimaryFolders=function(selectedProject,list){list?projectStore.set(list.filter(function(x){return x._id===selectedProject})[0]):projectStore.set(selectedProject),vm.backupFolders=projectStore.get().backupFolders,Promise.all([apiFactory.getHierarchy(projectStore.get()._id),apiFactory.viewProjectAssets(projectStore.get()._id)]).then(function(resp){vm.showTree=!0,vm.rootFolders=resp[0].data.data.hierarchies,vm.projectFiles=resp[1].data.data,vm.loadFilesToAutoComplete=function($query){return new Promise(function(resolve,reject){resolve(vm.projectFiles)})}}).catch(function(e){console.log(e)})},vm.getFolder=function(id){apiFactory.getHierarchyChildren(id).then(function(resp){console.log(resp.data)}).catch(function(e){console.log(e)})};var fileDestination=genericStore();vm.treeOptions={accept:function(source,dest,destIndex){return!source.file||(fileDestination.store(dest),!1)},dragStop:function(event){var source=event.source;event.dest;if(source.nodeScope.file){var destination=fileDestination.get();if(!destination.$nodeScope)return;var payload={assetId:source.nodeScope.file._id,sourceId:source.nodeScope.$parent.$nodeScope.$modelValue._id,destId:destination.$nodeScope.$modelValue._id};apiFactory.moveAssets(payload).then(function(resp){Notification.success(resp.data.message)}).catch(function(e){console.log(e)}),destination.$nodeScope.$modelValue.files?destination.$nodeScope.$modelValue.files.push(source.nodeScope.file):destination.$nodeScope.$modelValue.files=[source.nodeScope.file],source.nodeScope.$parent.$nodeScope.$modelValue.files=source.nodeScope.$parent.$nodeScope.$modelValue.files.filter(function(x){return x._id!==source.nodeScope.file._id})}},dropped:function(event){var source=event.source,dest=event.dest,payload=void 0;null===dest.nodesScope.$nodeScope&&null===source.nodeScope.$parentNodeScope||(payload=null===dest.nodesScope.$nodeScope&&null!==source.nodeScope.$parentNodeScope?{type:1,hierarchyId:source.nodeScope.$modelValue._id,parentId:source.nodeScope.$parentNodeScope.$modelValue._id,projectId:projectStore.get()._id}:null!==dest.nodesScope.$nodeScope&&null===source.nodeScope.$parentNodeScope?{type:2,hierarchyId:source.nodeScope.$modelValue._id,projectId:projectStore.get()._id,destId:dest.nodesScope.$nodeScope.$modelValue._id}:{type:3,hierarchyId:source.nodeScope.$modelValue._id,parentId:source.nodeScope.$parentNodeScope.$modelValue._id,destId:dest.nodesScope.$nodeScope.$modelValue._id},apiFactory.dragMoveNodes(payload).then(function(resp){Notification.success(resp.data.message)}).catch(function(e){console.log(e)}))}};var rootFolderStore=genericStore();vm.setRootFolder=function(obj){rootFolderStore.store(obj)},vm.addModalActiveTab=0,$("#addModal").on("hide.bs.modal",function(){vm.fileNames=[],vm.addModalActiveTab=0}),vm.addPrimaryFolder=function(name,projectId){var payload={name:name,isParent:!0,projectId:projectId},nodeObj=rootFolderStore.get();$("#addModal").modal("hide"),apiFactory.addHierarchy(payload).then(function(resp){nodeObj.$nodesScope.$modelValue.push(resp.data.data),Notification.success(resp.data.message),console.log("rootfolder",rootFolderStore.get())}).catch(function(e){console.log(e)})},vm.openAddModal=function(source,obj){vm.addModalSource=source,vm.nodeObj=obj,$("#addModal").modal("show")},vm.showLoader=!1,vm.toggleFolder=function(folder,icon,node){folder.$modelValue.backup||($(folder.$treeScope.$element[0]).find(".folder-open").removeClass("folder-open"),$(folder.$element[0]).find(".row").first().addClass("folder-open"),vm.showLoader=!0,apiFactory.viewHierarchy(folder.$modelValue._id).then(function(resp){vm.windowItems={folderData:folder,folders:folder.$modelValue.children,files:resp.data.files},vm.breadCrumbList=resp.data.breadcrumbs,vm.showLoader=!1,folder.$modelValue.files=resp.data.files,navigationStack.push(folder)}).catch(function(e){console.log(e)}),folder.collapsed?folder.toggle():icon&&navigationStack.push(folder))};var navigationStack=fileManagerFactory.navigationStack();vm.navigate=function(forward){var folder=forward?navigationStack.forward():navigationStack.backward();folder&&(vm.showLoader=!0,apiFactory.viewHierarchy(folder.$modelValue._id).then(function(resp){vm.windowItems={folderData:folder,folders:folder.$modelValue.children,files:resp.data.files},vm.showLoader=!1,folder.$modelValue.files=resp.data.files}).catch(function(e){console.log(e)}))},vm.openFolder=function(id){var folderData=vm.windowItems.folderData.childNodes().reduce(function(acc,x){return x.$modelValue._id===id&&(acc=x),acc},null);vm.showLoader=!0,apiFactory.viewHierarchy(id).then(function(resp){navigationStack.push(folderData),vm.windowItems={folderData:folderData,folders:resp.data.folders,files:resp.data.files},vm.breadCrumbList=resp.data.breadcrumbs,vm.showLoader=!1}).catch(function(e){console.log(e)})},vm.addFolder=function(name,folder){$("#addModal").modal("hide");var payload={name:name,isParent:!1,parent:folder};apiFactory.addHierarchy(payload).then(function(resp){folder.children.push(resp.data.data),Notification.success(resp.data.message)}).catch(function(e){console.log(e)})},vm.addFileToHierarchy=function(assets,folder){$("#addModal").modal("hide");var assetId=assets.map(function(x){return x._id}),hierarchyId=folder._id;apiFactory.addFileToHierarchy({assetId:assetId,hierarchyId:hierarchyId}).then(function(resp){console.log(resp),Notification.success(resp.data.message)}).catch(function(e){console.log(e)})},vm.deleteFile=function(id,folderData){$("#fileView").modal("hide"),apiFactory.deleteAssets({assetId:id}).then(function(resp){vm.showLoader=!0,apiFactory.viewHierarchy(folderData.$modelValue._id).then(function(resp){vm.windowItems={folderData:folderData,folders:folderData.$modelValue.children,files:resp.data.files},vm.showLoader=!1,folderData.$modelValue.files=resp.data.files}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},vm.uploadState=!1,vm.completedAll=!1,vm.fileUpdated=function(files,event){var fileObj=event.target.files;vm.uploadState=!1,vm.completedAll=!1,vm.fileNames=Object.keys(fileObj).map(function(x){var val=fileObj[x];return val.progress=0,val.isPaused=!1,val.completed=!1,val.aborted=!1,val.plan=!1,val})},vm.toggleUploadViewMaximize=function(val){vm.uploadViewMaximize=!val},vm.preUpload=function(files,folder){console.log(files),$("#addModal").modal("hide"),fileManagerFactory.checkDuplicateFiles(files,folder._id).then(function(processed){processed.duplicates.length?(vm.preUploadFiles=processed,console.log(vm.preUploadFiles),$("#versioningModal").modal("show")):(console.log(processed),vm.uploadFile(processed,projectStore.get()._id,folder))}).catch(function(e){console.log(e)})},vm.processDuplicateFileName=function(file){"version"===file.action?file.assetName=fileManagerFactory.generateVersion(file.name):file.assetName=file.name},vm.uploadFile=function(files,projectId,folder){if(fileManagerFactory.checkNameChange(files.duplicates))Notification.warning("File names can't be the same");else if($("#versioningModal").modal("hide"),files=[].concat(_toConsumableArray(files.duplicates),_toConsumableArray(files.uploadFiles)),vm.uploadState=!0,$("#addModal").modal("hide"),vm.uploadViewFiles=fileManagerFactory.splitDestination(files),angular.forEach(vm.uploadViewFiles.s3,function(x){uploadFactory.start(function(evaporate){x.pause=uploadFactory.pause.bind(evaporate,x),x.resume=uploadFactory.resume.bind(evaporate,x),x.abort=uploadFactory.abort.bind(evaporate,x);var addConfig={name:x.name,file:x,progress:function(p,stats){x.progress=x.progress>Math.round(100*p)?x.progress:Math.round(100*p),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()})},complete:function(_xhr,awsKey){x.completed=!0,$timeout(function(){$scope.$apply()}),console.log("Complete!")}};evaporate.add(addConfig).then(function(awsObjectKey){var payload={type:fileManagerFactory.resolveDestType(x),projectId:projectStore.get()._id,folderId:folder._id,assetData:{assetName:x.assetName,bucket:"3dfilesdata",key:"test/"+x.name,mimetype:x.type,bytes:x.size,planDocument:x.plan}};apiFactory.newFileUpload(payload).then(function(resp){folder&&folder.files.push(resp.data.data)}).catch(function(e){console.log(e)}),Notification.success("File successfully uploaded"),console.log("File successfully uploaded to:",awsObjectKey)},function(reason){x.aborted=!0,vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),console.log("File did not upload sucessfully:",reason)})})}),vm.uploadViewFiles.cloudinary.length){var cloudinaryPayload={files:vm.uploadViewFiles.cloudinary,assetNames:vm.uploadViewFiles.cloudinary.map(function(x){return x.assetName}),projectId:projectId,hierarchyId:folder._id};apiFactory.uploadFileInFileManager(cloudinaryPayload).then(function(resp){vm.uploadViewFiles.cloudinary=vm.uploadViewFiles.cloudinary.map(function(x){return x.completed=!0,x}),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),folder&&resp.data.data.forEach(function(x){folder.files.push(x)}),Notification.success(resp.data.message)}).catch(function(e){console.log(e)})}},vm.closeUploadView=function(){vm.uploadState=!1},vm.fileView=function(file){$("#fileView").modal("show"),vm.previewData=file,vm.previewData.customUrl="pdf"===file.format?file.secure_url.replace(/\.pdf/,".png"):file.secure_url},vm.editEnabled=!1,vm.toggleEdit=function(bool){vm.editEnabled=bool},$scope.backBtnView=!1,vm.contextMenuOptions={explorer:[{text:"Paste item(s)",click:function($itemScope,$event,modelValue,text,$li){vm.windowItems.folderData?clipBoard.paste(vm.windowItems.folderData.$modelValue._id).then(function(resp){resp&&apiFactory.viewHierarchy(vm.windowItems.folderData.$modelValue._id).then(function(resp){vm.windowItems={folderData:vm.windowItems.folderData,folders:resp.data.folders,files:resp.data.files}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}):Notification.warning("Cannot paste file in root location")}}],file:[{text:"Copy",click:function($itemScope,$event,modelValue,text,$li){clipBoard.copy($itemScope.file)}},{text:"Cut",click:function($itemScope,$event,modelValue,text,$li){clipBoard.cut($itemScope.file,vm.windowItems.folderData.$modelValue._id)}},{text:"Move to",click:function($itemScope){vm.pdfonly=!1,vm.pickerFolders=angular.copy(vm.rootFolders),vm.moveToSourceFile=$itemScope.file,$("#moveTo").modal("show"),$(".rootFolder").show(),$(".childFolder").hide(),vm.moveto="move To",$scope.folderName="Root Folder","Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1}}]},vm.childFolderView=function(val){vm.childFolders=val.children,vm.moveto=val.name,$(".rootFolder").hide(),$(".childFolder").show()},$scope.backBtnView=!1,"Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1;vm.saveHierarchyTree=function(name){if(name){$("#saveTemplateModal").modal("hide");var data={name:name};apiFactory.saveHierarchyTree(projectStore.get()._id,data).then(function(resp){Notification.success(resp.data.message)}).console.log(function(e){console.log(e)})}else Notification.error("Please enter template name")},vm.selectedTemplate="",apiFactory.getHierarchyTemplate().then(function(resp){vm.templateList=resp.data.data}).catch(function(e){console.log(e)}),vm.assignTemplate=function(){var data={projectId:projectStore.get()._id,templateId:vm.selectedTemplate._id};$("#assignTemplateModal").modal("hide"),apiFactory.changeProjectTemplate(data).then(function(resp){Notification.success(resp.data.message),vm.getPrimaryFolders(projectStore.get()),apiFactory.getProjectById(projectStore.get()._id).then(function(resp){projectStore.set(resp.data),vm.backupFolders=projectStore.get().backupFolders}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},vm.showBackupFiles=!1,vm.showRecentFiles=!1,vm.toggleBookmarks=function(val,key){vm[key]=!val},vm.loadProjectFiles=function(id){apiFactory.showProjectFiles(id,5).then(function(response){vm.projectFiles=response.data.data})},vm.loadProjectFiles(projectStore.get()._id)})}(),function(){angular.module("app").controller("issueDetailCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.issueId=$stateParams.id,$scope.currentPage=1,$scope.itemsPerPage=3,vm.getIssueDetail=function(){apiFactory.getIssueById(vm.issueId).then(function(resp){vm.issueData=resp.data,vm.totalItems=vm.issueData.comments.length,$scope.ArrayComments=vm.issueData.comments.reverse(),$scope.ArrayActivities=vm.issueData.issueActivity.reverse(),vm.allComments=$scope.ArrayComments.slice(0,3),vm.allActivities=$scope.ArrayActivities.slice(0,6),$timeout(function(){$("#pagination").pagination({items:vm.totalItems,itemsOnPage:$scope.itemsPerPage,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),function(page){var pagedData=vm.issueData.comments.slice((page-1)*$scope.itemsPerPage,page*$scope.itemsPerPage);vm.allComments=pagedData,$scope.$apply()}(page)}}),$("#paginationActivity").pagination({items:vm.issueData.issueActivity.length,itemsOnPage:7,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),function(page){var pagedData=vm.issueData.issueActivity.slice(7*(page-1),7*page);vm.allActivities=pagedData,$scope.$apply()}(page)}})})})},vm.getIssueDetail(),vm.postComment=function(comment){if(null==comment)Notification.error("Please add comment.");else{var commentobj={comment:comment};apiFactory.postCommentForIssue(vm.issueId,commentobj).then(function(resp){vm.getIssueDetail(),Notification.success("Comment added successfully..")}).catch(function(e){Notification.error("Couldn't update comment")})}},$scope.changeCompletionStatus=function(){alert("completion")},$scope.downLoadAttachment=function(docs){console.log("docs",docs);new Blob([docs.secure_url],{type:docs.mimetype})},$scope.reOpenIssue=function(){apiFactory.reOpenIssueStatusUpdate(vm.issueId).then(function(resp){vm.getIssueDetail(),$("#confirmmodal").modal("hide"),Notification.success("Issue status is now open")}).catch(function(e){Notification.error("could not update Status")})},$scope.markIssueAsComplete=function(){}})}(),function(){angular.module("app").controller("issuesCtrl",function($scope,$rootScope,$timeout,authFactory,$state,$q,apiFactory,Notification,globals,fileManagerFactory,Upload,localStorageService,uploadFactory){var vm=this,logout=globals.logout,userStore=globals.userStore,debounce=globals.debounce;if($scope.UploadedFiles=[],vm.issueData={},$scope.issueModel={},$scope.file,$scope.comment="",$scope.inputFiles=[],$scope.openEdit=!1,$scope.filesToRemove=[],$scope.isSelectedBtn=!1,$scope.updateform=!1,$scope.UndoArray=[],$scope.redoArray=[],vm.planToMark=[],vm.LocalImgs=[],$scope.searchingText=!1,$scope.openFillColor=!1,$scope.colorpick="#0000ff",$scope.colorWell,$scope.fillWell,$scope.fillColor="transparent",$scope.textForm=!1,vm.errorImage="assets/images/enduserissue.png",$scope.btnMarker="../assets/images/gps.png",$scope.btnCircle="../assets/images/circle-shape-outline.png",$scope.btnLine="../assets/images/lineicon.png",$scope.btnText="../assets/images/text-option-interface-symbol.png",!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},$(".issuesList").DataTable(),$scope.activeJustified=0,vm.currentPage=1,vm.toggleObj={toggleIssue:{systemTag:!1,title:!1,description:!1,projectName:!1,created:!0}},vm.searchText="",vm.sortissues=function(type,resource){void 0===vm.toggleObj[resource][type]?vm.toggleObj[resource][type]=!0:vm.toggleObj[resource][type]=!vm.toggleObj[resource][type],apiFactory.listAllIssues({page:1,chunk:10,sort:type,search:vm.searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allIssues=resp.data.list,vm.issueCount=resp.data.total,$timeout(function(){$scope.searchingText=!1,$("#pagination").pagination({items:vm.issueCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllIssues({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.allIssues=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})};var searchDebounce=debounce(250);function dragStartLine(e){$scope.isLine=!0,$scope.dragging=!0;var x=Math.floor((e.clientX-$scope.rect.left)/($scope.rect.right-$scope.rect.left)*$scope.canvas.width),y=Math.floor((e.clientY-$scope.rect.top)/($scope.rect.bottom-$scope.rect.top)*$scope.canvas.height);$scope.dragStartLocation={X:x,Y:y},$scope.snapshot=$scope.context.getImageData(0,0,$scope.canvas.width,$scope.canvas.height)}function dragLine(e){var position,x=Math.floor((e.clientX-$scope.rect.left)/($scope.rect.right-$scope.rect.left)*$scope.canvas.width),y=Math.floor((e.clientY-$scope.rect.top)/($scope.rect.bottom-$scope.rect.top)*$scope.canvas.height);!0===$scope.dragging&&($scope.context.putImageData($scope.snapshot,0,0),position={X:x,Y:y},$scope.context.beginPath(),$scope.context.moveTo($scope.dragStartLocation.X,$scope.dragStartLocation.Y),$scope.context.lineTo(position.X,position.Y),$scope.context.strokeStyle=$scope.colorpick,$scope.context.lineWidth=2,$scope.context.lineCap="round",$scope.context.stroke())}function dragStopLine(e){var position;$scope.dragging=!1,$scope.context.putImageData($scope.snapshot,0,0);var x=Math.floor((e.clientX-$scope.rect.left)/($scope.rect.right-$scope.rect.left)*$scope.canvas.width),y=Math.floor((e.clientY-$scope.rect.top)/($scope.rect.bottom-$scope.rect.top)*$scope.canvas.height);position={X:x,Y:y},$scope.context.beginPath(),$scope.context.moveTo($scope.dragStartLocation.X,$scope.dragStartLocation.Y),$scope.context.lineTo(position.X,position.Y),$scope.context.strokeStyle=$scope.colorpick,$scope.context.lineWidth=2,$scope.context.lineCap="round",$scope.context.stroke();var imageData=$scope.context.getImageData(0,0,$scope.canvas.width,$scope.canvas.height);$scope.UndoArray.push(imageData),console.log("undoArray: ",$scope.UndoArray)}vm.searchIssues=function(text){searchDebounce(function(){apiFactory.listAllIssues({page:1,chunk:10,search:text,sort:"created",sortType:!1}).then(function(resp){vm.allIssues=resp.data.list,vm.issueCount=resp.data.total,$timeout(function(){$scope.searchingText=!0,$("#paging").pagination({items:vm.issueCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllIssues({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allIssues=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},[text])},vm.sortissues("created","toggleIssue"),vm.dtOptions={paging:!1,info:!1,ordering:!1,searching:!1},$scope.issueCategory=["Safety","Quality","Issue"],apiFactory.listAllUsers().then(function(resp){vm.allUsers=resp.data.list}),apiFactory.listAllRoofers().then(function(resp){vm.allRoofers=resp.data.list}),apiFactory.listAllProjects().then(function(resp){vm.allProjects=resp.data.list}),apiFactory.getIssuesList().then(function(resp){vm.listOfIssue=resp.data.list}),$scope.readImg=function(fileImg){var output=document.getElementById("blah");output.src=URL.createObjectURL(fileImg)},$scope.addFile=function(file,comment){$scope.inputFiles.push({file:file,comment:comment,source:"NS"}),console.log("input:",$scope.inputFiles)},$scope.deleteImg=function(index,array){array.splice(index,1)},$scope.fileUpEvent=function(file){$scope.thumbnail="",console.log("file event",file),null!==file&&file.length>0&&file.forEach(function(onefile){if("image/png"==onefile.type||"image/jpg"==onefile.type||"image/jpeg"==onefile.type){var SRC=URL.createObjectURL(onefile);$scope.thumbnail=SRC}else"application/pdf"==onefile.type?$scope.thumbnail="assets/images/file_icon/pdficon.jpg":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"==onefile.type?$scope.thumbnail="assets/images/file_icon/msword.png":"application/vnd.ms-excel"==onefile.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==onefile.type?$scope.thumbnail="assets/images/file_icon/excel.jpg":"application/x-zip-compressed"==onefile.type?$scope.thumbnail="assets/images/file_icon/zip.png":$scope.thumbnail="assets/images/file_icon/anytype.jpg";$scope.inputFiles.push({file:onefile,image:$scope.thumbnail})})},$scope.getDescription=function(index,array,coment){array[index].comment=coment},vm.files3Update=function(array){console.log("in s3 function"),angular.forEach(array,function(x){uploadFactory.start(function(evaporate){x.file.pause=uploadFactory.pause.bind(evaporate,x),x.file.resume=uploadFactory.resume.bind(evaporate,x),x.file.abort=uploadFactory.abort.bind(evaporate,x);var addConfig={name:x.file.name,file:x.file,progress:function(p,stats){x.file.progress=x.file.progress>Math.round(100*p)?x.file.progress:Math.round(100*p),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()})},complete:function(_xhr,awsKey){x.file.completed=!0,$timeout(function(){$scope.$apply()}),console.log("Complete!")}};evaporate.add(addConfig).then(function(awsObjectKey){console.log(x);var payload={type:fileManagerFactory.resolveDestType(x.file),assetData:{assetName:x.file.name,assetdescription:x.comment,bucket:"3dfilesdata",key:"test/"+x.file.name,mimetype:x.file.type,bytes:x.file.size}};apiFactory.newIssues3FileUpload(payload).then(function(resp){if(itemProcessed++,$scope.UploadedFiles.push(resp),itemProcessed===vm.uploadViewFiles.s3.length)return"response from s3"}).catch(function(e){console.log(e)}),Notification.success("File successfully uploaded")},function(reason){x.aborted=!0,vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()})})})})},vm.filescloudinaryUpdate=function(array){array.length?($scope.cloudinaryPayload={files:array},apiFactory.issueImage($scope.cloudinaryPayload).then(function(resp){return console.log("response of cloudinary: ",resp),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),Notification.success(resp.data.message),"response from cloudinary"}).catch(function(e){console.log(e)})):console.log("No file found to save n cloudinary")},vm.saveIssueDetail=function(issueData){var issueObject={};issueObject.title=issueData.title,issueObject.description=issueData.description,issueObject.project=issueData.project._id,issueObject.issueCategory=issueData.category,issueObject.ownerId=issueData.roofer._id,issueObject.deadLine=issueData.deadLine,issueObject.dependencyOn&&(issueObject.dependencyOn=issueData.dependencyOn._id),issueObject.assignedTo=issueData.assignedTo._id,issueObject.issueStatus=issueData.issueStatus,console.log("issueObj:",issueData),apiFactory.createIssue(issueObject).then(function(resp){return Notification.success("Issue has been saved successfully"),$scope.inputFiles=[],$scope.updateform=!1,vm.sortissues("created","toggleIssue"),resp}).catch(function(e){console.log(e)})},vm.ADDISSUE=function(issueData){$("#issue_modal").modal("hide"),$("#issue_marker").modal("show")},vm.localFiles=[],$scope.getFilesFromLocal=function(files){if(console.log("local files: ",files),files){files.forEach(function(onefile){var SRC=URL.createObjectURL(onefile);vm.planToMark.push({url:SRC})}),console.log("after src called"),$("#issue_marker").modal("hide");var firstCanvasImg=vm.planToMark.slice(-1);$("#slideCanvas").css("background-image","url("+firstCanvasImg[0].url+")")}else Notification.error("No Files selected.")},$("#issue_marker").on("hidden.bs.modal",function(e){$(this).removeData("bs.modal"),$("#chooseIssueRoofModal").is(":visible")?console.log("Modal is open"):(console.log("Modal is closed"),$(this).modal("show"))}),$scope.getImagesInCarosel=function(){apiFactory.getProjectRoofPlans("58eb9d2ec921d67036787832").then(function(resp){var ProjectPlans=resp.data.data;vm.planPickerPlans=ProjectPlans,console.log("planpicker: ",vm.planPickerPlans),$("#issue_marker").modal("hide"),$("#chooseIssueRoofModal").modal("show")}).catch(function(e){console.log(e)})},vm.choosePlanData=function(plan){vm.planToMark.push(plan.assetObj)},vm.choosePlanData1=function(plan){vm.planToMark.push(plan)},$scope.addToDetails=function(imgarray){$("#chooseIssueRoofModal").modal("hide"),$("#issue_marker").modal("show"),console.log("vm.plan to mrk:",vm.planToMark);var firstCanvasImg=imgarray.slice(-1);$("#slideCanvas").css("background-image","url("+firstCanvasImg[0].url+")")},$scope.addToDetails1=function(imgarray){$("#localfilesmodel").modal("hide"),$("#issue_marker").modal("show");var firstCanvasImg=imgarray.slice(-1);$("#slideCanvas").css("background-image","url("+firstCanvasImg[0].url+")")},$scope.getDetail=function(issue){$("#issuedetail").modal(),$scope.issueModel=issue,$scope.Title=$scope.issueModel.title,$scope.Description=$scope.issueModel.description,$scope.DeadLineDate=new Date($scope.issueModel.deadLine),document.getElementById("deadline").defaultValue=$scope.DeadLineDate,$scope.day=$scope.DeadLineDate.getDate()-1,$scope.month=$scope.DeadLineDate.getMonth()+1,$scope.year=$scope.DeadLineDate.getFullYear(),$scope.deadLineDate=$scope.month+"/"+$scope.day+"/"+$scope.year,$scope.Status=$scope.issueModel.issueStatus},$scope.addFileToUpdate=function(file,comment){$scope.inputFiles.push({file:file,comment:comment}),console.log($scope.inputFiles),$scope.file="",$scope.comment=""},$scope.updateRequest=function(updateobj){console.log("to update data",updateobj),$scope.updateform=!0,$scope.openEdit=!1},$scope.removeFiles=function(index,array,imageId){array.splice(index,1),console.log("removing files","index",index,"imageId",imageId),$scope.filesToRemove.push(imageId),console.log("removing files",$scope.filesToRemove)},vm.closeUpdteModel=function(){$scope.updateform=!1},$scope.openEditDate=function(){$scope.openEdit=!0},$scope.closeEditDate=function(){$scope.openEdit=!1},vm.updateIssueDetails=function(formData){var issueObject={};null==vm.updateIssue?(console.log("update issue is undefined"),issueObject.Title=$scope.issueModel.title,issueObject.description=$scope.issueModel.description,issueObject.deadLine=$scope.issueModel.deadLine,issueObject.issueStatus=$scope.issueModel.issueStatus):(console.log("update isuue is not undfined so in esle case"),null==vm.updateIssue.title?issueObject.Title=$scope.issueModel.title:issueObject.Title=vm.updateIssue.title,null==vm.updateIssue.description?issueObject.description=$scope.issueModel.description:issueObject.description=vm.updateIssue.description,null==vm.updateIssue.deadLine?issueObject.deadLine=$scope.issueModel.deadLine:issueObject.deadLine=vm.updateIssue.deadLine,null==vm.updateIssue.issueStatus?issueObject.issueStatus=$scope.issueModel.issueStatus:issueObject.issueStatus=vm.updateIssue.issueStatus),$scope.inputFiles.length>0&&(issueObject.files=$scope.inputFiles),$scope.filesToRemove.length>0&&(console.log("files to remove",$scope.filesToRemove),issueObject.removedFiles=$scope.filesToRemove),console.log("ISUUEOBJECT",issueObject),apiFactory.updateIssue(issueObject,$scope.issueModel._id).then(function(resp){Notification.success("Issue has been updated successfully"),$scope.inputFiles=[],$scope.filesToRemove=[],$scope.updateform=!1,$("#issuedetail").modal("hide"),vm.sortissues("created","toggleIssue")}).catch(function(e){console.log(e),$scope.inputFiles=[],$scope.filesToRemove=[],$scope.updateform=!1,Notification.error("Something went wrong")})},$scope.imageTempUrl="../assets/images/rooftestimages/image1.jpg",$scope.rooftestDemo=function(string){console.log("string",string),$scope.imageTempUrl=".."+string},$scope.canvas=document.getElementById("slideCanvas"),$("#issue_marker").on("shown.bs.modal",function(e){$("#carousellist").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:200,itemMargin:3})}),$scope.openSliderImage=function(url,index){console.log("url: ",url),$("#slideCanvas").css("background-image","url("+url+")")},$scope.isLine=!1,$scope.isCircle=!1,$scope.isMarker=!1,$scope.isText=!1,$scope.drawLineOnCanvas=function(){$scope.openFillColor=!1,$scope.snapshot,$scope.textForm=!1,$scope.dragging=!1,$scope.dragStartLocation,$("#gpsbtn").css("background-color","#D3D3D3"),$scope.btnMarker="../assets/images/gps.png",$scope.btnCircle="../assets/images/circle-shape-outline.png",$scope.btnLine="../assets/images/linewhite.png",$scope.btnText="../assets/images/text-option-interface-symbol.png",$("#txtbtn").css("background-color","#D3D3D3"),$("#circlebtn").css("background-color","#D3D3D3"),$("#linebutton").css("background-color","#009ACD"),$scope.context=$scope.canvas.getContext("2d"),$scope.rect=$scope.canvas.getBoundingClientRect(),1!=$scope.isCircle&&1!=$scope.isMarker&&1!=$scope.isText||($scope.canvas.removeEventListener("mousedown",dragStart),$scope.canvas.removeEventListener("mousemove",drag),$scope.canvas.removeEventListener("mouseup",dragStop),$scope.canvas.removeEventListener("mousedown",MarkWrite),$scope.canvas.removeEventListener("mousedown",TextWrite)),$scope.canvas.addEventListener("mousedown",dragStartLine),$scope.canvas.addEventListener("mousemove",dragLine),$scope.canvas.addEventListener("mouseup",dragStopLine)},$scope.UndoDrawing=function(){if($scope.UndoArray.length>0){var undoCtx=$scope.canvas.getContext("2d");undoCtx.clearRect(0,0,$scope.canvas.width,$scope.canvas.height);var imgdata=$scope.UndoArray.pop();$scope.redoArray.push(imgdata),$scope.UndoArray.forEach(function(element){undoCtx.putImageData(element,0,0)})}},$scope.RedoDrawing=function(){var undoCtx=$scope.canvas.getContext("2d");if($scope.redoArray.length>0){var redo=$scope.redoArray.pop();undoCtx.putImageData(redo,0,0)}},vm.saveMarkInfo=function(){var link=document.getElementById("link");link.setAttribute("download","MintyPaper.png"),link.setAttribute("href",$scope.canvas.toDataURL("image/png").replace("image/png","image/octet-stream")),link.click()}})}(),function(){angular.module("app").controller("materialCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore,debounce=globals.debounce;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},$(".payrollMenu").hide(),vm.dtOptions={retrieve:!0,paging:!1,info:!1,ordering:!1};var inventoryState=globals.inventoryState();vm.activeTab=inventoryState.get().tab,$scope.activeJustified=0,vm.currentPage=1,$scope.$watch("vm.activeTab",function(tab){inventoryState.setTab(tab)},!0),vm.toggleObj={material:{systemTag:!0,materialCost:!1,rooferCost:!1,createdAt:!0,name:!1},combo:{systemTag:!0,materialCost:!1,rooferCost:!1,createdAt:!0,name:!1}},vm.searchText=inventoryState.get().searchText,$scope.$watch("vm.searchText",function(text){inventoryState.text(text)},!0),vm.unitSelect=function(data){vm.selectedUnit=data.name},vm.sortMaterials=function(type,resource){void 0===vm.toggleObj[resource][type]?vm.toggleObj[resource][type]=!0:vm.toggleObj[resource][type]=!vm.toggleObj[resource][type];var apiName="material"===resource?"listAllMaterials":"listAllComboMaterials";apiFactory[apiName]({page:inventoryState.get().page[resource],chunk:10,sort:type,search:vm.searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm[resource]=resp.data.list,vm[resource+"Count"]=resp.data.total,$timeout(function(){$("#"+resource+"Pagination").pagination({items:vm[resource+"Count"],itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:inventoryState.get().page[resource],onPageClick:function(page,event){event.preventDefault(),inventoryState.setPage(resource,page),apiFactory[apiName]({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm[resource]=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})};var searchDebounce=debounce(250);vm.searchMaterials=function(text,resource){searchDebounce(function(){var apiName="material"===resource?"listAllMaterials":"listAllComboMaterials";apiFactory[apiName]({page:1,chunk:10,search:text,sort:"createdDate",sortType:!1}).then(function(resp){vm[resource]=resp.data.list,vm[resource+"Count"]=resp.data.total,$timeout(function(){$("#"+resource+"Pagination").pagination({items:vm[resource+"Count"],itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory[apiName]({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.materials=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},[text,resource])},vm.sortMaterials("createdAt","material"),vm.sortMaterials("createdAt","combo"),vm.addMaterial={conversionFactor:1},vm.tabSettings={disable:!0},apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.addMaterial.currency=vm.companyData.currentCurrency.currencyCode}).then(function(e){console.log(e)}),$scope.$watch("vm.addMaterial.currency",function(value){$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")}),vm.showConversionRate=function(from,to){$(".loader").show();var currencyData={from:from,to:to};apiFactory.showConversionRate(currencyData).then(function(resp){vm.addMaterial.conversionFactor=resp.data.conversionFactor,$timeout(function(){$(".loader").hide()},500)}).catch(function(e){console.log(e)})},vm.tabStyle=function(val){(void 0!==vm.addMaterial.materialName&&""!==vm.addMaterial.materialName||void 0!==vm.addComboMaterialForm.name&&""!==vm.addComboMaterialForm.name)&&(void 0!==vm.addMaterial.matrialUnit&&" "!==vm.addMaterial.matrialUnit||void 0!==vm.addComboMaterialForm.unitSymbol&&" "!==vm.addComboMaterialForm.unitSymbol)&&(void 0!==vm.addMaterial.currency&&""!==vm.addMaterial.currency||void 0!==vm.addComboMaterialForm.description&&" "!==vm.addComboMaterialForm.description)&&(void 0!==vm.addMaterial.conversionFactor&&""!==vm.addMaterial.conversionFactor||void 0!==vm.addComboMaterialForm.description&&" "!==vm.addComboMaterialForm.description)?($("uib-tab-heading.info i.fa").attr("style","display: inline-block !important; color: #3cbdaa"),$("uib-tab-heading.info .number").hide(),$(".btn-success.next").attr("disabled",!1)):($("uib-tab-heading.info i.fa").attr("style","display: none !important; color: #3cbdaa"),$("uib-tab-heading.info .number").show(),$(".btn-success.next").attr("disabled",!0))},vm.addMaterialNext=function(){null!=vm.addMaterial.materialName&&" "!=vm.addMaterial.materialName?null!=vm.addMaterial.matrialUnit&&""!=vm.addMaterial.matrialUnit?null!=vm.addMaterial.currency&&" "!=vm.addMaterial.currency?$scope.activeJustified=1:Notification.error("Please select Currency"):Notification.error("Please select material Unit"):Notification.error("Please enter material name")},vm.changeCost=function(cost,conversionRate){return cost*conversionRate},vm.addMaterialDetails=function(){var formData={name:vm.addMaterial.materialName,unit:vm.addMaterial.matrialUnit,materialCost:{value:vm.changeCost(vm.addMaterial.materialCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},rooferCost:{value:vm.changeCost(vm.addMaterial.rooferCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},files:vm.inputFiles};apiFactory.createMaterials(formData).then(function(resp){$scope.tab=1,$("#addMaterial").modal("hide"),Notification.success(resp.data.message),vm.toggleObj.material.createdAt=!0,vm.sortMaterials("createdAt","material"),vm.addMaterial={conversionFactor:1}}).catch(function(e){console.log(e)})},vm.getMaterialById=function(id){apiFactory.getMaterialById(id).then(function(resp){console.log(resp)}).catch(function(e){console.log(e)})},$("#addMaterial").on("hide.bs.modal",function(){$scope.activeJustified=0,vm.addMaterial={conversionFactor:1}}),vm.comboMaterialList=[],vm.addComboMaterialForm={},vm.percentageAddition=[],vm.addComboMaterialNext=function(val){if(0==val)$timeout(function(){$(".btn-success.next").attr("disabled",!1)},500),$scope.comboActiveJustified=val;else if(1==val){if(null==vm.addComboMaterialForm.name||" "==vm.addComboMaterialForm.name)return void Notification.error("Please enter material name");if(null==vm.addComboMaterialForm.unitSymbol||""==vm.addComboMaterialForm.unitSymbol)return void Notification.error("Please select material Unit");if(null==vm.addComboMaterialForm.description||" "==vm.addComboMaterialForm.description)return void Notification.error("Please select Currency");$scope.comboActiveJustified=val}else if(2==val){if(0==vm.comboMaterialList.length)return void Notification.error("Please add Combination list");vm.TotalMC=0,vm.TotalRC=0,angular.forEach(vm.comboMaterialList,function(value){vm.TotalMC=parseFloat(vm.TotalMC)+parseFloat(value.materialCost),vm.TotalRC=parseFloat(vm.TotalRC)+parseFloat(value.rooferCost)}),vm.TotalMC=parseFloat(Math.round(100*vm.TotalMC)/100),vm.TotalRC=parseFloat(Math.round(100*vm.TotalRC)/100),$scope.comboActiveJustified=val}},vm.mUnits=globals.mUnits,globals.getCurrency().then(function(resp){vm.currencies=resp.data,vm.loadCurrencies=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.comboList={quantity:1,materialCost:0,rooferCost:0},vm.getMaterialInfo=function(materialInfo){vm.comboList.materialCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.rooferCost.value*100)/100),vm.tabStyle(),$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")},vm.QtyChange=function(val,material){""==val||0==val?(vm.comboList.quantity=1,val=1,vm.comboList.materialCost=parseFloat(Math.round(val*material.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(val*material.currentRate.rooferCost.value*100)/100)):(vm.comboList.materialCost=parseFloat(Math.round(val*material.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(val*material.currentRate.rooferCost.value*100)/100)),vm.tabStyle()},vm.addPercentageValue=function(){vm.percentageAddition.push({percentageType:"",percentageValue:""})},vm.removePercentageAddition=function(index){vm.percentageAddition.splice(index,1)},vm.materialCombination=function(data){""!=data&&(vm.comboMaterialList.push({materialId:data._id,name:data.name,quantity:vm.comboList.quantity,materialCost:vm.comboList.materialCost,rooferCost:vm.comboList.rooferCost,percentageAdditions:vm.percentageAddition}),vm.percentageAddition=[],vm.comboList={quantity:1,materialCost:0,rooferCost:0},vm.addComboMaterialForm.comboMaterial="",$(".select2-choice .select2-chosen").text(""))},vm.fileUpdated=function(files,event){var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name})},vm.createComboMaterialList=function(){var cmList=[];vm.comboMaterialList.forEach(function(x){var perAdditions={};0!==x.percentageAdditions.length&&x.percentageAdditions.forEach(function(x){perAdditions[x.percentageType]=Number(x.percentageValue)}),cmList.push({materialId:x.materialId,quantity:x.quantity,percentageAdditions:perAdditions})});var data={name:vm.addComboMaterialForm.name,unit:vm.addComboMaterialForm.unitSymbol,comboMaterialList:cmList,files:vm.inputFiles};apiFactory.getSystemTag().then(function(resp){var systemTag={systemTag:resp.data.comboTag};angular.extend(data,systemTag),apiFactory.createComboMaterial(data).then(function(resp){Notification.success(resp.data.message),$("#addComboMaterial").modal("hide")}).catch(function(e){Notification.error(e.data.message)})}).catch(function(e){Notification.error(e.data.message)})},vm.removeMateril=function(item){vm.comboMaterialList.splice(item,1)}})}(),function(){angular.module("app").controller("materialViewCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,globals,$location,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();function imgSlider(){$("#carousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:75,itemMargin:5,asNavFor:"#slider"}),$("#slider").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,sync:"#carousel"})}vm.userData=userStore.get(),vm.logout=function(){logout()},vm.materialId=$stateParams.id,vm.mUnits=globals.mUnits,vm.editFlag=!1,vm.removedFiles=[],$scope.getMatDetail=function(){apiFactory.getMaterialById(vm.materialId).then(function(resp){vm.matrialData=resp.data,vm.matrialName=vm.matrialData.name,vm.matrialUnit=vm.matrialData.unit,console.log(vm.matrialData),vm.matrialCost=Number(vm.matrialData.currentRate.materialCost.value).toFixed(2),vm.matrialCurrencyCode=vm.matrialData.currentRate.materialCost.currencyCode,vm.matrialRooferCost=Number(vm.matrialData.currentRate.rooferCost.value).toFixed(2),vm.matrialRooferCurrencyCode=vm.matrialData.currentRate.rooferCost.currencyCode,vm.matrialCreatedBy=vm.matrialData.providerData.updatedBy.name,vm.matrialCreatedAt=vm.matrialData.createdAt,vm.matrialUpdatedAt=vm.matrialData.createdAt,$scope.gray_box=[{img:"/assets/images/Unit-Icon.png",title:"Unit",value:vm.matrialUnit},{img:"/assets/images/Dollar-Icon.png",title:"Material Cost",value:vm.matrialCost,currencyCode:vm.matrialCurrencyCode},{img:"/assets/images/Dollar-Icon.png",title:"Roofer Cost",value:vm.matrialRooferCost,currencyCode:vm.matrialRooferCurrencyCode}]}).catch(function(e){console.log(e)})},$scope.getMatDetail(),vm.removeImg=function(img){vm.removedFiles.push(vm.matrialData.files[img]._id),vm.matrialData.files.splice(img,1)},vm.editMaterial=function(val){if(1==val)vm.editFlag=!0,$(".materialDetail input, .materialDetail select").attr("disabled",!1);else if(2==val){vm.editFlag=!1,$(".materialDetail input, .materialDetail select").attr("disabled",!0);var materialupdatedata={name:vm.matrialName,unit:vm.matrialUnit,removedFiles:vm.removedFiles,currentRate:{materialCost:{value:vm.matrialCost,currencyCode:vm.matrialCurrencyCode},rooferCost:{value:vm.matrialRooferCost,currencyCode:vm.matrialRooferCurrencyCode}},file:vm.inputFiles};apiFactory.updateMaterialById(vm.materialId,materialupdatedata).then(function(resp){Notification.success(resp.data.message),$scope.getMatDetail(),vm.fileNames=[],$timeout(imgSlider,1e3)}).catch(function(e){console.log(e)})}},vm.fileUpdated=function(files,event){var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name})},$scope.mat_headers=[{mat_head:"S. No."},{mat_head:"Date"},{mat_head:"Material Cost"},{mat_head:"Worker Cost"}],$scope.mat_items=[{s_no:"1",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"2",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"3",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"4",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"5",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"6",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"7",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"8",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"9",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"10",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"11",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"},{s_no:"12",date:"Sep 25, 2018",m_cost:"200 DKK",w_cost:"200 DKK"}]})}(),function(){angular.module("app").controller("payrollCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()};$location.path();$(".payrollMenu").css("display","block !important"),$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("preLoginCtrl",function($scope,$timeout,$state,authFactory,apiFactory,globals,localStorageService,Notification,NgMap){var vm=this,userStore=(globals.progress,globals.logout,globals.userStore);if(vm.loggedIn=!1,authFactory.checkUser())return $state.go("dashboard"),void(vm.loggedIn=!0);vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],markers:[[28.7041,77.1025],[13.0827,80.2707]]},NgMap.getMap().then(function(map){map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoom:2,center:{lat:28.7041,lng:77.1025}})}),vm.regsiterModal=function(){$("#loginModal, #forgotPassModal").modal("hide"),$("#registerModal").modal("show")},vm.loginModal=function(){$("#registerModal, #forgotPassModal").modal("hide"),$("#loginModal").modal("show")},vm.forgotPassModal=function(){$("#loginModal").modal("hide"),$("#forgotPassModal").modal("show")},vm.login=function(isValid,formData){console.log(formData),apiFactory.login(formData).then(function(resp){$("#loginModal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").hide(),localStorageService.set("access-token",resp.data.token),userStore.set(resp.data.user),$state.go("dashboard"),Notification.success("Login success")}).catch(function(err){Notification.error(err.data.message)})},vm.forgotPass=function(isValid,formData){if(null==formData)Notification.error("please Valid mail Id");else{var data=formData;apiFactory.forgotPassword(data).then(function(resp){$("#forgotPassModal").modal("hide"),Notification.success(resp.data.message)}).catch(function(err){Notification.error(err.data.message)})}},vm.register=function(isValid,formData){apiFactory.registration(formData).then(function(resp){$("#registerModal").modal("hide"),Notification.success(resp.data.message)}).catch(function(err){$("#registerModal").modal("hide"),Notification.error(err.data.message)})},vm.subscribe=function(email){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)?apiFactory.subscribe({email:email}).then(function(resp){vm.subscribeEmail="",Notification.success(resp.data.message)}).catch(function(err){Notification.error(err.data.message)}):Notification.error("Invalid email")}})}(),function(){angular.module("app").controller("projectCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),apiFactory.listAllProjects().then(function(resp){console.log(resp.data)}).catch(function(e){console.log(e)}),this.logout=function(){logout()}})}(),function(){angular.module("app").controller("reportDetailCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this;$scope.image1="../assets/images/reportimgs/rep.jpg",$scope.image2="../assets/images/reportimgs/file.jpg";var logout=globals.logout;$scope.reportObj={},$scope.shwCommentSection=!1,$scope.ReportIssue={},$scope.issueToAdd=[],$scope.models={selected:null},authFactory.checkUser()||logout();vm.logout=function(){logout()},$scope.exportToPdf=function(){var img=new Image;img.src="../assets/images/reportimgs/rep.jpg";var img1=new Image;img1.src="../assets/images/reportimgs/file.jpg";var doc=new jsPDF("p");doc.addImage(img,"png",15,20,90,90),doc.addImage(img1,"png",110,20,90,90),doc.autoTable({html:"#statictable",margin:{top:120},pageBreak:"auto",tableWidth:"auto",showHeader:"everyPage"}),doc.setFontSize(25),doc.text(20,150,"Comments"),doc.setFontSize(10),doc.setFont("helvetica"),doc.text(20,160,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor"),doc.text(20,170,"incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco"),doc.text(20,180," laboris nisi ut aliquip ex ea commodo consequat."),doc.save("column8.pdf")};var enabled=!0,chunkSize=5;vm.issueSearch="",vm.enableLazyLoad=!1,vm.sortParams={field:"created",type:!1},$scope.openReportPicker=function(){vm.enableLazyLoad=!0,apiFactory.listAllIssues({search:vm.issueSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.issuePickerData=[],$scope.issueToAdd.length>0&&$scope.issueToAdd.forEach(function(element){resp.data.list.forEach(function(resdata,index){element._id==resdata._id?resp.data.list.splice(index,1):console.log("false")})}),$timeout(function(){vm.issuePickerData=resp.data.list,$("#listissuesmodal").modal("hide"),$("#chooseIssueModal").modal("show"),$scope.EditMode=!1})}).catch(function(e){console.log(e)})},$("#chooseIssueModal").on("hide.bs.modal",function(){vm.enableLazyLoad=!1}),vm.closeIssuePicker=function(){$("#chooseIssueModal").modal("hide"),vm.issueSearch=""},$scope.addMore=function(){console.log("calling add more"),enabled&&(enabled=!1,$timeout(function(){enabled=!0},500),chunkSize+=5,apiFactory.listAllIssues({search:vm.issueSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.issuePickerData=[],$scope.issueToAdd.length>0&&$scope.issueToAdd.forEach(function(element){resp.data.list.forEach(function(resdata,index){element._id==resdata._id&&resp.data.list.splice(index,1)})}),$timeout(function(){vm.issuePickerData=resp.data.list})}).catch(function(e){console.log(e)}))},vm.searchIssues=function(text){console.log("serchtext",text),apiFactory.listAllIssues({search:vm.issueSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.issuePickerData=resp.data.list}).catch(function(e){console.log(e)})},$scope.remarkData=[],$scope.addRemark=function(title,value){null==title&&null==value||($scope.remarkData.push({Title:title,Value:value}),$("#remarktitle").val(""),$("#remarkvalue").val(""))},vm.chooseIssues=function(issue,index,array){issue?(array.splice(index,1),$scope.issueToAdd.push(issue),$("#chooseIssueModal").modal("hide"),$("#listissuesmodal").modal("show")):Notification.error("No selection")},vm.addToListIssuePicker=function(){$("#chooseIssueModal").modal("hide"),$("#listissuesmodal").modal("show")},$scope.sendIssueToPdf=function(){$("#listissuesmodal").modal("hide"),$scope.shwCommentSection=!0},$scope.coverPageModal=function(){$("#coverpagemodal").modal("show")},$scope.aboutUsModal=function(){$("#aboutusmodal").modal("show")},$scope.projectMetaModal=function(){$("#projectmetamodal").modal("show")},$scope.reportremarkModal=function(){$("#reportremarkmodal").modal("show")},$scope.listIssueModelClick=function(){$("#listissuesmodal").modal("show")},$scope.setReportObj=function(object){console.log(object),$scope.ReportIssue.title=object.title,$scope.ReportIssue.description=object.description,$scope.ReportIssue.companyName=object.companyName,$scope.ReportIssue.email=object.email,$scope.ReportIssue.website=object.website,$scope.ReportIssue.phone=object.phone,$scope.ReportIssue.projectName=object.projectName,$scope.ReportIssue.serialNo=object.serialNo,$scope.ReportIssue.enterprise=object.enterprise,$scope.issueToAdd.length>0&&($scope.ReportIssue.issueToAdd=$scope.issueToAdd),$scope.remarkData.length>0&&($scope.ReportIssue.remarkData=$scope.remarkData),$scope.ReportIssue.authorName=object.authorName,$scope.ReportIssue.remarkDate=object.remarkDate,$("#coverpagemodal").modal("hide"),$("#aboutusmodal").modal("hide"),$("#projectmetamodal").modal("hide"),$("#reportremarkmodal").modal("hide"),$("#chooseIssueModal").modal("hide")},$scope.EditMode=!1,$scope.EditIssueData=function(){$scope.EditMode=!0},$scope.removeFromIssueList=function(index,array){array.splice(index,1),console.log($scope.issueToAdd)}})}(),function(){angular.module("app").controller("reportsCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout;globals.userStore;authFactory.checkUser()||logout();$scope.currentUser=localStorageService.get("userData"),$scope.reportCategory=["issueReport","safetyReport","qaReport"],apiFactory.listAllUsers().then(function(resp){vm.allAdminUsers=resp.data.list}),apiFactory.listAllProjects().then(function(resp){vm.projectList=resp.data}).catch(function(e){console.log(e)}),vm.logout=function(){logout()}})}(),function(){angular.module("app").controller("reportsListingCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()},"/payroll"==$location.path()&&$(".payrollMenu").css("display","block !important");$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("setPasswordCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var vm=this,token=$location.search().token;if(!token)return;apiFactory.isTokenValid({token:token}).then(function(resp){console.log(resp.data),resp.data.tokenValid?(vm.user=resp.data.user,$(".forgotPassModal").modal("show")):$(".tokenInvalid").modal("show")}).catch(function(e){console.log(e)}),vm.resetPass=function(isValid,data){if($(".forgotPassModal").modal("hide"),vm.resetPass.password===vm.resetPass.c_password){var data={password:vm.resetPass.password,user:vm.user};console.log(data),apiFactory.setPassword(data).then(function(resp){Notification.success(resp.data.message),$state.go("preLogin")}).catch(function(e){console.log(e)})}else Notification.error("Password Mismatch, Please enter same password")},vm.back=function(){$(".tokenInvalid").modal("hide"),$timeout(function(){$state.go("preLogin")})}})}(),function(){angular.module("app").controller("settingCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore,companyStore=globals.companyStore;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),companyStore.get()?(vm.companyData=companyStore.get(),vm.privileges=vm.companyData.privileges):apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.privileges=vm.companyData.privileges}).catch(function(e){console.log(e)});vm.submitRoleSettings=function(formData){apiFactory.updateRoleBasedAccess(formData).then(function(resp){Notification.success(resp.data.message),companyStore.refetch(vm.userData.companyId)}).catch(function(e){Notification.error("Something went wrong"),console.log(e)})},vm.goToDashboard=function(){$state.go("dashboard")},vm.logout=function(){logout()}})}(),function(){angular.module("app").controller("subcontractorCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this;vm.selectedMaterials=[],vm.members2=[];var logout=globals.logout;globals.debounce,globals.userStore;authFactory.checkUser()||logout();vm.getSubcontractors=function(type){apiFactory.getAllSubcontractors({page:1,chunk:10,sort:type}).then(function(resp){vm.allSubcontractor=resp.data.list,vm.subcontractorsCount=resp.data.total,console.log("suppliers are:",vm.allSubcontractor),$timeout(function(){$("#pagination").pagination({items:vm.subcontractorsCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.getAllSubcontractors({page:page,chunk:10}).then(function(resp){vm.allSubcontractor=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.getSubcontractors("created"),vm.addSubcontractorNext=function(){$("#home").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#home").removeClass("show"),$("#home").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active")):$("#profile-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#contact-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#contact").addClass("show"),$("#contact").addClass("active"))},vm.addSubcontractorPrevious=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active"))},$scope.deleteMaterial=function(index,array){array.splice(index,1)},$scope.deleteStaff=function(index,array){array.splice(index,1)},$scope.onChange=function(files){null!=files[0]&&($scope.FILEIMG=URL.createObjectURL(files[0]),$scope.fileExt=files[0].name.split(".").pop())},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),apiFactory.listAllMaterials().then(function(resp){vm.allMaterials=resp.data.list}),vm.addMaterial=function(item){vm.selectedMaterials.push(item)},vm.addMember=function(name){vm.members2.push(name)},$scope.createSubcontractor=function(subcontractor){subcontractor.supplies=[],subcontractor.staff=[],console.log("subcontractor",subcontractor),vm.selectedMaterials.length>0&&vm.selectedMaterials.forEach(function(element){subcontractor.supplies.push(element._id)}),vm.members2.length>0&&vm.members2.forEach(function(element){subcontractor.staff.push(element)}),console.log("subcontractor",subcontractor),apiFactory.createNewSubcontractor(subcontractor).then(function(resp){Notification.success("Sub-contractor has been saved successfully"),vm.supplier={},vm.selectedMaterials=[],vm.mambers2=[],$scope.inputFiles=[],subcontractor.supplies=[],subcontractor.staff=[],$("#sub-contractor_modal").modal("hide"),vm.getSubcontractors("created")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})},$scope.contracts=[{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"}]})}(),function(){angular.module("app").controller("subcontractorDetailCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.subcontractorId=$stateParams.id,$scope.getSubcontractorDetail=function(){apiFactory.getSubcontractorById(vm.subcontractorId).then(function(resp){vm.subcontractorData=resp.data})},$scope.getSubcontractorDetail()})}(),function(){angular.module("app").controller("supplierCtrl",function($scope,$rootScope,$timeout,authFactory,$state,apiFactory,Notification,globals,fileManagerFactory,Upload,localStorageService){var vm=this;vm.selectedMaterials=[],vm.members2=[];var logout=globals.logout;globals.debounce,globals.userStore;$scope.activeJustified=0,authFactory.checkUser()||logout();vm.getSuppliers=function(type){apiFactory.getAllSuppliers({page:1,chunk:10,sort:type}).then(function(resp){vm.allSuppliers=resp.data.list,vm.suppiersCount=resp.data.total,console.log("suppliers are:",vm.allSuppliers),$timeout(function(){$("#pagination").pagination({items:vm.suppiersCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.getAllSuppliers({page:page,chunk:10}).then(function(resp){vm.allSuppliers=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.getSuppliers("created"),$scope.onChange=function(files){null!=files[0]&&($scope.FILEIMG=URL.createObjectURL(files[0]),$scope.fileExt=files[0].name.split(".").pop())},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),apiFactory.listAllMaterials().then(function(resp){vm.allMaterials=resp.data.list}),vm.addMaterial=function(item){vm.selectedMaterials.push(item)},vm.addMember=function(name){vm.members2.push(name)},vm.addSupplierNext=function(){$("#home").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#home").removeClass("show"),$("#home").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active")):$("#profile-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#contact-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#contact").addClass("show"),$("#contact").addClass("active"))},vm.addSupplierPrevious=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active"))},$scope.deleteMaterial=function(index,array){array.splice(index,1)},$scope.deleteStaff=function(index,array){array.splice(index,1)},$scope.createSupplier=function(supplier){supplier.supplies=[],supplier.staff=[],console.log("supplier",supplier),vm.selectedMaterials.length>0&&vm.selectedMaterials.forEach(function(element){supplier.supplies.push(element._id)}),vm.members2.length>0&&vm.members2.forEach(function(element){supplier.staff.push(element)}),console.log("supplier",supplier),apiFactory.createNewSupplier(supplier).then(function(resp){Notification.success("Supplier has been saved successfully"),vm.supplier={},vm.selectedMaterials=[],vm.mambers2=[],$scope.inputFiles=[],supplier.supplies=[],supplier.staff=[],$("#supplier_modal").modal("hide"),vm.getSuppliers("created")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})},$scope.contracts=[{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"}]})}(),function(){angular.module("app").controller("supplierDetailCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.supplierId=$stateParams.id,$scope.getSupplierDetail=function(){apiFactory.getSupplierById(vm.supplierId).then(function(resp){vm.supplierData=resp.data})},$scope.getSupplierDetail()})}(),function(){angular.module("app").controller("visualPlannerCtrl",function($scope,$timeout,$state,$location,globals,authFactory,apiFactory,Notification,commonVPFactory,toolsVPFactory,shapesVPFactory,localStorageService,eventsVPFactory,layersVPFactory){var logout=globals.logout;globals.userStore;if(!authFactory.checkUser())return void logout();if($(".drag_element").mousedown(function(){!function(elmnt,e){var pos1=0,pos2=0,pos3=0,pos4=0;function dragMouseDown(e){(e=e||window.event).preventDefault(),pos3=e.clientX,pos4=e.clientY,document.onmouseup=closeDragElement,document.onmousemove=elementDrag}function elementDrag(e){(e=e||window.event).preventDefault(),pos1=pos3-e.clientX,pos2=pos4-e.clientY,pos3=e.clientX,pos4=e.clientY,elmnt.style.top=elmnt.offsetTop-pos2+"px",elmnt.style.left=elmnt.offsetLeft-pos1+"px"}function closeDragElement(){document.onmouseup=null,document.onmousemove=null}document.getElementById(elmnt.id+"header")?document.getElementById(elmnt.id+"header").onmousedown=dragMouseDown:elmnt.onmousedown=dragMouseDown}(document.getElementById($(this).closest("div").attr("id")))}),!authFactory.checkUser())return;var vm=this;function loadPlanner(roofPlan){var loadFromJson=!!roofPlan.plannerData&&!!roofPlan.plannerData.initialized,selectedShape=commonVPFactory.selectedShape(),colorPicker=toolsVPFactory.colorPicker();shapesVPFactory.getShapeTools(colorPicker),vm.shapeProps={colorType:"strokeColor",strokeColor:"rgba(0 ,0 , 0 , 1)",fillColor:"rgba(255, 255, 255, 0.57)",strokeWidth:1},vm.cpOptions={swatch:!0,inputClass:"h-30",format:"rgb",case:"lower",alpha:!0},vm.cpEvents={onChange:function(api,color,$event){var obj={};obj.stroke=vm.shapeProps.strokeColor,obj.fill=vm.shapeProps.fillColor,colorPicker.set(obj)}},vm.changeStrokeWidth=function(){colorPicker.set({strokeWidth:vm.shapeProps.strokeWidth})};var stage=commonVPFactory.createStage("stage",{height:window.innerHeight,width:window.innerWidth},roofPlan.plannerData),stageEvents=eventsVPFactory.stageEvents(stage);stageEvents.register("mousemove",function(){vm.pointerPosition={x:stage.getPointerPosition().x,y:stage.getPointerPosition().y},$scope.$apply()});var drawState=commonVPFactory.drawState();$scope.$on("drawStateChange",function(e,drawStates){vm.currentDrawState=drawStates});var baseLayer=loadFromJson?stage.getChildren()[0]:layersVPFactory.createLayer(stage),processStore=layersVPFactory.initiateProcess(stage,baseLayer),selectionStore=commonVPFactory.selectionStore(),transformerStore=commonVPFactory.transformers(baseLayer),calibrator=shapesVPFactory.calibrator(stage,baseLayer),calibrationState=commonVPFactory.calibrationState(),metrics=toolsVPFactory.metrics();if(vm.showPanel=!1,vm.zoomLevel=100,vm.shapeInfo,loadFromJson){if(roofPlan.plannerData&&roofPlan.plannerData.calibration){calibrationState.set(roofPlan.plannerData.calibration);var loadedProcesses=stage.getChildren()[0].getChildren().filter(function(x){return!!/process*/.test(x.name())});loadedProcesses.length>0?processStore.loadProcesses(loadedProcesses):processStore.createProcess()}roofPlan.plannerData&&roofPlan.plannerData.countData&&shapesVPFactory.loadShapeId(roofPlan.plannerData.countData)}else processStore.createProcess();vm.calibrationData=calibrationState.get(),vm.formatCalibration=function(val){return val.toFixed(3)},vm.processes=processStore.getProcesses(),vm.associations=commonVPFactory.associations();var imageObj=new Image;imageObj.crossOrigin="Anonymous",roofPlan.plannerData&&roofPlan.plannerData.jsonString?(imageObj.src=roofPlan.assetObj.url,imageObj.onload=function(){var imageContainer=baseLayer.get("#bgImage")[0];imageContainer.image(imageObj),vm.imageProps={x:Math.round(imageContainer.width()),y:Math.round(imageContainer.height())},stage.draw()}):(imageObj.src=roofPlan.assetObj.url,imageObj.onload=function(){var imageHeight=Math.round(stage.height()-75),aspectRatio=imageObj.height/imageHeight,imageWidth=Math.round(imageObj.width/aspectRatio);vm.imageProps={x:imageWidth,y:imageHeight};var bgImage=new Konva.Image({image:imageObj,name:"bgImage",id:"bgImage",height:imageHeight,shadowOffsetX:1,shadowOffsetY:1,shadowOpacity:.5,x:stage.width()/2-imageWidth/2,y:20,width:imageWidth});bgImage.on("click",function(e){transformerStore.removeAll()}),baseLayer.add(bgImage),baseLayer.draw(),baseLayer.moveToBottom()});var actionStates=commonVPFactory.actionStates(),windowEvent=eventsVPFactory.windowEvents(window);windowEvent.register(stage),vm.historyPos={x:void 0,y:void 0},window.addEventListener("wheel",function(e){"visualPlanner"===$state.$current.name&&!/modal-open/.test(document.getElementsByTagName("body")[0].className)&&e.preventDefault();Math.round(stage.height()/2),Math.round(stage.width()/2);if(e.ctrlKey){var oldScale=baseLayer.scaleX(),mousePointTo={x:stage.getPointerPosition().x/oldScale-baseLayer.x()/oldScale,y:stage.getPointerPosition().y/oldScale-baseLayer.y()/oldScale},newScale=e.deltaY<0?1.15*oldScale:oldScale/1.15;baseLayer.scale({x:newScale,y:newScale});var newPos={x:-(mousePointTo.x-stage.getPointerPosition().x/newScale)*newScale,y:-(mousePointTo.y-stage.getPointerPosition().y/newScale)*newScale},imageProps={y:Math.round(baseLayer.find("#bgImage")[0].height()*newScale),x:Math.round(baseLayer.find("#bgImage")[0].width()*newScale)};vm.imageProps=imageProps,vm.zoomLevel=Math.round(100*baseLayer.scale().x),toolsVPFactory.scaleTransformerBasedOnZoom(baseLayer),$scope.$apply(),baseLayer.position(newPos),stage.batchDraw()}}),window.addEventListener("contextmenu",function(e){"CANVAS"===e.target.tagName&&(e.preventDefault(),shapesVPFactory.cancelDrawing(),baseLayer.draw(),drawState.reset())}),vm.zoomButton=function(type){var centerY=Math.round(stage.height()/2),centerX=Math.round(stage.width()/2),oldScale=baseLayer.scaleX(),mousePointTo={x:centerX/oldScale-baseLayer.x()/oldScale,y:centerY/oldScale-baseLayer.y()/oldScale},newScale=type>0?1.15*oldScale:oldScale/1.15;baseLayer.scale({x:newScale,y:newScale});var newPos={x:-(mousePointTo.x-centerX/newScale)*newScale,y:-(mousePointTo.y-centerY/newScale)*newScale},imageProps={y:Math.round(baseLayer.find("#bgImage")[0].height()*newScale),x:Math.round(baseLayer.find("#bgImage")[0].width()*newScale)};vm.imageProps=imageProps,toolsVPFactory.scaleTransformerBasedOnZoom(baseLayer),vm.zoomLevel=Math.round(100*baseLayer.scale().x),baseLayer.position(newPos),stage.batchDraw()},vm.zoomSlider=function(percentage){var centerY=Math.round(stage.height()/2),centerX=Math.round(stage.width()/2),oldScale=baseLayer.scaleX(),mousePointTo={x:centerX/oldScale-baseLayer.x()/oldScale,y:centerY/oldScale-baseLayer.y()/oldScale},newScale=percentage/100;baseLayer.scale({x:newScale,y:newScale});var newPos={x:-(mousePointTo.x-centerX/newScale)*newScale,y:-(mousePointTo.y-centerY/newScale)*newScale},imageProps={y:Math.round(baseLayer.find("#bgImage")[0].height()*newScale),x:Math.round(baseLayer.find("#bgImage")[0].width()*newScale)};vm.imageProps=imageProps,toolsVPFactory.scaleTransformerBasedOnZoom(baseLayer),vm.zoomLevel=Math.round(100*baseLayer.scale().x),baseLayer.position(newPos),stage.batchDraw()},vm.resetZoom=function(){vm.zoomLevel=100,baseLayer.position({x:0,y:0}),baseLayer.scale({x:1,y:1}),stage.batchDraw()};var baseLayerEvent=eventsVPFactory.layerEvents(baseLayer);function rectangleEventWrapper(shapeObject,shapeType,process){var rectangleEvent=eventsVPFactory.shapeEvents(shapeObject.shape);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.shape),currentProcess.moveToTop()}var customTransformer=toolsVPFactory.customTransformer(stage,baseLayer,shapeObject.shape,!0);customTransformer.set(shapeObject.shape.points()),transformerStore.add(customTransformer.getGroup()),rectangleEvent.register("dragmove."+shapeType,function(e){customTransformer.update({x:shapeObject.shape.x(),y:shapeObject.shape.y()})}),rectangleEvent.register("transformPolygon",function(){var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.shape.points(),scale),unit:calibrationState.get().unit}),$scope.$apply(),vm.shapeInfo=metrics.getShapeInfo(),shapeObject.shape.points(customTransformer.getPoints())}),rectangleEvent.register("click."+shapeType,function(){shapeObject.shape.moveToTop(),selectedShape.set(shapeObject.shape),baseLayer.draw(),customTransformer.update({x:shapeObject.shape.x(),y:shapeObject.shape.y()}),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.shape.points(),scale),unit:calibrationState.get().unit}),$timeout(function(){$scope.$apply()}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.add(customTransformer.getGroup()),baseLayer.draw()});var movement=commonVPFactory.movement();rectangleEvent.register("dragstart."+shapeType,function(e){movement.add(e.target.getPosition())}),rectangleEvent.register("dragend."+shapeType,function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))})}function ellipseEventWrapper(shapeObject,shapeType,process){var ellipseEvent=eventsVPFactory.shapeEvents(shapeObject.shape);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.shape),currentProcess.moveToTop()}var ellipseTransfomer=toolsVPFactory.ellipseTransfomer(stage,baseLayer,shapeObject.shape);ellipseTransfomer.set(shapeObject.shape.radius()),transformerStore.add(ellipseTransfomer.getGroup()),ellipseEvent.register("dragmove.ellipse",function(e){ellipseTransfomer.destroy(),(ellipseTransfomer=toolsVPFactory.ellipseTransfomer(stage,baseLayer,shapeObject.shape)).set(shapeObject.shape.radius()),transformerStore.add(ellipseTransfomer.getGroup())}),ellipseEvent.register("click.ellipse",function(e){shapeObject.shape.moveToTop(),baseLayer.draw(),transformerStore.removeAll(),selectedShape.set(shapeObject.shape),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.ellipseArea(shapeObject.shape.radius(),scale),unit:calibrationState.get().unit}),ellipseTransfomer.destroy(),(ellipseTransfomer=toolsVPFactory.ellipseTransfomer(stage,baseLayer,shapeObject.shape)).set(shapeObject.shape.radius()),transformerStore.add(ellipseTransfomer.getGroup()),baseLayer.draw(),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,$timeout(function(){$scope.$apply()})}),ellipseEvent.register("transformEllipse",function(e){var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.ellipseArea(shapeObject.shape.radius(),scale),unit:calibrationState.get().unit}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0});var movement=commonVPFactory.movement();ellipseEvent.register("dragstart.ellipse",function(e){movement.add(e.target.getPosition())}),ellipseEvent.register("dragend.ellipse",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))})}function polygonEventWrapper(shapeObject,process){var polygonEvent=eventsVPFactory.shapeEvents(shapeObject.polygon);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.polygon),currentProcess.moveToTop()}var customTransformer=toolsVPFactory.customTransformer(stage,baseLayer,shapeObject.polygon,!1);customTransformer.set(shapeObject.polygon.points()),transformerStore.add(customTransformer.getGroup()),polygonEvent.register("dragmove.polygon",function(e){customTransformer.update({x:shapeObject.polygon.x(),y:shapeObject.polygon.y()})}),polygonEvent.register("click.polygon",function(e){customTransformer.update({x:shapeObject.polygon.x(),y:shapeObject.polygon.y()})});var movement=commonVPFactory.movement();polygonEvent.register("dragstart.polygon",function(e){movement.add(e.target.getPosition())}),polygonEvent.register("dragend.polygon",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),polygonEvent.register("transformPolygon",function(){var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.polygon.points(),scale),unit:calibrationState.get().unit}),$timeout(function(){$scope.$apply()}),vm.shapeInfo=metrics.getShapeInfo(),shapeObject.polygon.points(customTransformer.getPoints())}),polygonEvent.register("click",function(){shapeObject.polygon.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.polygon),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.polygon.points(),scale),unit:calibrationState.get().unit}),$scope.$apply(),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.add(customTransformer.getGroup()),baseLayer.draw()})}function freeHandEventWrapper(shapeObject,process){var freeHandEvent=eventsVPFactory.shapeEvents(shapeObject.polygon);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.polygon),currentProcess.moveToTop()}var movement=commonVPFactory.movement();freeHandEvent.register("dragstart.polygon",function(e){movement.add(e.target.getPosition())}),freeHandEvent.register("dragend.polygon",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),freeHandEvent.register("click",function(){shapeObject.polygon.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.polygon),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.polygon.points(),scale),unit:calibrationState.get().unit}),$timeout(function(){$scope.$apply()}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.draw()})}function lineEventWrapper(shapeObject,process){var lineEvent=eventsVPFactory.shapeEvents(shapeObject.line);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.line),currentProcess.moveToTop()}var movement=commonVPFactory.movement();lineEvent.register("dragstart.line",function(e){movement.add(e.target.getPosition())}),lineEvent.register("dragend.line",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),lineEvent.register("click",function(){shapeObject.line.moveToTop(),selectedShape.set(shapeObject.line),vm.openInfoWidget(),transformerStore.removeAll(),baseLayer.draw()})}function freeHandMarkerWrapper(shapeObject,process){var freeHandEvent=eventsVPFactory.shapeEvents(shapeObject.polygon);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.polygon),currentProcess.moveToTop()}var movement=commonVPFactory.movement();freeHandEvent.register("dragstart.freeHandMarker",function(e){movement.add(e.target.getPosition())}),freeHandEvent.register("dragend.freeHandMarker",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),freeHandEvent.register("click.freeHandMarker",function(){shapeObject.polygon.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.polygon),vm.openInfoWidget(),transformerStore.removeAll(),baseLayer.draw()})}function textEventWrapper(group,process){var textEvent=eventsVPFactory.shapeEvents(group);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(group),currentProcess.moveToTop()}var customTransformer=toolsVPFactory.customTransformer(stage,baseLayer,group,!0),wrapper=group.getChildren()[0],text=group.getChildren()[1];customTransformer.set(wrapper.points()),transformerStore.add(customTransformer.getGroup()),textEvent.register("dragmove.textGroup",function(e){customTransformer.update({x:group.x(),y:group.y()})}),textEvent.register("transformPolygon",function(){wrapper.points(customTransformer.getPoints());var updatedPoints=wrapper.points();text.width(Math.abs(updatedPoints[0]-updatedPoints[2])-10),text.position({x:updatedPoints[0]+5,y:updatedPoints[1]+5}),baseLayer.draw()}),textEvent.register("click.textGroup",function(){group.moveToTop(),selectedShape.set(text),baseLayer.draw(),customTransformer.update({x:group.x(),y:group.y()}),$timeout(function(){$scope.$apply()}),transformerStore.removeAll(),baseLayer.add(customTransformer.getGroup()),wrapper.stroke("grey"),baseLayer.draw(),vm.openTextInfoWidget()});var movement=commonVPFactory.movement();textEvent.register("dragstart.textGroup",function(e){movement.add(e.target.getPosition())}),textEvent.register("dragend.textGroup",function(e){actionStates.push(commonVPFactory.actionHandler(stage,group,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))})}baseLayerEvent.register("click",function(e){"Image"===e.target.className&&(transformerStore.removeAll(),vm.closeInfoWidget(),vm.closeTextInfoWidget(),selectedShape.reset())}),loadFromJson&&(angular.forEach(baseLayer.getChildren(),function(x){/process*/.test(x.name())&&angular.forEach(x.getChildren(),function(child){if("Ellipse"===child.className)ellipseEventWrapper({shape:child},"ellipse",!0);else if("Line"===child.className||"Arrow"===child.className){var shapeName=child.name();/Rect*/.test(shapeName)?rectangleEventWrapper({shape:child},"rectangle",!0):/polygon*/.test(shapeName)?polygonEventWrapper({polygon:child},!0):/line*/.test(shapeName)?lineEventWrapper({line:child},!0):/freeHand*/.test(shapeName)?freeHandEventWrapper({polygon:child},!0):/markerFreeHand*/.test(shapeName)&&freeHandMarkerWrapper({polygon:child},!0)}else/textGroup*/.test(child.name())&&textEventWrapper(child,!0)})}),transformerStore.removeAll()),vm.rectangle=function(square){var shapeType=square?"square":"rectangle";drawState.set("shapes."+shapeType),document.body.style.cursor="crosshair",console.log(vm.currentDrawState.shapes.square),baseLayerEvent.register("click."+shapeType,function(){if(drawState.check("shapes."+shapeType)){var shapeObject=shapesVPFactory.createShape(0,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject.start?(baseLayer.add(shapeObject.shape),actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"create")),baseLayer.draw()):(rectangleEventWrapper(shapeObject,shapeType),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())}}),baseLayerEvent.register("mousemove."+shapeType,function(){drawState.check("shapes."+shapeType)&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),square),baseLayer.draw())})},vm.ellipse=function(circle){var shapeType=circle?"circle":"ellipse";drawState.set("shapes."+shapeType),document.body.style.cursor="crosshair",baseLayerEvent.register("click."+shapeType,function(){if(drawState.check("shapes."+shapeType)){var shapeObject=shapesVPFactory.createShape(1,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject.start?(baseLayer.add(shapeObject.shape),actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"create")),baseLayer.draw()):(document.body.style.cursor="default",ellipseEventWrapper(shapeObject,shapeType),drawState.reset(),shapesVPFactory.destroyShape())}}),baseLayerEvent.register("mousemove."+shapeType,function(){drawState.check("shapes."+shapeType)&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),circle),baseLayer.draw())})},vm.polygon=function(){drawState.set("shapes.polygon"),document.body.style.cursor="crosshair",baseLayerEvent.register("click.polygon",function(){if(drawState.check("shapes.polygon")){var shapeObject=shapesVPFactory.createPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.polygon)):(polygonEventWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.polygon",function(){drawState.check("shapes.polygon")&&(shapesVPFactory.drawPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale())),baseLayer.draw())})},vm.freeHand=function(){drawState.set("measurement.freeHand"),document.body.style.cursor="crosshair",baseLayerEvent.register("mousedown.freehand",function(){if(drawState.check("measurement.freeHand")){var shapeObject=shapesVPFactory.createPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0);shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.polygon)):(freeHandEventWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.freehand",function(){drawState.check("measurement.freeHand")&&(shapesVPFactory.drawPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0),baseLayer.draw())})},vm.simpleLine=function(type){drawState.set("markings."+type),document.body.style.cursor="crosshair",baseLayerEvent.register("click."+type,function(){if(drawState.check("markings."+type)){var shapeObject=shapesVPFactory.createLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),type);shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.line),baseLayer.draw()):(lineEventWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove."+type,function(){drawState.check("markings."+type)&&(shapesVPFactory.drawLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale())),baseLayer.draw())})},vm.bezierLine=function(){drawState.set("markings.bezier"),document.body.style.cursor="crosshair",baseLayerEvent.register("click.bezier",function(){if(drawState.check("markings.bezier")){var shapeObject=shapesVPFactory.createBezierLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.line),baseLayer.draw()):(!function(shapeObject,process){var bezierEvent=eventsVPFactory.shapeEvents(shapeObject.line);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.line),currentProcess.moveToTop()}var bezierTransformer=toolsVPFactory.bezierTransformer(stage,baseLayer,shapeObject.line);bezierTransformer.set(shapeObject.line.points()),transformerStore.add(bezierTransformer.getGroup()),bezierEvent.register("dragmove.polygon",function(e){bezierTransformer.update({x:shapeObject.line.x(),y:shapeObject.line.y()})}),bezierEvent.register("click.polygon",function(e){bezierTransformer.update({x:shapeObject.line.x(),y:shapeObject.line.y()})});var movement=commonVPFactory.movement();bezierEvent.register("dragstart.polygon",function(e){movement.add(e.target.getPosition())}),bezierEvent.register("dragend.polygon",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),bezierEvent.register("transformBezier",function(){shapeObject.line.points(bezierTransformer.getPoints())}),bezierEvent.register("click",function(){shapeObject.line.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.line),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.line.points(),scale),unit:calibrationState.get().unit}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.add(bezierTransformer.getGroup()),baseLayer.draw()})}(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.bezier",function(){drawState.check("markings.bezier")&&(shapesVPFactory.drawBezierLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale())),baseLayer.draw())})},vm.freehandMarker=function(){drawState.set("shapes.freeHand"),document.body.style.cursor="crosshair",baseLayerEvent.register("mousedown.freehand",function(){if(drawState.check("shapes.freeHand")){var shapeObject=shapesVPFactory.createPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0,!0);shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.polygon)):(freeHandMarkerWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.freehand",function(){drawState.check("shapes.freeHand")&&(shapesVPFactory.drawPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0),baseLayer.draw())})},vm.textWidget=function(){drawState.set("shapes.text"),document.body.style.cursor="crosshair",baseLayerEvent.register("click.textWrapper",function(){if(drawState.check("shapes.text")){var shapeObject=shapesVPFactory.createShape(0,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));if(shapeObject.start)baseLayer.add(shapeObject.shape),actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"create"));else{var textGroup=shapesVPFactory.createTextGroup();textGroup.add(shapeObject.shape);var points=shapeObject.shape.points(),textProps={position:{x:points[0]+10,y:points[1]+10},width:Math.abs(points[0]-points[2])-10},textObj=shapesVPFactory.createText(textProps);textGroup.add(textObj),textEventWrapper(textGroup),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape(),baseLayer.draw()}}}),baseLayerEvent.register("mousemove.textWrapper",function(){drawState.check("shapes.text")&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!1,"wrapper"),baseLayer.draw())})},vm.manualSelection=function(shapeObj){transformerStore.removeAll(),selectedShape.reset();selectedShape.set(shapeObj);shapeObj.fire("click")},vm.dragSelection=function(){drawState.set("markings.selection"),document.body.style.cursor="crosshair",baseLayerEvent.register("mousedown.selection",function(){if(drawState.check("markings.selection")){vm.selectAllShapes(!1);var shapeObject=shapesVPFactory.createShape(0,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));baseLayer.add(shapeObject.shape),baseLayer.draw()}}),baseLayerEvent.register("mouseup.selection",function(){if(drawState.check("markings.selection")){document.body.style.cursor="default",drawState.reset();var selectionPoints=shapesVPFactory.cancelDrawing(),selectedShapes=shapesVPFactory.selectShapes(baseLayer,selectionPoints),selectedShapeNames=selectedShapes.map(function(x){return x.name()});selectionStore.store(selectedShapes),angular.forEach(vm.processes,function(process){angular.forEach(process.getChildren(),function(child){selectedShapeNames.indexOf(child.name())>-1&&(child.selected=!0)})}),baseLayer.draw()}}),baseLayerEvent.register("mousemove.selection",function(){drawState.check("markings.selection")&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!1,"grabber"),baseLayer.draw())})},vm.selectAllShapes=function(toggleValue){var allShapes=shapesVPFactory.extractAllShapes(baseLayer);toggleValue?selectionStore.store(allShapes):selectionStore.clear(),angular.forEach(allShapes,function(x){x.selected=!!toggleValue})},vm.toggleShapeVisibility=function(shape){transformerStore.removeAll(),shape.visible(!shape.visible()),baseLayer.draw()},vm.calibrator=function(){drawState.set("measurement.calibrator"),calibrator=shapesVPFactory.calibrator(stage,baseLayer),baseLayerEvent.register("click.calibrator",function(){drawState.check("measurement.calibrator")&&calibrator(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0)}),baseLayerEvent.register("mousemove.calibrator",function(){drawState.check("measurement.calibrator")&&calibrator(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!1)})},$scope.$on("calibrated",function(e,calibratedLine){$("#calibrateModal").modal("show");var points=calibratedLine.points(),distance=Math.sqrt(Math.pow(points[0]-points[2],2)+Math.pow(points[1]-points[3],2));vm.calibrationDistance=distance,vm.saveCalibration=function(){var scale,value=vm.calibrationScale.value;scale=parseInt(value)/distance,calibrationState.set({value:scale,unit:vm.calibrationScale.unit}),vm.calibrationData=calibrationState.get(),vm.showPanel=!0,vm.shapeInfo=metrics.getShapeInfo(),calibratedLine.destroy(),baseLayer.draw(),$("#calibrateModal").modal("hide")},$("#calibrateModal").on("hide.bs.modal",function(e){calibratedLine.destroy(),baseLayer.draw()})}),vm.deleteShape=function(shapeObj){var shape=shapeObj||selectedShape.get();shape&&(transformerStore.removeAll(),actionStates.push(commonVPFactory.actionHandler(stage,shape,shape.getParent(),"delete")),shape.remove(),baseLayer.draw(),vm.closeInfoWidget(),vm.closeTextInfoWidget(),selectedShape.reset())},vm.openInfoWidget=function(){var shape=selectedShape.get();vm.infoWidgetProps={name:shape.name(),colorType:"stroke",stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()},vm.shapeInfoWidget=!0},vm.colorTypes=[{type:"Stroke",value:"stroke"},{type:"Fill",value:"fill"}],vm.textColorTypes=[{type:"Background",value:"stroke"},{type:"Font",value:"fill"}],vm.fontStyles=[{type:"Normal",value:"normal"},{type:"Bold",value:"bold"},{type:"Italic",value:"italic"}],vm.webSafeFonts=["Arial","Calibri","Helvetica","Times New Roman","Times","Courier New","Courier","Verdana","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Arial Black","Impact"],vm.openTextInfoWidget=function(){var shape=selectedShape.get();vm.textInfoWidgetProps={colorType:"stroke",text:shape.text(),fontSize:shape.fontSize(),fontStyle:shape.fontStyle(),fontFamily:shape.fontFamily(),stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()},vm.textInfoWidget=!0,$scope.$apply()},vm.changeTextInfo=function(prop,value){var shape=selectedShape.get();shape[prop](value),baseLayer.draw()},vm.infoWidgetStroke=function(val){var shape=selectedShape.get();shape.strokeWidth(val),baseLayer.draw()};var shapePropHistory=commonVPFactory.shapePropertyHistory();vm.infoWidgetEvents={onChange:function(api,color,$event){var shape=selectedShape.get();"fill"===vm.infoWidgetProps.colorType?shape.fill(color):"stroke"===vm.infoWidgetProps.colorType&&shape.stroke(color),baseLayer.draw()},onOpen:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};shapePropHistory.add(props)},onClose:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};actionStates.push(commonVPFactory.actionHandler(stage,shape,processStore.getCurrent(),"shapeProps",shapePropHistory.add(props))),shapePropHistory=commonVPFactory.shapePropertyHistory()}},vm.textInfoWidgetEvents={onChange:function(api,color,$event){var shape=selectedShape.get();if("fill"===vm.textInfoWidgetProps.colorType)shape.fill(color);else if("stroke"===vm.textInfoWidgetProps.colorType){var wrapper=shape.getParent().find("Line");wrapper.fill(color)}baseLayer.draw()},onOpen:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};shapePropHistory.add(props)},onClose:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};actionStates.push(commonVPFactory.actionHandler(stage,shape,processStore.getCurrent(),"shapeProps",shapePropHistory.add(props))),shapePropHistory=commonVPFactory.shapePropertyHistory()}},vm.closeInfoWidget=function(){vm.shapeInfoWidget=!1},vm.closeTextInfoWidget=function(){var text=selectedShape.get();if(text&&"text"===text.name()){var group=text.getParent(),wrapper=group.find("Line")[0];wrapper.stroke(null),baseLayer.draw(),transformerStore.removeAll()}vm.textInfoWidget=!1},vm.currentPanState=!0,vm.panImage=function(){vm.currentPanState=baseLayer.draggable(),vm.currentPanState?document.body.style.cursor="default":document.body.style.cursor="move",baseLayer.draggable(!vm.currentPanState),baseLayer.draw()},vm.undoOrRedo=function(type){transformerStore.removeAll(),1===type?actionStates.redo():actionStates.undo()},vm.downloadImage=function(){var dataURL=stage.toDataURL(),link=document.createElement("a");link.download="roofplan_image_"+Date.now(),link.href=dataURL,document.body.appendChild(link),link.click(),document.body.removeChild(link)},vm.downloadFile=function(){var json=stage.toJSON(),file=new Blob([json],{type:"application/json"}),link=document.createElement("a");link.href=URL.createObjectURL(file),link.download="roofplan_json_"+Date.now(),document.body.appendChild(link),link.click(),document.body.removeChild(link)},vm.saveRoofPlan=function(){transformerStore.removeAll();var json=stage.toJSON();apiFactory.saveRoofPlan(roofPlan._id,{jsonString:json,calibration:calibrationState.get(),countData:shapesVPFactory.getShapeId(),associations:vm.associations.getAssociationsForSave()}).then(function(resp){Notification.success(resp.data.message),apiFactory.getProjectRoofPlans(localStorageService.get("roofPlanProject")).then(function(resp){localStorageService.set("roofPlans",resp.data.data)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},vm.hideProcess=function(index){transformerStore.removeAll(),processStore.hideProcess(index)},vm.showProcess=function(index){processStore.showProcess(index)},vm.addProcess=function(){processStore.createProcess(),vm.processes=processStore.getProcesses()},vm.selectLayer=function(i){vm.selectedIndex=i,processStore.setCurrent(i)},vm.selectLayer(0),vm.selectOrUnselect=function(shape){shape.selected?selectionStore.push(shape):selectionStore.pull(shape.name())},vm.layerIconName=function(shapeName){return/Rect*/.test(shapeName)?"square":/Ellipse*/.test(shapeName)?"circle":/polygon*/.test(shapeName)?"polygon":/line*/.test(shapeName)?"line":/textGroup*/.test(shapeName)?"text":/freeHand*/.test(shapeName)?"pencil":void 0},vm.hideSelection=function(){var selectedShapes=selectionStore.get();console.log(selectedShapes),transformerStore.removeAll(),angular.forEach(selectedShapes,function(shape){shape.visible(!1)}),baseLayer.draw()},vm.deleteSelection=function(){var selectedShapes=selectionStore.get();transformerStore.removeAll(),angular.forEach(selectedShapes,function(shape){actionStates.push(commonVPFactory.actionHandler(stage,shape,shape.getParent(),"delete")),shape.remove()}),baseLayer.draw()},vm.loadMaterial=function(shapeProp){$("#loadMaterial").modal("show")},vm.createAssociation=function(shapeId,entityId,type){vm.associations.createAssociation(shapeId,entityId,type),$("#loadMaterial").modal("hide")},$scope.$on("selectedMaterial",function(e,data){console.log("selectedMaterial----",data)})}vm.hideInitModal=!1,vm.roofPlans=localStorageService.get("roofPlans"),vm.selectPlan=function(plan){vm.selectedPlan=plan._id,loadPlanner(plan),vm.hideInitModal=!0},vm.selectPlan(localStorageService.get("selectedPlan")),vm.closeVisualPlanner=function(){document.body.style.cursor="default",$("#chooseRoofModal").modal("hide"),$state.go("dashboard")}})}(),function(){angular.module("app").directive("canvasPdf",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"A",scope:{current:"="},link:function($scope,elem,attrs){globals.renderPage($scope.current,elem[0]),$timeout(function(){$scope.$apply()})}}})}(),function(){angular.module("app").directive("filePicker",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"E",templateUrl:"/partials/filePicker.html",scope:{folders:"=",source:"=",sourcefile:"=",sourcedir:"="},link:function($scope,elem,attrs){var folderPaths=[],projectStore=globals.projectStore;$scope.files=[],$scope.folderName="Root Folder",$scope.currentFolder="",$scope.selectedFolder=null,$scope.backBtnView=!1,$scope.viewFolder=function(folder){var name=folder.name;folderPaths.push(folder),$scope.selectedFolder,apiFactory.viewHierarchy(folder._id).then(function(resp){$scope.selectedFolder=folder,$scope.currentFolder=folder.name,$scope.folders=resp.data.folders,$scope.files=resp.data.files,$scope.breadCrumbs=resp.data.breadcrumbs,$scope.folderName=name,"Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1}).catch(function(e){console.log(e)})},$scope.selectFile=function(file,breadCrumbs){file.breadCrumbs=breadCrumbs,$rootScope.$broadcast("loader",!0),$rootScope.$broadcast("selectedRoofPlanDoc",file)},$scope.back=function(){folderPaths.pop();var previous=folderPaths[folderPaths.length-1],apiName=previous?"viewHierarchy":"getHierarchy",param=previous?previous._id:projectStore.get()._id;apiFactory[apiName](param).then(function(resp){$scope.selectedFolder=previous||null,$scope.currentFolder=previous?previous.name:null,$scope.folders=previous?resp.data.folders:resp.data.data.hierarchies,$scope.files=previous?resp.data.files:[],$scope.folderName=previous?previous.name:"Root Folder","Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1}).catch(function(e){console.log(e)})},$scope.moveTo=function(folder,source){if(folder){var payload={assetId:$scope.sourcefile._id,sourceId:source.$modelValue._id,destId:folder._id};apiFactory.moveAssets(payload).then(function(resp){$scope.sourcedir&&($scope.sourcedir=$scope.sourcedir.filter(function(x){return x._id!==$scope.sourcefile._id})),Notification.success("File Moved Successfully"),$("#moveTo").modal("hide")}).catch(function(e){console.log(e)})}}}}})}(),angular.module("app").directive("autoComplete",function($timeout){return function(scope,iElement,iAttrs){iElement.autocomplete({source:scope[iAttrs.uiItems],select:function(){$timeout(function(){iElement.trigger("input")},0)}})}}),angular.module("app").directive("errSrc",function(){return{link:function(scope,element,attrs){element.bind("error",function(){attrs.src!=attrs.errSrc&&attrs.$set("src",attrs.errSrc)})}}}),function(){angular.module("app").directive("materialPicker",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"E",templateUrl:"/partials/materialPicker.html",scope:{materialType:"=",selectedMaterial:"=",currentShape:"=",associations:"="},link:function($scope,elem,attrs){$scope.materialList=[],$scope.entityType=1,apiFactory.listAllMaterials().then(function(resp){$scope.materialList=resp.data.list,$scope.selectedMaterial=angular.copy($scope.materialList[0])}).catch(function(e){}),$scope.dcpList=[],apiFactory.listAllComboMaterials().then(function(resp){$scope.dcpList=resp.data.list}).catch(function(e){}),$scope.equipmentList=[],apiFactory.listAllEquipments().then(function(resp){$scope.equipmentList=resp.data.list}).catch(function(e){}),$scope.selectedMaterialInfo=function(material){$rootScope.$broadcast("selectedMaterial",material),console.log(material),$scope.materialImages=material},$scope.materialSelection=function(item){$scope.selectedMaterial=item},$scope.resetSelectedMaterial=function(val){$scope.selectedMaterial&&(console.log($scope.currentShape),0==val?($scope.selectedMaterial=angular.copy($scope.materialList[0]),$scope.entityType=val+1):1==val?($scope.selectedMaterial=angular.copy($scope.dcpList[0]),$scope.entityType=val+1):($scope.selectedMaterial=angular.copy($scope.equipmentList[0]),$scope.entityType=val+1))},$scope.assignMaterial=function(shapeId,entityId,type){$("#loadMaterial").modal("hide"),$scope.associations.createAssociation(shapeId,entityId,type)}}}})}(),function(){angular.module("app").filter("convertCurrency",function(){return function(input,conversionRate){return input?input*conversionRate:0}}),angular.module("app").filter("roundNum",function(){return function(input,place){return input?Number(input).toFixed(place):0}}),angular.module("app").filter("fetchThumbnail",function(){return function(input){if(input)return/cloudinary/.test(input.secure_url)?input.secure_url.replace(/\.pdf/,".png"):input.thumbnail}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJyb3V0ZXMubW9kdWxlLmpzIiwiYXBpLmZhY3RvcnkuanMiLCJhdXRoLmZhY3RvcnkuanMiLCJmaWxlTWFuYWdlci5mYWN0b3J5LmpzIiwiZ2xvYmFscy5mYWN0b3J5LmpzIiwiczN3cmFwcGVyLmZhY3RvcnkuanMiLCJ2aXN1YWxfcGxhbm5lci9jb21tb24uZmFjdG9yeS5qcyIsInZpc3VhbF9wbGFubmVyL2V2ZW50cy5mYWN0b3J5LmpzIiwidmlzdWFsX3BsYW5uZXIvbGF5ZXJzLmZhY3RvcnkuanMiLCJ2aXN1YWxfcGxhbm5lci9zaGFwZXMuZmFjdG9yeS5qcyIsInZpc3VhbF9wbGFubmVyL3Rvb2xzLmZhY3RvcnkuanMiLCIzZC1kYXNoYm9hcmQuY29udHJvbGxlci5qcyIsIjNkdmlld2VyLmNvbnRyb2xsZXIuanMiLCJiaWxsaW5nQXJjaGl2ZS5jb250cm9sbGVyLmpzIiwiY2FsY3VsYXRpb24uY29udHJvbGxlci5qcyIsImNsaWVudHMuY29udHJvbGxlci5qcyIsImNvbWJvTWF0ZXJpYWxWaWV3LmNvbnRyb2xsZXIuanMiLCJjcmVhdGVQcm9qZWN0LmNvbnRyb2xsZXIuanMiLCJkYXNoYm9hcmQuY29udHJvbGxlci5qcyIsImVtcGxveWVlcy5jb250cm9sbGVyLmpzIiwiZXF1aXBtZW50LmNvbnRyb2xsZXIuanMiLCJmaWxlTWFuYWdlci5jb250cm9sbGVyLmpzIiwiaXNzdWVEZXRhaWxzLmNvbnRyb2xsZXIuanMiLCJpc3N1ZXMuY29udHJvbGxlci5qcyIsIm1hdGVyaWFscy5jb250cm9sbGVyLmpzIiwibWF0ZXJpYWxWaWV3LmNvbnRyb2xsZXIuanMiLCJwYXlyb2xsLmNvbnRyb2xsZXIuanMiLCJwcmVMb2dpbi5jb250cm9sbGVyLmpzIiwicHJvamVjdC5jb250cm9sbGVyLmpzIiwicmVwb3J0RGV0YWlscy5jb250cm9sbGVyLmpzIiwicmVwb3J0cy5jb250cm9sbGVyLmpzIiwicmVwb3J0c0xpc3RpbmcuY29udHJvbGxlci5qcyIsInNldFBhc3N3b3JkLmNvbnRyb2xsZXIuanMiLCJzZXR0aW5nLmNvbnRyb2xsZXIuanMiLCJzdWJjb250cmFjdG9yLmNvbnRyb2xsZXIuanMiLCJzdWJjb250cmFjdG9yRGV0YWlsLmNvbnRyb2xsZXIuanMiLCJzdXBwbGllci5jb250cm9sbGVyLmpzIiwic3VwcGxpZXJEZXRhaWwuY29udHJvbGxlci5qcyIsInZpc3VhbF9wbGFubmVyLmNvbnRyb2xsZXIuanMiLCJjYW52YXNQZGYuZGlyZWN0aXZlLmpzIiwiZmlsZVBpY2tlci5kaXJlY3RpdmUuanMiLCJpbmRleC5kaXJlY3RpdmUuanMiLCJtYXRlcmlhbFBpY2tlci5kaXJlY3RpdmUuanMiLCJpbmRleC5maWx0ZXIuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIk5vdGlmaWNhdGlvblByb3ZpZGVyIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJ0cmVlQ29uZmlnIiwiY2xvdWRpbmFyeVByb3ZpZGVyIiwiY29uZmlndXJlIiwia2V5IiwidiIsImxpYnJhcmllcyIsInNldE9wdGlvbnMiLCJkZWxheSIsInN0YXJ0VG9wIiwic3RhcnRSaWdodCIsInZlcnRpY2FsU3BhY2luZyIsImhvcml6b250YWxTcGFjaW5nIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwiZGVmYXVsdENvbGxhcHNlZCIsInNldCIsInJvdXRlQ29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImZhY3RvcnkiLCIkaHR0cCIsIiRzdGF0ZSIsIiRsb2NhdGlvbiIsImxvY2FsU3RvcmFnZVNlcnZpY2UiLCJnbG9iYWxzIiwiVXBsb2FkIiwiTm90aWZpY2F0aW9uIiwiX3JlZiIsImhlYWRlcnMiLCJtZXRob2QiLCJ0b2tlbiIsIkNvbnRlbnQtVHlwZSIsInVuZGVmaW5lZCIsIngtYWNjZXNzLXRva2VuIiwiZ2V0IiwicGxhdGZvcm0iLCJKU09OIiwic3RyaW5naWZ5Iiwic291cmNlIiwicHJvZ3Jlc3MiLCJsb2dvdXQiLCJ1c2VyU3RvcmUiLCJfZGVmaW5lUHJvcGVydHkiLCJsb2dpbiIsInBheWxvYWQiLCJwcm9taXNlIiwidGhpcyIsInByb2dyZXNzaWZ5IiwiZGF0YSIsImZvcmdvdFBhc3N3b3JkIiwicmVnaXN0cmF0aW9uIiwic3Vic2NyaWJlIiwiZ2V0Q29tcGFueUJ5SWQiLCJjb21wYW55SWQiLCJsaXN0QWxsVXNlcnMiLCJsaXN0QWxsUHJvamVjdHMiLCJxdWVyeU9iaiIsInF1ZXJ5IiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsImFjYyIsInN0ciIsInNsaWNlIiwibGlzdEFsbENsaWVudHMiLCJsaXN0QWxsUm9vZmVycyIsImNyZWF0ZVByb2plY3QiLCJjcmVhdGVJc3N1ZSIsImlzc3Vlb2JqIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZUlzc3VlUzNVcGxvYWQiLCJ1cGxvYWQiLCJnZXRJc3N1ZUJ5SWQiLCJpc3N1ZUlEIiwidXBkYXRlSXNzdWUiLCJpZCIsImdldFByb2plY3RSb29mUGxhbnMiLCJwcm9qZWN0SWQiLCJzYXZlUm9vZlBsYW4iLCJyb29mUGxhbklkIiwiY3JlYXRlTWF0ZXJpYWxzIiwiY3JlYXRlRXF1aXBtZW50IiwibGlzdEFsbE1hdGVyaWFscyIsImxpc3RBbGxDb21ib01hdGVyaWFscyIsImxpc3RBbGxFcXVpcG1lbnRzIiwidXBkYXRlTWF0ZXJpYWxCeUlkIiwiZ2V0TWF0ZXJpYWxCeUlkIiwibWF0ZXJpYWxJRCIsImdldENvbWJvTWF0ZXJpYWxCeUlkIiwiY29tYm9JZCIsImNyZWF0ZUNvbWJvTWF0ZXJpYWwiLCJ1cGRhdGVDb21ib01hdGVyaWFsTGlzdCIsInVwZGF0ZUNvbWJvTWF0ZXJpYWwiLCJzaG93Q29udmVyc2lvblJhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0YXJ0IiwidGhlbiIsInJlc3AiLCJjb21wbGV0ZSIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiaGllcmFyY2h5SWQiLCJEYXRhM0QiLCJjbGllbnQiLCJuYW1lIiwiYWRkZWQiLCJsaW1pdCIsInN1cHBsaWVyIiwic3VwcGxpZXJJRCIsInN1YmNvbnRyYWN0b3IiLCJjb21tZW50IiwiZmlsZXMiLCJkdCIsImNvbXBsZXRpb25TdGF0dXMiLCJjaGVja1VzZXIiLCJjaGVja1ByaXZpbGVnZSIsInR5cGUiLCJzdWJUeXBlIiwiX2xvY2FsU3RvcmFnZVNlcnZpY2UkIiwicHJpdmlsZWdlIiwiX2xvY2FsU3RvcmFnZVNlcnZpY2UkMiIsInByaXZpbGVnZXMiLCJhcGlGYWN0b3J5IiwiY2xpcEJvYXJkIiwiaXRlbXMiLCJjb3B5IiwiaXRlbSIsImN1dCIsInBhc3RlIiwiZGVzdElkIiwibGVuZ3RoIiwid2FybmluZyIsImFwaVR5cGUiLCJhc3NldElkIiwibWFwIiwieCIsIl9pZCIsInNvdXJjZUlkIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJlIiwibmF2aWdhdGlvblN0YWNrIiwic3RhY2siLCJoZWFkIiwicHVzaCIsInNwbGljZSIsImZvcndhcmQiLCJ0b2dnbGUiLCJiYWNrd2FyZCIsImJyZWFkQ3J1bWIiLCJicmVhZENydW1icyIsInZhbCIsInNwbGl0RGVzdGluYXRpb24iLCJmaWxlc0FycmF5Iiwic2l6ZSIsInRlc3QiLCJjbG91ZGluYXJ5IiwiczMiLCJyZXNvbHZlRGVzdFR5cGUiLCJmaWxlIiwiY2hlY2tVcGxvYWRDb21wbGV0aW9uIiwiYm9vbCIsImZvckVhY2giLCJjb21wbGV0ZWQiLCJhYm9ydGVkIiwiY2hlY2tEdXBsaWNhdGVGaWxlcyIsImNoZWNrQXNzZXREdXBsaWNhdGUiLCJhc3NldE5hbWVzIiwiZHVwbGljYXRlRmlsZXMiLCJhY3Rpb24iLCJhc3NldE5hbWUiLCJkdXBsaWNhdGVzIiwiaW5kZXhPZiIsInVwbG9hZEZpbGVzIiwiY2hlY2tOYW1lQ2hhbmdlIiwiZmlsdGVyIiwiZ2VuZXJhdGVWZXJzaW9uIiwiZmlsZU5hbWUiLCJEYXRlIiwibm93IiwiZ2VuZXJhdGVUaHVtYm5haWwiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicGRmanNMaWIiLCJnZXREb2N1bWVudCIsInJlc3VsdCIsImRvYyIsImdldFBhZ2UiLCJwYWdlIiwidmlld3BvcnQiLCJnZXRWaWV3cG9ydCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaGVpZ2h0Iiwid2lkdGgiLCJ0YXNrIiwicmVuZGVyIiwiY2FudmFzQ29udGV4dCIsImRhdGFVUkwiLCJ0b0RhdGFVUkwiLCJsaW5rIiwiZG93bmxvYWQiLCJocmVmIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJlYWRBc0RhdGFVUkwiLCJzcGxpdEZpbGVEZXN0IiwibmdQcm9ncmVzc0ZhY3RvcnkiLCJ0aHJvdHRsZXIiLCJlbmFibGVkIiwiZm4iLCJzZXRUaW1lb3V0IiwicHJvZ3Jlc3NiYXIiLCJjcmVhdGVJbnN0YW5jZSIsInJlbW92ZSIsImdvIiwiZXJyb3IiLCJ1c2VyRGF0YSIsImRlc2lnbmF0aW9uIiwicmVzZXQiLCJjb21wYW55U3RvcmUiLCJjb21wYW55RGF0YSIsInJlZmV0Y2giLCJwcm9qZWN0U3RvcmUiLCJpbnZlbnRvcnlTdGF0ZSIsInRhYiIsInNlYXJjaFRleHQiLCJtYXRlcmlhbCIsImNvbWJvIiwic2V0UGFnZSIsInZhbHVlIiwic2V0VGFiIiwidGV4dCIsIl90ZXh0IiwibVVuaXRzIiwiZ2V0Q3VycmVuY3kiLCJnZXRDb3VudHJ5Q29kZSIsImdldEluZHVzdHJ5IiwiZGVib3VuY2UiLCJyYXRlIiwidGltZXIiLCJhcmdzIiwiY2xlYXJUaW1lb3V0IiwiYXBwbHkiLCJnZW5lcmljU3RvcmUiLCJzdG9yZSIsImV4dHJhY3RQYWdlc0Zyb21QZGYiLCJwZGZMaW5rIiwicGFnZUNvdW50IiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiQXJyYXkiLCJfIiwiaSIsInBhZ2VPYmoiLCJwYWdlTm8iLCJyZXBsYWNlIiwidGl0bGUiLCJzZWxlY3RlZCIsImRlc2NyaXB0aW9uIiwiY3JlYXRlUGFnZXNGcm9tUGRmIiwicGRmIiwic2VjdXJlX3VybCIsImFsbCIsIm51bVBhZ2VzIiwicGFnZXMiLCJyZW5kZXJQYWdlIiwic2lnbmVyVXJsIiwiYXdzX2tleSIsImJ1Y2tldCIsImF3c1JlZ2lvbiIsImNvbXB1dGVDb250ZW50TWQ1IiwiYWxsb3dTM0V4aXN0ZW5jZU9wdGltaXphdGlvbiIsImNyeXB0b01kNU1ldGhvZCIsIkFXUyIsInV0aWwiLCJjcnlwdG8iLCJtZDUiLCJjcnlwdG9IZXhFbmNvZGVkSGFzaDI1NiIsInNoYTI1NiIsImluaXQiLCJFdmFwb3JhdGUiLCJjcmVhdGUiLCJoYW5kbGVyIiwiZmlsZVVwbG9hZCIsInBhdXNlIiwiZm9yY2UiLCJpc1BhdXNlZCIsInJlc3VtZSIsImFib3J0IiwiY2FuY2VsIiwiJHJvb3RTY29wZSIsImNyZWF0ZVN0YWdlIiwiZGl2SWQiLCJpbml0aWFsU2l6ZSIsInBsYW5uZXJEYXRhIiwic3RhZ2UiLCJqc29uU3RyaW5nIiwiS29udmEiLCJOb2RlIiwiU3RhZ2UiLCJjb250YWluZXIiLCJ5IiwiZ2V0U3RhZ2VTaXplIiwib24iLCJkaW1lbnNpb25zIiwiZHJhdyIsImVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGllbnRIZWlnaHQiLCJjbGllbnRXaWR0aCIsInNoYXBlSWQiLCJkZWZhdWx0Q291bnQiLCJzaGFwZXMiLCJyZWN0YW5nbGUiLCJzcXVhcmUiLCJjaXJjbGUiLCJlbGxpcHNlIiwiY2FsaWJyYXRvciIsImZyZWVIYW5kIiwicG9seWdvbiIsIm1hcmtpbmdzIiwibGluZSIsInNpbmdsZUFycm93IiwiZG91YmxlQXJyb3ciLCJiZXppZXIiLCJmcmVlaGFuZCIsInNlbGVjdGlvbiIsIm1lYXN1cmVtZW50IiwiY3VycmVudENvdW50IiwibG9hZCIsImNvdW50IiwiZ2V0Q291bnQiLCJzaGFwZSIsImRyYXdTdGF0ZSIsImluaXRpYWxEcmF3U3RhdGVzIiwiZHJhd1N0YXRlcyIsInNwbGl0IiwiJGJyb2FkY2FzdCIsImNoZWNrIiwiY2FsaWJyYXRpb25TdGF0ZSIsInVuaXQiLCJvYmoiLCJhY3Rpb25TdGF0ZXMiLCJhY3Rpb25zIiwic2hvdyIsInBlZWsiLCJ1bmRvIiwiZGVsZXRlIiwicmVkbyIsInJlc3RvcmUiLCJhY3Rpb25IYW5kbGVyIiwiZW50aXR5IiwicHJvY2VzcyIsImFjdGlvblR5cGUiLCJwcm9wcyIsImhhbmRsZXJzIiwiYmF0Y2hEcmF3IiwiYWRkIiwibW92ZSIsInBvc2l0aW9uIiwiZW5kIiwic2hhcGVQcm9wcyIsIm1vdmVtZW50Iiwic2hhcGVQcm9wZXJ0eUhpc3RvcnkiLCJ0cmFuc2Zvcm1lcnMiLCJsYXllciIsInRyYW5zZm9ybWVyIiwicmVtb3ZlQWxsIiwiZHJhZ09mZnNldCIsInN0YWdlUG9zaXRpb24iLCJsYXllck9mZnNldCIsInN0YWdlU2NhbGUiLCJzZWxlY3RlZFNoYXBlIiwic2VsZWN0aW9uU3RvcmUiLCJzZWxlY3Rpb25zIiwicHVsbCIsInNoYXBlTmFtZSIsInNoYXBlTmFtZXMiLCJjbGVhciIsImFzc29jaWF0aW9ucyIsIm1ldGhvZHMiLCJjcmVhdGVBc3NvY2lhdGlvbiIsImVudGl0eUlkIiwiZ2V0QXNzb2NpYXRpb25zIiwiZ2V0QXNzb2NpYXRpb25zRm9yU2F2ZSIsIm1hdGVyaWFsSWQiLCJlcXVpcG1lbnRJZCIsInJlbW92ZUFzc29jaWF0aW9uIiwiZnJlZXplIiwid2luZG93RXZlbnRzIiwid2luZG93T2JqZWN0IiwiZW50aXRpZXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJmaXJlIiwicmVnaXN0ZXIiLCJzdGFnZUV2ZW50cyIsImV2ZW50cyIsImV2ZW50Iiwic2hhcGVFdmVudHMiLCJsYXllckV2ZW50cyIsImNyZWF0ZUxheWVyIiwiTGF5ZXIiLCJpbml0aWF0ZVByb2Nlc3MiLCJiYXNlTGF5ZXIiLCJwcm9jZXNzZXMiLCJjcmVhdGVQcm9jZXNzIiwiZ3JvdXAiLCJHcm91cCIsImdldFByb2Nlc3NlcyIsImdldEN1cnJlbnQiLCJzZXRDdXJyZW50IiwiaW5kZXgiLCJzaG93UHJvY2VzcyIsImhpZGVQcm9jZXNzIiwibG9hZFByb2Nlc3NlcyIsInByb2Nlc3Nlc0Zyb21Kc29uIiwiZXZlbnRzVlBGYWN0b3J5IiwiY29tbW9uVlBGYWN0b3J5IiwidG9vbHNWUEZhY3RvcnkiLCJjcmVhdGVkU2hhcGUiLCJzaGFwZVRvb2xzIiwicG9seWdvbk9wdGlvbnMiLCJwb2ludHMiLCJwb2ludFNldCIsImdldFNoYXBlVG9vbHMiLCJsb2FkU2hhcGVJZCIsImdldFNoYXBlSWQiLCJjcmVhdGVTaGFwZSIsIkxpbmUiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImZpbGwiLCJkcmFnZ2FibGUiLCJjbG9zZWQiLCJFbGxpcHNlIiwicmFkaXVzIiwiZHJhd1NoYXBlIiwic2hhcGVMb2NrIiwibWlzYyIsImNsYXNzTmFtZSIsImRyYXdSZWN0YW5nbGUiLCJNYXRoIiwiYWJzIiwic2hhcGVsb2NrIiwiZGFzaCIsImRlc3Ryb3lTaGFwZSIsImNhbmNlbERyYXdpbmciLCJzZWxlY3Rpb25Qb2ludHMiLCJzdHlsZSIsImN1cnNvciIsImNyZWF0ZVBvbHlnb24iLCJmcmVlSGFuZE1hcmtlciIsImNoZWNrVGhyZXNob2xkIiwiZHJhd1BvbHlnb24iLCJjcmVhdGVMaW5lIiwiQXJyb3ciLCJwb2ludGVyTGVuZ3RoIiwicG9pbnRlcldpZHRoIiwicG9pbnRlckF0QmVnaW5uaW5nIiwiZHJhd0xpbmUiLCJjcmVhdGVCZXppZXJMaW5lIiwiY3JlYXRlZFBvaW50cyIsInEiLCJ0ZW5zaW9uIiwibGluZUpvaW4iLCJkcmF3QmV6aWVyTGluZSIsImNyZWF0ZVRleHQiLCJ0ZXh0U2hhcGUiLCJUZXh0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiY3JlYXRlVGV4dEdyb3VwIiwidGV4dEdyb3VwIiwiaXNEb25lIiwia2lsbCIsImRlc3Ryb3kiLCJzY2FsZSIsInhVcHBlclRocmVzaG9sZCIsInlVcHBlclRocmVzaG9sZCIsInhMb3dlclRocmVzaG9sZCIsInlMb3dlclRocmVzaG9sZCIsImV4dHJhY3RBbGxTaGFwZXMiLCJhbGxTaGFwZXMiLCJmaW5kIiwiZ2V0Q2hpbGRyZW4iLCJjaGlsZCIsInNlbGVjdFNoYXBlcyIsIm1pbiIsIm1heCIsImNoZWNrU2VsZWN0aW9uIiwic2VsZWN0ZWRTaGFwZXMiLCJwb3NpdGlvbk9mZnNldCIsInZlcnRpY2VzIiwicmFuZ2UiLCJwcm9wIiwicG9seWdvbkFyZWEiLCJkZXQiLCJjaHVua2VkQXJyYXkiLCJjaHVuayIsImwiLCJOdW1iZXIiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsInJlY3RhbmdsZUFyZWEiLCJhcmVhIiwiZWxsaXBzZUFyZWEiLCJyYWRpaSIsIlBJIiwiZWxsaXBzZVRyYW5zZm9tZXIiLCJlbGxpcHNlUG9zaXRpb24iLCJpbmMiLCIkaW5kZXgiLCJDaXJjbGUiLCJzY2FsZVgiLCJ0b1N0cmluZyIsImRyYWdCb3VuZEZ1bmMiLCJwb3MiLCJnZXRBYnNvbHV0ZVBvc2l0aW9uIiwiY2lyY2xlRXZlbnQiLCJwcmV2aW91c1JhZGl1cyIsInNlbGVjdGVkVmVydGV4IiwiaXNOZWdhdGl2ZSIsImNoaWxkcmVuIiwieiIsInRhcmdldCIsImdldEdyb3VwIiwiY3VzdG9tVHJhbnNmb3JtZXIiLCJpc1JlY3RhbmdsZSIsInRlbXAiLCJ1cGRhdGUiLCJvZmZzZXQiLCJnZXRQb2ludHMiLCJiZXppZXJUcmFuc2Zvcm1lciIsInNjYWxlVHJhbnNmb3JtZXJCYXNlZE9uWm9vbSIsInRyYW5zZm9ybWVyR3JvdXAiLCJtZXRyaWNzIiwic2hhcGVJbmZvIiwic2V0U2hhcGVJbmZvIiwiaW5mbyIsImdldFNoYXBlSW5mbyIsImNvbG9yUGlja2VyIiwib3BhY2l0eSIsImFzc2lnbiIsIiRzY29wZSIsIiR0aW1lb3V0IiwiYXV0aEZhY3RvcnkiLCJOZ01hcCIsImxvZ2dlZEluIiwicGF0aCIsIiQiLCJjc3MiLCJEYXRhVGFibGUiLCJ2bSIsIiR3YXRjaCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJhY3RpdmVKdXN0aWZpZWQiLCJjdXJyZW50UGFnZSIsInRvZ2dsZU9iaiIsInRvZ2dsZUNsaWVudCIsImNsaWVudE5hbWUiLCJwaG9uZU5vIiwiZW1haWwiLCJwcmltYXJ5QWRkIiwiY3JlYXRlZCIsInNvcnRjbGllbnRzIiwicmVzb3VyY2UiLCJzb3J0Iiwic2VhcmNoIiwic29ydFR5cGUiLCJhbGxDbGllbnRzIiwibGlzdCIsImNsaWVudENvdW50IiwidG90YWwiLCJwYWdpbmF0aW9uIiwiaXRlbXNPblBhZ2UiLCJjc3NTdHlsZSIsImhyZWZUZXh0UHJlZml4Iiwib3JkZXJpbmciLCJvblBhZ2VDbGljayIsInByZXZlbnREZWZhdWx0Iiwic2VhcmNoRGVib3VuY2UiLCJzZWFyY2hDbGllbnRzIiwiZHRPcHRpb25zIiwicGFnaW5nIiwic2VhcmNoaW5nIiwibG9hZENvdW50cnlDb2RlIiwiJHF1ZXJ5IiwiZ2V0SW5kdXN0cmllcyIsImxvYWRJbmR1c3RyeSIsImdldEN1cnJlbmNpZXMiLCJsb2FkQ3VycmVuY3kiLCJhZGROZXdDbGllbnQiLCJ2YWxpZCIsImNsaWVudGRhdGEiLCJpbmR1c3RyaWVzIiwiY2xpZW50Q29udGFjdCIsImRpYWxDb2RlIiwicGhvbmVOdW1iZXIiLCJ5ZWFyRm91bmRlZCIsImNsaWVudFdlYnNpdGUiLCJpbmR1c3RyeSIsImVsZW1lbnQiLCJjbGllbnRDb250YWN0UGVyc29uIiwiZmlyc3ROYW1lIiwibWlkZGxlTmFtZSIsImxhc3ROYW1lIiwibW9iaWxlIiwiYW5udWFsUmV2ZW51ZSIsImN1cnJlbmN5Q29kZSIsImNjIiwiYWRkcmVzczIiLCJjb3VudHJ5Q29kZSIsImxpbmUxIiwibGluZTIiLCJsaW5lMyIsImNpdHkiLCJwb3N0YWxDb2RlIiwiY29kZSIsImFkZHJlc3MxIiwiY3JlYXRlQ2xpZW50IiwiY2xpZW50RGF0YSIsIm1vZGFsIiwiJHN0YXRlUGFyYW1zIiwiZ2V0Q29tYm9NYXREZXRhaWwiLCJjb21ib0RhdGEiLCJjb21ib01tYXRyaWFsTmFtZSIsInVvbSIsImNvbWJvTWF0ZXJpYWxMaXN0IiwibWF0ZXJpYWxDb3N0IiwiY3VycmVudFJhdGUiLCJxdWFudGl0eSIsIm1hdGVyaWFsVG90YWwiLCJyb29mZXJDb3N0Iiwicm9vZmVyVG90YWwiLCJpbWdTbGlkZXIiLCJmbGV4c2xpZGVyIiwiYW5pbWF0aW9uIiwiY29udHJvbE5hdiIsImFuaW1hdGlvbkxvb3AiLCJzbGlkZXNob3ciLCJpdGVtV2lkdGgiLCJpdGVtTWFyZ2luIiwiYXNOYXZGb3IiLCJzeW5jIiwiZWRpdEZsYWciLCJyZW1vdmVkRmlsZXMiLCJyZW1vdmVJbWciLCJpbWciLCJtYXRyaWFsRGF0YSIsImVkaXRDb21ib01hdGVyaWFsTGlzdCIsIm1hdGVyaWFsTGlzdCIsIm1hdGVyaWFsUXR5Iiwic2VsZWN0ZWRNYXRlcmlhbENvc3QiLCJzZWxlY3RlZE1hdGVyaWFsUm9vZmVyQ29zdCIsInBlcmNlbnRhZ2VBZGRpdGlvbnMiLCJwZXJjZW50YWdlQWRkaXRpb24iLCJtYXRlcmlhbEluZGV4IiwiYWRkUGVyY2VudGFnZVZhbHVlIiwicGVyY2VudGFnZVR5cGUiLCJyZW1vdmVQZXJjZW50YWdlQWRkaXRpb24iLCJmaWxlVXBkYXRlZCIsImZpbGVPYmoiLCJmaWxlTmFtZXMiLCJlZGl0Q29tYm9NYXRlcmlhbCIsImF0dHIiLCJjb21ib0xpc3REYXRhIiwiY29tYm9MaXN0QXJyYXkiLCJjb21ib01hdGVyaWFsRGF0YSIsImlucHV0RmlsZXMiLCJ1cGRhdGVDb21ibyIsImNsaWVudHMiLCJnZXRIaWVyYXJjaHlUZW1wbGF0ZSIsInRlbXBsYXRlTGlzdCIsImZpbGVtYW5hZ2VyVGVtcGxhdGUiLCJnbWFwIiwibWFya2VycyIsInN0eWxlcyIsImNlbnRlciIsInpvb20iLCJwcm9qZWN0RGF0YSIsImFkZHJlc3MiLCJzZWxlY3QyT3B0aW9ucyIsImFsbG93Q2xlYXIiLCJwbGFjZU1hcmtlciIsInBsYWNlRGF0YSIsImdldFBsYWNlIiwiZ2VvbWV0cnkiLCJsb2NhdGlvbiIsImxhdCIsImxuZyIsImxvYyIsImNvb3JkaW5hdGVzIiwiYWRkUHJvamVjdCIsImZvcm1EYXRhIiwidGVtcGxhdGVJZCIsImxvYWRIaWVyYXJjaHlUcmVlIiwidXBkYXRlTWFya2VyIiwiZ2V0UG9zaXRpb24iLCJnZXRNYXAiLCJkaXNhYmxlRGVmYXVsdFVJIiwiem9vbUNvbnRyb2wiLCJhc3NpZ25UZW1wbGF0ZSIsInNlbGVjdGVkVGVtcGxhdGUiLCIkd2luZG93IiwibG9hZGVyIiwiY2xpZW50VXJsIiwiZWxlbWVudFR5cGUiLCJzdHlsZXJzIiwiY29sb3IiLCJ2aXNpYmlsaXR5IiwiZmVhdHVyZVR5cGUiLCJwcm9qZWN0TGlzdCIsIm14TGF0IiwibXhMbmciLCJtbkxhdCIsIm1uTG5nIiwibXJrciIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiZGFzaGJvYXJkRGF0YSIsImNvbXBhbnkiLCJwcm9qZWN0cyIsImNodW5rU2l6ZSIsInByb2plY3RTZWFyY2giLCJlbmFibGVMYXp5TG9hZCIsInNvcnRQYXJhbXMiLCJmaWVsZCIsInByb2plY3ROYW1lIiwiZ2V0Qm9va21hcmtlZFByb2plY3QiLCJnZXRCb29rbWFya3MiLCJib29rbWFya2VkUHJvamVjdCIsImJvb2ttYXJrcyIsImJvb2ttYXJrZWRQcm9qZWN0TGlzdCIsImxvYWRQcm9qZWN0RmlsZXMiLCJzaG93UHJvamVjdEZpbGVzIiwicHJvamVjdEZpbGVzIiwiYm9va21hcmtGbGFnIiwic2VsZWN0ZWRQcm9qZWN0IiwicHJvamVjdCIsInByb2plY3RQaWNrZXJEYXRhIiwiY2hvb3NlUHJvamVjdCIsImZpbmRJbmRleCIsImFscmVhZHlFeGlzdCIsImN1cnJlbnRQcm9qZWN0IiwiYWxyZWFkeUJvb2ttYXJrZWQiLCJjbG9zZVByb2plY3RQaWNrZXIiLCJjaGVja0Jvb2ttYXJrIiwiYm9va21hcmsiLCJib29rTWFya1Byb2plY3QiLCJhZGRNb3JlIiwic2VhcmNoUHJvamVjdHMiLCJyZWRpcmVjdFRvM0QiLCJnZXQzRFBhZ2UiLCJyZXNwb25zZSIsImdvVG9GaWxlTWFuYWdlciIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJ0b3AiLCJmb2N1cyIsInBsYW5QaWNrZXJQbGFucyIsInJvb3RGb2xkZXJzIiwib3BlblBsYW5QaWNrZXIiLCJyb29mUGxhbnMiLCJnZXRIaWVyYXJjaHkiLCJzaG93VHJlZSIsImhpZXJhcmNoaWVzIiwiY2hvb3NlUGxhbiIsInBsYW4iLCJhbGxNb2RhbENsb3NlIiwiZmlsZUNob29zZSIsInBpY2tlckZvbGRlcnMiLCItd2Via2l0LWJveC1zaGFkb3ciLCItbW96LWJveC1zaGFkb3ciLCJib3gtc2hhZG93IiwiaGlkZSIsIm1vdmV0byIsImZvbGRlck5hbWUiLCJiYWNrQnRuVmlldyIsIiRvbiIsInNlbGVjdGVkQXNzZXRGb3JQbGFuIiwicm9vZnBsYW5CcmVhZENydW1iIiwiZmlsZUFycmF5IiwicGRmRmlsZXMiLCJwbGFuRG9jdW1lbnQiLCIkYXBwbHkiLCJwZGZQYWdlc0RhdGEiLCJwbGFuSW1hZ2VzIiwiaGlkZVNlbGVjdEZpbGUiLCJzZWxlY3RlZEZpbGVMaXN0IiwiYXNzZXQiLCJzZWxlY3RlZEZpbGVzIiwiZW5kcG9pbnQiLCJwZGZVcmwiLCJnZW5lcmF0ZVJvb2ZQbGFucyIsImVxdWlwbWVudCIsInN5c3RlbVRhZyIsImNyZWF0ZWRBdCIsInNvcnRFcXVpcG1lbnQiLCJlcXVpcG1lbnRDb3VudCIsInNlYXJjaEVxdWlwbWVudCIsImFkZE1hdGVyaWFsIiwiY29udmVyc2lvbkZhY3RvciIsInRhYlNldHRpbmdzIiwiZGlzYWJsZSIsImN1cnJlbmN5IiwiY3VycmVudEN1cnJlbmN5IiwiZnJvbSIsInRvIiwiY3VycmVuY3lEYXRhIiwiY3VycmVuY2llcyIsInRhYlN0eWxlIiwibWF0ZXJpYWxOYW1lIiwibWF0ZXJpYWxVbml0IiwiYWRkTWF0ZXJpYWxOZXh0IiwiY2hhbmdlQ29zdCIsImNvc3QiLCJjb252ZXJzaW9uUmF0ZSIsImFkZE1hdGVyaWFsRGV0YWlscyIsImVxdWlwbWVudENvc3RzIiwiZXF1aXBtZW50Q29zdFZhbHVlIiwicm9vZmVyQ29zdFZhbHVlIiwiZmlsZU1hbmFnZXJGYWN0b3J5IiwidXBsb2FkRmFjdG9yeSIsImJyZWFrY3J1bWJTdG9yZSIsImdldFByaW1hcnlGb2xkZXJzIiwiYmFja3VwRm9sZGVycyIsIndpbmRvd0l0ZW1zIiwiZm9sZGVyRGF0YSIsImZvbGRlcnMiLCJyZXNvbHZlQXNzZXRJY29uIiwiYXNzZXRPYmoiLCJhc3NldEZvcm1hdCIsImZvcm1hdCIsInRyaW0iLCJpY29uIiwidmlld1Byb2plY3RBc3NldHMiLCJsb2FkRmlsZXNUb0F1dG9Db21wbGV0ZSIsImdldEZvbGRlciIsImdldEhpZXJhcmNoeUNoaWxkcmVuIiwiZmlsZURlc3RpbmF0aW9uIiwidHJlZU9wdGlvbnMiLCJhY2NlcHQiLCJkZXN0IiwiZGVzdEluZGV4IiwiZHJhZ1N0b3AiLCJub2RlU2NvcGUiLCJkZXN0aW5hdGlvbiIsIiRub2RlU2NvcGUiLCIkcGFyZW50IiwiJG1vZGVsVmFsdWUiLCJtb3ZlQXNzZXRzIiwiZHJvcHBlZCIsIm5vZGVzU2NvcGUiLCIkcGFyZW50Tm9kZVNjb3BlIiwicGFyZW50SWQiLCJkcmFnTW92ZU5vZGVzIiwicm9vdEZvbGRlclN0b3JlIiwic2V0Um9vdEZvbGRlciIsImFkZE1vZGFsQWN0aXZlVGFiIiwiYWRkUHJpbWFyeUZvbGRlciIsImlzUGFyZW50Iiwibm9kZU9iaiIsImFkZEhpZXJhcmNoeSIsIiRub2Rlc1Njb3BlIiwib3BlbkFkZE1vZGFsIiwiYWRkTW9kYWxTb3VyY2UiLCJzaG93TG9hZGVyIiwidG9nZ2xlRm9sZGVyIiwiZm9sZGVyIiwibm9kZSIsImJhY2t1cCIsIiR0cmVlU2NvcGUiLCIkZWxlbWVudCIsImZpcnN0Iiwidmlld0hpZXJhcmNoeSIsImJyZWFkQ3J1bWJMaXN0IiwiYnJlYWRjcnVtYnMiLCJjb2xsYXBzZWQiLCJuYXZpZ2F0ZSIsIm9wZW5Gb2xkZXIiLCJjaGlsZE5vZGVzIiwiYWRkRm9sZGVyIiwicGFyZW50IiwiYWRkRmlsZVRvSGllcmFyY2h5IiwiYXNzZXRzIiwiZGVsZXRlRmlsZSIsImRlbGV0ZUFzc2V0cyIsInVwbG9hZFN0YXRlIiwiY29tcGxldGVkQWxsIiwidG9nZ2xlVXBsb2FkVmlld01heGltaXplIiwidXBsb2FkVmlld01heGltaXplIiwicHJlVXBsb2FkIiwicHJvY2Vzc2VkIiwicHJlVXBsb2FkRmlsZXMiLCJ1cGxvYWRGaWxlIiwicHJvY2Vzc0R1cGxpY2F0ZUZpbGVOYW1lIiwidXBsb2FkVmlld0ZpbGVzIiwiZXZhcG9yYXRlIiwiYmluZCIsImFkZENvbmZpZyIsInAiLCJzdGF0cyIsInJvdW5kIiwiX3hociIsImF3c0tleSIsImF3c09iamVjdEtleSIsImZvbGRlcklkIiwiYXNzZXREYXRhIiwibWltZXR5cGUiLCJieXRlcyIsIm5ld0ZpbGVVcGxvYWQiLCJyZWFzb24iLCJjbG91ZGluYXJ5UGF5bG9hZCIsInVwbG9hZEZpbGVJbkZpbGVNYW5hZ2VyIiwiY2xvc2VVcGxvYWRWaWV3IiwiZmlsZVZpZXciLCJwcmV2aWV3RGF0YSIsImN1c3RvbVVybCIsImVkaXRFbmFibGVkIiwidG9nZ2xlRWRpdCIsImNvbnRleHRNZW51T3B0aW9ucyIsImV4cGxvcmVyIiwiJGl0ZW1TY29wZSIsIiRldmVudCIsIm1vZGVsVmFsdWUiLCIkbGkiLCJwZGZvbmx5IiwibW92ZVRvU291cmNlRmlsZSIsImNoaWxkRm9sZGVyVmlldyIsImNoaWxkRm9sZGVycyIsInNhdmVIaWVyYXJjaHlUcmVlIiwiY2hhbmdlUHJvamVjdFRlbXBsYXRlIiwiZ2V0UHJvamVjdEJ5SWQiLCJzaG93QmFja3VwRmlsZXMiLCJzaG93UmVjZW50RmlsZXMiLCJ0b2dnbGVCb29rbWFya3MiLCJpc3N1ZUlkIiwiaXRlbXNQZXJQYWdlIiwiZ2V0SXNzdWVEZXRhaWwiLCJpc3N1ZURhdGEiLCJ0b3RhbEl0ZW1zIiwiY29tbWVudHMiLCJBcnJheUNvbW1lbnRzIiwicmV2ZXJzZSIsIkFycmF5QWN0aXZpdGllcyIsImlzc3VlQWN0aXZpdHkiLCJhbGxDb21tZW50cyIsImFsbEFjdGl2aXRpZXMiLCJwYWdlZERhdGEiLCJzZXRQYWdpbmdEYXRhIiwic2V0QWN0aXZpdHlQYWdpbmdEYXRhIiwicG9zdENvbW1lbnQiLCJjb21tZW50b2JqIiwicG9zdENvbW1lbnRGb3JJc3N1ZSIsImNoYW5nZUNvbXBsZXRpb25TdGF0dXMiLCJhbGVydCIsImRvd25Mb2FkQXR0YWNobWVudCIsImRvY3MiLCJCbG9iIiwicmVPcGVuSXNzdWUiLCJyZU9wZW5Jc3N1ZVN0YXR1c1VwZGF0ZSIsIm1hcmtJc3N1ZUFzQ29tcGxldGUiLCIkcSIsIlVwbG9hZGVkRmlsZXMiLCJpc3N1ZU1vZGVsIiwib3BlbkVkaXQiLCJmaWxlc1RvUmVtb3ZlIiwiaXNTZWxlY3RlZEJ0biIsInVwZGF0ZWZvcm0iLCJVbmRvQXJyYXkiLCJyZWRvQXJyYXkiLCJwbGFuVG9NYXJrIiwiTG9jYWxJbWdzIiwic2VhcmNoaW5nVGV4dCIsIm9wZW5GaWxsQ29sb3IiLCJjb2xvcnBpY2siLCJjb2xvcldlbGwiLCJmaWxsV2VsbCIsImZpbGxDb2xvciIsInRleHRGb3JtIiwiZXJyb3JJbWFnZSIsImJ0bk1hcmtlciIsImJ0bkNpcmNsZSIsImJ0bkxpbmUiLCJidG5UZXh0IiwidG9nZ2xlSXNzdWUiLCJzb3J0aXNzdWVzIiwibGlzdEFsbElzc3VlcyIsImFsbElzc3VlcyIsImlzc3VlQ291bnQiLCJkcmFnU3RhcnRMaW5lIiwiaXNMaW5lIiwiZHJhZ2dpbmciLCJmbG9vciIsImNsaWVudFgiLCJyZWN0IiwibGVmdCIsInJpZ2h0IiwiY2xpZW50WSIsImJvdHRvbSIsImRyYWdTdGFydExvY2F0aW9uIiwiWCIsIlkiLCJzbmFwc2hvdCIsImdldEltYWdlRGF0YSIsImRyYWdMaW5lIiwicHV0SW1hZ2VEYXRhIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJsaW5lQ2FwIiwiZHJhZ1N0b3BMaW5lIiwiaW1hZ2VEYXRhIiwic2VhcmNoSXNzdWVzIiwiaXNzdWVDYXRlZ29yeSIsImFsbFVzZXJzIiwiYWxsUm9vZmVycyIsImFsbFByb2plY3RzIiwiZ2V0SXNzdWVzTGlzdCIsImxpc3RPZklzc3VlIiwicmVhZEltZyIsImZpbGVJbWciLCJvdXRwdXQiLCJzcmMiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhZGRGaWxlIiwiZGVsZXRlSW1nIiwiYXJyYXkiLCJmaWxlVXBFdmVudCIsInRodW1ibmFpbCIsIm9uZWZpbGUiLCJTUkMiLCJpbWFnZSIsImdldERlc2NyaXB0aW9uIiwiY29tZW50IiwiZmlsZXMzVXBkYXRlIiwiYXNzZXRkZXNjcmlwdGlvbiIsIm5ld0lzc3VlczNGaWxlVXBsb2FkIiwiaXRlbVByb2Nlc3NlZCIsImZpbGVzY2xvdWRpbmFyeVVwZGF0ZSIsImlzc3VlSW1hZ2UiLCJzYXZlSXNzdWVEZXRhaWwiLCJpc3N1ZU9iamVjdCIsImNhdGVnb3J5Iiwib3duZXJJZCIsInJvb2ZlciIsImRlYWRMaW5lIiwiZGVwZW5kZW5jeU9uIiwiYXNzaWduZWRUbyIsImlzc3VlU3RhdHVzIiwiQURESVNTVUUiLCJsb2NhbEZpbGVzIiwiZ2V0RmlsZXNGcm9tTG9jYWwiLCJmaXJzdENhbnZhc0ltZyIsInJlbW92ZURhdGEiLCJpcyIsImdldEltYWdlc0luQ2Fyb3NlbCIsIlByb2plY3RQbGFucyIsImNob29zZVBsYW5EYXRhIiwiY2hvb3NlUGxhbkRhdGExIiwiYWRkVG9EZXRhaWxzIiwiaW1nYXJyYXkiLCJhZGRUb0RldGFpbHMxIiwiZ2V0RGV0YWlsIiwiaXNzdWUiLCJUaXRsZSIsIkRlc2NyaXB0aW9uIiwiRGVhZExpbmVEYXRlIiwiZGVmYXVsdFZhbHVlIiwiZGF5IiwiZ2V0RGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJkZWFkTGluZURhdGUiLCJTdGF0dXMiLCJhZGRGaWxlVG9VcGRhdGUiLCJ1cGRhdGVSZXF1ZXN0IiwidXBkYXRlb2JqIiwicmVtb3ZlRmlsZXMiLCJpbWFnZUlkIiwiY2xvc2VVcGR0ZU1vZGVsIiwib3BlbkVkaXREYXRlIiwiY2xvc2VFZGl0RGF0ZSIsInVwZGF0ZUlzc3VlRGV0YWlscyIsImltYWdlVGVtcFVybCIsInJvb2Z0ZXN0RGVtbyIsInN0cmluZyIsIm9wZW5TbGlkZXJJbWFnZSIsImlzQ2lyY2xlIiwiaXNNYXJrZXIiLCJpc1RleHQiLCJkcmF3TGluZU9uQ2FudmFzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRyYWdTdGFydCIsImRyYWciLCJNYXJrV3JpdGUiLCJUZXh0V3JpdGUiLCJVbmRvRHJhd2luZyIsInVuZG9DdHgiLCJjbGVhclJlY3QiLCJpbWdkYXRhIiwicG9wIiwiUmVkb0RyYXdpbmciLCJzYXZlTWFya0luZm8iLCJzZXRBdHRyaWJ1dGUiLCJyZXRyaWV2ZSIsImFjdGl2ZVRhYiIsInVuaXRTZWxlY3QiLCJzZWxlY3RlZFVuaXQiLCJzb3J0TWF0ZXJpYWxzIiwiYXBpTmFtZSIsInNlYXJjaE1hdGVyaWFscyIsIm1hdGVyaWFscyIsImFkZENvbWJvTWF0ZXJpYWxGb3JtIiwibWF0cmlhbFVuaXQiLCJ1bml0U3ltYm9sIiwibWF0ZXJpYWxDb3N0VmFsdWUiLCJhZGRDb21ib01hdGVyaWFsTmV4dCIsImNvbWJvQWN0aXZlSnVzdGlmaWVkIiwiVG90YWxNQyIsIlRvdGFsUkMiLCJsb2FkQ3VycmVuY2llcyIsImNvbWJvTGlzdCIsImdldE1hdGVyaWFsSW5mbyIsIm1hdGVyaWFsSW5mbyIsIlF0eUNoYW5nZSIsInBlcmNlbnRhZ2VWYWx1ZSIsIm1hdGVyaWFsQ29tYmluYXRpb24iLCJjb21ib01hdGVyaWFsIiwiY3JlYXRlQ29tYm9NYXRlcmlhbExpc3QiLCJjbUxpc3QiLCJwZXJBZGRpdGlvbnMiLCJnZXRTeXN0ZW1UYWciLCJjb21ib1RhZyIsImV4dGVuZCIsInJlbW92ZU1hdGVyaWwiLCJnZXRNYXREZXRhaWwiLCJtYXRyaWFsTmFtZSIsIm1hdHJpYWxDb3N0IiwibWF0cmlhbEN1cnJlbmN5Q29kZSIsIm1hdHJpYWxSb29mZXJDb3N0IiwibWF0cmlhbFJvb2ZlckN1cnJlbmN5Q29kZSIsIm1hdHJpYWxDcmVhdGVkQnkiLCJwcm92aWRlckRhdGEiLCJ1cGRhdGVkQnkiLCJtYXRyaWFsQ3JlYXRlZEF0IiwibWF0cmlhbFVwZGF0ZWRBdCIsImdyYXlfYm94IiwiZWRpdE1hdGVyaWFsIiwibWF0ZXJpYWx1cGRhdGVkYXRhIiwibWF0X2hlYWRlcnMiLCJtYXRfaGVhZCIsIm1hdF9pdGVtcyIsInNfbm8iLCJkYXRlIiwibV9jb3N0Iiwid19jb3N0IiwicmVnc2l0ZXJNb2RhbCIsImxvZ2luTW9kYWwiLCJmb3Jnb3RQYXNzTW9kYWwiLCJpc1ZhbGlkIiwidXNlciIsImZvcmdvdFBhc3MiLCJzdWJzY3JpYmVFbWFpbCIsImltYWdlMSIsImltYWdlMiIsInJlcG9ydE9iaiIsInNod0NvbW1lbnRTZWN0aW9uIiwiUmVwb3J0SXNzdWUiLCJpc3N1ZVRvQWRkIiwibW9kZWxzIiwiZXhwb3J0VG9QZGYiLCJJbWFnZSIsImltZzEiLCJqc1BERiIsImFkZEltYWdlIiwiYXV0b1RhYmxlIiwiaHRtbCIsIm1hcmdpbiIsInBhZ2VCcmVhayIsInRhYmxlV2lkdGgiLCJzaG93SGVhZGVyIiwic2V0Rm9udFNpemUiLCJzZXRGb250Iiwic2F2ZSIsImlzc3VlU2VhcmNoIiwib3BlblJlcG9ydFBpY2tlciIsImlzc3VlUGlja2VyRGF0YSIsInJlc2RhdGEiLCJFZGl0TW9kZSIsImNsb3NlSXNzdWVQaWNrZXIiLCJyZW1hcmtEYXRhIiwiYWRkUmVtYXJrIiwiVmFsdWUiLCJjaG9vc2VJc3N1ZXMiLCJhZGRUb0xpc3RJc3N1ZVBpY2tlciIsInNlbmRJc3N1ZVRvUGRmIiwiY292ZXJQYWdlTW9kYWwiLCJhYm91dFVzTW9kYWwiLCJwcm9qZWN0TWV0YU1vZGFsIiwicmVwb3J0cmVtYXJrTW9kYWwiLCJsaXN0SXNzdWVNb2RlbENsaWNrIiwic2V0UmVwb3J0T2JqIiwib2JqZWN0IiwiY29tcGFueU5hbWUiLCJ3ZWJzaXRlIiwicGhvbmUiLCJzZXJpYWxObyIsImVudGVycHJpc2UiLCJhdXRob3JOYW1lIiwicmVtYXJrRGF0ZSIsIkVkaXRJc3N1ZURhdGEiLCJyZW1vdmVGcm9tSXNzdWVMaXN0IiwiY3VycmVudFVzZXIiLCJyZXBvcnRDYXRlZ29yeSIsImFsbEFkbWluVXNlcnMiLCJpc1Rva2VuVmFsaWQiLCJ0b2tlblZhbGlkIiwicmVzZXRQYXNzIiwicGFzc3dvcmQiLCJjX3Bhc3N3b3JkIiwic2V0UGFzc3dvcmQiLCJiYWNrIiwic3VibWl0Um9sZVNldHRpbmdzIiwidXBkYXRlUm9sZUJhc2VkQWNjZXNzIiwiZ29Ub0Rhc2hib2FyZCIsInNlbGVjdGVkTWF0ZXJpYWxzIiwibWVtYmVyczIiLCJnZXRTdWJjb250cmFjdG9ycyIsImdldEFsbFN1YmNvbnRyYWN0b3JzIiwiYWxsU3ViY29udHJhY3RvciIsInN1YmNvbnRyYWN0b3JzQ291bnQiLCJhZGRTdWJjb250cmFjdG9yTmV4dCIsImhhc0NsYXNzIiwiYWRkU3ViY29udHJhY3RvclByZXZpb3VzIiwiZGVsZXRlTWF0ZXJpYWwiLCJkZWxldGVTdGFmZiIsIm9uQ2hhbmdlIiwiRklMRUlNRyIsImZpbGVFeHQiLCJhbGxNYXRlcmlhbHMiLCJhZGRNZW1iZXIiLCJjcmVhdGVTdWJjb250cmFjdG9yIiwic3VwcGxpZXMiLCJzdGFmZiIsImNyZWF0ZU5ld1N1YmNvbnRyYWN0b3IiLCJtYW1iZXJzMiIsImNvbnRyYWN0cyIsInRpbWUiLCJzdWJjb250cmFjdG9ySWQiLCJnZXRTdWJjb250cmFjdG9yRGV0YWlsIiwiZ2V0U3ViY29udHJhY3RvckJ5SWQiLCJzdWJjb250cmFjdG9yRGF0YSIsImdldFN1cHBsaWVycyIsImdldEFsbFN1cHBsaWVycyIsImFsbFN1cHBsaWVycyIsInN1cHBpZXJzQ291bnQiLCJhZGRTdXBwbGllck5leHQiLCJhZGRTdXBwbGllclByZXZpb3VzIiwiY3JlYXRlU3VwcGxpZXIiLCJjcmVhdGVOZXdTdXBwbGllciIsInN1cHBsaWVySWQiLCJnZXRTdXBwbGllckRldGFpbCIsImdldFN1cHBsaWVyQnlJZCIsInN1cHBsaWVyRGF0YSIsInNoYXBlc1ZQRmFjdG9yeSIsImxheWVyc1ZQRmFjdG9yeSIsIm1vdXNlZG93biIsImVsbW50IiwicG9zMSIsInBvczIiLCJwb3MzIiwicG9zNCIsImRyYWdNb3VzZURvd24iLCJ3aW5kb3ciLCJvbm1vdXNldXAiLCJjbG9zZURyYWdFbGVtZW50Iiwib25tb3VzZW1vdmUiLCJlbGVtZW50RHJhZyIsIm9mZnNldFRvcCIsIm9mZnNldExlZnQiLCJvbm1vdXNlZG93biIsImRyYWdFbGVtZW50IiwiY2xvc2VzdCIsImxvYWRQbGFubmVyIiwicm9vZlBsYW4iLCJsb2FkRnJvbUpzb24iLCJpbml0aWFsaXplZCIsImNvbG9yVHlwZSIsInN0cm9rZUNvbG9yIiwiY3BPcHRpb25zIiwic3dhdGNoIiwiaW5wdXRDbGFzcyIsImNhc2UiLCJhbHBoYSIsImNwRXZlbnRzIiwiYXBpIiwiY2hhbmdlU3Ryb2tlV2lkdGgiLCJpbm5lckhlaWdodCIsImlubmVyV2lkdGgiLCJwb2ludGVyUG9zaXRpb24iLCJnZXRQb2ludGVyUG9zaXRpb24iLCJjdXJyZW50RHJhd1N0YXRlIiwicHJvY2Vzc1N0b3JlIiwidHJhbnNmb3JtZXJTdG9yZSIsInNob3dQYW5lbCIsInpvb21MZXZlbCIsImNhbGlicmF0aW9uIiwibG9hZGVkUHJvY2Vzc2VzIiwiY291bnREYXRhIiwiY2FsaWJyYXRpb25EYXRhIiwiZm9ybWF0Q2FsaWJyYXRpb24iLCJpbWFnZU9iaiIsImNyb3NzT3JpZ2luIiwiaW1hZ2VDb250YWluZXIiLCJpbWFnZVByb3BzIiwiaW1hZ2VIZWlnaHQiLCJhc3BlY3RSYXRpbyIsImltYWdlV2lkdGgiLCJiZ0ltYWdlIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJzaGFkb3dPcGFjaXR5IiwibW92ZVRvQm90dG9tIiwid2luZG93RXZlbnQiLCJoaXN0b3J5UG9zIiwiJGN1cnJlbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImN0cmxLZXkiLCJvbGRTY2FsZSIsIm1vdXNlUG9pbnRUbyIsIm5ld1NjYWxlIiwiZGVsdGFZIiwibmV3UG9zIiwidGFnTmFtZSIsInpvb21CdXR0b24iLCJjZW50ZXJZIiwiY2VudGVyWCIsInpvb21TbGlkZXIiLCJwZXJjZW50YWdlIiwicmVzZXRab29tIiwiYmFzZUxheWVyRXZlbnQiLCJyZWN0YW5nbGVFdmVudFdyYXBwZXIiLCJzaGFwZU9iamVjdCIsInNoYXBlVHlwZSIsInJlY3RhbmdsZUV2ZW50IiwiY3VycmVudFByb2Nlc3MiLCJtb3ZlVG9Ub3AiLCJvcGVuSW5mb1dpZGdldCIsImVsbGlwc2VFdmVudFdyYXBwZXIiLCJlbGxpcHNlRXZlbnQiLCJwb2x5Z29uRXZlbnRXcmFwcGVyIiwicG9seWdvbkV2ZW50IiwiZnJlZUhhbmRFdmVudFdyYXBwZXIiLCJmcmVlSGFuZEV2ZW50IiwibGluZUV2ZW50V3JhcHBlciIsImxpbmVFdmVudCIsImZyZWVIYW5kTWFya2VyV3JhcHBlciIsInRleHRFdmVudFdyYXBwZXIiLCJ0ZXh0RXZlbnQiLCJ3cmFwcGVyIiwidXBkYXRlZFBvaW50cyIsIm9wZW5UZXh0SW5mb1dpZGdldCIsImNsb3NlSW5mb1dpZGdldCIsImNsb3NlVGV4dEluZm9XaWRnZXQiLCJzaW1wbGVMaW5lIiwiYmV6aWVyTGluZSIsImJlemllckV2ZW50IiwiYmV6aWVyRXZlbnRXcmFwcGVyIiwiZnJlZWhhbmRNYXJrZXIiLCJ0ZXh0V2lkZ2V0IiwidGV4dFByb3BzIiwidGV4dE9iaiIsIm1hbnVhbFNlbGVjdGlvbiIsInNoYXBlT2JqIiwiZHJhZ1NlbGVjdGlvbiIsInNlbGVjdEFsbFNoYXBlcyIsInNlbGVjdGVkU2hhcGVOYW1lcyIsInRvZ2dsZVZhbHVlIiwidG9nZ2xlU2hhcGVWaXNpYmlsaXR5IiwidmlzaWJsZSIsImNhbGlicmF0ZWRMaW5lIiwiZGlzdGFuY2UiLCJzcXJ0IiwicG93IiwiY2FsaWJyYXRpb25EaXN0YW5jZSIsInNhdmVDYWxpYnJhdGlvbiIsImNhbGlicmF0aW9uU2NhbGUiLCJwYXJzZUludCIsImRlbGV0ZVNoYXBlIiwiZ2V0UGFyZW50IiwiaW5mb1dpZGdldFByb3BzIiwic2hhcGVJbmZvV2lkZ2V0IiwiY29sb3JUeXBlcyIsInRleHRDb2xvclR5cGVzIiwiZm9udFN0eWxlcyIsIndlYlNhZmVGb250cyIsInRleHRJbmZvV2lkZ2V0UHJvcHMiLCJmb250U3R5bGUiLCJ0ZXh0SW5mb1dpZGdldCIsImNoYW5nZVRleHRJbmZvIiwiaW5mb1dpZGdldFN0cm9rZSIsInNoYXBlUHJvcEhpc3RvcnkiLCJpbmZvV2lkZ2V0RXZlbnRzIiwib25PcGVuIiwib25DbG9zZSIsInRleHRJbmZvV2lkZ2V0RXZlbnRzIiwiY3VycmVudFBhblN0YXRlIiwicGFuSW1hZ2UiLCJ1bmRvT3JSZWRvIiwiZG93bmxvYWRJbWFnZSIsImRvd25sb2FkRmlsZSIsImpzb24iLCJ0b0pTT04iLCJhZGRQcm9jZXNzIiwic2VsZWN0TGF5ZXIiLCJzZWxlY3RlZEluZGV4Iiwic2VsZWN0T3JVbnNlbGVjdCIsImxheWVySWNvbk5hbWUiLCJoaWRlU2VsZWN0aW9uIiwiZGVsZXRlU2VsZWN0aW9uIiwibG9hZE1hdGVyaWFsIiwic2hhcGVQcm9wIiwiaGlkZUluaXRNb2RhbCIsInNlbGVjdFBsYW4iLCJzZWxlY3RlZFBsYW4iLCJjbG9zZVZpc3VhbFBsYW5uZXIiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInNjb3BlIiwiY3VycmVudCIsImVsZW0iLCJhdHRycyIsInNvdXJjZWZpbGUiLCJzb3VyY2VkaXIiLCJmb2xkZXJQYXRocyIsImN1cnJlbnRGb2xkZXIiLCJzZWxlY3RlZEZvbGRlciIsInZpZXdGb2xkZXIiLCJzZWxlY3RGaWxlIiwicHJldmlvdXMiLCJwYXJhbSIsImlFbGVtZW50IiwiaUF0dHJzIiwiYXV0b2NvbXBsZXRlIiwidWlJdGVtcyIsInNlbGVjdCIsInRyaWdnZXIiLCJlcnJTcmMiLCIkc2V0IiwibWF0ZXJpYWxUeXBlIiwic2VsZWN0ZWRNYXRlcmlhbCIsImN1cnJlbnRTaGFwZSIsImVudGl0eVR5cGUiLCJkY3BMaXN0IiwiZXF1aXBtZW50TGlzdCIsInNlbGVjdGVkTWF0ZXJpYWxJbmZvIiwibWF0ZXJpYWxJbWFnZXMiLCJtYXRlcmlhbFNlbGVjdGlvbiIsInJlc2V0U2VsZWN0ZWRNYXRlcmlhbCIsImFzc2lnbk1hdGVyaWFsIiwiaW5wdXQiLCJwbGFjZSJdLCJtYXBwaW5ncyI6IitVQUFBLElBQUFBLElBQUFDLFFBQUFDLE9BQUEsTUFBQSxDQUNBLFlBQ0EsZUFDQSxxQkFDQSxvQkFDQSxhQUNBLGtCQUNBLFFBQ0EsWUFDQSxhQUNBLGFBQ0EsZUFDQSxlQUNBLGFBQ0EsY0FDQSxlQUNBLGtCQUNBLFVBQ0EscUJBQ0EsZ0JBQ0EsV0FDQSxnQkFDQSwyQkFDQSxlQUlBLFNBQUFDLE9BQ0FDLHFCQUNBQywyQkFDQUMsV0FDQUMsb0JBSUFGLDJCQUFBRyxVQUFBLENBQ0FDLElBQUEsMENBQ0FDLEVBQUEsUUFDQUMsVUFBQSwwQ0FLQVAscUJBQUFRLFdBQUEsQ0FDQUMsTUFBQSxJQUNBQyxTQUFBLEdBQ0FDLFdBQUEsR0FDQUMsZ0JBQUEsR0FDQUMsa0JBQUEsR0FDQUMsVUFBQSxRQUNBQyxVQUFBLFFBSUFiLFdBQUFjLGtCQUFBLEVBR0FiLG1CQUNBYyxJQUFBLGFBQUEsYUFDQUEsSUFBQSxnQkFBQSxvQkN6REEsU0FBQUMsWUFBQUMsZUFBQUMsb0JBQ0FBLG1CQUFBQyxVQUFBLEtBRUFGLGVBQUFHLE1BQUEsV0FBQSxDQUNBQyxJQUFBLElBQ0FDLFlBQUEsMEJBQ0FDLFdBQUEsdUJBR0FOLGVBQUFHLE1BQUEsWUFBQSxDQUNBQyxJQUFBLGFBQ0FDLFlBQUEsMkJBQ0FDLFdBQUEsd0JBU0FOLGVBQUFHLE1BQUEsZ0JBQUEsQ0FDQUMsSUFBQSxrQkFDQUMsWUFBQSwrQkFDQUMsV0FBQSw0QkFHQU4sZUFBQUcsTUFBQSxnQkFBQSxDQUNBQyxJQUFBLGtCQUNBQyxZQUFBLCtCQUNBQyxXQUFBLDRCQUdBTixlQUFBRyxNQUFBLFdBQUEsQ0FDQUMsSUFBQSxZQUNBQyxZQUFBLDBCQUNBQyxXQUFBLHNCQUdBTixlQUFBRyxNQUFBLFlBQUEsQ0FDQUMsSUFBQSxhQUNBQyxZQUFBLDJCQUNBQyxXQUFBLHVCQUdBTixlQUFBRyxNQUFBLGVBQUEsQ0FDQUMsSUFBQSxnQkFDQUMsWUFBQSw4QkFDQUMsV0FBQSwyQkFHQU4sZUFBQUcsTUFBQSxvQkFBQSxDQUNBQyxJQUFBLHNCQUNBQyxZQUFBLG1DQUNBQyxXQUFBLGdDQUdBTixlQUFBRyxNQUFBLGFBQUEsQ0FDQUMsSUFBQSxjQUNBQyxZQUFBLDRCQUNBQyxXQUFBLHdCQUdBTixlQUFBRyxNQUFBLGNBQUEsQ0FDQUMsSUFBQSxnQkFDQUMsWUFBQSw2QkFDQUMsV0FBQSwwQkFHQU4sZUFBQUcsTUFBQSxVQUFBLENBQ0FDLElBQUEsV0FDQUMsWUFBQSx5QkFDQUMsV0FBQSxzQkFHQU4sZUFBQUcsTUFBQSxjQUFBLENBQ0FDLElBQUEsZUFDQUMsWUFBQSw2QkFDQUMsV0FBQSwwQkFHQU4sZUFBQUcsTUFBQSxTQUFBLENBQ0FDLElBQUEsVUFDQUMsWUFBQSx5QkFDQUMsV0FBQSxzQkFHQU4sZUFBQUcsTUFBQSxTQUFBLENBQ0FDLElBQUEsVUFDQUMsWUFBQSx3QkFDQUMsV0FBQSxxQkFFQU4sZUFBQUcsTUFBQSxlQUFBLENBQ0FDLElBQUEsc0JBQ0FDLFlBQUEsZ0NBQ0FDLFdBQUEsMEJBR0FOLGVBQUFHLE1BQUEsZ0JBQUEsQ0FDQUMsSUFBQSx1QkFDQUMsWUFBQSxnQ0FDQUMsV0FBQSwyQkFHQU4sZUFBQUcsTUFBQSxpQkFBQSxDQUNBQyxJQUFBLG1CQUNBQyxZQUFBLGdDQUNBQyxXQUFBLDZCQUdBTixlQUFBRyxNQUFBLGlCQUFBLENBQ0FDLElBQUEsbUJBQ0FDLFlBQUEsZ0NBQ0FDLFdBQUEsNkJBR0FOLGVBQUFHLE1BQUEsY0FBQSxDQUNBQyxJQUFBLGdCQUNBQyxZQUFBLDhCQUNBQyxXQUFBLDJCQUdBTixlQUFBRyxNQUFBLGNBQUEsQ0FDQUMsSUFBQSxnQkFDQUMsWUFBQSw4QkFDQUMsV0FBQSwwQkFFQU4sZUFBQUcsTUFBQSxVQUFBLENBQ0FDLElBQUEsV0FDQUMsWUFBQSx5QkFDQUMsV0FBQSxzQkFHQU4sZUFBQUcsTUFBQSxZQUFBLENBQ0FDLElBQUEsYUFDQUMsWUFBQSwwQkFDQUMsV0FBQSx3QkFHQU4sZUFBQUcsTUFBQSxXQUFBLENBQ0FDLElBQUEsWUFDQUMsWUFBQSwyQkFDQUMsV0FBQSx3QkFHQU4sZUFBQUcsTUFBQSxVQUFBLENBQ0FDLElBQUEsV0FDQUMsWUFBQSx5QkFDQUMsV0FBQSxzQkFHQU4sZUFBQUcsTUFBQSxXQUFBLENBQ0FDLElBQUEsWUFDQUMsWUFBQSwwQkFDQUMsV0FBQSx1QkFFQU4sZUFBQUcsTUFBQSxpQkFBQSxDQUNBQyxJQUFBLHdCQUNBQyxZQUFBLGlDQUNBQyxXQUFBLDZCQUdBTixlQUFBRyxNQUFBLGdCQUFBLENBQ0FDLElBQUEsaUJBQ0FDLFlBQUEsK0JBQ0FDLFdBQUEsNEJBR0FOLGVBQUFHLE1BQUEsc0JBQUEsQ0FDQUMsSUFBQSw2QkFDQUMsWUFBQSxzQ0FDQUMsV0FBQSxrQ0RwSkE3QixJQUFBRyxPQUFBQSxRQ3pCQUYsUUFBQUMsT0FBQSxlQUFBLElBQUFDLE9BQUFtQixhQ0FBLFdBQ0FyQixRQUFBQyxPQUFBLE9BQUE0QixRQUFBLGFBRUEsU0FDQUMsTUFDQUMsT0FDQUMsVUFDQUMsb0JBQ0FDLFFBQ0FDLE9BQ0FDLGNBQ0EsSUFBQUMsS0FDQVgsSUFBQSxpQ0FHQVksUUFBQSxTQUFBQyxPQUFBQyxPQUNBLE1BQUEsQ0FDQUMsZUFBQSxRQUFBRixZQUFBRyxFQUFBLG1CQUNBQyxpQkFBQUgsTUFDQVAsb0JBQUFXLElBQUEscUJBQ0FGLEVBQ0FHLFNBQUFDLEtBQUFDLFVBQUEsQ0FDQUMsT0FBQSxVQWFBQyxTQUFBZixRQUFBZSxTQUFBQyxRQUFBaEIsUUFBQWlCLFVBQUFqQixRQUFBZ0IsUUFFQSxPQUFBRSxnQkFBQWYsS0FBQSxDQUNBZ0IsTUFBQSxTQUFBQyxTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsZ0JBQ0FhLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxTQUVBSSxlQUFBLFNBQUFMLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxrQkFDQWEsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBR0FLLGFBQUEsU0FBQU4sU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHlCQUNBYSxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFDQW9CLEtBQUFKLFdBR0EsT0FBQUMsU0FHQU0sVUFBQSxTQUFBUCxTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsYUFDQWEsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBR0FPLGVBQUEsU0FBQUMsV0FDQSxJQUFBUixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHVCQUFBcUMsVUFDQXhCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0FTLGFBQUEsV0FDQSxJQUFBVCxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHFCQUNBYSxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQXFCQVUsZ0JBQUEsU0FBQUMsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUE5RCxHQUNBLElBQUErRCxJQUFBL0QsRUFBQSxJQUFBeUQsU0FBQXpELEdBQUEsSUFFQSxPQURBOEQsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHVCQUFBeUMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0FtQixlQUFBLFNBQUFSLFVBU0EsSUFBQUMsTUFBQUQsU0FFQUUsT0FBQUMsS0FBQUgsVUFBQUksT0FBQSxTQUFBQyxJQUFBOUQsR0FDQSxJQUFBK0QsSUFBQS9ELEVBQUEsSUFBQXlELFNBQUF6RCxHQUFBLElBRUEsT0FEQThELEtBQUFDLEtBRUEsS0FMQSxHQU1BTCxNQUFBQSxNQUFBTSxNQUFBLEdBQUEsR0FDQSxJQUFBbEIsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxzQkFBQXlDLE1BQ0E1QixPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQUdBb0IsZUFBQSxXQUNBLElBQUFwQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHNCQUNBYSxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQUdBcUIsY0FBQSxTQUFBdEIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHFCQUNBYSxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxTQUdBc0IsWUFBQSxTQUFBQyxVQUNBQyxRQUFBQyxJQUFBLHNCQUFBRixVQUNBLElBQUF2QixRQUFBQyxLQUFBQyxZQUVBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLG1CQUNBYSxPQUFBLE9BQ0FtQixLQUFBb0IsU0FDQXhDLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixTQUVBMEIsb0JBQUEsU0FBQUgsVUFDQSxJQUFBdkIsUUFBQUMsS0FBQUMsWUFDQXRCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLHdCQUNBYSxPQUFBLE9BQ0FtQixLQUFBb0IsU0FDQXhDLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixTQUdBNEIsYUFBQSxTQUFBQyxTQUNBLElBQUE3QixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHFCQUFBMEQsUUFDQTdDLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0E4QixZQUFBLFNBQUFQLFNBQUFRLElBRUEsSUFBQS9CLFFBQUFDLEtBQUFDLFlBQ0F0QixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSxvQkFBQTRELEdBQ0EvQyxPQUFBLE1BQ0FtQixLQUFBb0IsU0FDQXhDLFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQUdBZ0Msb0JBQUEsU0FBQUMsV0FDQSxJQUFBakMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSw0QkFBQThELFVBQ0FqRCxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQUdBa0MsYUFBQSxTQUFBQyxXQUFBcEMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHFCQUFBZ0UsV0FDQW5ELE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBR0FvQyxnQkFBQSxTQUFBckMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBdEIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsc0JBQ0FnQyxLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFNBR0FxQyxnQkFBQSxTQUFBdEMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBdEIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsdUJBQ0FnQyxLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFNBR0FzQyxpQkFBQSxTQUFBM0IsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUE5RCxHQUNBLElBQUErRCxJQUFBL0QsRUFBQSxJQUFBeUQsU0FBQXpELEdBQUEsSUFFQSxPQURBOEQsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHdCQUFBeUMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0F1QyxzQkFBQSxTQUFBNUIsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUE5RCxHQUNBLElBQUErRCxJQUFBL0QsRUFBQSxJQUFBeUQsU0FBQXpELEdBQUEsSUFFQSxPQURBOEQsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDBCQUFBeUMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0F3QyxrQkFBQSxTQUFBN0IsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUE5RCxHQUNBLElBQUErRCxJQUFBL0QsRUFBQSxJQUFBeUQsU0FBQXpELEdBQUEsSUFFQSxPQURBOEQsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHlCQUFBeUMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0F5QyxtQkFBQSxTQUFBVixHQUFBaEMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBdEIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsMkJBQUE0RCxHQUNBL0MsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsU0FHQTBDLGdCQUFBLFNBQUFDLFlBQ0EsSUFBQTNDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsd0JBQUF3RSxXQUNBM0QsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsU0FHQTRDLHFCQUFBLFNBQUFDLFNBQ0EsSUFBQTdDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsNkJBQUEwRSxRQUNBN0QsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsU0FFQThDLG9CQUFBLFNBQUEvQyxTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0F0QixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSwyQkFDQWEsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsU0FFQStDLHdCQUFBLFNBQUFoQixHQUFBaEMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLGdDQUFBNEQsR0FDQS9DLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBR0FnRCxvQkFBQSxTQUFBakIsR0FBQWhDLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQXRCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLDRCQUFBNEQsR0FDQS9DLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBRUFpRCxtQkFBQSxTQUFBbEQsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDBCQUNBYSxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxVQWhZQSxrQkFnWkEsU0FBQStCLElBQ0EsSUFBQS9CLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsd0JBQUE0RCxHQUNBL0MsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUF4WkFILGdCQUFBZixLQUFBLGNBMlpBLFNBQUFrQixTQUNBLE9BQUEsSUFBQWtELFFBQUEsU0FBQUMsUUFBQUMsUUFDQTFELFNBQUEyRCxRQUNBckQsUUFDQXNELEtBQUEsU0FBQUMsTUFDQTdELFNBQUE4RCxXQUNBTCxRQUFBSSxRQUVBRSxNQUFBLFNBQUFDLEtBQ0FoRSxTQUFBOEQsV0FDQSxNQUFBRSxJQUFBQyxRQUNBaEUsU0FFQXlELE9BQUFNLFdBeGFBN0QsZ0JBQUFmLEtBQUEsZ0JBNmFBLFNBQUE2QixVQUNBLElBQUFDLE1BQUFELFNBRUFFLE9BQUFDLEtBQUFILFVBQUFJLE9BQUEsU0FBQUMsSUFBQTlELEdBQ0EsSUFBQStELElBQUEvRCxFQUFBLElBQUF5RCxTQUFBekQsR0FBQSxJQUVBLE9BREE4RCxLQUFBQyxLQUVBLEtBTEEsR0FNQUwsTUFBQUEsTUFBQU0sTUFBQSxHQUFBLEdBQ0EsSUFBQWxCLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEscUJBQUF5QyxNQUNBNUIsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUE3YkFILGdCQUFBZixLQUFBLGdCQWdjQSxXQUNBLElBQUFrQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLGlCQUNBYSxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQXhjQUgsZ0JBQUFmLEtBQUEsZUEwY0EsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxnQkFDQWEsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsVUFuZEFILGdCQUFBZixLQUFBLGNBc2RBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsc0JBQ0FhLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBL2RBSCxnQkFBQWYsS0FBQSx3QkFrZUEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSw2QkFDQWEsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsVUEzZUFILGdCQUFBZixLQUFBLGVBK2VBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsb0JBQ0FhLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBeGZBSCxnQkFBQWYsS0FBQSx1QkEwZkEsU0FBQThFLGFBQ0EsSUFBQTVELFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsNkJBQUF5RixZQUNBNUUsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUFsZ0JBSCxnQkFBQWYsS0FBQSxlQW9nQkEsU0FBQW1ELFdBQ0EsSUFBQWpDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEscUJBQUE4RCxVQUFBLFdBQ0FqRCxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQTVnQkFILGdCQUFBZixLQUFBLG9CQThnQkEsU0FBQW1ELFdBQ0EsSUFBQWpDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsMEJBQUE4RCxVQUNBakQsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUF0aEJBSCxnQkFBQWYsS0FBQSxxQkF5aEJBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsMEJBQ0FhLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBbGlCQUgsZ0JBQUFmLEtBQUEsZ0JBcWlCQSxTQUFBOEUsYUFDQSxJQUFBNUQsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxzQkFBQXlGLFlBQ0E1RSxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQTdpQkFILGdCQUFBZixLQUFBLGNBZ2pCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLG1CQUNBYSxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxVQXpqQkFILGdCQUFBZixLQUFBLDBCQTJqQkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQXRCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLCtCQUNBYSxPQUFBLE9BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBcGtCQUgsZ0JBQUFmLEtBQUEsZ0JBdWtCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHFCQUNBYSxPQUFBLE1BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBaGxCQUgsZ0JBQUFmLEtBQUEsYUFtbEJBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsa0JBQ0FhLE9BQUEsTUFDQW1CLEtBQUFKLFFBQ0FoQixRQUFBQSxRQUFBLFFBQUEsTUFHQSxPQUFBaUIsVUE1bEJBSCxnQkFBQWYsS0FBQSxlQStsQkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxvQkFDQWEsT0FBQSxNQUNBbUIsS0FBQUosUUFDQWhCLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQXhtQkFILGdCQUFBZixLQUFBLFlBNG1CQSxXQUNBLElBQUFHLE1BQUFQLG9CQUFBVyxJQUFBLGdCQUVBd0UsT0FBQSxDQUNBekUsaUJBQUFILE1BQ0FnRCxVQUFBLDRCQUVBakMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQSx5QkFDQWEsT0FBQSxPQUNBbUIsS0FBQTBELFVBR0EsT0FBQTdELFVBMW5CQUgsZ0JBQUFmLEtBQUEsZUE4bkJBLFNBQUFnRixRQUNBdEMsUUFBQUMsSUFBQSx3QkFBQXFDLFFBQ0EsSUFBQTlELFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsb0JBQ0FhLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBMkQsVUFHQSxPQUFBOUQsVUF4b0JBSCxnQkFBQWYsS0FBQSxvQkEyb0JBLFNBQUFtRCxVQUFBOEIsTUFDQSxJQUFBL0QsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSwwQkFBQThELFVBQ0FqRCxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsUUFBQSxHQUNBb0IsS0FBQTRELFFBR0EsT0FBQS9ELFVBcHBCQUgsZ0JBQUFmLEtBQUEsZUF1cEJBLFdBQ0EsSUFBQWtCLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEseUJBQ0FhLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBL3BCQUgsZ0JBQUFmLEtBQUEsa0JBaXFCQSxTQUFBaUQsR0FBQWlDLE9BQ0EsSUFBQWhFLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsdUJBQ0FhLE9BQUEsTUFDQW1CLEtBQUEsQ0FDQThCLFVBQUFGLEdBQ0FpQyxNQUFBQSxPQUVBakYsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBN3FCQUgsZ0JBQUFmLEtBQUEsZUErcUJBLFdBQ0EsSUFBQWtCLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsb0JBQ0FhLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBdnJCQUgsZ0JBQUFmLEtBQUEsdUJBeXJCQSxXQUNBLElBQUFrQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDRCQUNBYSxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQWpzQkFILGdCQUFBZixLQUFBLG9CQW9zQkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSx5QkFDQWEsT0FBQSxPQUNBbUIsS0FBQUosUUFDQWhCLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQTdzQkFILGdCQUFBZixLQUFBLGdCQStzQkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxxQkFDQWEsT0FBQSxPQUNBbUIsS0FBQUosUUFDQWhCLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQXh0QkFILGdCQUFBZixLQUFBLG1CQTJ0QkEsU0FBQTZCLFVBQ0EsSUFBQUMsTUFBQUQsU0FFQUUsT0FBQUMsS0FBQUgsVUFBQUksT0FBQSxTQUFBQyxJQUFBOUQsR0FDQSxJQUFBK0QsSUFBQS9ELEVBQUEsSUFBQXlELFNBQUF6RCxHQUFBLElBRUEsT0FEQThELEtBQUFDLEtBRUEsS0FMQSxHQU1BTCxNQUFBQSxNQUFBTSxNQUFBLEdBQUEsR0FDQSxJQUFBbEIsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSx3QkFBQXlDLE1BQ0E1QixPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQTN1QkFILGdCQUFBZixLQUFBLHdCQTZ1QkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSw2QkFDQWEsT0FBQSxPQUNBbUIsS0FBQUosUUFDQWhCLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQXR2QkFILGdCQUFBZixLQUFBLG1CQXd2QkEsU0FBQWlELEdBQUFrQyxPQUNBLElBQUFqRSxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHlCQUFBNEQsR0FBQSxVQUFBa0MsTUFDQWpGLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBaHdCQUgsZ0JBQUFmLEtBQUEsaUJBa3dCQSxTQUFBaUQsSUFDQSxJQUFBL0IsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSx1QkFBQTRELEdBQ0EvQyxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQTF3QkFILGdCQUFBZixLQUFBLHNCQTR3QkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSwyQkFDQWEsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsVUFyeEJBSCxnQkFBQWYsS0FBQSxvQkF1eEJBLFNBQUFvRixVQUNBLElBQUFsRSxRQUFBQyxLQUFBQyxZQUNBdEIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsbUJBQ0FhLE9BQUEsT0FDQW1CLEtBQUErRCxTQUNBbkYsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBaHlCQUgsZ0JBQUFmLEtBQUEsa0JBbXlCQSxTQUFBNkIsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUE5RCxHQUNBLElBQUErRCxJQUFBL0QsRUFBQSxJQUFBeUQsU0FBQXpELEdBQUEsSUFFQSxPQURBOEQsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHdCQUFBeUMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBbnpCQUgsZ0JBQUFmLEtBQUEsdUJBdXpCQSxTQUFBNkIsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUE5RCxHQUNBLElBQUErRCxJQUFBL0QsRUFBQSxJQUFBeUQsU0FBQXpELEdBQUEsSUFFQSxPQURBOEQsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDRCQUFBeUMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBdjBCQUgsZ0JBQUFmLEtBQUEscUJBMDBCQSxTQUFBaUIsUUFBQWtDLFdBQ0EsSUFBQWpDLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsMEJBQ0FhLE9BQUEsT0FFQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBcDFCQUgsZ0JBQUFmLEtBQUEsb0JBdTFCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHlCQUNBYSxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxVQWgyQkFILGdCQUFBZixLQUFBLHdCQW0yQkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTNCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSw2QkFDQWEsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsVUE1MkJBSCxnQkFBQWYsS0FBQSxrQkErMkJBLFNBQUFxRixZQUNBLElBQUFuRSxRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLG9CQUFBZ0csV0FDQW5GLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBdjNCQUgsZ0JBQUFmLEtBQUEseUJBNjNCQSxTQUFBc0YsZUFDQSxJQUFBcEUsUUFBQUMsS0FBQUMsWUFDQXRCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLHdCQUNBYSxPQUFBLE9BQ0FtQixLQUFBaUUsY0FDQXJGLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQXQ0QkFILGdCQUFBZixLQUFBLHVCQTQ0QkEsU0FBQXFGLFlBQ0EsSUFBQW5FLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEseUJBQUFnRyxXQUNBbkYsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUFwNUJBSCxnQkFBQWYsS0FBQSxhQXU1QkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQXRCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLGtCQUNBYSxPQUFBLE9BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBaDZCQUgsZ0JBQUFmLEtBQUEsdUJBbTZCQSxTQUFBaUIsU0FDQXlCLFFBQUFDLElBQUEsd0JBQ0EsSUFBQXpCLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsNEJBQ0FhLE9BQUEsT0FDQW1CLEtBQUFKLFFBQ0FoQixRQUFBQSxRQUFBLFFBQUEsTUFHQSxPQUFBaUIsVUE3NkJBSCxnQkFBQWYsS0FBQSxzQkFnN0JBLFNBQUFpRCxHQUFBc0MsU0FDQTdDLFFBQUFDLElBQUEsWUFBQTRDLFNBQ0EsSUFBQXJFLFFBQUFDLEtBQUFDLFlBQ0EzQixNQUFBLENBQ0FKLElBQUFBLElBQUEsbUJBQUE0RCxHQUNBL0MsT0FBQSxNQUNBbUIsS0FBQWtFLFFBQ0F0RixRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUExN0JBSCxnQkFBQWYsS0FBQSxzQkE2N0JBLFNBQUF3RixPQUNBLElBQUF0RSxRQUFBQyxLQUFBQyxZQUNBdEIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsdUJBQ0FhLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBbUUsU0FHQSxPQUFBdEUsVUF0OEJBSCxnQkFBQWYsS0FBQSxjQXk4QkEsU0FBQXlGLElBQ0EvQyxRQUFBQyxJQUFBLFNBQUE4QyxJQUNBLElBQUF2RSxRQUFBQyxLQUFBQyxZQUNBdEIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsb0JBQ0FhLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBb0UsTUFHQSxPQUFBdkUsVUFuOUJBSCxnQkFBQWYsS0FBQSwwQkFzOUJBLFNBQUFpRCxJQUNBLElBQ0EvQixRQUFBQyxLQUFBQyxZQUNBM0IsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHFCQUFBNEQsR0FDQS9DLE9BQUEsTUFDQW1CLEtBTEEsQ0FBQXFFLGlCQUFBLFFBTUF6RixRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUFoK0JBbEIsT0FyQ0EsR0NBQSxXQUNBckMsUUFBQUMsT0FBQSxPQUFBNEIsUUFBQSxjQUVBLFNBQUFDLE1BQUFFLFVBQUFDLHFCQUNBLE1BQUEsQ0FDQStGLFVBQUEsV0FDQSxJQUFBeEYsTUFBQVAsb0JBQUFXLElBQUEsZ0JBQ0EsU0FBQUosT0FBQSxJQUFBQSxRQU1BeUYsZUFBQSxTQUFBQyxLQUFBQyxTQUFBLElBQUFDLHNCQUNBbkcsb0JBQUFXLElBQUEsWUFBQXlGLFVBREFELHNCQUNBQyxVQURBQyx1QkFFQXJHLG9CQUFBVyxJQUFBLGVBQUEyRixXQUZBRCx1QkFFQUMsV0FFQSxPQUFBRixXQUFBRSxXQUFBTCxNQUFBQyxhQWpCQSxHQ0FBLFdBQ0FuSSxRQUFBQyxPQUFBLE9BQUE0QixRQUFBLHFCQUVBLFNBQUEyRyxXQUFBcEcsY0FDQSxNQUFBLENBQ0FxRyxXQUVBQyxNQUFBLENBQ0FSLEtBQUEsRUFDQXhFLEtBQUEsR0FDQVYsT0FBQSxNQUVBLENBQ0EyRixLQUFBLFNBQUFDLE1BQ0FGLE1BQUExRixPQUFBLEtBQ0EwRixNQUFBUixLQUFBLEVBQ0FRLE1BQUFoRixLQUFBLENBQUFrRixPQUVBQyxJQUFBLFNBQUFELEtBQUE1RixRQUNBMEYsTUFBQTFGLE9BQUFBLE9BQ0EwRixNQUFBUixLQUFBLEVBQ0FRLE1BQUFoRixLQUFBLENBQUFrRixPQUVBRSxNQUFBLFNBQUFDLFFBQ0EsT0FBQSxJQUFBdEMsUUFBQSxTQUFBQyxRQUFBQyxRQUNBLEdBQUErQixNQUFBaEYsS0FBQXNGLE9BQUEsRUFHQSxPQUZBNUcsYUFBQTZHLFFBQUEsMkJBQ0F2QyxTQUFBLEdBSUEsSUFBQXdDLFFBQUEsSUFBQVIsTUFBQVIsS0FBQSxjQUFBLGFBR0E1RSxRQUFBLENBQ0E2RixRQUFBVCxNQUFBaEYsS0FBQTBGLElBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBQyxNQUNBQyxTQUFBLElBQUFiLE1BQUFSLFVBQUF4RixFQUFBZ0csTUFBQTFGLE9BQ0ErRixPQUFBLElBQUFMLE1BQUFSLFVBQUF4RixFQUFBcUcsT0FDQTVCLFlBQUEsSUFBQXVCLE1BQUFSLEtBQUFhLFlBQUFyRyxHQUdBOEYsV0FBQVUsU0FBQTVGLFNBQ0F1RCxLQUFBLFNBQUFDLE1BQ0ExRSxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsU0FFQWYsTUFBQSxDQUNBUixLQUFBLEVBQ0F4RSxLQUFBLEdBQ0FWLE9BQUEsTUFFQTBELFNBQUEsS0FFQU0sTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxHQUNBL0MsUUFBQSxVQU9BZ0QsZ0JBQUEsV0FDQSxJQUFBQyxNQUFBLEdBQ0FDLEtBQUFELE1BQUFaLE9BQUEsRUFNQSxNQUFBLENBQ0FjLEtBQUEsU0FBQWxCLE1BQ0FnQixNQUFBRyxPQUFBRixLQUFBLEVBQUFELE1BQUFaLE9BQUFKLE1BQ0FpQixLQUFBRCxNQUFBWixPQUFBLEdBRUFnQixRQUFBLFdBRUEsR0FBQUosTUFBQVosUUFJQWEsT0FBQUQsTUFBQVosT0FBQSxFQU1BLE9BQUFZLFFBREFDLE9BRUFELE1BQUFDLE1BQUFJLFNBQ0FMLE1BQUFDLFlBRkEsR0FNQUssU0FBQSxXQUVBLEdBQUFOLE1BQUFaLFVBS0FhLEtBQUEsR0FJQSxPQUFBRCxNQUFBQyxPQUNBRCxNQUFBQyxNQUFBSSxTQUVBTCxRQURBQyxZQUZBLEtBVUFNLFdBQUEsV0FDQSxJQUFBQyxZQUFBLEdBQ0EsTUFBQSxDQUNBaEosSUFBQSxTQUFBaUosS0FDQUQsWUFBQU4sS0FBQU8sTUFFQXpILElBQUEsV0FDQSxPQUFBd0gsZUFVQUUsaUJBQUEsU0FBQUMsWUFDQSxPQUFBQSxXQUFBakcsT0FDQSxTQUFBQyxJQUFBOEUsR0FVQSxPQVJBQSxFQUFBbUIsS0FBQSxNQUNBLG9CQUFBbkIsRUFBQW5CLE1BQUEsU0FBQXVDLEtBQUFwQixFQUFBbkIsT0FFQTNELElBQUFtRyxXQUFBWixLQUFBVCxHQUdBOUUsSUFBQW9HLEdBQUFiLEtBQUFULEdBRUE5RSxLQUVBLENBQUFvRyxHQUFBLEdBQUFELFdBQUEsTUFTQUUsZ0JBQUEsU0FBQUMsTUFDQSxPQUNBQSxLQUFBTCxLQUFBLE1BQ0Esb0JBQUFLLEtBQUEzQyxNQUFBLFNBQUF1QyxLQUFBSSxLQUFBM0MsT0FFQSxFQUVBLEdBT0E0QyxzQkFBQSxTQUFBakQsT0FDQSxJQUFBa0QsTUFBQSxFQVdBLE9BVkFsRCxNQUFBOEMsR0FBQUssUUFBQSxTQUFBM0IsR0FDQUEsRUFBQTRCLFdBQUE1QixFQUFBNkIsVUFBQUgsT0FDQUEsTUFBQSxLQUdBbEQsTUFBQTZDLFdBQUFNLFFBQUEsU0FBQTNCLEdBQ0FBLEVBQUE0QixXQUFBNUIsRUFBQTZCLFVBQUFILE9BQ0FBLE1BQUEsS0FHQUEsTUFRQUksb0JBQUEsU0FBQXRELE1BQUFrQixRQUNBLE9BQUEsSUFBQXRDLFFBQUEsU0FBQUMsUUFBQUMsUUFDQTZCLFdBQ0E0QyxvQkFBQSxDQUNBQyxXQUFBeEQsTUFBQXVCLElBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBL0IsT0FDQXlCLE9BQUFBLFNBRUFsQyxLQUFBLFNBQUFDLE1BRUEsSUFBQXdFLGVBQUF6RCxNQUNBdUIsSUFBQSxTQUFBQyxHQUdBLE9BRkFBLEVBQUFrQyxPQUFBLFNBQ0FsQyxFQUFBbUMsVUFBQW5DLEVBQUEvQixLQUNBK0IsSUFFQS9FLE9BQ0EsU0FBQUMsSUFBQThFLEdBS0EsT0FKQSxJQUFBdkMsS0FBQXBELEtBQUErSCxXQUFBQyxRQUFBckMsRUFBQS9CLE1BQ0EvQyxJQUFBb0gsWUFBQTdCLEtBQUFULEdBQ0E5RSxJQUFBa0gsV0FBQTNCLEtBQUFULEdBRUE5RSxLQUVBLENBQUFrSCxXQUFBLEdBQUFFLFlBQUEsS0FHQWpGLFFBQUE0RSxrQkFFQXRFLE1BQUEsU0FBQTBDLEdBQ0EvQyxPQUFBK0MsUUFVQWtDLGdCQUFBLFNBQUEvRCxPQUNBLE9BQUFBLE1BQUFnRSxPQUFBLFNBQUF4QyxHQUFBLE1BQUEsV0FBQUEsRUFBQWtDLFNBQUFqSCxPQUFBLFNBQUFDLElBQUE4RSxHQUVBLE9BREE5RSxJQUFBQSxLQUFBOEUsRUFBQW1DLFlBQUFuQyxFQUFBL0IsT0FFQSxJQVFBd0UsZ0JBQUEsU0FBQUMsVUFDQSxPQUFBQSxTQUFBLE1BQUFDLEtBQUFDLE1BQUEsS0FLQUMsa0JBQUEsU0FBQXJCLE1BQ0EsSUFBQXNCLE9BQUEsSUFBQUMsV0FDQUQsT0FBQUUsT0FBQSxXQUNBQyxTQUFBQyxZQUFBLENBQUE3SyxJQUFBeUssT0FBQUssU0FBQTNGLEtBQUEsU0FBQTRGLEtBQ0FBLElBQUFDLFFBQUEsR0FBQTdGLEtBQUEsU0FBQThGLE1BQ0E1SCxRQUFBQyxJQUFBLFVBQUEySCxNQUNBLElBQ0FDLFNBQUFELEtBQUFFLFlBREEsR0FFQUMsT0FBQUMsU0FBQUMsY0FBQSxVQUNBQyxRQUFBSCxPQUFBSSxXQUFBLE1BQ0FKLE9BQUFLLE9BQUFQLFNBQUFPLE9BQ0FMLE9BQUFNLE1BQUFSLFNBQUFRLE1BRUEsSUFBQUMsS0FBQVYsS0FBQVcsT0FBQSxDQUNBQyxjQUFBTixRQUNBTCxTQUFBQSxXQUVBUyxLQUFBOUosUUFBQXNELEtBQUEsV0FDQSxJQUFBMkcsUUFBQVYsT0FBQVcsVUFBQSxhQUNBQyxLQUFBWCxTQUFBQyxjQUFBLEtBQ0FVLEtBQUFDLFNBQUEsa0JBQUEzQixLQUFBQyxNQUNBeUIsS0FBQUUsS0FBQUosUUFDQVQsU0FBQWMsS0FBQUMsWUFBQUosTUFDQUEsS0FBQUssUUFDQWhCLFNBQUFjLEtBQUFHLFlBQUFOLGFBTUF2QixPQUFBOEIsY0FBQXBELE9BRUFxRCxjQUFBLFNBQUEzRCxZQUNBLE9BQUFBLFdBQUFqRyxPQUNBLFNBQUFDLElBQUE4RSxHQVNBLE9BUEFBLEVBQUF3QixLQUFBTCxLQUFBLE1BQ0Esb0JBQUFuQixFQUFBd0IsS0FBQTNDLE1BQUEsU0FBQXVDLEtBQUFwQixFQUFBd0IsS0FBQTNDLE9BRUEzRCxJQUFBbUcsV0FBQVosS0FBQVQsR0FFQTlFLElBQUFvRyxHQUFBYixLQUFBVCxHQUVBOUUsS0FFQSxDQUFBb0csR0FBQSxHQUFBRCxXQUFBLE9BNVJBLElBRUFoQyxRQVBBLEdDQUEsV0FDQTFJLFFBQUFDLE9BQUEsT0FBQTRCLFFBQUEsVUFFQSxTQUNBQyxNQUNBQyxPQUNBQyxVQUNBbU0sa0JBQ0EvTCxhQUNBSCxxQkFHQSxJQUFBbU0sV0FDQUMsU0FBQSxFQUNBLFNBQUFDLElBQ0FELFVBQ0FBLFNBQUEsRUFDQUUsV0FBQSxXQUNBRixTQUFBLElBRUFDLFFBUkEsSUFDQUQsUUFZQSxNQUFBLENBQ0FwTCxVQUNBdUwsWUFBQUwsa0JBQUFNLGlCQUNBRCxhQUVBdEwsT0FBQSxXQUNBakIsb0JBQUF5TSxPQUFBLGdCQUNBek0sb0JBQUF5TSxPQUFBLFlBQ0F6TSxvQkFBQXlNLE9BQUEsZUFDQXpNLG9CQUFBYixJQUFBLGlCQUFBLE1BQ0FhLG9CQUFBeU0sT0FBQSxrQkFFQTNNLE9BQUE0TSxHQUFBLFlBQ0FQLFVBQUEsV0FBQSxPQUFBaE0sYUFBQXdNLE1BQUEsbUJBR0F6TCxXQUNBMEwsU0FBQTVNLG9CQUFBVyxJQUFBLGFBQUEsR0FFQSxDQUNBeEIsSUFBQSxTQUFBc0MsTUFZQSxPQUpBQSxLQUFBMkUsVUFQQSxDQUNBLFFBQ0EsVUFDQSxpQkFDQSxjQUNBLFVBRUFxRCxRQUFBaEksS0FBQW9MLGFBRUE3TSxvQkFBQWIsSUFBQSxXQUFBc0MsTUFDQW1MLFNBQUFuTCxNQUdBZCxJQUFBLFdBQUEsT0FBQWlNLFVBQ0FFLE1BQUEsV0FDQTlNLG9CQUFBeU0sT0FBQSxZQUNBRyxTQUFBLE1BS0FHLGNBQ0FDLFlBQUFoTixvQkFBQVcsSUFBQSxnQkFBQSxLQUVBLENBQ0F4QixJQUFBLFNBQUFzQyxNQUdBLE9BRkF6QixvQkFBQWIsSUFBQSxjQUFBc0MsTUFDQXVMLFlBQUF2TCxNQUdBZCxJQUFBLFdBQUEsT0FBQXFNLGFBRUFDLFFBQUEsU0FBQTVKLElBQ0F4RCxNQUFBLENBQ0FTLE9BQUEsTUFDQUQsUUFBQSxDQUNBSyxpQkFBQVYsb0JBQUFXLElBQUEsZ0JBQ0FDLFNBQUFDLEtBQUFDLFVBQUEsQ0FBQUMsT0FBQSxTQUVBdEIsSUFBQUEscURBQUE0RCxLQUVBdUIsS0FBQSxTQUFBQyxNQUNBN0Usb0JBQUFiLElBQUEsY0FBQTBGLEtBQUFwRCxRQUVBc0QsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQUdBcUYsTUFBQSxXQUNBOU0sb0JBQUF5TSxPQUFBLGVBQ0FPLFlBQUEsTUFLQUUsYUFBQSxXQUNBbE4sb0JBQUFXLElBQUEsa0JBQ0EsTUFBQSxDQUNBeEIsSUFBQSxTQUFBc0MsTUFHQSxPQUZBekIsb0JBQUFiLElBQUEsaUJBQUFzQyxNQUNBQSxNQUdBZCxJQUFBLFdBQUEsT0FBQVgsb0JBQUFXLElBQUEsbUJBQ0FtTSxNQUFBLFdBQ0E5TSxvQkFBQXlNLE9BQUEsa0JBQ0EsT0FYQSxHQWdCQVUsZUFBQSxXQUNBLElBQUEzTixNQUFBUSxvQkFBQVcsSUFBQSxtQkFBQSxDQUNBeU0sSUFBQSxFQUNBQyxXQUFBLEdBQ0EzQyxLQUFBLENBQ0E0QyxTQUFBLEVBQ0FDLE1BQUEsSUFJQSxNQUFBLENBQ0FDLFFBQUEsU0FBQXZILEtBQUF3SCxPQUNBak8sTUFBQWtMLEtBQUF6RSxNQUFBd0gsTUFDQXpOLG9CQUFBYixJQUFBLGlCQUFBSyxRQUVBa08sT0FBQSxTQUFBdEYsS0FDQTVJLE1BQUE0TixJQUFBaEYsSUFDQXBJLG9CQUFBYixJQUFBLGlCQUFBSyxRQUVBbU8sS0FBQSxTQUFBQyxPQUNBRCxRQUNBbk8sTUFBQTZOLFdBQUFNLE1BQ0EzTixvQkFBQWIsSUFBQSxpQkFBQUssU0FHQW1CLElBQUEsV0FDQSxPQUFBbkIsU0FLQXFPLE9BQUEsQ0FDQSxDQUNBeEksS0FBQSxLQUNBb0ksTUFBQSxNQUVBLENBQ0FwSSxLQUFBLFFBQ0FvSSxNQUFBLFNBRUEsQ0FDQUEsTUFBQSxRQUNBcEksS0FBQSxTQUVBLENBQ0FBLEtBQUEsS0FDQW9JLE1BQUEsTUFFQSxDQUNBcEksS0FBQSxRQUNBb0ksTUFBQSxTQUVBLENBQ0FBLE1BQUEsUUFDQXBJLEtBQUEsU0FFQSxDQUNBb0ksTUFBQSxPQUNBcEksS0FBQSxTQUlBeUksWUFBQSxXQUNBLE9BQUFqTyxNQUFBYyxJQUFBLDBCQUVBb04sZUFBQSxXQUNBLE9BQUFsTyxNQUFBYyxJQUFBLDJCQUVBcU4sWUFBQSxXQUNBLE9BQUFuTyxNQUFBYyxJQUFBLHdCQUdBc04sU0FBQSxTQUFBQyxNQUNBLElBQUFDLFdBQUFBLEVBQ0EsT0FBQSxTQUFBOUIsR0FBQStCLE1BQ0FDLGFBQUFGLE9BQ0FBLE1BQUE3QixXQUFBLFdBQ0FELEdBQUFpQyxNQUFBLEtBQUFGLE9BQ0FGLFFBSUFLLGFBQUEsV0FDQSxJQUFBNUgsVUFBQUEsRUFDQSxNQUFBLENBQ0E2SCxNQUFBLFNBQUFwRyxLQUNBekIsS0FBQXlCLEtBRUF6SCxJQUFBLFdBQ0EsT0FBQWdHLFFBVUE4SCxvQkFBQSxTQUFBQyxRQUFBQyxXQUNBLE1BQUEsR0FBQUMsT0FBQUMsbUJBQUFDLE1BQUFILFdBQUF2TSxTQUFBQyxPQUFBLFNBQUFDLElBQUF5TSxFQUFBQyxHQUNBLElBQUFDLFFBQUEsQ0FDQUMsT0FBQUYsRUFDQXZQLElBQUFpUCxRQUNBUyxRQUFBLFdBREEsZUFDQUgsRUFBQSxHQURBLEtBRUFHLFFBQUEsU0FBQSxRQUNBQyxNQUFBQSxTQUFBckYsS0FBQUMsTUFDQXFGLFVBQUEsRUFDQUMsWUFBQSxJQUdBLE9BREFoTixJQUFBdUYsS0FBQW9ILFNBQ0EzTSxLQUNBLEtBUUFpTixtQkFBQSxTQUFBQyxLQUNBLE9BQUEsSUFBQWhMLFFBQUEsU0FBQUMsUUFBQUMsUUFDQTJGLFNBQ0FDLFlBQUFrRixJQUFBQyxZQUNBbk8sUUFBQXNELEtBQUEsU0FBQTRGLEtBQ0FoRyxRQUFBa0wsSUFDQSxHQUFBZCxPQUFBQyxtQkFBQUMsTUFBQXRFLElBQUFtRixVQUFBdk4sU0FBQStFLElBQUEsU0FBQTRILEVBQUFDLEdBQUEsT0FDQXhFLElBQUFDLFFBQUF1RSxFQUFBLE1BR0FwSyxLQUFBLFNBQUFnTCxPQUNBbkwsUUFDQW1MLE1BQUF6SSxJQUFBLFNBQUFDLEVBQUE0SCxHQUlBLE9BSEE1SCxFQUFBOEgsT0FBQUYsRUFBQTVILEVBQUFnSSxNQUFBLFNBQUFyRixLQUFBQyxNQUNBNUMsRUFBQWlJLFVBQUEsRUFDQWpJLEVBQUFrSSxZQUFBLEdBQ0FsSSxPQUlBckMsTUFBQSxTQUFBMEMsR0FDQS9DLE9BQUErQyxPQUdBMUMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxHQUNBL0MsT0FBQStDLFFBS0FvSSxXQUFBLFNBQUFuRixLQUFBRyxRQUNBLElBQUFGLFNBQUFELEtBQUFFLFlBQ0FDLE9BQUFNLE1BQUFULEtBQUFFLFlBQUEsR0FBQU8sT0FFQUgsUUFBQUgsT0FBQUksV0FBQSxNQUNBSixPQUFBSyxPQUFBUCxTQUFBTyxPQUVBUixLQUFBVyxPQUFBLENBQ0FDLGNBQUFOLFFBQ0FMLFNBQUFBLGFBbE5BLElBQ0FxQyxZQTNCQSxJQUNBSixTQWhCQSxJQUNBTCxjQTNCQSxHQ0FBLFdBQ0F4TyxRQUFBQyxPQUFBLE9BQUE0QixRQUFBLGdCQUVBLFNBQ0FDLE1BQ0FFLFVBQ0FDLG9CQUNBdUcsV0FDQXJHLE9BQ0F1SSxXQUNBdEksY0FHQSxJQUVBbEMsT0FBQSxDQUNBNlIsVUFBQUEsNkNBQ0FDLFFBQUEsdUJBQ0FDLE9BQUEsbUJBQ0FDLFVBTEEsYUFNQUMsbUJBQUEsRUFDQUMsOEJBQUEsRUFDQUMsZ0JBQUEsU0FBQTNPLE1BQ0EsT0FBQTRPLElBQUFDLEtBQUFDLE9BQUFDLElBQUEvTyxLQUFBLFdBRUFnUCx3QkFBQSxTQUFBaFAsTUFDQSxPQUFBNE8sSUFBQUMsS0FBQUMsT0FBQUcsT0FBQWpQLEtBQUEsU0FJQSxNQUFBLENBQ0FrUCxLQUFBLFdBQ0EsT0FBQUMsVUFBQUMsT0FBQTVTLFNBRUEwRyxNQUFBLFNBQUFtTSxTQUNBLElBQUFDLFdBQUF4UCxLQUFBb1AsT0FFQUksV0FBQW5NLEtBQUFrTSxTQUFBL0wsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQUdBdUosTUFBQSxTQUFBcEksTUFDQXJILEtBQUF5UCxNQUFBLG9CQUFBcEksS0FBQXZELEtBQUEsQ0FBQTRMLE9BQUEsSUFDQXJNLEtBQUEsV0FDQWdFLEtBQUFzSSxVQUFBLEVBQ0FwTyxRQUFBQyxJQUFBLGFBRUFnQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BR0EwSixPQUFBLFNBQUF2SSxNQUNBckgsS0FBQTRQLE9BQUEsb0JBQUF2SSxLQUFBdkQsTUFDQVQsS0FBQSxXQUNBZ0UsS0FBQXNJLFVBQUEsRUFDQXBPLFFBQUFDLElBQUEsY0FFQWdDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFHQTJKLE1BQUEsU0FBQXhJLE1BQ0FySCxLQUFBOFAsT0FBQSxvQkFBQXpJLEtBQUF2RCxNQUNBVCxLQUFBLFdBRUE5QixRQUFBQyxJQUFBLGVBRUFnQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLFNBcEVBLEdDQUEsV0FHQTFKLFFBQUFDLE9BQUEsT0FBQTRCLFFBQUEsa0JBR0EsU0FBQTBSLFlBQ0EsTUFBQSxDQUVBQyxZQUFBLFNBQUFDLE1BQUFDLFlBQUFDLGFBQ0EsSUFBQUMsTUFDQUQsYUFBQUEsWUFBQUUsYUFDQUQsTUFBQUUsTUFBQUMsS0FBQWpCLE9BQUFhLFlBQUFFLFdBQUEsVUFDQXpHLE1BQUFzRyxZQUFBdEcsT0FDQXdHLE1BQUF6RyxPQUFBdUcsWUFBQXZHLFNBRUF5RyxNQUFBLElBQUFFLE1BQUFFLE1BQUEsQ0FDQUMsVUFBQVIsTUFDQXBLLEVBQUEsRUFDQTZLLEVBQUEsRUFDQTlHLE1BQUFzRyxZQUFBdEcsTUFDQUQsT0FBQXVHLFlBQUF2RyxTQUdBLElBQUFnSCxhQUFBM1EsS0FBQTJRLGFBT0EsT0FOQVAsTUFBQVEsR0FBQSxnQkFBQSxXQUNBLElBQUFDLFdBQUFGLGFBQUFWLE9BQ0FHLE1BQUF4RyxNQUFBaUgsV0FBQWpILE9BQ0F3RyxNQUFBekcsT0FBQWtILFdBQUFsSCxRQUNBeUcsTUFBQVUsU0FFQVYsT0FFQU8sYUFBQSxTQUFBVixPQUNBLElBQUFjLEdBQUF4SCxTQUFBeUgsZUFBQWYsT0FDQSxNQUFBLENBQ0F0RyxPQUFBb0gsR0FBQUUsYUFDQXJILE1BQUFtSCxHQUFBRyxjQUtBQyxRQUFBLFdBQ0EsSUFBQUMsYUFBQSxDQUNBQyxPQUFBLENBQ0FDLFVBQUEsRUFDQUMsT0FBQSxFQUNBQyxPQUFBLEVBQ0FDLFFBQUEsRUFDQUMsV0FBQSxFQUNBQyxTQUFBLEVBQ0FDLFFBQUEsR0FFQUMsU0FBQSxDQUNBQyxLQUFBLEVBQ0FDLFlBQUEsRUFDQUMsWUFBQSxFQUNBQyxPQUFBLEVBQ0FDLFNBQUEsRUFDQTlGLEtBQUEsRUFDQStGLFVBQUEsR0FFQUMsWUFBQSxDQUNBZCxVQUFBLEVBQ0FDLE9BQUEsRUFDQUMsT0FBQSxFQUNBQyxRQUFBLEVBQ0FDLFdBQUEsRUFDQUUsUUFBQSxFQUNBRCxTQUFBLElBSUFVLGFBQUFqQixhQUNBLE1BQUEsQ0FDQWtCLEtBQUEsU0FBQUMsT0FDQUYsYUFBQUUsT0FFQUMsU0FBQSxTQUFBOU4sS0FBQStOLE9BRUEsT0FEQUosYUFBQTNOLE1BQUErTixTQUNBSixhQUFBM04sTUFBQStOLFFBRUFyVCxJQUFBLFdBQ0EsT0FBQWlULGNBRUE5RyxNQUFBLFdBQ0E4RyxhQUFBakIsZ0JBU0FzQixVQUFBLFdBRUEsSUFBQUMsa0JBQUEsQ0FDQXRCLE9BQUEsQ0FDQUMsV0FBQSxFQUNBQyxRQUFBLEVBQ0FDLFFBQUEsRUFDQUMsU0FBQSxFQUNBQyxZQUFBLEVBQ0FFLFNBQUEsR0FFQUMsU0FBQSxDQUNBQyxNQUFBLEVBQ0FDLGFBQUEsRUFDQUMsYUFBQSxFQUNBQyxRQUFBLEVBQ0FDLFVBQUEsRUFDQTlGLE1BQUEsRUFDQStGLFdBQUEsR0FFQUMsWUFBQSxDQUNBZCxXQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxTQUFBLEVBQ0FDLFlBQUEsRUFDQUUsU0FBQSxFQUNBRCxVQUFBLElBS0FpQixXQUFBcFcsUUFBQTJJLEtBQUF3TixtQkFFQSxNQUFBLENBRUEvVSxJQUFBLFNBQUE4RyxNQUNBLElBQUE3RCxLQUFBNkQsS0FBQW1PLE1BQUEsS0FDQTdTLEtBQUF1TCxRQUNBcUgsV0FBQS9SLEtBQUEsSUFBQUEsS0FBQSxLQUFBLEVBQ0FrUCxXQUFBK0MsV0FBQSxrQkFBQUYsYUFHQUcsTUFBQSxTQUFBck8sTUFDQSxJQUFBN0QsS0FBQTZELEtBQUFBLEtBQUFtTyxNQUFBLEtBQUEsR0FDQSxPQUFBbk8sS0FBQWtPLFdBQUEvUixLQUFBLElBQUFBLEtBQUEsSUFBQStSLFlBRUFySCxNQUFBLFdBQ0FxSCxXQUFBcFcsUUFBQTJJLEtBQUF3TixtQkFDQTVDLFdBQUErQyxXQUFBLGtCQUFBRixlQU9BSSxpQkFBQSxXQUNBLElBQUEvVSxNQUFBLENBQ0FpTyxNQUFBLEVBQ0ErRyxLQUFBLFNBR0EsTUFBQSxDQUNBclYsSUFBQSxTQUFBc1YsS0FDQWpWLE1BQUFpVixLQUVBOVQsSUFBQSxXQUNBLE9BQUFuQixTQU1Ba1YsYUFBQSxTQUFBQyxTQUNBLElBQUFoTixNQUFBZ04sU0FBQSxHQUNBL00sS0FBQUQsTUFBQVosT0FBQSxFQUNBLE1BQUEsQ0FDQWMsS0FBQSxTQUFBTyxLQUNBVCxNQUFBRyxPQUFBRixLQUFBLEVBQUFELE1BQUFaLE9BQUFxQixLQUNBUixLQUFBRCxNQUFBWixPQUFBLEdBRUE2TixLQUFBLFdBQ0EsT0FBQWpOLE9BRUFrTixLQUFBLFdBQ0EsT0FBQWxOLE1BQUFDLE9BRUFrTixLQUFBLFdBQ0FsTixNQUFBLElBQ0FELE1BQUFDLE1BQUFtTixTQUNBbk4sTUFBQSxJQUdBb04sS0FBQSxXQUNBcE4sS0FBQUQsTUFBQVosU0FDQWEsS0FBQUEsT0FBQUQsTUFBQVosT0FBQSxFQUFBYSxLQUFBQSxLQUFBLEVBQ0FELE1BQUFDLE1BQUFxTixjQU9BQyxjQUFBLFNBQUF2RCxNQUFBd0QsT0FBQUMsUUFBQUMsV0FBQUMsT0FDQSxJQUFBSCxPQUFBQSxPQUNBeEQsTUFBQUEsTUFDQXlELFFBQUFBLFFBQ0FFLE1BQUFBLE1BR0FDLFNBQUEsQ0FDQTFFLE9BQUEsQ0FDQWtFLE9BQUEsV0FDQUksT0FBQTFJLFNBQ0FrRixNQUFBNkQsYUFFQVAsUUFBQSxXQUNBRyxRQUFBSyxJQUFBTixRQUNBeEQsTUFBQTZELGNBR0FFLEtBQUEsQ0FDQVgsT0FBQSxXQUNBSSxPQUFBUSxTQUFBTCxNQUFBM1EsT0FDQWdOLE1BQUE2RCxhQUVBUCxRQUFBLFdBQ0FFLE9BQUFRLFNBQUFMLE1BQUFNLEtBQ0FqRSxNQUFBNkQsY0FHQVQsT0FBQSxDQUNBQSxPQUFBLFdBQ0FLLFFBQUFLLElBQUFOLFFBQ0F4RCxNQUFBNkQsYUFFQVAsUUFBQSxXQUNBRSxPQUFBMUksU0FDQWtGLE1BQUE2RCxjQUdBSyxXQUFBLENBQ0FkLE9BQUEsV0FDQSxJQUFBLElBQUF4VyxPQUFBK1csTUFBQTNRLE1BQ0F3USxPQUFBNVcsS0FBQStXLE1BQUEzUSxNQUFBcEcsTUFHQW9ULE1BQUE2RCxhQUVBUCxRQUFBLFdBQ0EsSUFBQSxJQUFBMVcsT0FBQStXLE1BQUFNLElBQ0FULE9BQUE1VyxLQUFBK1csTUFBQU0sSUFBQXJYLE1BRUFvVCxNQUFBNkQsZUFLQSxNQUFBLENBQ0FMLE9BQUFBLE9BQ0FGLFFBQUFNLFNBQUFGLFlBQUFKLFFBQ0FGLE9BQUFRLFNBQUFGLFlBQUFOLFNBS0FlLFNBQUEsV0FDQSxJQUFBblIsTUFDQSxNQUFBLENBQ0E4USxJQUFBLFNBQUFFLFVBQ0EsR0FBQWhSLE1BR0EsTUFBQSxDQUNBQSxNQUFBQSxNQUNBaVIsSUFBQUQsVUFKQWhSLE1BQUFnUixZQVdBSSxxQkFBQSxXQUNBLElBQUFwUixNQUNBLE1BQUEsQ0FDQThRLElBQUEsU0FBQUgsT0FDQSxHQUFBM1EsTUFHQSxNQUFBLENBQ0FBLE1BQUFBLE1BQ0FpUixJQUFBTixPQUpBM1EsTUFBQTJRLFNBWUFVLGFBQUEsU0FBQUMsT0FDQSxJQUNBQSxNQUFBQSxNQUNBRCxhQUFBLEdBRUEsTUFBQSxDQUNBUCxJQUFBLFNBQUFTLGFBQ0FGLGFBQUFuTyxLQUFBcU8sY0FFQUMsVUFBQSxXQUNBcFksUUFBQWdMLFFBQUFpTixhQUFBLFNBQUE1TyxHQUNBQSxFQUFBcUYsV0FFQXdKLE1BQUE1RCxVQVFBK0QsV0FBQSxTQUFBQyxjQUFBQyxZQUFBQyxZQUNBLE1BQUEsQ0FDQW5QLEdBQUFpUCxjQUFBalAsRUFBQWtQLFlBQUFsUCxHQUFBbVAsV0FBQW5QLEVBQ0E2SyxHQUFBb0UsY0FBQXBFLEVBQUFxRSxZQUFBckUsR0FBQXNFLFdBQUF0RSxJQUtBdUUsY0FBQSxTQUFBeEMsT0FFQSxNQUFBLENBQ0FyVCxJQUFBLFdBQ0EsT0FBQXFULE9BRUE3VSxJQUFBLFNBQUFpSixLQUNBNEwsTUFBQTVMLEtBRUEwRSxNQUFBLFdBQ0FrSCxXQUFBdlQsS0FPQWdXLGVBQUEsV0FDQSxJQUFBQyxXQUFBLEdBQ0EsTUFBQSxDQUNBbEksTUFBQSxTQUFBb0UsUUFDQThELFdBQUE5RCxRQUVBalMsSUFBQSxXQUNBLE9BQUErVixZQUVBQyxLQUFBLFNBQUFDLFdBQ0FGLFdBQUFBLFdBQUE5TSxPQUFBLFNBQUFvSyxPQUNBLE9BQUFBLE1BQUEzTyxTQUFBdVIsYUFNQS9PLEtBQUEsU0FBQW1NLE9BQ0EsSUFBQTZDLFdBQUFILFdBQUF2UCxJQUFBLFNBQUE2TSxPQUNBLE9BQUFBLE1BQUEzTyxTQUVBd1IsV0FBQXBOLFFBQUF1SyxNQUFBM08sU0FBQSxHQUNBcVIsV0FBQTdPLEtBQUFtTSxRQUdBOEMsTUFBQSxXQUNBSixXQUFBLE1BS0FLLGFBQUEsV0FDQSxJQUFBQSxhQUFBLEdBRUFDLFFBQUEsQ0FDQUMsa0JBQUEsU0FBQXZFLFFBQUF3RSxTQUFBalIsTUFDQSxJQUFBMUgsSUFBQW1VLFFBQUEsSUFBQXdFLFNBQUEsSUFBQW5OLEtBQUFDLE1BTUEsT0FMQStNLGFBQUF4WSxLQUFBLENBQ0FtVSxRQUFBQSxRQUNBd0UsU0FBQUEsU0FDQWpSLEtBQUFBLE1BRUExSCxLQUVBNFksZ0JBQUEsU0FBQTVZLEtBQ0EsT0FBQUEsSUFBQXdZLGFBQUF4WSxLQUFBd1ksY0FFQUssdUJBQUEsV0FDQSxPQUFBalYsT0FBQUMsS0FBQTJVLGNBQUExVSxPQUFBLFNBQUFDLElBQUE4RSxHQUNBLElBQUFxTixJQUFBLENBQ0EvQixRQUFBcUUsYUFBQTNQLEdBQUFzTCxRQUNBek0sS0FBQThRLGFBQUEzUCxHQUFBbkIsTUFHQSxPQUFBOFEsYUFBQTNQLEdBQUFuQixNQUNBLEtBQUEsRUFDQXdPLElBQUE0QyxXQUFBTixhQUFBM1AsR0FBQThQLFNBQ0EsTUFDQSxLQUFBLEVBQ0F6QyxJQUFBdFEsUUFBQTRTLGFBQUEzUCxHQUFBOFAsU0FDQSxNQUNBLEtBQUEsRUFDQXpDLElBQUE2QyxZQUFBUCxhQUFBM1AsR0FBQThQLFNBSUEsT0FEQTVVLElBQUF1RixLQUFBNE0sS0FDQW5TLEtBQ0EsS0FFQWlWLGtCQUFBLFNBQUFoWixLQUNBd1ksYUFBQXhZLFVBQUFrQyxHQUVBcU0sTUFBQSxXQUNBaUssYUFBQSxLQUlBLE9BQUE1VSxPQUFBcVYsT0FBQVIsYUFqYUEsR0NBQSxXQUdBalosUUFBQUMsT0FBQSxPQUFBNEIsUUFBQSxrQkFHQSxTQUFBMFIsWUFDQSxNQUFBLENBQ0FtRyxhQUFBLFNBQUFDLGNBQ0EsSUFDQUMsU0FBQSxHQU1BLE9BTEFELGFBQUFFLGlCQUFBLFNBQUEsU0FBQUMsSUFDQTlaLFFBQUFnTCxRQUFBNE8sU0FBQSxTQUFBblosR0FDQUEsRUFBQXNaLEtBQUEscUJBR0EsQ0FDQUMsU0FBQSxTQUFBNUMsUUFDQXdDLFNBQUE5UCxLQUFBc04sU0FFQVAsS0FBQSxlQUtBb0QsWUFBQSxTQUFBckcsT0FDQSxJQUFBQSxNQUFBQSxNQUNBc0csT0FBQSxHQUNBLE1BQUEsQ0FDQUYsU0FBQSxTQUFBRyxNQUFBcEgsU0FDQWEsUUFHQXNHLE9BQUFwUSxLQUFBcVEsT0FDQXZHLE1BQUFRLEdBQUErRixNQUFBcEgsYUFJQXFILFlBQUEsU0FBQW5FLE9BQ0EsSUFBQUEsTUFBQUEsTUFDQWlFLE9BQUEsR0FDQSxNQUFBLENBQ0FGLFNBQUEsU0FBQUcsTUFBQXBILFNBQ0FtSCxPQUFBeE8sUUFBQXlPLFFBQUEsSUFJQUQsT0FBQXBRLEtBQUFxUSxPQUNBbEUsTUFBQTdCLEdBQUErRixNQUFBcEgsYUFLQXNILFlBQUEsU0FBQW5DLE9BQ0EsSUFBQUEsTUFBQUEsTUFDQWdDLE9BQUEsR0FDQSxNQUFBLENBQ0FGLFNBQUEsU0FBQUcsTUFBQXBILFNBQ0FtSCxPQUFBeE8sUUFBQXlPLFFBQUEsSUFJQUQsT0FBQXBRLEtBQUFxUSxPQUNBakMsTUFBQTlELEdBQUErRixNQUFBcEgsZ0JBL0RBLEdDQUEsV0FHQS9TLFFBQUFDLE9BQUEsT0FBQTRCLFFBQUEsa0JBR0EsU0FBQTBSLFlBQ0EsTUFBQSxDQUNBK0csWUFBQSxTQUFBMUcsT0FDQSxJQUFBc0UsTUFBQSxJQUFBcEUsTUFBQXlHLE1BRUEsT0FEQTNHLE1BQUE4RCxJQUFBUSxPQUNBQSxPQUVBc0MsZ0JBQUEsU0FBQTVHLE1BQUE2RyxXQUNBLElBQ0E1USxLQURBNlEsVUFBQSxHQUVBLE1BQUEsQ0FDQUMsY0FBQSxXQUNBLElBQUFDLE1BQUEsSUFBQTlHLE1BQUErRyxNQUFBLENBQ0F2VCxLQUFBLFdBQUEwRSxLQUFBQyxRQUVBeU8sVUFBQTVRLEtBQUE4USxPQUNBL1EsS0FBQTZRLFVBQUExUixPQUFBLEVBQ0F5UixVQUFBL0MsSUFBQWtELFFBRUFFLGFBQUEsV0FDQSxPQUFBSixXQUVBSyxXQUFBLFdBQ0EsT0FBQUwsVUFBQTdRLE9BRUFtUixXQUFBLFNBQUFDLE9BQ0FwUixLQUFBb1IsT0FFQUMsWUFBQSxTQUFBRCxZQUNBdlksSUFBQXVZLE1BQ0FSLFVBQUEvQyxJQUFBZ0QsVUFBQU8sUUFFQWpiLFFBQUFnTCxRQUFBMFAsVUFBQSxTQUFBclIsR0FDQW9SLFVBQUEvQyxJQUFBck8sS0FHQW9SLFVBQUFuRyxRQUVBNkcsWUFBQSxTQUFBRixZQUNBdlksSUFBQXVZLE1BQ0FQLFVBQUFPLE9BQUF2TSxTQUVBMU8sUUFBQWdMLFFBQUEwUCxVQUFBLFNBQUFyUixHQUNBQSxFQUFBcUYsV0FHQStMLFVBQUFuRyxRQUdBOEcsY0FBQSxTQUFBQyxtQkFFQXhSLE1BREE2USxVQUFBVyxtQkFDQXJTLE9BQUEsUUF6REEsR0NBQSxXQUdBaEosUUFBQUMsT0FBQSxPQUFBNEIsUUFBQSxrQkFHQSxTQUNBMFIsV0FDQStILGdCQUNBQyxnQkFDQUMsZ0JBRUEsSUFDQUMsYUFVQUMsV0FYQS9HLFFBQUE0RyxnQkFBQTVHLFVBSUFnSCxlQUFBLENBQ0EvSSxNQUFBLEVBRUFnSixPQUFBLEdBQ0FDLFVBQUEsR0FLQSxNQUFBLENBRUFDLGNBQUEsU0FBQXBGLEtBQ0FnRixXQUFBaEYsS0FPQXFGLFlBQUEsU0FBQXJGLEtBQ0EvQixRQUFBbUIsS0FBQVksTUFHQXNGLFdBQUEsV0FDQSxPQUFBckgsUUFBQS9SLE9BR0FxWixZQUFBLFNBQUEvVCxLQUFBMFAsVUFFQSxHQUFBNkQsYUFDQSxNQUFBLENBQ0E3VSxPQUFBLEVBQ0FxUCxNQUFBd0YsY0FHQSxJQUFBeEYsTUFDQTZCLFdBQUE0RCxXQUFBOVksTUFFQSxPQUFBc0YsTUFDQSxLQUFBLEVBQ0ErTixNQUFBLElBQUFuQyxNQUFBb0ksS0FBQSxDQUNBTixPQUFBLENBQ0FoRSxTQUFBdk8sRUFDQXVPLFNBQUExRCxFQUNBMEQsU0FBQXZPLEVBQ0F1TyxTQUFBMUQsRUFDQTBELFNBQUF2TyxFQUNBdU8sU0FBQTFELEVBQ0EwRCxTQUFBdk8sRUFDQXVPLFNBQUExRCxFQUNBMEQsU0FBQXZPLEVBQ0F1TyxTQUFBMUQsR0FFQWlJLE9BQUFyRSxXQUFBcUUsUUFBQSxRQUNBN1UsS0FBQSxPQUFBcU4sUUFBQXFCLFNBQUEsU0FBQSxhQUNBb0csWUFBQXRFLFdBQUFzRSxhQUFBLEVBQ0FDLEtBQUF2RSxXQUFBdUUsS0FDQUMsV0FBQSxFQUNBQyxRQUFBLElBRUEsTUFDQSxLQUFBLEVBQ0F0RyxNQUFBLElBQUFuQyxNQUFBMEksUUFBQSxDQUNBblQsRUFBQXVPLFNBQUF2TyxFQUNBNkssRUFBQTBELFNBQUExRCxFQUNBdUksT0FBQSxDQUNBcFQsRUFBQSxFQUNBNkssRUFBQSxHQUVBaUksT0FBQXJFLFdBQUFxRSxRQUFBLFFBQ0E3VSxLQUFBLFVBQUFxTixRQUFBcUIsU0FBQSxTQUFBLFdBQ0FvRyxZQUFBdEUsV0FBQXNFLGFBQUEsRUFDQUMsS0FBQXZFLFdBQUF1RSxLQUNBQyxXQUFBLElBTUEsTUFBQSxDQUNBMVYsT0FBQSxFQUNBcVAsTUFKQXdGLGFBQUF4RixRQVlBeUcsVUFBQSxTQUFBOUUsU0FBQStFLFVBQUFDLE1BS0EsR0FBQW5CLGFBQ0EsT0FBQUEsYUFBQW9CLFdBQ0EsSUFBQSxPQUdBclosS0FBQXNaLGNBQUFsRixTQUFBNkQsYUFBQWtCLFVBQUFDLE1BRUEsTUFDQSxJQUFBLFVBQ0FuQixhQUFBZ0IsT0FBQSxDQUVBcFQsRUFBQTBULEtBQUFDLElBQUFwRixTQUFBdk8sRUFBQW9TLGFBQUFwUyxLQUNBNkssRUFBQTZJLEtBQUFDLElBQ0FMLFVBQ0EvRSxTQUFBdk8sRUFBQW9TLGFBQUFwUyxJQUNBdU8sU0FBQTFELEVBQUF1SCxhQUFBdkgsU0FRQTRJLGNBQUEsU0FBQWxGLFNBQUEzQixNQUFBZ0gsVUFBQUwsTUFDQSxJQUFBaEIsT0FBQTNGLE1BQUEyRixTQWtCQSxPQWZBQSxPQUFBLEdBQUFoRSxTQUFBdk8sRUFDQXVTLE9BQUEsR0FBQXFCLFVBQ0FGLEtBQUFDLElBQUFwQixPQUFBLElBQUFoRSxTQUFBdk8sRUFBQXVTLE9BQUEsS0FDQWhFLFNBQUExRCxFQUlBMEgsT0FBQSxHQUFBcUIsVUFDQUYsS0FBQUMsSUFBQXBCLE9BQUEsSUFBQWhFLFNBQUF2TyxFQUFBdVMsT0FBQSxLQUNBaEUsU0FBQTFELEVBR0EwSCxPQUFBLEdBQUFoRSxTQUFBdk8sRUFHQXVULE1BQ0EsSUFBQSxVQUNBM0csTUFBQWlILEtBQUEsQ0FBQSxHQUFBLEtBQ0EsTUFDQSxJQUFBLFVBQ0FqSCxNQUFBa0csT0FBQSxRQUNBbEcsTUFBQXFHLFdBQUEsR0FLQXJHLE1BQUEyRixPQUFBQSxTQUlBdUIsYUFBQSxXQUNBMUIsa0JBQUEvWSxFQUNBaVosZUFBQSxDQUNBL0ksTUFBQSxFQUNBZ0osT0FBQSxHQUNBQyxVQUFBLElBS0F1QixjQUFBLFNBQUF6SCxXQUNBLElBQUEwSCxnQkFBQTVCLGFBQUFHLFNBU0EsT0FSQTdPLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFVBQ0E5QixjQUFBQSxhQUFBL00sU0FDQStNLGtCQUFBL1ksRUFDQWlaLGVBQUEsQ0FDQS9JLE1BQUEsRUFDQWdKLE9BQUEsR0FDQUMsVUFBQSxHQUVBd0IsaUJBU0FHLGNBQUEsU0FBQTVGLFNBQUF6QyxTQUFBc0ksZ0JBQ0EsSUFBQTlCLGVBQUEvSSxPQUFBNkksYUFBQSxDQUVBLElBQUEzRCxXQUFBNEQsV0FBQTlZLE1BMEJBLE9BekJBK1ksZUFBQUMsT0FBQSxDQUFBaEUsU0FBQXZPLEVBQUF1TyxTQUFBMUQsR0FJQXVILGFBRkFnQyxlQUVBLElBQUEzSixNQUFBb0ksS0FBQSxDQUNBNVUsS0FBQSxpQkFBQXFOLFFBQUFxQixTQUFBLFdBQUEsWUFDQTRGLE9BQUFELGVBQUFDLE9BQ0FTLEtBQUF2RSxXQUFBdUUsS0FDQUYsT0FBQXJFLFdBQUFxRSxRQUFBLFFBQ0FDLFlBQUF0RSxXQUFBc0UsYUFBQSxJQUlBLElBQUF0SSxNQUFBb0ksS0FBQSxDQUNBNVUsS0FBQTZOLFNBQ0EsV0FBQVIsUUFBQXFCLFNBQUEsU0FBQSxZQUNBLFVBQUFyQixRQUFBcUIsU0FBQSxTQUFBLFdBQ0E0RixPQUFBRCxlQUFBQyxPQUNBUyxLQUFBdkUsV0FBQXVFLEtBQ0FGLE9BQUFyRSxXQUFBcUUsUUFBQSxRQUNBQyxZQUFBdEUsV0FBQXNFLGFBQUEsSUFJQVQsZUFBQS9JLE1BQUEsRUFDQSxDQUNBaE0sT0FBQSxFQUNBd08sUUFBQXFHLGNBSUEsT0FBQWdDLGdCQUNBOUIsZUFBQUUsVUFBQSxFQUNBSixhQUFBYSxXQUFBLEdBQ0EsQ0FDQTFWLE9BQUEsRUFDQXdPLFFBQUFxRyxlQU1BalksS0FBQWthLGVBQUE5RixXQUVBK0QsZUFBQUMsT0FBQTdSLFFBQ0EsR0FFQTRSLGVBQUFDLE9BQUE5UixLQUNBNlIsZUFBQUMsT0FBQSxHQUNBRCxlQUFBQyxPQUFBLElBRUFILGFBQUFHLE9BQUFELGVBQUFDLFFBQ0FELGVBQUFFLFVBQUEsRUFDQUosYUFBQWMsUUFBQSxHQUNBZCxhQUFBYSxXQUFBLEdBQ0EsQ0FDQTFWLE9BQUEsRUFDQXdPLFFBQUFxRyxnQkFHQUUsZUFBQUMsT0FBQTdSLFFBQ0EsR0FFQTRSLGVBQUFDLE9BQUE5UixLQUFBOE4sU0FBQXZPLEVBQUF1TyxTQUFBMUQsR0FDQXVILGFBQUFHLE9BQUFELGVBQUFDLGFBQ0FELGVBQUFFLFVBQUEsS0FLQThCLFlBQUEsU0FBQS9GLFNBQUF6QyxVQUNBc0csZUFDQXRHLFVBRUF3RyxlQUFBQyxPQUFBOVIsS0FBQThOLFNBQUF2TyxFQUFBdU8sU0FBQTFELEdBQ0F1SCxhQUFBRyxPQUFBRCxlQUFBQyxTQUdBRCxlQUFBRSxVQUNBRixlQUFBQyxPQUFBOVIsS0FBQThOLFNBQUF2TyxFQUFBdU8sU0FBQTFELEdBQ0F5SCxlQUFBRSxVQUFBLEVBQ0FKLGFBQUFHLE9BQUFELGVBQUFDLFVBRUFELGVBQUFDLE9BQUFELGVBQUFDLE9BQUE1UyxPQUFBLEdBQ0E0TyxTQUFBdk8sRUFDQXNTLGVBQUFDLE9BQUFELGVBQUFDLE9BQUE1UyxPQUFBLEdBQ0E0TyxTQUFBMUQsRUFDQXVILGFBQUFHLE9BQUFELGVBQUFDLFdBTUFnQyxXQUFBLFNBQUFoRyxTQUFBMVAsTUFDQSxHQUFBdVQsYUFDQSxNQUFBLENBQ0E3VSxPQUFBLEVBQ0EwTyxLQUFBbUcsY0FJQSxJQUFBbkcsS0FDQXdDLFdBQUE0RCxXQUFBOVksTUFFQSxPQUFBc0YsTUFDQSxJQUFBLE9BQ0FvTixLQUFBLElBQUF4QixNQUFBb0ksS0FBQSxDQUNBNVUsS0FBQSxhQUFBcU4sUUFBQXFCLFNBQUEsV0FBQSxRQUNBNEYsT0FBQSxDQUFBaEUsU0FBQXZPLEVBQUF1TyxTQUFBMUQsR0FDQWtJLFlBQUF0RSxXQUFBc0UsYUFBQSxFQUNBRCxPQUFBckUsV0FBQXFFLFFBQUEsUUFDQUcsV0FBQSxJQUVBLE1BQ0EsSUFBQSxjQUNBaEgsS0FBQSxJQUFBeEIsTUFBQStKLE1BQUEsQ0FDQXZXLEtBQUEsWUFBQXFOLFFBQUFxQixTQUFBLFdBQUEsZUFDQTRGLE9BQUEsQ0FBQWhFLFNBQUF2TyxFQUFBdU8sU0FBQTFELEdBQ0FrSSxZQUFBLEVBQ0FELE9BQUFyRSxXQUFBcUUsUUFBQSxRQUNBRSxLQUFBdkUsV0FBQXVFLE1BQUEsUUFDQUMsV0FBQSxFQUNBd0IsY0FBQSxHQUNBQyxhQUFBLEtBRUEsTUFFQSxJQUFBLGNBQ0F6SSxLQUFBLElBQUF4QixNQUFBK0osTUFBQSxDQUNBdlcsS0FDQSxrQkFBQXFOLFFBQUFxQixTQUFBLFdBQUEsZUFDQTRGLE9BQUEsQ0FBQWhFLFNBQUF2TyxFQUFBdU8sU0FBQTFELEdBQ0FrSSxZQUFBdEUsV0FBQXNFLGFBQUEsRUFDQUQsT0FBQXJFLFdBQUFxRSxRQUFBLFFBQ0FFLEtBQUF2RSxXQUFBdUUsTUFBQSxRQUNBQyxXQUFBLEVBQ0F3QixjQUFBLEdBQ0FDLGFBQUEsR0FDQUMsb0JBQUEsSUFLQSxNQUFBLENBQ0FwWCxPQUFBLEVBQ0EwTyxLQUhBbUcsYUFBQW5HLE9BTUEySSxTQUFBLFNBQUFyRyxVQUNBLEdBQUE2RCxhQUFBLENBQ0EsSUFBQUcsT0FBQUgsYUFBQUcsU0FDQUEsT0FBQSxHQUFBaEUsU0FBQXZPLEVBQ0F1UyxPQUFBLEdBQUFoRSxTQUFBMUQsRUFDQXVILGFBQUFHLE9BQUFBLFVBSUFzQyxpQkFBQSxTQUFBdEcsVUFDQSxHQUFBNkQsYUFBQSxDQUNBLElBQUEwQyxjQUFBMUMsYUFBQUcsU0FFQXdDLEVBQUEsQ0FDQSxJQUFBRCxjQUFBLEdBQUFBLGNBQUEsSUFBQUEsY0FBQSxHQUNBLElBQUFBLGNBQUEsR0FBQUEsY0FBQSxJQUFBQSxjQUFBLElBSUFBLGNBQUEsR0FBQUEsY0FBQSxHQUFBQSxjQUFBLEdBQ0FBLGNBQUEsR0FBQUEsY0FBQSxHQUFBQSxjQUFBLEdBR0FBLGNBQUEsR0FBQUEsY0FBQSxHQUFBQSxjQUFBLEdBQ0FBLGNBQUEsR0FBQUEsY0FBQSxHQUFBQSxjQUFBLEdBUUEsT0FMQUEsY0FBQXJVLEtBQUFzVSxFQUFBLEdBQUFBLEVBQUEsSUFFQTNDLGFBQUFHLE9BQUF1QyxlQUNBMUMsYUFBQTRDLFFBQUEsS0FFQSxDQUNBelgsT0FBQSxFQUNBME8sS0FBQW1HLGNBSUEsSUFBQTNELFdBQUE0RCxXQUFBOVksTUFFQTZTLE9BQUEsSUFBQTNCLE1BQUFvSSxLQUFBLENBQ0E1VSxLQUFBLFNBQUFxTixRQUFBcUIsU0FBQSxXQUFBLFVBQ0FzSSxTQUFBLFFBQ0ExQyxPQUFBLENBQUFoRSxTQUFBdk8sRUFBQXVPLFNBQUExRCxHQUNBa0ksWUFBQXRFLFdBQUFzRSxhQUFBLEVBQ0FELE9BQUFyRSxXQUFBcUUsUUFBQSxRQUNBRyxXQUFBLElBSUEsTUFBQSxDQUNBMVYsT0FBQSxFQUNBME8sS0FKQW1HLGFBQUFoRyxTQVFBOEksZUFBQSxTQUFBM0csVUFDQSxHQUFBNkQsYUFBQSxDQUNBLElBQUFHLE9BQUFILGFBQUFHLFNBQ0FBLE9BQUEsR0FBQWhFLFNBQUF2TyxFQUNBdVMsT0FBQSxHQUFBaEUsU0FBQTFELEVBQ0F1SCxhQUFBRyxPQUFBQSxVQU1BNEMsV0FBQSxTQUFBakgsT0FDQSxJQUFBa0gsVUFBQSxJQUFBM0ssTUFBQTRLLEtBQUEsQ0FDQXJWLEVBQUFrTyxNQUFBSyxTQUFBdk8sRUFDQTZLLEVBQUFxRCxNQUFBSyxTQUFBMUQsRUFDQTVNLEtBQUEsT0FDQXNJLEtBQUEsbUJBQ0F4QyxNQUFBbUssTUFBQW5LLE1BQ0F1UixTQUFBLEdBQ0FDLFdBQUEsVUFDQXZDLEtBQUEsVUFFQSxPQUFBb0MsV0FHQUksZ0JBQUEsV0FDQSxJQUFBQyxVQUFBLElBQUFoTCxNQUFBK0csTUFBQSxDQUNBdlQsS0FBQSxZQUFBcU4sUUFBQXFCLFNBQUEsV0FBQSxRQUNBc0csV0FBQSxJQUdBLE9BQUF3QyxXQUlBNUosV0FBQSxTQUFBdEIsTUFBQXNFLE9BQ0EsSUFHQTVDLEtBSEFzRyxPQUFBLEdBQ0FtRCxRQUFBLEVBQ0FuTSxNQUFBLEVBRUEsT0FBQSxTQUFBZ0YsU0FBQXhXLElBQUE0ZCxNQUdBLEdBQUFBLEtBR0EsT0FGQTFKLEtBQUEySixlQUNBL0csTUFBQTVELE9BSUFzRCxTQUFBLENBQ0F2TyxFQUFBdU8sU0FBQXZPLEVBQUF1SyxNQUFBc0wsUUFBQTdWLEVBQ0E2SyxFQUFBMEQsU0FBQTFELEVBQUFOLE1BQUFzTCxRQUFBaEwsR0FHQTZLLFNBQ0FuTSxNQUFBeFIsS0FDQXdhLE9BQUE5UixLQUFBOE4sU0FBQXZPLEVBQUF1TyxTQUFBMUQsR0FDQW9CLEtBQUEsSUFBQXhCLE1BQUFvSSxLQUFBLENBQ0FOLE9BQUFBLE9BQ0FTLEtBQUEsT0FDQUYsT0FBQSxRQUNBQyxZQUFBLEVBQ0FjLEtBQUEsQ0FBQSxFQUFBLEtBRUF0SyxNQUFBLEVBQ0FzRixNQUFBUixJQUFBcEMsT0FDQTFDLE9BQ0F4UixLQUNBd2EsT0FBQSxHQUFBaEUsU0FBQXZPLEVBQ0F1UyxPQUFBLEdBQUFoRSxTQUFBMUQsRUFDQW9CLEtBQUFzRyxPQUFBQSxRQUNBbUQsUUFBQSxFQUNBeEwsV0FBQStDLFdBQUEsYUFBQWhCLFFBRUFzRyxPQUFBLEdBQUFoRSxTQUFBdk8sRUFDQXVTLE9BQUEsR0FBQWhFLFNBQUExRCxFQUNBb0IsS0FBQXNHLE9BQUFBLFdBSUExRCxNQUFBNUQsU0FJQW9KLGVBQUEsU0FBQTlGLFVBQ0EsSUFFQXVILGdCQUFBeEQsZUFBQUMsT0FBQSxHQUZBLEdBR0F3RCxnQkFBQXpELGVBQUFDLE9BQUEsR0FIQSxHQUlBeUQsZ0JBQUExRCxlQUFBQyxPQUFBLEdBSkEsR0FLQTBELGdCQUFBM0QsZUFBQUMsT0FBQSxHQUxBLEdBTUEsT0FBQXVELGdCQUFBdkgsU0FBQXZPLEdBQ0FnVyxnQkFBQXpILFNBQUF2TyxHQUNBK1YsZ0JBQUF4SCxTQUFBMUQsR0FBQW9MLGdCQUFBMUgsU0FBQTFELEdBTUFxTCxpQkFBQSxTQUFBckgsT0FDQSxJQUFBc0gsVUFBQXRILE1BQUF1SCxLQUFBLFNBQUFuYixPQUFBLFNBQUFDLElBQUE4RSxHQU1BLE1BTEEsV0FBQW9CLEtBQUFwQixFQUFBL0IsU0FDQXRILFFBQUFnTCxRQUFBM0IsRUFBQXFXLGNBQUEsU0FBQUMsT0FDQXBiLElBQUF1RixLQUFBNlYsU0FHQXBiLEtBQ0EsSUFDQSxPQUFBaWIsV0FHQUksYUFBQSxTQUFBMUgsTUFBQTBELFFBQ0EsSUFBQTRELFVBQUFoYyxLQUFBK2IsaUJBQUFySCxPQUtBMkgsS0FIQWpFLE9BQUEsR0FBQUEsT0FBQSxHQUNBQSxPQUFBLEdBQUFBLE9BQUEsR0FFQSxDQUNBdlMsRUFBQXVTLE9BQUEsR0FBQUEsT0FBQSxHQUFBQSxPQUFBLEdBQUFBLE9BQUEsR0FDQTFILEVBQUEwSCxPQUFBLEdBQUFBLE9BQUEsR0FBQUEsT0FBQSxHQUFBQSxPQUFBLEtBR0FrRSxJQUFBLENBQ0F6VyxFQUFBdVMsT0FBQSxHQUFBQSxPQUFBLEdBQUFBLE9BQUEsR0FBQUEsT0FBQSxHQUNBMUgsRUFBQTBILE9BQUEsR0FBQUEsT0FBQSxHQUFBQSxPQUFBLEdBQUFBLE9BQUEsSUFHQW1FLGVBQUF2YyxLQUFBdWMsZUFDQUMsZUFBQVIsVUFBQTNULE9BQUEsU0FBQXhDLEdBQ0EsSUFBQXdQLFVBQUF4UCxFQUFBL0IsT0FDQSxHQUNBLFFBQUFtRCxLQUFBb08sWUFDQSxXQUFBcE8sS0FBQW9PLFlBQ0EsWUFBQXBPLEtBQUFvTyxZQUNBLGlCQUFBcE8sS0FBQW9PLFdBQ0EsQ0FJQSxJQUhBLElBQUErQyxPQUFBdlMsRUFBQXVTLFNBQ0FxRSxlQUFBNVcsRUFBQXVPLFdBQ0FzSSxTQUFBLEdBQ0FqUCxFQUFBLEVBQUFBLEVBQUEySyxPQUFBNVMsT0FBQSxFQUFBaUksR0FBQSxFQUVBaVAsU0FBQXBXLEtBQUEsQ0FDQThSLE9BQUEzSyxHQUFBZ1AsZUFBQTVXLEVBQ0F1UyxPQUFBM0ssRUFBQSxHQUFBZ1AsZUFBQS9MLElBSUEsT0FBQTZMLGVBQ0EsQ0FDQUYsSUFBQUEsSUFDQUMsSUFBQUEsS0FFQUksU0FDQSxhQUlBLEdBQUEsUUFBQXpWLEtBQUFvTyxXQUFBLENBSUEsSUFIQSxJQUFBK0MsT0FBQXZTLEVBQUF1UyxTQUNBcUUsZUFBQTVXLEVBQUF1TyxXQUNBc0ksU0FBQSxHQUNBalAsRUFBQSxFQUFBQSxFQUFBMkssT0FBQTVTLE9BQUFpSSxHQUFBLEVBRUFpUCxTQUFBcFcsS0FBQSxDQUNBOFIsT0FBQTNLLEdBQUFnUCxlQUFBNVcsRUFDQXVTLE9BQUEzSyxFQUFBLEdBQUFnUCxlQUFBL0wsSUFJQSxPQUFBNkwsZUFDQSxDQUNBRixJQUFBQSxJQUNBQyxJQUFBQSxLQUVBSSxTQUNBLGFBSUEsUUFBQSxXQUFBelYsS0FBQW9PLFlBQ0FrSCxlQUNBLENBQ0FGLElBQUFBLElBQ0FDLElBQUFBLEtBRUF6VyxFQUFBdU8sV0FDQSxhQVFBLE9BQUFvSSxnQkFHQUQsZUFBQSxTQUFBSSxNQUFBQyxLQUFBbFksTUFFQSxHQUFBLGNBQUFBLEtBQUEsQ0FDQSxJQUFBLElBQUErSSxFQUFBLEVBQUFBLEVBQUFtUCxLQUFBcFgsT0FBQWlJLElBQ0EsR0FDQW1QLEtBQUFuUCxHQUFBLElBQUFrUCxNQUFBTixJQUFBeFcsR0FDQStXLEtBQUFuUCxHQUFBLElBQUFrUCxNQUFBTCxJQUFBelcsR0FDQStXLEtBQUFuUCxHQUFBLElBQUFrUCxNQUFBTixJQUFBM0wsR0FBQWtNLEtBQUFuUCxHQUFBLElBQUFrUCxNQUFBTCxJQUFBNUwsRUFFQSxPQUFBLEVBR0EsT0FBQSxFQUdBLEdBQUEsWUFBQWhNLEtBRUEsT0FBQWtZLEtBQUEvVyxHQUFBOFcsTUFBQU4sSUFBQXhXLEdBQ0ErVyxLQUFBL1csR0FBQThXLE1BQUFMLElBQUF6VyxHQUNBK1csS0FBQWxNLEdBQUFpTSxNQUFBTixJQUFBM0wsR0FBQWtNLEtBQUFsTSxHQUFBaU0sTUFBQUwsSUFBQTVMLE1BNW1CQSxHQ0FBLFdBR0FsVSxRQUFBQyxPQUFBLE9BQUE0QixRQUFBLGlCQUdBLFNBQUEwUixXQUFBK0gsaUJBQ0EsTUFBQSxDQU1BK0UsWUFBQSxTQUFBekUsT0FBQXNELE9BS0EsSUFKQSxJQUNBMVMsT0FEQThULElBQUEsRUFFQUMsYUFBQSxHQUNBQyxNQUFBLEdBQ0F2UCxFQUFBLEVBQUFBLEVBQUEySyxPQUFBNVMsT0FBQWlJLElBQ0F1UCxNQUFBeFgsT0FBQSxFQUNBd1gsTUFBQTFXLEtBQUE4UixPQUFBM0ssS0FFQXNQLGFBQUF6VyxLQUFBLENBQ0FULEVBQUFtWCxNQUFBLEdBQ0F0TSxFQUFBc00sTUFBQSxNQUVBQSxNQUFBLElBQ0ExVyxLQUFBOFIsT0FBQTNLLEtBR0EsSUFBQXdQLEVBQUFGLGFBQUF2WCxPQUVBdVgsYUFBQSxJQUFBQSxhQUFBQSxhQUFBdlgsT0FBQSxLQUNBdVgsYUFBQUEsYUFBQTFQLE9BQUEwUCxhQUFBLEtBRUEsSUFBQSxJQUFBdFAsRUFBQSxFQUFBQSxFQUFBd1AsRUFBQXhQLElBQ0FxUCxLQUNBQyxhQUFBdFAsR0FBQTVILEVBQUFrWCxhQUFBdFAsRUFBQSxHQUFBaUQsRUFDQXFNLGFBQUF0UCxHQUFBaUQsRUFBQXFNLGFBQUF0UCxFQUFBLEdBQUE1SCxFQU9BLE9BSkFtRCxPQURBMFMsTUFDQW5DLEtBQUFDLElBQUFzRCxLQUFBLEVBQUFwQixNQUVBbkMsS0FBQUMsSUFBQXNELEtBQUEsRUFFQUksT0FBQUMsV0FBQW5VLFFBQUFvVSxRQUFBLElBSUFDLGNBQUEsU0FBQTFULE9BQUFDLE1BQUE4UixPQUNBLElBQUE0QixLQUFBM1QsT0FBQUMsTUFBQThSLE1BQ0EsT0FBQTRCLE1BSUFDLFlBQUEsU0FBQUMsTUFBQTlCLE9BQ0EsSUFBQTRCLEtBQUEvRCxLQUFBa0UsR0FBQUQsTUFBQTNYLEVBQUEyWCxNQUFBOU0sRUFDQTFILE9BQUEwUyxNQUFBNEIsS0FBQTVCLE1BQUE0QixLQUNBLE9BQUFKLE9BQUFDLFdBQUFuVSxRQUFBb1UsUUFBQSxJQUdBTSxrQkFBQSxTQUFBdE4sTUFBQXNFLE1BQUFqRCxTQUNBLElBQUFpTCxTQUFBLEdBRUF0RixNQUFBLElBQUE5RyxNQUFBK0csTUFBQSxDQUNBdlQsS0FBQSxpQkFFQSxNQUFBLENBQ0FsRyxJQUFBLFNBQUFxYixRQUNBLElBQUEwRSxnQkFBQWxNLFFBQUEyQyxXQUNBc0ksU0FBQXBXLEtBQ0EsQ0FBQXFYLGdCQUFBOVgsRUFBQW9ULE9BQUFwVCxFQUFBOFgsZ0JBQUFqTixHQUNBLENBQUFpTixnQkFBQTlYLEVBQUFvVCxPQUFBcFQsRUFBQThYLGdCQUFBak4sR0FDQSxDQUFBaU4sZ0JBQUE5WCxFQUFBOFgsZ0JBQUFqTixFQUFBdUksT0FBQXZJLEdBQ0EsQ0FBQWlOLGdCQUFBOVgsRUFBQThYLGdCQUFBak4sRUFBQXVJLE9BQUF2SSxJQUVBLElBQUFrTixJQUFBLEVBMkhBLE9BMUhBcGhCLFFBQUFnTCxRQUFBa1YsU0FBQSxTQUFBN1csRUFBQWdZLFFBQ0EsSUFBQXJNLE9BQUEsSUFBQWxCLE1BQUF3TixPQUFBLENBQ0FqWSxFQUFBQSxFQUFBLEdBQ0E2SyxFQUFBN0ssRUFBQSxHQUNBb1QsT0FBQSxFQUFBdkUsTUFBQXFKLFNBQ0FqYSxNQUNBK1osT0FBQUQsS0FBQUksV0FDQSxLQUNBSCxPQUFBRCxJQUFBLEdBQUFJLFdBRUFuRixLQUFBLFFBQ0FGLE9BQUEsUUFDQUMsWUFBQSxFQUFBbEUsTUFBQXFKLFNBQ0FFLGNBQUEsU0FBQUMsS0FDQSxNQUFBLENBQ0FyWSxFQUFBZ1ksT0FBQSxFQUFBN2QsS0FBQW1lLHNCQUFBdFksRUFBQXFZLElBQUFyWSxFQUNBNkssRUFBQW1OLFFBQUEsRUFBQTdkLEtBQUFtZSxzQkFBQXpOLEVBQUF3TixJQUFBeE4sSUFHQW9JLFdBQUEsSUFFQThFLE1BQ0EsSUFBQVEsWUFBQXRHLGdCQUFBbEIsWUFBQXBGLFFBQ0E0TSxZQUFBNUgsU0FBQSx1QkFBQSxXQUNBLElBQUE2SCxlQUFBNU0sUUFBQXdILFNBQ0FxRixlQUFBOU0sT0FBQTFOLE9BQ0F5YSxZQUFBLEVBQ0EsT0FBQUQsZ0JBQ0EsSUFBQSxNQUNBQyxXQUNBOU0sUUFBQTJDLFdBQUF2TyxFQUFBMkwsT0FBQTNMLElBQUEsRUFDQTRMLFFBQUF3SCxPQUFBLENBQ0FwVCxFQUFBMFQsS0FBQUMsSUFBQS9ILFFBQUEyQyxXQUFBdk8sRUFBQTJMLE9BQUEzTCxLQUNBNkssRUFBQTJOLGVBQUEzTixJQUVBbFUsUUFBQWdMLFFBQUE0UCxNQUFBb0gsU0FBQSxTQUFBQyxHQUNBLFFBQUFBLEVBQUEzYSxTQUNBeWEsV0FHQUUsRUFBQTVZLEVBQUE0TCxRQUFBMkMsV0FBQXZPLEVBQUE0TCxRQUFBd0gsU0FBQXBULEdBRkE0WSxFQUFBNVksRUFBQTRMLFFBQUEyQyxXQUFBdk8sRUFBQTRMLFFBQUF3SCxTQUFBcFQsTUFNQSxNQUNBLElBQUEsTUFDQTBZLFdBQ0E5TSxRQUFBMkMsV0FBQXZPLEVBQUEyTCxPQUFBM0wsSUFBQSxFQUNBNEwsUUFBQXdILE9BQUEsQ0FDQXBULEVBQUEwVCxLQUFBQyxJQUFBL0gsUUFBQTJDLFdBQUF2TyxFQUFBMkwsT0FBQTNMLEtBQ0E2SyxFQUFBMk4sZUFBQTNOLElBRUFsVSxRQUFBZ0wsUUFBQTRQLE1BQUFvSCxTQUFBLFNBQUFDLEdBQ0EsUUFBQUEsRUFBQTNhLFNBQ0F5YSxXQUdBRSxFQUFBNVksRUFBQTRMLFFBQUEyQyxXQUFBdk8sRUFBQTRMLFFBQUF3SCxTQUFBcFQsR0FGQTRZLEVBQUE1WSxFQUFBNEwsUUFBQTJDLFdBQUF2TyxFQUFBNEwsUUFBQXdILFNBQUFwVCxNQU1BLE1BQ0EsSUFBQSxNQUNBMFksV0FDQTlNLFFBQUEyQyxXQUFBMUQsRUFBQWMsT0FBQWQsSUFBQSxFQUNBZSxRQUFBd0gsT0FBQSxDQUNBcFQsRUFBQXdZLGVBQUF4WSxFQUNBNkssRUFBQTZJLEtBQUFDLElBQUEvSCxRQUFBMkMsV0FBQTFELEVBQUFjLE9BQUFkLE9BRUFsVSxRQUFBZ0wsUUFBQTRQLE1BQUFvSCxTQUFBLFNBQUFDLEdBQ0EsUUFBQUEsRUFBQTNhLFNBQ0F5YSxXQUdBRSxFQUFBL04sRUFBQWUsUUFBQTJDLFdBQUExRCxFQUFBZSxRQUFBd0gsU0FBQXZJLEdBRkErTixFQUFBL04sRUFBQWUsUUFBQTJDLFdBQUExRCxFQUFBZSxRQUFBd0gsU0FBQXZJLE1BTUEsTUFDQSxJQUFBLE1BQ0E2TixXQUNBOU0sUUFBQTJDLFdBQUExRCxFQUFBYyxPQUFBZCxJQUFBLEVBQ0FlLFFBQUF3SCxPQUFBLENBQ0FwVCxFQUFBd1ksZUFBQXhZLEVBQ0E2SyxFQUFBNkksS0FBQUMsSUFBQS9ILFFBQUEyQyxXQUFBMUQsRUFBQWMsT0FBQWQsT0FFQWxVLFFBQUFnTCxRQUFBNFAsTUFBQW9ILFNBQUEsU0FBQUMsR0FDQSxRQUFBQSxFQUFBM2EsU0FDQXlhLFdBR0FFLEVBQUEvTixFQUFBZSxRQUFBMkMsV0FBQTFELEVBQUFlLFFBQUF3SCxTQUFBdkksR0FGQStOLEVBQUEvTixFQUFBZSxRQUFBMkMsV0FBQTFELEVBQUFlLFFBQUF3SCxTQUFBdkksTUFRQWdFLE1BQUE1RCxPQUVBVyxRQUFBOEUsS0FBQSxzQkFLQTZILFlBQUE1SCxTQUFBLGNBQUEsU0FBQXRRLEdBQ0FBLEVBQUF3WSxPQUFBekYsT0FBQSxFQUFBdkUsTUFBQXFKLFVBQ0E3WCxFQUFBd1ksT0FBQTlGLFlBQUEsRUFBQWxFLE1BQUFxSixVQUNBckosTUFBQTVELFNBR0FzTixZQUFBNUgsU0FBQSxhQUFBLFNBQUF0USxHQUNBcUQsU0FBQWMsS0FBQXlQLE1BQUFDLE9BQUEsU0FFQXFFLFlBQUE1SCxTQUFBLGFBQUEsU0FBQXRRLEdBQ0FxRCxTQUFBYyxLQUFBeVAsTUFBQUMsT0FBQSxZQUVBM0MsTUFBQWxELElBQUExQyxVQUVBQyxRQUFBOEUsS0FBQSxxQkFFQSxFQUNBN0IsTUFBQVIsSUFBQWtELE9BQ0FBLE9BR0F1SCxTQUFBLFdBQ0EsT0FBQXZILE9BRUFxRSxRQUFBLFdBQ0FyRSxNQUFBcUUsYUFNQW1ELGtCQUFBLFNBQUF4TyxNQUFBc0UsTUFBQTlDLFFBQUFpTixhQUVBLElBQUFuQyxTQUFBLEdBRUF0RixNQUFBLElBQUE5RyxNQUFBK0csTUFBQSxDQUNBdlQsS0FBQSxpQkFFQThOLFFBQUFBLFFBQ0EsTUFBQSxDQUVBaFUsSUFBQSxTQUFBd2EsUUFDQSxJQUFBLElBQUEzSyxFQUFBLEVBQUFBLEVBQUEySyxPQUFBNVMsT0FBQSxFQUFBaUksR0FBQSxFQUVBaVAsU0FBQXBXLEtBQUEsQ0FBQThSLE9BQUEzSyxHQUFBMkssT0FBQTNLLEVBQUEsS0FJQSxJQUFBbVEsSUFBQSxFQXdIQSxPQXRIQXBoQixRQUFBZ0wsUUFBQWtWLFNBQUEsU0FBQTdXLEVBQUFnWSxRQUNBLElBQUFyTSxPQUFBLElBQUFsQixNQUFBd04sT0FBQSxDQUNBalksRUFBQUEsRUFBQSxHQUNBNkssRUFBQTdLLEVBQUEsR0FDQW9ULE9BQUEsRUFBQXZFLE1BQUFxSixTQUNBamEsTUFDQStaLE9BQUFELEtBQUFJLFdBQ0EsS0FDQUgsT0FBQUQsSUFBQSxHQUFBSSxXQUVBbkYsS0FBQSxRQUNBRixPQUFBLFFBQ0FDLFlBQUEsRUFBQWxFLE1BQUFxSixTQUNBakYsV0FBQSxJQUVBOEUsTUFHQSxJQUFBUSxZQUFBdEcsZ0JBQUFsQixZQUFBcEYsUUFDQTRNLFlBQUE1SCxTQUFBLHVCQUFBLFNBQUF0USxHQUNBLEdBQUEyWSxZQUFBLENBRUEsSUFBQVAsZUFBQTlNLE9BQUExTixPQUlBLE9BQUF3YSxnQkFDQSxJQUFBLE1BQ0E1QixTQUFBLEdBQUEsQ0FBQWxMLE9BQUEzTCxJQUFBMkwsT0FBQWQsS0FDQWdNLFNBQUEsR0FBQSxHQUFBbEwsT0FBQWQsSUFDQWdNLFNBQUEsR0FBQSxHQUFBbEwsT0FBQTNMLElBQ0FySixRQUFBZ0wsUUFBQTRQLE1BQUFvSCxTQUFBLFNBQUFDLEdBRUEsUUFBQUEsRUFBQTNhLFFBQ0EyYSxFQUFBNVksRUFBQTJMLE9BQUEzTCxLQUdBLFFBQUE0WSxFQUFBM2EsUUFDQTJhLEVBQUEvTixFQUFBYyxPQUFBZCxPQUlBLE1BQ0EsSUFBQSxNQUNBZ00sU0FBQSxHQUFBLENBQUFsTCxPQUFBM0wsSUFBQTJMLE9BQUFkLEtBQ0FnTSxTQUFBLEdBQUEsR0FBQWxMLE9BQUFkLElBQ0FnTSxTQUFBLEdBQUEsR0FBQWxMLE9BQUEzTCxJQUNBckosUUFBQWdMLFFBQUE0UCxNQUFBb0gsU0FBQSxTQUFBQyxHQUVBLFFBQUFBLEVBQUEzYSxRQUNBMmEsRUFBQTVZLEVBQUEyTCxPQUFBM0wsS0FHQSxRQUFBNFksRUFBQTNhLFFBQ0EyYSxFQUFBL04sRUFBQWMsT0FBQWQsT0FHQSxNQUNBLElBQUEsTUFDQWdNLFNBQUEsR0FBQSxDQUFBbEwsT0FBQTNMLElBQUEyTCxPQUFBZCxLQUNBZ00sU0FBQSxHQUFBLEdBQUFsTCxPQUFBZCxJQUNBZ00sU0FBQSxHQUFBLEdBQUFsTCxPQUFBM0wsSUFDQXJKLFFBQUFnTCxRQUFBNFAsTUFBQW9ILFNBQUEsU0FBQUMsR0FFQSxRQUFBQSxFQUFBM2EsUUFDQTJhLEVBQUE1WSxFQUFBMkwsT0FBQTNMLEtBR0EsUUFBQTRZLEVBQUEzYSxRQUNBMmEsRUFBQS9OLEVBQUFjLE9BQUFkLE9BR0EsTUFDQSxJQUFBLE1BQ0FnTSxTQUFBLEdBQUEsQ0FBQWxMLE9BQUEzTCxJQUFBMkwsT0FBQWQsS0FDQWdNLFNBQUEsR0FBQSxHQUFBbEwsT0FBQWQsSUFDQWdNLFNBQUEsR0FBQSxHQUFBbEwsT0FBQTNMLElBQ0FySixRQUFBZ0wsUUFBQTRQLE1BQUFvSCxTQUFBLFNBQUFDLEdBRUEsUUFBQUEsRUFBQTNhLFFBQ0EyYSxFQUFBNVksRUFBQTJMLE9BQUEzTCxLQUdBLFFBQUE0WSxFQUFBM2EsUUFDQTJhLEVBQUEvTixFQUFBYyxPQUFBZCxZQUtBLENBRUEsSUFBQW9PLEtBQUEsR0FDQXRpQixRQUFBZ0wsUUFBQTRQLE1BQUFvSCxTQUFBLFNBQUEzWSxHQUNBaVosS0FBQXhZLEtBQUEsQ0FBQVQsRUFBQUEsSUFBQUEsRUFBQTZLLFFBRUFnTSxTQUFBbGdCLFFBQUEySSxLQUFBMlosTUFFQWxOLFFBQUEyRSxLQUFBLHNCQUlBNkgsWUFBQTVILFNBQUEsY0FBQSxTQUFBdFEsR0FDQUEsRUFBQXdZLE9BQUF6RixPQUFBLEVBQUF2RSxNQUFBcUosVUFDQTdYLEVBQUF3WSxPQUFBOUYsWUFBQSxFQUFBbEUsTUFBQXFKLFVBQ0FySixNQUFBNUQsU0FHQXNOLFlBQUE1SCxTQUFBLGFBQUEsU0FBQXRRLEdBQ0FxRCxTQUFBYyxLQUFBeVAsTUFBQUMsT0FBQSxTQUVBcUUsWUFBQTVILFNBQUEsYUFBQSxTQUFBdFEsR0FDQXFELFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFlBRUEzQyxNQUFBbEQsSUFBQTFDLFdBR0EsRUFDQWtELE1BQUFSLElBQUFrRCxPQUNBQSxPQUdBMkgsT0FBQSxTQUFBQyxRQUNBNUgsTUFBQXZSLEVBQUFtWixPQUFBblosR0FDQXVSLE1BQUExRyxFQUFBc08sT0FBQXRPLEdBQ0FnRSxNQUFBNUQsUUFFQW1PLFVBQUEsV0FDQSxPQUFBdkMsU0FBQTViLE9BQUEsU0FBQUMsSUFBQThFLEVBQUE0SCxHQU1BLE9BTEExTSxJQUFBdUYsS0FBQVQsRUFBQSxHQUFBQSxFQUFBLElBQ0E0SCxJQUFBaVAsU0FBQWxYLE9BQUEsR0FFQXpFLElBQUF1RixLQUFBb1csU0FBQSxHQUFBQSxTQUFBLElBRUEzYixLQUNBLEtBRUE0ZCxTQUFBLFdBQ0EsT0FBQXZILFNBT0E4SCxrQkFBQSxTQUFBOU8sTUFBQXNFLE1BQUF6QyxRQUNBLElBQUF5SyxTQUFBLEdBRUF0RixNQUFBLElBQUE5RyxNQUFBK0csTUFBQSxDQUNBdlQsS0FBQSxpQkFFQW1PLE9BQUFBLE9BQ0EsTUFBQSxDQUVBclUsSUFBQSxTQUFBd2EsUUFDQSxJQUFBLElBQUEzSyxFQUFBLEVBQUFBLEVBQUEySyxPQUFBNVMsT0FBQWlJLEdBQUEsRUFDQWlQLFNBQUFwVyxLQUFBLENBQUE4UixPQUFBM0ssR0FBQTJLLE9BQUEzSyxFQUFBLEtBSUEsSUFBQW1RLElBQUEsRUFnREEsT0E5Q0FwaEIsUUFBQWdMLFFBQUFrVixTQUFBLFNBQUE3VyxFQUFBZ1ksUUFDQSxJQUFBck0sT0FBQSxJQUFBbEIsTUFBQXdOLE9BQUEsQ0FDQWpZLEVBQUFBLEVBQUEsR0FDQTZLLEVBQUE3SyxFQUFBLEdBQ0FvVCxPQUFBLEVBQUF2RSxNQUFBcUosU0FDQWphLE1BQ0ErWixPQUFBRCxLQUFBSSxXQUNBLEtBQ0FILE9BQUFELElBQUEsR0FBQUksV0FFQW5GLEtBQUEsUUFDQUYsT0FBQSxRQUNBQyxZQUFBLEVBQUFsRSxNQUFBcUosU0FDQWpGLFdBQUEsSUFFQThFLE1BR0EsSUFBQVEsWUFBQXRHLGdCQUFBbEIsWUFBQXBGLFFBQ0E0TSxZQUFBNUgsU0FBQSx1QkFBQSxTQUFBdFEsR0FDQSxJQUFBNFksS0FBQSxHQUNBdGlCLFFBQUFnTCxRQUFBNFAsTUFBQW9ILFNBQUEsU0FBQTNZLEdBQ0FpWixLQUFBeFksS0FBQSxDQUFBVCxFQUFBQSxJQUFBQSxFQUFBNkssUUFFQWdNLFNBQUFsZ0IsUUFBQTJJLEtBQUEyWixNQUNBN00sT0FBQXNFLEtBQUEscUJBSUE2SCxZQUFBNUgsU0FBQSxjQUFBLFNBQUF0USxHQUNBQSxFQUFBd1ksT0FBQXpGLE9BQUEsRUFBQXZFLE1BQUFxSixVQUNBN1gsRUFBQXdZLE9BQUE5RixZQUFBLEVBQUFsRSxNQUFBcUosVUFDQXJKLE1BQUE1RCxTQUdBc04sWUFBQTVILFNBQUEsYUFBQSxTQUFBdFEsR0FDQXFELFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFNBRUFxRSxZQUFBNUgsU0FBQSxhQUFBLFNBQUF0USxHQUNBcUQsU0FBQWMsS0FBQXlQLE1BQUFDLE9BQUEsWUFFQTNDLE1BQUFsRCxJQUFBMUMsV0FHQSxFQUNBa0QsTUFBQVIsSUFBQWtELE9BQ0FBLE9BR0EySCxPQUFBLFNBQUFDLFFBQ0E1SCxNQUFBdlIsRUFBQW1aLE9BQUFuWixHQUNBdVIsTUFBQTFHLEVBQUFzTyxPQUFBdE8sR0FDQWdFLE1BQUE1RCxRQUVBbU8sVUFBQSxXQUNBLE9BQUF2QyxTQUFBNWIsT0FBQSxTQUFBQyxJQUFBOEUsRUFBQTRILEdBTUEsT0FMQTFNLElBQUF1RixLQUFBVCxFQUFBLEdBQUFBLEVBQUEsSUFDQTRILElBQUFpUCxTQUFBbFgsT0FBQSxHQUVBekUsSUFBQXVGLEtBQUFvVyxTQUFBLEdBQUFBLFNBQUEsSUFFQTNiLEtBQ0EsS0FFQTRkLFNBQUEsV0FDQSxPQUFBdkgsU0FPQStILDRCQUFBLFNBQUFsSSxXQUNBLElBQUFtSSxpQkFBQW5JLFVBQUFnRixLQUFBLGlCQUNBbUQsaUJBQUE1WixRQUNBaEosUUFBQWdMLFFBQUE0WCxpQkFBQSxHQUFBbEQsY0FBQSxTQUFBQyxPQUNBQSxNQUFBNUYsS0FBQSxrQkFLQThJLFFBQUEsV0FDQSxJQUFBQyxVQUVBLE1BQUEsQ0FDQUMsYUFBQSxTQUFBQyxNQUNBRixVQUFBRSxNQUVBQyxhQUFBLFdBQ0EsT0FBQUgsYUFLQUksWUFBQSxXQUNBLElBQUEzTCxNQUFBLENBQ0E0RSxPQUFBLFFBQ0FnSCxRQUFBLEVBQ0E5RyxLQUFBLHlCQUNBRCxZQUFBLEdBR0EsTUFBQSxDQUNBaGIsSUFBQSxTQUFBc1YsS0FDQWEsTUFBQW5ULE9BQUFnZixPQUFBN0wsTUFBQWIsTUFFQTlULElBQUEsU0FBQXdkLE1BQ0EsT0FBQUEsS0FBQTdJLE1BQUE2SSxNQUFBN0ksWUFuZkEsR0NBQSxXQUNBdlgsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxtQkFFQSxTQUNBeWhCLE9BQ0FDLFNBQ0FDLFlBQ0F4aEIsT0FDQXlHLFdBQ0FwRyxhQUNBSCxvQkFDQUMsUUFDQXNoQixPQUlBaGdCLEtBQ0FpZ0IsVUFBQSxFQUpBLElBS0F2Z0IsT0FBQWhCLFFBQUFnQixPQUFBaEIsUUFBQWlCLFVBQUFqQixRQUFBa00sVUFFQSxJQUFBbVYsWUFBQXZiLFlBR0EsT0FGQTlFLGNBTEFNLEtBTUFpZ0IsVUFBQSxHQU5BamdCLEtBWUFOLE9BQUEsV0FDQUEsWUE3QkEsR0NBQSxXQUNBbEQsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxnQkFFQSxTQUNBeWhCLE9BQ0FDLFNBQ0FDLFlBQ0F4aEIsT0FDQXlHLFdBQ0FwRyxhQUNBb2hCLE1BQ0F0aEIsUUFDQUQscUJBRUEsSUFFQWlCLE9BQUFoQixRQUFBZ0IsT0FFQXFnQixZQUFBdmIsYUFDQTlFLFNBTEFNLEtBU0FOLE9BQUEsV0FDQUEsWUF4QkEsR0NBQSxXQUNBbEQsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxxQkFFQSxTQUNBeWhCLE9BQ0FDLFNBQ0F0aEIsVUFDQXVoQixZQUNBeGhCLE9BQ0F5RyxXQUNBcEcsYUFDQUYsU0FHQSxJQUNBZ0IsT0FBQWhCLFFBQUFnQixPQUFBQyxVQUFBakIsUUFBQWlCLFVBQ0EsSUFBQW9nQixZQUFBdmIsWUFFQSxZQURBOUUsU0FIQU0sS0FRQXFMLFNBQUExTCxVQUFBUCxNQVJBWSxLQVNBTixPQUFBLFdBQUFBLFVBS0EsWUFGQWxCLFVBQUEwaEIsUUFHQUMsRUFBQSxnQkFBQUMsSUFBQSxVQUFBLG9CQUlBRCxFQUFBLGdCQUFBRSxjQWpDQSxHQ0FBLFdBQ0E3akIsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxrQkFFQSxTQUNBeWhCLE9BQ0FDLFNBQ0F0aEIsVUFDQXVoQixZQUNBeGhCLE9BQ0F5RyxXQUNBcEcsYUFDQUYsU0FHQSxJQUNBZ0IsT0FBQWhCLFFBQUFnQixPQUFBQyxVQUFBakIsUUFBQWlCLFVBQ0EsSUFBQW9nQixZQUFBdmIsWUFFQSxZQURBOUUsU0FIQU0sS0FRQXFMLFNBQUExTCxVQUFBUCxNQVJBWSxLQVNBTixPQUFBLFdBQUFBLFVBR0F5Z0IsRUFBQSxnQkFBQUUsY0ExQkEsR0NBQSxXQUNBN2pCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsY0FFQSxTQUNBeWhCLE9BQ0FDLFNBQ0FDLFlBQ0F4aEIsT0FDQXlHLFdBQ0FwRyxhQUNBb2hCLE1BQ0F0aEIsUUFDQUQscUJBRUEsSUFBQTZoQixHQUFBdGdCLEtBRUFOLE9BQUFoQixRQUFBZ0IsT0FBQWdOLFNBQUFoTyxRQUFBZ08sU0FBQS9NLFVBQUFqQixRQUFBaUIsVUFFQW9nQixZQUFBdmIsYUFDQTlFLFNBR0E0Z0IsR0FBQWpWLFNBQUExTCxVQUFBUCxNQUNBa2hCLEdBQUE1Z0IsT0FBQSxXQUNBQSxVQUdBbWdCLE9BQUFVLE9BQUEsdUNBQUEsU0FBQXJVLE9BQ0FpVSxFQUFBLHdCQUFBSyxZQUFBLDhCQUNBTCxFQUFBLHdCQUFBTSxTQUFBLHVCQUdBTixFQUFBLGdCQUFBRSxZQUNBUixPQUFBYSxnQkFBQSxFQUVBSixHQUFBSyxZQUFBLEVBRUFMLEdBQUFNLFVBQUEsQ0FDQUMsYUFBQSxDQUNBQyxZQUFBLEVBQ0FDLFNBQUEsRUFDQUMsT0FBQSxFQUNBQyxZQUFBLEVBQ0FDLFNBQUEsSUFHQVosR0FBQXhVLFdBQUEsR0FDQXdVLEdBQUFhLFlBQUEsU0FBQXpjLEtBQUEwYyxlQUVBbGlCLElBQUFvaEIsR0FBQU0sVUFBQVEsVUFBQTFjLE1BQ0E0YixHQUFBTSxVQUFBUSxVQUFBMWMsT0FBQSxFQUNBNGIsR0FBQU0sVUFBQVEsVUFBQTFjLE9BQUE0YixHQUFBTSxVQUFBUSxVQUFBMWMsTUFFQU0sV0FDQTlELGVBQUEsQ0FDQWlJLEtBQUEsRUFDQTZULE1BQUEsR0FDQXFFLEtBQUEzYyxLQUNBNGMsT0FBQWhCLEdBQUF4VSxXQUNBeVYsU0FBQWpCLEdBQUFNLFVBQUFRLFVBQUExYyxRQUVBckIsS0FBQSxTQUFBQyxNQUVBZ2QsR0FBQWtCLFdBQUFsZSxLQUFBcEQsS0FBQXVoQixLQUNBbkIsR0FBQW9CLFlBQUFwZSxLQUFBcEQsS0FBQXloQixNQUVBN0IsU0FBQSxXQUVBSyxFQUFBLGVBQUF5QixXQUFBLENBQ0ExYyxNQUFBb2IsR0FBQW9CLFlBQ0FHLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXJCLFlBQUEsRUFFQXNCLFlBQUEsU0FBQTlZLEtBQUF3TixPQUNBQSxNQUFBdUwsaUJBQ0FsZCxXQUNBOUQsZUFBQSxDQUNBaUksS0FBQUEsS0FDQTZULE1BQUEsR0FDQXFFLEtBQUEzYyxLQUNBNmMsU0FBQWpCLEdBQUFNLFVBQUFsYyxRQUVBckIsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQWtCLFdBQUFsZSxLQUFBcEQsS0FBQXVoQixPQUVBamUsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxZQU1BMUMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQUdBb2EsR0FBQXhVLFdBQUEsR0FDQSxJQUFBcVcsZUFBQXpWLFNBQUEsS0FDQTRULEdBQUE4QixjQUFBLFNBQUFoVyxNQUtBK1YsZUFDQSxXQUNBbmQsV0FDQTlELGVBQUEsQ0FDQWlJLEtBQUEsRUFDQTZULE1BQUEsR0FDQXNFLE9BQUFsVixLQUNBaVYsS0FBQSxVQUNBRSxVQUFBLElBRUFsZSxLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBa0IsV0FBQWxlLEtBQUFwRCxLQUFBdWhCLEtBQ0FuQixHQUFBb0IsWUFBQXBlLEtBQUFwRCxLQUFBeWhCLE1BRUE3QixTQUFBLFdBQ0FLLEVBQUEsZUFBQXlCLFdBQUEsQ0FDQTFjLE1BQUFvYixHQUFBb0IsWUFDQUcsWUFBQSxHQUNBQyxTQUFBLGNBQ0FDLGVBQUEsSUFDQUMsVUFBQSxFQUNBckIsWUFBQSxFQUNBc0IsWUFBQSxTQUFBOVksS0FBQXdOLE9BQ0FBLE1BQUF1TCxpQkFDQWxkLFdBQUE5RCxlQUFBLENBQ0FpSSxLQUFBQSxLQUNBNlQsTUFBQSxHQUNBcUUsS0FBQTNjLEtBQ0E2YyxTQUFBakIsR0FBQU0sVUFBQVEsVUFBQTFjLFFBRUFyQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBa0IsV0FBQWxlLEtBQUFwRCxLQUFBdWhCLE9BRUFqZSxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLFlBTUExQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BR0EsQ0FBQWtHLFFBTUFrVSxHQUFBYSxZQUFBLFVBQUEsZ0JBQ0FiLEdBQUErQixVQUFBLENBQ0FDLFFBQUEsRUFDQTlDLE1BQUEsRUFDQXdDLFVBQUEsRUFDQU8sV0FBQSxHQUdBN2pCLFFBQUE4TixpQkFBQW5KLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUE5VCxlQUFBbEosS0FBQXBELEtBRUFvZ0IsR0FBQWtDLGdCQUFBLFNBQUFDLFFBQ0EsT0FBQSxJQUFBeGYsUUFBQSxTQUFBQyxRQUFBQyxRQUNBRCxRQUFBSSxLQUFBcEQsV0FJQXhCLFFBQUErTixjQUFBcEosS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQW9DLGNBQUFwZixLQUFBcEQsS0FFQW9nQixHQUFBcUMsYUFBQSxTQUFBRixRQUNBLE9BQUEsSUFBQXhmLFFBQUEsU0FBQUMsUUFBQUMsUUFDQUQsUUFBQUksS0FBQXBELFdBSUF4QixRQUFBNk4sY0FBQWxKLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUFzQyxjQUFBdGYsS0FBQXBELEtBRUFvZ0IsR0FBQXVDLGFBQUEsU0FBQUosUUFDQSxPQUFBLElBQUF4ZixRQUFBLFNBQUFDLFFBQUFDLFFBQ0FELFFBQUFJLEtBQUFwRCxXQUtBb2dCLEdBQUF3QyxhQUFBLFNBQUFDLE1BQUFDLFlBQ0EsSUFBQW5mLE9BQUEsR0FDQW9mLFdBQUEsR0FHQUQsTUFBQUEsWUFDQXBrQixhQUFBd00sTUFBQSxpQ0FFQWxNLElBQUE4akIsV0FBQWxDLFdBQ0FsaUIsYUFBQXdNLE1BQUEsK0JBRUF2SCxPQUFBaWQsV0FBQWtDLFdBQUFsQyxnQkFFQTVoQixJQUFBOGpCLFdBQUFFLGNBQ0F0a0IsYUFBQXdNLE1BQUEsOEJBRUF2SCxPQUFBcWYsY0FBQSxDQUNBQyxTQUFBSCxXQUFBRSxjQUFBQyxTQUFBLEdBQUFBLFNBQ0FDLFlBQUFKLFdBQUFFLGNBQUFFLGFBR0Fsa0IsTUFBQThqQixXQUFBalYsY0FDQWxLLE9BQUFrSyxZQUFBaVYsV0FBQWpWLGFBRUE3TyxNQUFBOGpCLFdBQUFLLGNBQ0F4ZixPQUFBd2YsWUFBQUwsV0FBQUssYUFFQW5rQixNQUFBOGpCLFdBQUFNLGdCQUNBemYsT0FBQXlmLGNBQUFOLFdBQUFNLGVBR0Fwa0IsTUFBQThqQixXQUFBaEMsUUFDQW5kLE9BQUFtZCxNQUFBZ0MsV0FBQWhDLE9BRUE5aEIsTUFBQThqQixXQUFBTyxXQUNBUCxXQUFBTyxTQUFBL2IsUUFBQSxTQUFBZ2MsU0FDQVAsV0FBQTNjLEtBQUFrZCxRQUFBOWUsUUFFQWIsT0FBQTBmLFNBQUFOLFlBR0EvakIsTUFBQThqQixXQUFBUyxzQkFDQVQsV0FBQVMsb0JBQUFOLFVBQ0E1aEIsUUFBQUMsSUFBQSxtQkFDQXFDLE9BQUE0ZixvQkFBQSxDQUNBQyxVQUFBVixXQUFBUyxvQkFBQUMsVUFDQUMsV0FBQVgsV0FBQVMsb0JBQUFFLFdBQ0FDLFNBQUFaLFdBQUFTLG9CQUFBRyxTQUNBNUMsTUFBQWdDLFdBQUFTLG9CQUFBekMsTUFDQTZDLE9BQUEsQ0FDQVYsU0FBQUgsV0FBQVMsb0JBQUFOLFNBQUEsR0FBQUEsU0FDQUMsWUFBQUosV0FBQVMsb0JBQUFMLGVBSUF2ZixPQUFBNGYsb0JBQUEsQ0FDQUMsVUFBQVYsV0FBQVMsb0JBQUFDLFVBQ0FDLFdBQUFYLFdBQUFTLG9CQUFBRSxXQUNBQyxTQUFBWixXQUFBUyxvQkFBQUcsU0FDQTVDLE1BQUFnQyxXQUFBUyxvQkFBQXpDLE1BQ0E2QyxPQUFBLENBQ0FULFlBQUFKLFdBQUFTLG9CQUFBTCxlQU1BbGtCLE1BQUE4akIsV0FBQWMsZ0JBQ0FkLFdBQUFjLGNBQUFDLGFBQ0FsZ0IsT0FBQWlnQixjQUFBLENBQ0E1WCxNQUFBOFcsV0FBQWMsY0FBQTVYLE1BQ0E2WCxhQUFBZixXQUFBYyxjQUFBQyxhQUFBLEdBQUFDLElBSUFuZ0IsT0FBQWlnQixjQUFBLENBQ0E1WCxNQUFBOFcsV0FBQWMsY0FBQTVYLFFBT0FoTixNQUFBOGpCLFdBQUFpQixXQUNBakIsV0FBQWlCLFNBQUFDLFlBQ0FyZ0IsT0FBQW9nQixTQUFBLENBQ0FFLE1BQUFuQixXQUFBaUIsU0FBQUUsTUFDQUMsTUFBQXBCLFdBQUFpQixTQUFBRyxNQUNBQyxNQUFBckIsV0FBQWlCLFNBQUFJLE1BQ0FDLEtBQUF0QixXQUFBaUIsU0FBQUssS0FDQUMsV0FBQXZCLFdBQUFpQixTQUFBTSxXQUNBTCxZQUFBbEIsV0FBQWlCLFNBQUFDLFlBQUEsR0FBQU0sTUFHQTNnQixPQUFBb2dCLFNBQUEsQ0FDQUUsTUFBQW5CLFdBQUFpQixTQUFBRSxNQUNBQyxNQUFBcEIsV0FBQWlCLFNBQUFHLE1BQ0FDLE1BQUFyQixXQUFBaUIsU0FBQUksTUFDQUMsS0FBQXRCLFdBQUFpQixTQUFBSyxLQUNBQyxXQUFBdkIsV0FBQWlCLFNBQUFNLGFBS0FybEIsTUFBQThqQixXQUFBeUIsV0FDQXpCLFdBQUF5QixTQUFBUCxZQUNBcmdCLE9BQUE0Z0IsU0FBQSxDQUNBTixNQUFBbkIsV0FBQXlCLFNBQUFOLE1BQ0FDLE1BQUFwQixXQUFBeUIsU0FBQUwsTUFDQUMsTUFBQXJCLFdBQUF5QixTQUFBSixNQUNBQyxLQUFBdEIsV0FBQXlCLFNBQUFILEtBQ0FDLFdBQUF2QixXQUFBeUIsU0FBQUYsV0FDQUwsWUFBQWxCLFdBQUF5QixTQUFBUCxZQUFBLEdBQUFNLE1BR0EzZ0IsT0FBQTRnQixTQUFBLENBQ0FOLE1BQUFuQixXQUFBeUIsU0FBQU4sTUFDQUMsTUFBQXBCLFdBQUF5QixTQUFBTCxNQUNBQyxNQUFBckIsV0FBQXlCLFNBQUFKLE1BQ0FDLEtBQUF0QixXQUFBeUIsU0FBQUgsS0FDQUMsV0FBQXZCLFdBQUF5QixTQUFBRixhQU9BdmYsV0FBQTBmLGFBQUE3Z0IsUUFDQVIsS0FBQSxTQUFBQyxNQUNBMUUsYUFBQW9ILFFBQUEscUNBQ0FzYSxHQUFBcUUsV0FBQSxHQUNBeEUsRUFBQSxjQUFBeUUsTUFBQSxRQUNBdEUsR0FBQWEsWUFBQSxVQUFBLGtCQUVBM2QsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxHQUNBdEgsYUFBQXdNLE1BQUEsNkJBeFVBLEdDQUEsV0FDQTVPLFFBQ0FDLE9BQUEsT0FDQTJCLFdBQUEsd0JBRUEsU0FDQXloQixPQUNBQyxTQUNBQyxZQUNBeGhCLE9BQ0FzbUIsYUFDQTdmLFdBQ0FwRyxhQUNBRixRQUNBRixVQUNBRyxRQUdBLElBQUEyaEIsR0FBQXRnQixLQUNBTixPQUFBaEIsUUFBQWdCLE9BQUFoQixRQUFBaUIsVUFDQSxJQUFBb2dCLFlBQUF2YixZQUVBLFlBREE5RSxTQVdBLFNBQUFvbEIsb0JBQ0E5ZixXQUFBckMscUJBQUEyZCxHQUFBMWQsU0FBQVMsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQXlFLFVBQUF6aEIsS0FBQXBELEtBQUFBLEtBQ0FvZ0IsR0FBQTBFLGtCQUFBMUUsR0FBQXlFLFVBQUFqaEIsS0FDQXdjLEdBQUF2UyxZQUFBdVMsR0FBQXlFLFVBQUFoWCxZQUNBdVMsR0FBQTJFLElBQUEzRSxHQUFBeUUsVUFBQTlSLEtBQ0ExUixRQUFBQyxJQUFBOGUsR0FBQXlFLFdBQ0F2b0IsUUFBQWdMLFFBQUE4WSxHQUFBeUUsVUFBQUcsa0JBQUEsU0FBQTlmLE1BQ0FrYixHQUFBNkUsYUFBQS9mLEtBQUEwUSxXQUFBc1AsWUFBQUQsYUFBQWpaLE1BQUE5RyxLQUFBaWdCLFNBQ0EvRSxHQUFBZ0YsY0FBQWhGLEdBQUFnRixjQUFBaEYsR0FBQTZFLGFBQ0E3RSxHQUFBaUYsV0FBQW5nQixLQUFBMFEsV0FBQXNQLFlBQUFHLFdBQUFyWixNQUFBOUcsS0FBQWlnQixTQUNBL0UsR0FBQWtGLFlBQUFsRixHQUFBa0YsWUFBQWxGLEdBQUFpRixhQUVBaGtCLFFBQUFDLElBQUE4ZSxHQUFBeUUsV0FDQWpGLFNBQUEyRixVQUFBLFFBQ0FqaUIsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxLQW9HQSxTQUFBdWYsWUFDQXRGLEVBQUEsa0JBQUF1RixXQUFBLENBQ0FDLFVBQUEsUUFDQUMsWUFBQSxFQUNBQyxlQUFBLEVBQ0FDLFdBQUEsRUFDQUMsVUFBQSxHQUNBQyxXQUFBLEVBQ0FDLFNBQUEsaUJBR0E5RixFQUFBLGdCQUFBdUYsV0FBQSxDQUNBQyxVQUFBLFFBQ0FDLFlBQUEsRUFDQUMsZUFBQSxFQUNBQyxXQUFBLEVBQ0FJLEtBQUEsbUJBM0lBNUYsR0FBQTZGLFVBQUEsRUFDQTdGLEdBQUExZCxRQUFBaWlCLGFBQUEvaUIsR0FDQXdlLEdBQUFoVSxPQUFBNU4sUUFBQTROLE9BQ0FnVSxHQUFBOEYsYUFBQSxHQUNBOUYsR0FBQWdGLGNBQUEsRUFDQWhGLEdBQUFrRixZQUFBLEVBcUJBVixvQkFFQXhFLEdBQUErRixVQUFBLFNBQUFDLEtBQ0FoRyxHQUFBOEYsYUFBQTlmLEtBQUFnYSxHQUFBaUcsWUFBQWxpQixNQUFBaWlCLEtBQUF4Z0IsS0FDQXdhLEdBQUFpRyxZQUFBbGlCLE1BQUFrQyxPQUFBK2YsSUFBQSxJQUdBaEcsR0FBQWtHLHNCQUFBLFNBQUFwaEIsTUFDQWtiLEdBQUFtRyxhQUFBbkcsR0FBQXlFLFVBQUFHLGtCQUFBOWYsTUFDQWtiLEdBQUFvRyxZQUFBcEcsR0FBQW1HLGFBQUFwQixTQUNBL0UsR0FBQXFHLHFCQUFBckcsR0FBQW9HLFlBQUFwRyxHQUFBbUcsYUFBQTNRLFdBQUFzUCxZQUFBRCxhQUFBalosTUFDQW9VLEdBQUFzRywyQkFBQXRHLEdBQUFvRyxZQUFBcEcsR0FBQW1HLGFBQUEzUSxXQUFBc1AsWUFBQUcsV0FBQXJaLE1BQ0EsR0FBQW9VLEdBQUFtRyxhQUFBSSxvQkFBQXJoQixRQUFBdEcsTUFBQW9oQixHQUFBbUcsYUFBQUksb0JBQUFyaEIsT0FDQThhLEdBQUF3RyxtQkFBQXhHLEdBQUFtRyxhQUFBSSxvQkFFQXZHLEdBQUF3RyxtQkFBQSxHQUVBeEcsR0FBQXlHLGNBQUEzaEIsS0FDQSthLEVBQUEsc0JBQUF5RSxNQUFBLFFBQ0EsT0FBQXhmLEtBQ0ErYSxFQUFBLHVDQUFBL1QsS0FBQSw4QkFFQStULEVBQUEsdUNBQUEvVCxLQUFBLGtDQUlBa1UsR0FBQTBHLG1CQUFBLFdBQ0ExRyxHQUFBd0csbUJBQUF4Z0IsS0FBQSxDQUNBMmdCLGVBQUEsR0FDQS9hLE1BQUEsTUFHQW9VLEdBQUE0Ryx5QkFBQSxTQUFBelAsT0FDQTZJLEdBQUF3RyxtQkFBQXZnQixPQUFBa1IsTUFBQSxJQUdBNkksR0FBQTZHLFlBQUEsU0FBQTlpQixNQUFBc1MsT0FDQSxJQUFBeVEsUUFBQXpRLE1BQUErSCxPQUFBcmEsTUFDQWljLEdBQUErRyxVQUFBem1CLE9BQUFDLEtBQUF1bUIsU0FBQXhoQixJQUFBLFNBQUFDLEdBQUEsT0FBQXVoQixRQUFBdmhCLEdBQUEvQixRQUdBd2MsR0FBQWdILGtCQUFBLFNBQUF6Z0IsS0FDQSxHQUFBLEdBQUFBLElBQ0F5WixHQUFBNkYsVUFBQSxFQUNBaEcsRUFBQSwyRUFBQW9ILEtBQUEsWUFBQSxHQUNBaG1CLFFBQUFDLElBQUE4ZSxHQUFBeUUsVUFBQUcsd0JBQ0EsR0FBQSxHQUFBcmUsSUFBQSxDQUNBc1osRUFBQSwyRUFBQW9ILEtBQUEsWUFBQSxHQUNBakgsR0FBQTZGLFVBQUEsRUFFQSxJQUFBcUIsY0FBQSxDQUNBQyxlQUFBbkgsR0FBQXlFLFVBQUFHLG1CQUdBd0Msa0JBQUEsQ0FDQTVqQixLQUFBd2MsR0FBQTBFLGtCQUNBalgsWUFBQXVTLEdBQUF2UyxZQUNBa0YsS0FBQXFOLEdBQUEyRSxJQUVBNWdCLE1BQUFpYyxHQUFBcUgsWUFFQXBtQixRQUFBQyxJQUFBZ21CLGVBRUF4aUIsV0FBQWxDLHdCQUFBd2QsR0FBQXlFLFVBQUFqZixJQUFBMGhCLGVBQUFua0IsS0FBQSxTQUFBQyxNQUNBL0IsUUFBQUMsSUFBQThCLE1BRUEwQixXQUFBakMsb0JBQUF1ZCxHQUFBeUUsVUFBQWpmLElBQUE0aEIsbUJBQUFya0IsS0FBQSxTQUFBQyxNQUNBL0IsUUFBQUMsSUFBQThCLE1BQ0ExRSxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsU0FDQTZlLG9CQUNBeEUsR0FBQStHLFVBQUEsR0FDQXZILFNBQUEyRixVQUFBLE9BQ0FqaUIsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxPQUdBMUMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxPQWFBb2EsR0FBQXNILFlBQUEsU0FBQXhpQixLQUFBbEYsTUFDQW9nQixHQUFBeUUsVUFBQUcsa0JBQUE5ZixNQUFBaWdCLFNBQUEvRSxHQUFBb0csWUFDQXBHLEdBQUF5RSxVQUFBRyxrQkFBQTlmLE1BQUF5aEIsb0JBQUEzbUIsS0FDQXFCLFFBQUFDLElBQUE4ZSxHQUFBeUUsVUFBQUcsa0JBQUE5ZixNQUFBeWhCLHFCQUNBMUcsRUFBQSxzQkFBQXlFLE1BQUEsV0FqSkEsR0NBQSxXQUNBcG9CLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsb0JBRUEsU0FDQXloQixPQUNBQyxTQUNBQyxZQUNBeGhCLE9BQ0F5RyxXQUNBcEcsYUFDQW9oQixNQUNBdGhCLFNBSUEsSUFBQTRoQixHQUFBdGdCLEtBR0FOLE9BR0FoQixRQUhBZ0IsT0FHQWhCLFFBRkFpQixVQUVBakIsUUFEQThNLGFBR0F1VSxZQUFBdmIsYUFDQTlFLFNBR0EsSUFBQXFnQixZQUFBdGIsZUFBQSxVQUFBLGlCQUdBLE9BRkE3RixhQUFBNkcsUUFBQSxpQ0FDQWxILE9BQUE0TSxHQUFBLGFBR0FtVixHQUFBdUgsUUFBQSxHQUtBaEksT0FBQVUsT0FBQSx3QkFBQSxTQUFBclUsT0FDQWlVLEVBQUEsd0JBQUFLLFlBQUEsOEJBQ0FMLEVBQUEsd0JBQUFNLFNBQUEsdUJBR0F4ZCxRQUFBa0wsSUFBQSxDQUNBbkosV0FBQTlELGlCQUNBOEQsV0FBQThpQix5QkFFQXprQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBdUgsUUFBQXZrQixLQUFBLEdBQUFwRCxLQUFBdWhCLEtBQ0FuQixHQUFBeUgsYUFBQXprQixLQUFBLEdBQUFwRCxLQUFBQSxLQUNBb2dCLEdBQUF5SCxhQUFBMWYsT0FBQSxTQUFBakQsTUFDQSxNQUFBLDRCQUFBQSxLQUFBVSxNQUVBd2EsR0FBQTBILG9CQUFBLDZCQUdBeGtCLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsS0FHQW9hLEdBQUEySCxLQUFBLENBQ0EvcEIsSUFBQSx1R0FDQWdxQixRQUFBLEdBQ0FDLE9BQUEsR0FDQUMsT0FBQSxTQUNBQyxLQUFBLEdBR0EvSCxHQUFBZ0ksWUFBQSxDQUNBQyxRQUFBLElBR0ExSSxPQUFBMkksZUFBQSxDQUNBQyxZQUFBLEdBR0FuSSxHQUFBb0ksWUFBQSxTQUFBOWlCLEtBQ0EsSUFBQStpQixVQUFBM29CLEtBQUE0b0IsV0FBQUMsU0FBQUMsU0FDQXhJLEdBQUEySCxLQUFBQyxRQUFBLENBQ0EsQ0FBQVMsVUFBQUksTUFBQUosVUFBQUssUUFFQTFJLEdBQUEySCxLQUFBSSxLQUFBLEdBQ0EvSCxHQUFBMkgsS0FBQUcsT0FBQU8sVUFBQUksTUFBQSxJQUFBSixVQUFBSyxNQUNBMUksR0FBQWdJLFlBQUFDLFFBQUFVLElBQUEsQ0FDQUMsWUFBQSxDQUFBUCxVQUFBSSxNQUFBSixVQUFBSyxTQUlBMUksR0FBQTZJLFdBQUEsU0FBQUMsVUFDQUEsU0FBQXZsQixPQUFBdWxCLFNBQUF2bEIsT0FBQWlDLElBQ0FkLFdBQ0E1RCxjQUFBZ29CLFVBQ0EvbEIsS0FBQSxTQUFBQyxNQUNBMUUsYUFBQW9ILFFBQUEseUNBRUEsSUFBQWxHLFFBQUEsQ0FDQWtDLFVBQUFzQixLQUFBcEQsS0FBQTRGLElBQ0F1akIsV0FBQS9sQixLQUFBcEQsS0FBQTRGLEtBQ0F3YSxHQUFBMEgscUJBQUEsU0FBQTFILEdBQUEwSCxvQkFDQTFILEdBQUEwSCxvQkFBQSw0QkFFQWhqQixXQUNBc2tCLGtCQUFBeHBCLFNBQ0F1RCxLQUFBLFNBQUFDLE1BQ0EvQixRQUFBQyxJQUFBOEIsS0FBQXBELEtBQUErRixXQUVBekMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxLQUdBM0UsUUFBQUMsSUFBQSxZQUFBOEIsS0FBQXBELEtBQUE0RixLQUNBdkgsT0FBQTRNLEdBQUEsZUFFQTNILE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsR0FDQXRILGFBQUF3TSxNQUFBLDJCQUlBa1YsR0FBQWlKLGFBQUEsV0FDQSxJQUFBckwsSUFBQWxlLEtBQUF3cEIsY0FDQWxKLEdBQUFnSSxZQUFBQyxRQUFBVSxJQUFBLENBQ0FDLFlBQUEsQ0FBQWhMLElBQUE2SyxNQUFBN0ssSUFBQThLLFNBSUFoSixNQUFBeUosU0FBQXBtQixLQUFBLFNBQUF1QyxLQUNBMGEsR0FBQTFhLElBQUFBLElBQ0FBLElBQUF6SSxXQUFBLENBQ0FnckIsT0FBQTdILEdBQUEySCxLQUFBRSxPQUNBdUIsa0JBQUEsRUFDQUMsYUFBQSxFQUNBdEIsS0FBQSxFQUNBRCxPQUFBLENBQ0FXLElBQUEsRUFDQUMsSUFBQSxPQUtBMUksR0FBQTVnQixPQUFBLFdBQ0FBLFVBR0E0Z0IsR0FBQXNKLGVBQUEsV0FDQXRKLEdBQUEwSCxvQkFBQTFILEdBQUF1SixpQkFBQS9qQixJQUNBcWEsRUFBQSx3QkFBQXlFLE1BQUEsV0FqSkEsR0NBQSxXQUNBcG9CLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsZ0JBRUEsU0FDQXloQixPQUNBQyxTQUNBQyxZQUNBeGhCLE9BQ0F1ckIsUUFDQXRyQixVQUNBd0csV0FDQXBHLGFBQ0FILG9CQUNBQyxRQUNBc2hCLE9BSUEsSUFBQU0sR0FBQXRnQixLQUNBc2dCLEdBQUFMLFVBQUEsRUFKQSxJQU9BdmdCLE9BS0FoQixRQUxBZ0IsT0FDQUMsVUFJQWpCLFFBSkFpQixVQUNBNkwsYUFHQTlNLFFBSEE4TSxhQUNBRyxhQUVBak4sUUFGQWlOLGFBRUFqTixRQURBa00sVUFHQSxJQUFBbVYsWUFBQXZiLFlBR0EsT0FGQTlFLGNBQ0E0Z0IsR0FBQUwsVUFBQSxHQUdBSyxHQUFBeUosUUFBQSxFQUdBekosR0FBQWpWLFNBQUExTCxVQUFBUCxNQUNBa2hCLEdBQUEwSixVQUNBLG9GQUNBMUosR0FBQTJILEtBQUEsQ0FDQS9wQixJQUNBLHNGQUNBaXFCLE9BQUEsQ0FDQSxDQUNBOEIsWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FGLFlBQUEsY0FDQUMsUUFBQSxDQUNBLENBQ0FFLFdBQUEsU0FJQSxDQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FGLFlBQUEscUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSxpQkFDQUosWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEseUJBQ0FKLFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSw2QkFDQUgsUUFBQSxDQUNBLENBQ0FFLFdBQUEsU0FJQSxDQUNBQyxZQUFBLDBCQUNBSixZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsTUFDQUosWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBRSxZQUFBLFdBQ0FKLFlBQUEsV0FDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBRSxZQUFBLFdBQ0FKLFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSxXQUNBSixZQUFBLHFCQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsT0FDQUosWUFBQSxnQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBRSxZQUFBLE9BQ0FKLFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSxnQkFDQUosWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsZUFDQUosWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsaUNBQ0FKLFlBQUEsV0FDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBRSxZQUFBLGFBQ0FKLFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSxVQUNBSixZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsUUFDQUosWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsUUFDQUosWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsY0FLQWpDLFFBQUEsSUFpQ0FqbEIsUUFBQWtMLElBQUEsQ0FDQW5KLFdBQUExRSxlQUFBZ2dCLEdBQUFqVixTQUFBOUssV0FDQXlFLFdBQUF2RSxrQkFDQXVFLFdBQUE5RCxtQkFFQW1DLEtBQUEsU0FBQW5ELE1BbkNBLElBQUFvcUIsWUFDQUMsTUFDQUMsTUFDQUMsTUFDQUMsTUFDQXhDLFFBZ0NBMWMsYUFBQTVOLElBQUFzQyxLQUFBLEdBQUFBLE1BRUFvZ0IsR0FBQTJILEtBQUFDLFNBdkNBb0MsWUF1Q0FwcUIsS0FBQSxHQUFBQSxLQUFBdWhCLEtBdENBOEksTUFBQSxFQUNBQyxNQUFBLEVBQ0FDLE1BQUEsRUFDQUMsTUFBQSxFQUNBeEMsUUFBQSxHQUNBb0MsWUFBQTlpQixRQUFBLFNBQUFnYyxTQUNBLEdBQUFBLFFBQUErRSxVQUVBLEdBQUEvRSxRQUFBK0UsUUFBQVUsSUFBQUMsWUFBQSxJQUNBLEdBQUExRixRQUFBK0UsUUFBQVUsSUFBQUMsWUFBQSxJQUNBLENBQ0EsSUFBQXlCLEtBQUEsQ0FDQTdvQixHQUFBMGhCLFFBQUExZCxJQUNBOGtCLFNBQUFwSCxRQUFBK0UsUUFBQVUsSUFBQUMsWUFBQSxHQUNBMkIsVUFBQXJILFFBQUErRSxRQUFBVSxJQUFBQyxZQUFBLElBRUFxQixNQUFBQSxNQUFBSSxLQUFBQyxTQUFBRCxLQUFBQyxTQUFBTCxNQUNBRSxNQUFBQSxNQUFBRSxLQUFBQyxTQUFBRCxLQUFBQyxTQUFBSCxNQUNBRCxNQUFBQSxNQUFBRyxLQUFBRSxVQUFBRixLQUFBRSxVQUFBTCxNQUNBRSxNQUFBQSxNQUFBQyxLQUFBRSxVQUFBRixLQUFBRSxVQUFBSCxNQUNBeEMsUUFBQTVoQixLQUFBLENBQUFxa0IsS0FBQUMsU0FBQUQsS0FBQUUsZUFJQTNDLFNBZUE1SCxHQUFBd0ssY0FBQSxDQUNBQyxRQUFBN3FCLEtBQUEsR0FBQUEsS0FDQThxQixTQUFBOXFCLEtBQUEsR0FBQUEsS0FBQXVoQixLQUNBb0csUUFBQTNuQixLQUFBLEdBQUFBLEtBQUF1aEIsUUFHQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsS0FHQThaLE1BQUF5SixTQUFBcG1CLEtBQUEsU0FBQXVDLEtBQ0FBLElBQUF6SSxXQUFBLENBQ0FnckIsT0FBQTdILEdBQUEySCxLQUFBRSxPQUNBdUIsa0JBQUEsRUFDQXJCLEtBQUEsRUFDQUQsT0FBQSxDQUNBVyxJQUFBLEVBQ0FDLElBQUEsT0FPQSxJQUFBbmUsU0FBQSxFQUNBb2dCLFVBQUEsRUE4RkEsR0E3RkEzSyxHQUFBNEssY0FBQSxHQUNBNUssR0FBQTZLLGdCQUFBLEVBQ0E3SyxHQUFBOEssV0FBQSxDQUNBQyxNQUFBLFVBQ0EzbUIsTUFBQSxHQUdBNGIsR0FBQWdMLFlBQUEsVUFHQXpMLE9BQUEwTCxxQkFBQSxXQUNBdm1CLFdBQ0F3bUIsZUFDQW5vQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBbUwsa0JBQUFub0IsS0FBQXBELEtBQUF3ckIsVUFDQXBMLEdBQUFxTCxzQkFBQW52QixRQUFBMkksS0FBQW1iLEdBQUFtTCxtQkFDQW5MLEdBQUFxTCxzQkFBQXJsQixLQUFBLENBQ0FSLElBQUEsU0FDQXdsQixZQUFBLHVCQVFBOW5CLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFHQTJaLE9BQUEwTCx1QkFFQWpMLEdBQUFzTCxpQkFBQSxTQUFBOXBCLElBRUFrRCxXQUFBNm1CLGlCQUFBL3BCLEdBREEsR0FDQXVCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUF3TCxhQUFBeG9CLEtBQUFwRCxLQUFBQSxRQUdBb2dCLEdBQUF5TCxjQUFBLEVBRUF6TCxHQUFBMEwsZ0JBQUEsU0FBQUMsU0FDQSxVQUFBQSxRQUFBbm1CLElBQ0FkLFdBQ0F2RSxrQkFDQTRDLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUE0TCxrQkFBQTVvQixLQUFBcEQsS0FBQXVoQixLQUNBdEIsRUFBQSxrQkFBQXlFLE1BQUEsVUFFQXBoQixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BR0FvYSxHQUFBeUwsY0FBQSxFQUNBdnZCLFFBQUFnTCxRQUFBOFksR0FBQW1MLGtCQUFBLFNBQUE1bEIsR0FDQSxHQUFBQSxFQUFBQyxLQUFBbW1CLFFBQUFubUIsSUFDQSxPQUFBd2EsR0FBQXlMLGNBQUEsSUFHQXpMLEdBQUFnTCxZQUFBVyxRQUFBWCxZQUNBM2YsYUFBQS9OLElBQUFxdUIsU0FDQTNMLEdBQUFzTCxpQkFBQUssUUFBQW5tQixPQUtBd2EsR0FBQTZMLGNBQUEsU0FBQUYsU0FDQSxJQUFBeFUsTUFBQTZJLEdBQUFxTCxzQkFBQVMsVUFBQSxTQUFBdm1CLEdBQ0EsTUFBQSxVQUFBQSxFQUFBQyxNQUVBd2EsR0FBQXFMLHNCQUFBcGxCLE9BQUFrUixNQUFBLEdBQ0EsSUFBQTRVLGNBQUEsRUFDQTd2QixRQUFBZ0wsUUFBQThZLEdBQUFtTCxrQkFBQSxTQUFBNWxCLEdBQ0FBLEVBQUFDLEtBQUFtbUIsUUFBQW5tQixNQUNBdW1CLGNBQUEsS0FHQUEsY0FDQS9MLEdBQUFxTCxzQkFBQXJsQixLQUFBMmxCLFNBR0EzTCxHQUFBcUwsc0JBQUFybEIsS0FBQSxDQUNBUixJQUFBLFNBQ0F3bEIsWUFBQSxxQkFHQWhMLEdBQUEyTCxRQUFBQSxRQUNBM0wsR0FBQWdMLFlBQUFXLFFBQUFYLFlBQ0FoTCxHQUFBeUwsY0FBQSxFQUNBcGdCLGFBQUEvTixJQUFBcXVCLFNBRUE5TCxFQUFBLGtCQUFBeUUsTUFBQSxTQUdBbm1CLG9CQUFBVyxJQUFBLGtCQUFBLENBQ0EsSUFBQWt0QixlQUFBN3RCLG9CQUFBVyxJQUFBLGtCQUNBa2hCLEdBQUEyTCxRQUFBSyxlQUVBaE0sR0FBQWdMLFlBQUFnQixlQUFBaEIsWUFDQWhMLEdBQUFzTCxpQkFBQXRMLEdBQUEyTCxRQUFBbm1CLEtBRUEsSUFBQXltQixtQkFBQSxFQUNBL3ZCLFFBQUFnTCxRQUFBOFksR0FBQW1MLGtCQUFBLFNBQUE1bEIsR0FDQSxHQUFBQSxFQUFBQyxLQUFBd21CLGVBQUF4bUIsSUFDQSxPQUFBeW1CLG1CQUFBLElBSUFBLG1CQUNBek0sU0FBQSxXQUNBLElBQUFySSxNQUFBNkksR0FBQXFMLHNCQUFBUyxVQUFBLFNBQUF2bUIsR0FDQSxNQUFBLFVBQUFBLEVBQUFDLE1BRUF3YSxHQUFBcUwsc0JBQUFwbEIsT0FBQWtSLE1BQUEsR0FDQTZJLEdBQUFxTCxzQkFBQXJsQixLQUFBZ21CLGdCQUNBaE0sR0FBQXFMLHNCQUFBcmxCLEtBQUEsQ0FDQVIsSUFBQSxTQUNBd2xCLFlBQUEsc0JBRUEsTUFNQW5MLEVBQUEsa0JBQUF2UCxHQUFBLGdCQUFBLFdBQ0EwUCxHQUFBNkssZ0JBQUEsSUFHQTdLLEdBQUFrTSxtQkFBQSxXQUNBck0sRUFBQSxrQkFBQXlFLE1BQUEsUUFDQXRFLEdBQUEyTCxRQUFBLEtBQ0F0Z0IsYUFBQS9OLElBQUEsS0FHQTBpQixHQUFBbU0sY0FBQSxTQUFBdnNCLE1BQ0EsSUFBQXdzQixVQUFBLEVBQ0FILG1CQUFBLEVBQ0EvdkIsUUFBQWdMLFFBQUE4WSxHQUFBbUwsa0JBQUEsU0FBQTVsQixHQUNBLEdBQUFBLEVBQUFDLEtBQUE1RixLQUFBNEYsSUFDQSxPQUFBeW1CLG1CQUFBLElBSUFHLFVBREFILGtCQU1Bdm5CLFdBQ0EybkIsZ0JBQUFoaEIsYUFBQXZNLE1BQUEwRyxJQUFBNG1CLFVBQ0FycEIsS0FBQSxTQUFBQyxNQUNBLEdBQUFvcEIsU0FDQTl0QixhQUFBb0gsUUFBQSxtQ0FDQXNhLEdBQUFtTCxrQkFBQW5sQixLQUFBcEcsTUFDQW9nQixHQUFBeUwsY0FBQSxNQUNBLENBQ0FudEIsYUFBQW9ILFFBQ0EsbURBRUEsSUFBQXlSLE1BQUE2SSxHQUFBbUwsa0JBQUFXLFVBQUEsU0FBQXZtQixHQUNBLE9BQUFBLEVBQUFDLEtBQUE1RixLQUFBNEYsTUFFQXdhLEdBQUFtTCxrQkFBQWxsQixPQUFBa1IsTUFBQSxHQUNBNkksR0FBQXlMLGNBQUEsS0FHQXZvQixNQUFBLFNBQUFDLEtBQ0FsQyxRQUFBQyxJQUFBaUMsUUFJQTZjLEdBQUFzTSxRQUFBLFdBQ0EvaEIsVUFDQUEsU0FBQSxFQUNBaVYsU0FBQSxXQUNBalYsU0FBQSxHQUNBLEtBQ0FvZ0IsV0FBQSxFQUNBam1CLFdBQ0F2RSxnQkFBQSxDQUNBNmdCLE9BQUFoQixHQUFBNEssY0FDQWxPLE1BQUFpTyxVQUNBOWhCLEtBQUEsRUFDQWtZLEtBQUFmLEdBQUE4SyxXQUFBQyxNQUNBOUosU0FBQWpCLEdBQUE4SyxXQUFBMW1CLE9BRUFyQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBNEwsa0JBQUE1b0IsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsT0FNQW9hLEdBQUF1TSxlQUFBLFNBQUF6Z0IsTUFDQXBILFdBQ0F2RSxnQkFBQSxDQUNBNmdCLE9BQUFoQixHQUFBNEssY0FDQWxPLE1BQUFpTyxVQUNBOWhCLEtBQUEsRUFDQWtZLEtBQUFmLEdBQUE4SyxXQUFBQyxNQUNBOUosU0FBQWpCLEdBQUE4SyxXQUFBMW1CLE9BRUFyQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBNEwsa0JBQUE1b0IsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFLQW9hLEdBQUFlLEtBQUEsU0FBQWdLLE9BQ0EvSyxHQUFBOEssV0FBQUMsUUFBQUEsTUFDQS9LLEdBQUE4SyxXQUFBMW1CLE1BQUE0YixHQUFBOEssV0FBQTFtQixNQUVBNGIsR0FBQThLLFdBQUFDLE1BQUFBLE1BQ0EvSyxHQUFBOEssV0FBQTFtQixNQUFBLEdBR0FNLFdBQ0F2RSxnQkFBQSxDQUNBNmdCLE9BQUFoQixHQUFBNEssY0FDQWxPLE1BQUFpTyxVQUNBOWhCLEtBQUEsRUFDQWtZLEtBQUFmLEdBQUE4SyxXQUFBQyxNQUNBOUosU0FBQWpCLEdBQUE4SyxXQUFBMW1CLE9BRUFyQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBNEwsa0JBQUE1b0IsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFJQW9hLEdBQUE1Z0IsT0FBQSxXQUNBQSxVQUdBbWdCLE9BQUFpTixhQUFBLFdBQ0F2ckIsUUFBQUMsSUFBQSxxQkFFQXdELFdBQUErbkIsWUFBQTFwQixLQUFBLFNBQUEycEIsVUFDQXpyQixRQUFBQyxJQUFBLFlBQUF3ckIsYUFZQTFNLEdBQUEyTSxnQkFBQSxXQUNBMXJCLFFBQUFDLElBQUEsVUFBQW1LLGFBQUF2TSxPQUNBdU0sYUFBQXZNLE1BQ0FiLE9BQUE0TSxHQUFBLGdCQUVBdk0sYUFBQTZHLFFBQUEsMkJBQ0EwYSxFQUFBLGNBQUErTSxRQUNBLENBQ0FDLFVBQUFoTixFQUFBLFlBQUFuQixTQUFBb08sS0FFQSxJQUNBLFdBQ0FqTixFQUFBLGtCQUNBa04sUUFDQTVNLFNBQUEsU0FDQTFWLFdBQUEsV0FDQW9WLEVBQUEsa0JBQUFLLFlBQUEsVUFDQSxTQVFBRixHQUFBZ04sZ0JBQUEsR0FDQWhOLEdBQUFpTixZQUFBLEdBRUFqTixHQUFBa04sZUFBQSxXQUNBN2hCLGFBQUF2TSxPQUlBNEYsV0FDQWpELG9CQUFBNEosYUFBQXZNLE1BQUEwRyxLQUNBekMsS0FBQSxTQUFBQyxNQUNBLElBQUFtcUIsVUFBQW5xQixLQUFBcEQsS0FBQUEsS0FDQXpCLG9CQUFBYixJQUFBLGtCQUFBK04sYUFBQXZNLE1BQUEwRyxLQUNBckgsb0JBQUFiLElBQUEsWUFBQTZ2QixXQUNBbk4sR0FBQWdOLGdCQUFBRyxVQUNBdE4sRUFBQSxvQkFBQXlFLE1BQUEsVUFFQXBoQixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLEtBR0FsQixXQUNBMG9CLGFBQUEvaEIsYUFBQXZNLE1BQUEwRyxLQUVBekMsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQXFOLFVBQUEsRUFDQXJOLEdBQUFpTixZQUFBanFCLEtBQUFwRCxLQUFBQSxLQUFBMHRCLGNBRUFwcUIsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQXhCQXRILGFBQUE2RyxRQUFBLHdCQTRCQTZhLEdBQUF1TixXQUFBLFNBQUFDLE1BQ0EzTixFQUFBLG9CQUFBeUUsTUFBQSxRQUNBbm1CLG9CQUFBYixJQUFBLGVBQUFrd0IsTUFDQXZ2QixPQUFBNE0sR0FBQSxrQkFHQW1WLEdBQUF5TixjQUFBLFdBQ0E1TixFQUFBLGlFQUFBeUUsTUFDQSxTQUlBdEUsR0FBQTBOLFdBQUEsV0FDQTFOLEdBQUEyTixjQUFBenhCLFFBQUEySSxLQUFBbWIsR0FBQWlOLGFBQ0FwTixFQUFBLGVBQUF5RSxNQUFBLFFBQ0F6RSxFQUFBLGVBQUFDLElBQUEsVUFBQSxTQUNBRCxFQUFBLDZCQUFBQyxJQUFBLENBQ0E4TixxQkFBQSx1Q0FDQUMsa0JBQUEsdUNBQ0FDLGFBQUEseUNBRUFqTyxFQUFBLGVBQUE5TSxPQUNBOE0sRUFBQSxnQkFBQWtPLE9BQ0EvTixHQUFBZ08sT0FBQSxVQUNBek8sT0FBQTBPLFdBQUEsY0FDQSxlQUFBMU8sT0FBQTBPLFdBQ0ExTyxPQUFBMk8sYUFBQSxFQUVBM08sT0FBQTJPLGFBQUEsR0FHQTNPLE9BQUE0TyxJQUFBLFNBQUEsU0FBQXZvQixFQUFBaEcsTUFDQW9nQixHQUFBeUosT0FBQTdwQixLQUNBb2dCLEdBQUF5SixPQUNBNUosRUFBQSxRQUFBTSxTQUFBLGNBRUFOLEVBQUEsUUFBQUssWUFBQSxnQkFHQVgsT0FBQTRPLElBQUEsc0JBQUEsU0FBQXZvQixFQUFBaEcsTUFDQW9nQixHQUFBb08scUJBQUF4dUIsS0FFQW9nQixHQUFBcU8sbUJBQ0F6dUIsS0FBQTBHLFlBQUE5RixPQUFBLFNBQUFDLElBQUE4RSxHQUVBLE9BREE5RSxLQUFBOEUsRUFBQS9CLEtBQUEsT0FFQSxJQUFBNUQsS0FBQThILFVBRUEsYUFBQWYsS0FBQS9HLEtBQUFnTyxhQUNBb1MsR0FBQXNPLFVBQUFsd0IsUUFBQXdPLG9CQUFBaE4sS0FBQWdPLFdBQUFoTyxLQUFBbU8sT0FDQWlTLEdBQUF5SixRQUFBLEVBQ0E1SixFQUFBLG9CQUFBQyxJQUFBLGFBQUEsVUFDQUQsRUFBQSxlQUFBeUUsTUFBQSxRQUNBekUsRUFBQSxlQUFBQyxJQUFBLFVBQUEsU0FDQUUsR0FBQXVPLFNBQUFyeUIsUUFBQTJJLEtBQUFtYixHQUFBc08sV0FDQXJ0QixRQUFBQyxJQUFBOGUsR0FBQXNPLFlBRUExdUIsS0FBQTR1QixjQUNBaFAsU0FBQSxXQUNBRCxPQUFBa1AsV0FFQXpPLEdBQUEwTyxhQUFBMU8sR0FBQXVPLFNBQUEzdUIsS0FBQSt1QixXQUFBcnBCLElBQUEsU0FBQUMsRUFBQTRILEdBQ0EsSUFBQXlGLElBQUEsQ0FDQXZGLE9BQUFGLEVBQ0FJLE1BQUFBLFNBQUFyRixLQUFBQyxNQUNBdkssSUFBQTJILEVBQ0FpSSxVQUFBLEVBQ0FDLFlBQUEsSUFHQSxPQUFBbUYsTUFHQW9OLEdBQUF5SixRQUFBLEVBQ0E1SixFQUFBLG9CQUFBQyxJQUFBLGFBQUEsVUFDQUQsRUFBQSxlQUFBeUUsTUFBQSxRQUNBekUsRUFBQSxlQUFBQyxJQUFBLFVBQUEsVUFFQTFoQixRQUFBc1AsbUJBQUE5TixNQUFBbUQsS0FBQSxTQUFBZ0wsT0FDQXlSLFNBQUEsV0FDQUQsT0FBQWtQLFdBRUF6TyxHQUFBME8sYUFBQTNnQixNQUNBaVMsR0FBQXVPLFNBQUF4Z0IsTUFDQWlTLEdBQUF5SixRQUFBLEVBQ0E1SixFQUFBLG9CQUFBQyxJQUFBLGFBQUEsVUFDQUQsRUFBQSxxQkFBQXlFLE1BQUEsUUFDQXpFLEVBQUEscUJBQUFDLElBQUEsVUFBQSxhQUtBRSxHQUFBNE8sZUFBQSxXQUNBL08sRUFBQSxvQkFBQUMsSUFBQSxhQUFBLFdBQ0FELEVBQUEsZUFBQUMsSUFBQSxVQUFBLFNBRUFFLEdBQUE2TyxpQkFBQSxTQUFBdG9CLElBQUFuQyxLQUFBMHFCLE9BQ0EsR0FBQSxVQUFBdm9CLElBU0EsR0FSQXNaLEVBQUEsK0NBQUFDLElBQUEsVUFBQSxRQUNBRCxFQUFBLG9CQUFBQyxJQUFBLGFBQUEsV0FDQUUsR0FBQStPLGNBQUEsR0FDQTd5QixRQUFBZ0wsUUFBQThZLEdBQUF1TyxTQUFBLFNBQUFocEIsR0FDQUEsRUFBQWlJLFVBQ0F3UyxHQUFBK08sY0FBQS9vQixLQUFBVCxLQUdBLElBQUFuQixLQUFBLENBQ0EsSUFBQTRxQixVQUNBRixNQUFBTixjQUFBLGFBQUE3bkIsS0FBQW1vQixNQUFBbGhCLFlBQ0EscUJBQ0Esd0JBRUFwTyxRQUFBLENBQ0E2RixRQUFBeXBCLE1BQUF0cEIsSUFDQTlELFVBQUEySixhQUFBdk0sTUFBQTBHLElBQ0F1SSxNQUFBaVMsR0FBQStPLGVBR0FycUIsV0FBQXNxQixVQUFBeHZCLFNBQ0F1RCxLQUFBLFNBQUFDLE1BQ0ExRSxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsU0FDQWpCLFdBQ0FqRCxvQkFBQTRKLGFBQUF2TSxNQUFBMEcsS0FDQXpDLEtBQUEsU0FBQUMsTUFDQSxJQUFBbXFCLFVBQUFucUIsS0FBQXBELEtBQUFBLEtBQ0F6QixvQkFBQWIsSUFDQSxrQkFDQStOLGFBQUF2TSxNQUFBMEcsS0FFQXJILG9CQUFBYixJQUFBLFlBQUE2dkIsV0FDQW5OLEdBQUFnTixnQkFBQUcsWUFFQWpxQixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE9BR0ExQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLFNBRUEsQ0FFQSxJQUFBcEcsU0FBQSxDQUNBNkYsUUFBQXlwQixNQUFBdHBCLElBQ0F5cEIsT0FBQUgsTUFBQWxoQixXQUNBbE0sVUFBQTJKLGFBQUF2TSxNQUFBMEcsSUFDQXVJLE1BQUFpUyxHQUFBK08sY0FBQXZ1QixPQUFBLFNBQUFDLElBQUE4RSxHQUNBLElBQUFxTixJQUFBLENBQ0FyRixNQUFBaEksRUFBQWdJLE1BQ0FFLFlBQUFsSSxFQUFBa0ksWUFDQUosT0FBQTlILEVBQUE4SCxRQUdBLE9BREE1TSxJQUFBdUYsS0FBQTRNLEtBQ0FuUyxLQUNBLEtBRUFpRSxXQUNBd3FCLGtCQUFBMXZCLFVBQ0F1RCxLQUFBLFNBQUFDLE1BQ0ExRSxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsU0FDQWpCLFdBQ0FqRCxvQkFBQTRKLGFBQUF2TSxNQUFBMEcsS0FDQXpDLEtBQUEsU0FBQUMsTUFDQSxJQUFBbXFCLFVBQUFucUIsS0FBQXBELEtBQUFBLEtBQ0F6QixvQkFBQWIsSUFDQSxrQkFDQStOLGFBQUF2TSxNQUFBMEcsS0FFQXJILG9CQUFBYixJQUFBLFlBQUE2dkIsV0FDQW5OLEdBQUFnTixnQkFBQUcsWUFFQWpxQixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE9BR0ExQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLFNBR0EsU0FBQVcsTUFDQXNaLEVBQUEsK0NBQUFDLElBQUEsVUFBQSxRQUNBRCxFQUFBLG9CQUFBQyxJQUFBLGFBQUEsZUExeEJBLEdDQUEsV0FDQTVqQixRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGdCQUVBLFNBQ0F5aEIsT0FDQUMsU0FDQUMsWUFDQXhoQixPQUNBeUcsV0FDQXBHLGFBQ0FvaEIsTUFDQXRoQixRQUNBRCxxQkFFQSxJQUVBaUIsT0FBQWhCLFFBQUFnQixPQUVBcWdCLFlBQUF2YixhQUNBOUUsU0FMQU0sS0FTQU4sT0FBQSxXQUNBQSxZQXhCQSxHQ0FBLFdBQ0FsRCxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGdCQUVBLFNBQ0F5aEIsT0FDQUMsU0FDQUMsWUFDQXhoQixPQUNBeUcsV0FDQXBHLGFBQ0FGLFFBQ0FDLFFBSUEsSUFBQTJoQixHQUFBdGdCLEtBQ0FOLE9BQUFoQixRQUFBZ0IsT0FBQUMsVUFBQWpCLFFBQUFpQixVQUNBLElBQUFvZ0IsWUFBQXZiLFlBRUEsWUFEQTlFLFNBR0F5Z0IsRUFBQSxnQkFBQWtPLE9BR0EvTixHQUFBalYsU0FBQTFMLFVBQUFQLE1BRUFraEIsR0FBQTVnQixPQUFBLFdBQ0FBLFVBR0F5Z0IsRUFBQSxpQkFBQUUsWUFDQXJiLFdBQ0F6QyxvQkFDQWMsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQW1QLFVBQUFuc0IsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsS0FJQW9hLEdBQUErQixVQUFBLENBQ0FDLFFBQUEsRUFDQTlDLE1BQUEsRUFDQXdDLFVBQUEsR0FFQTdCLEVBQUEsa0JBQUFFLFlBRUFSLE9BQUFhLGdCQUFBLEVBRUFKLEdBQUFLLFlBQUEsRUFFQUwsR0FBQU0sVUFBQSxDQUNBOE8sV0FBQSxFQUNBdkssY0FBQSxFQUNBSSxZQUFBLEVBQ0FvSyxXQUFBLEVBQ0E3ckIsTUFBQSxHQUVBd2MsR0FBQXhVLFdBQUEsR0FDQXdVLEdBQUFzUCxjQUFBLFNBQUFsckIsV0FFQXhGLElBQUFvaEIsR0FBQU0sVUFBQWxjLE1BQ0E0YixHQUFBTSxVQUFBbGMsT0FBQSxFQUNBNGIsR0FBQU0sVUFBQWxjLE9BQUE0YixHQUFBTSxVQUFBbGMsTUFFQU0sV0FDQXpDLGtCQUFBLENBQ0E0RyxLQUFBLEVBQ0E2VCxNQUFBLEdBQ0FxRSxLQUFBM2MsS0FDQTRjLE9BQUFoQixHQUFBeFUsV0FDQXlWLFNBQUFqQixHQUFBTSxVQUFBbGMsUUFFQXJCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUFtUCxVQUFBbnNCLEtBQUFwRCxLQUFBdWhCLEtBQ0FuQixHQUFBdVAsZUFBQXZzQixLQUFBcEQsS0FBQXloQixNQUNBN0IsU0FBQSxXQUNBSyxFQUFBLHdCQUFBeUIsV0FBQSxDQUNBMWMsTUFBQW9iLEdBQUF1UCxlQUNBaE8sWUFBQSxHQUNBQyxTQUFBLGNBQ0FDLGVBQUEsSUFDQUMsVUFBQSxFQUNBckIsWUFBQSxFQUNBc0IsWUFBQSxTQUFBOVksS0FBQXdOLE9BQ0FBLE1BQUF1TCxpQkFDQWxkLFdBQ0F6QyxrQkFBQSxDQUNBNEcsS0FBQUEsS0FDQTZULE1BQUEsR0FDQXFFLEtBQUEzYyxLQUNBNmMsU0FBQWpCLEdBQUFNLFVBQUFsYyxRQUVBckIsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQW1QLFVBQUFuc0IsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsWUFNQTFDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFJQW9hLEdBQUF3UCxnQkFBQSxTQUFBMWpCLE1BQ0FwSCxXQUNBekMsa0JBQUEsQ0FDQTRHLEtBQUEsRUFDQTZULE1BQUEsR0FDQXNFLE9BQUFsVixLQUNBaVYsS0FBQSxjQUNBRSxVQUFBLElBRUFsZSxLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBbVAsVUFBQW5zQixLQUFBcEQsS0FBQXVoQixLQUNBbkIsR0FBQXVQLGVBQUF2c0IsS0FBQXBELEtBQUF5aEIsTUFDQTdCLFNBQUEsV0FDQUssRUFBQSx3QkFBQXlCLFdBQUEsQ0FDQTFjLE1BQUFvYixHQUFBdVAsZUFDQWhPLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXJCLFlBQUEsRUFDQXNCLFlBQUEsU0FBQTlZLEtBQUF3TixPQUNBQSxNQUFBdUwsaUJBQ0FsZCxXQUNBekMsa0JBQUEsQ0FDQTRHLEtBQUFBLEtBQ0E2VCxNQUFBLEdBQ0FxRSxLQUFBM2MsS0FDQTZjLFNBQUFqQixHQUFBTSxVQUFBbGMsUUFFQXJCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUFtUCxVQUFBbnNCLEtBQUFwRCxLQUFBdWhCLE9BRUFqZSxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLFlBTUExQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BS0FvYSxHQUFBc1AsY0FBQSxhQUtBdFAsR0FBQXlQLFlBQUEsQ0FDQUMsaUJBQUEsR0FHQTFQLEdBQUEyUCxZQUFBLENBQ0FDLFNBQUEsR0FHQWxyQixXQUNBMUUsZUFBQWdnQixHQUFBalYsU0FBQTlLLFdBQ0E4QyxLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBN1UsWUFBQW5JLEtBQUFwRCxLQUNBb2dCLEdBQUF5UCxZQUFBSSxTQUFBN1AsR0FBQTdVLFlBQUEya0IsZ0JBQUFyTSxlQUVBMWdCLEtBQUEsU0FBQTZDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsS0FHQW9hLEdBQUF0ZCxtQkFBQSxTQUFBcXRCLEtBQUFDLElBQ0EsSUFBQUMsYUFBQSxDQUNBRixLQUFBQSxLQUNBQyxHQUFBQSxJQUVBdHJCLFdBQ0FoQyxtQkFBQXV0QixjQUNBbHRCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUF5UCxZQUFBQyxpQkFBQTFzQixLQUFBcEQsS0FBQTh2QixtQkFFQXhzQixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BSUFvYSxHQUFBaFUsT0FBQTVOLFFBQUE0TixPQUVBNU4sUUFBQTZOLGNBQUFsSixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBa1EsV0FBQWx0QixLQUFBcEQsT0FHQW9nQixHQUFBbVEsU0FBQSxnQkFFQXZ4QixJQUFBb2hCLEdBQUF5UCxZQUFBVyxjQUNBLE1BQUFwUSxHQUFBeVAsWUFBQVcsbUJBR0F4eEIsSUFBQW9oQixHQUFBeVAsWUFBQVksY0FDQSxNQUFBclEsR0FBQXlQLFlBQUFZLG1CQUdBenhCLElBQUFvaEIsR0FBQXlQLFlBQUFJLFVBQ0EsS0FBQTdQLEdBQUF5UCxZQUFBSSxlQUdBanhCLElBQUFvaEIsR0FBQXlQLFlBQUFDLGtCQUNBLEtBQUExUCxHQUFBeVAsWUFBQUMsa0JBRUE3UCxFQUFBLDZCQUFBb0gsS0FDQSxRQUNBLG9EQUVBcEgsRUFBQSxnQ0FBQWtPLE9BQ0FsTyxFQUFBLHFCQUFBb0gsS0FBQSxZQUFBLEtBMEJBcEgsRUFBQSw2QkFBQW9ILEtBQ0EsUUFDQSw0Q0FFQXBILEVBQUEsZ0NBQUE5TSxPQUNBOE0sRUFBQSxxQkFBQW9ILEtBQUEsWUFBQSxLQUlBakgsR0FBQXNRLGdCQUFBLFdBRUExeEIsTUFBQW9oQixHQUFBeVAsWUFBQVcsY0FDQSxLQUFBcFEsR0FBQXlQLFlBQUFXLGFBT0F4eEIsTUFBQW9oQixHQUFBeVAsWUFBQVksY0FDQSxLQUFBclEsR0FBQXlQLFlBQUFZLGFBT0F6eEIsTUFBQW9oQixHQUFBeVAsWUFBQUksVUFDQSxLQUFBN1AsR0FBQXlQLFlBQUFJLFNBTUF0USxPQUFBYSxnQkFBQSxFQUpBOWhCLGFBQUF3TSxNQUFBLDBCQVJBeE0sYUFBQXdNLE1BQUEsK0JBUkF4TSxhQUFBd00sTUFBQSwrQkF1QkFrVixHQUFBdVEsV0FBQSxTQUFBQyxLQUFBQyxnQkFDQSxPQUFBRCxLQUFBQyxnQkFHQXpRLEdBQUEwUSxtQkFBQSxXQUNBLElBQUE1SCxTQUFBLENBQ0F0bEIsS0FBQXdjLEdBQUF5UCxZQUFBVyxhQUNBemQsS0FBQXFOLEdBQUF5UCxZQUFBWSxhQUNBTSxlQUFBLENBQ0Eva0IsTUFBQW9VLEdBQUF1USxXQUNBdlEsR0FBQXlQLFlBQUFtQixtQkFDQTVRLEdBQUF5UCxZQUFBQyxrQkFFQWpNLGFBQUF6RCxHQUFBN1UsWUFBQTJrQixnQkFBQXJNLGNBRUF3QixXQUFBLENBQ0FyWixNQUFBb1UsR0FBQXVRLFdBQ0F2USxHQUFBeVAsWUFBQW9CLGdCQUNBN1EsR0FBQXlQLFlBQUFDLGtCQUVBak0sYUFBQXpELEdBQUE3VSxZQUFBMmtCLGdCQUFBck0sY0FFQTFmLE1BQUFpYyxHQUFBcUgsWUFHQTNpQixXQUNBNUMsZ0JBQUFnbkIsVUFDQS9sQixLQUFBLFNBQUFDLE1BQ0E2YyxFQUFBLGtCQUFBeUUsTUFBQSxRQUNBaG1CLGFBQUFvSCxRQUFBMUMsS0FBQXBELEtBQUErRixTQUNBcWEsR0FBQXNQLGNBQUEsYUFFQXRQLEdBQUF5UCxZQUFBLENBQ0FDLGlCQUFBLEtBR0F4c0IsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxRQWhVQSxHQ0FBLFdBQ0ExSixRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGtCQUVBLFNBQ0F5aEIsT0FDQXZoQixNQUNBd3JCLFFBQ0FoSyxTQUNBQyxZQUNBeGhCLE9BQ0F5RyxXQUNBcEcsYUFDQUYsUUFDQTB5QixtQkFDQUMsZUFJQSxJQUFBL1EsR0FBQXRnQixLQUVBTixPQUtBaEIsUUFMQWdCLE9BQ0FDLFVBSUFqQixRQUpBaUIsVUFDQWdNLGFBR0FqTixRQUhBaU4sYUFDQXFCLGFBRUF0TyxRQUZBc08sYUFHQS9ILFdBREF2RyxRQURBNHlCLGdCQUVBRixtQkFBQW5zQixXQUNBLElBQUE4YSxZQUFBdmIsWUFFQSxZQURBOUUsU0FLQTRnQixHQUFBalYsU0FBQTFMLFVBQUFQLE1BQ0FraEIsR0FBQTVnQixPQUFBLFdBQ0FBLFVBR0FzRixXQUNBdkUsa0JBQ0E0QyxLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBZ0ssWUFBQWhuQixLQUFBcEQsS0FFQSxJQUFBOHJCLGdCQUFBcmdCLGFBQUF2TSxNQUVBa2hCLEdBQUEwTCxnQkFBQUEsZ0JBQUFsbUIsSUFFQXdhLEdBQUFpUixrQkFBQXZGLG1CQUdBeG9CLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsS0FHQW9hLEdBQUFpTixZQUFBLEdBRUFqTixHQUFBa1IsY0FBQTdsQixhQUFBdk0sTUFBQW95QixjQUVBbFIsR0FBQW1SLFlBQUEsQ0FDQUMsV0FBQSxHQUNBQyxRQUFBLEdBQ0F0dEIsTUFBQSxJQUdBaWMsR0FBQXNSLGlCQUFBLFNBQUFDLFVBQ0EsSUFBQUMsWUFBQUQsU0FBQUUsT0FBQUMsT0FDQUMsVUFBQUEsRUFTQSxNQVBBLE9BQUFockIsS0FBQTZxQixhQUNBRyxLQUFBLE1BQ0EsTUFBQWhyQixLQUFBNnFCLGFBQ0FHLEtBQUEsTUFDQSxNQUFBaHJCLEtBQUE2cUIsZUFDQUcsS0FBQSxPQUVBQSxNQUVBM1IsR0FBQXFOLFVBQUEsRUFDQXJOLEdBQUFpUixrQkFBQSxTQUFBdkYsZ0JBQUF2SyxNQUNBQSxLQUVBOVYsYUFBQS9OLElBQ0E2akIsS0FBQXBaLE9BQUEsU0FBQXhDLEdBQ0EsT0FBQUEsRUFBQUMsTUFBQWttQixrQkFJQSxJQUdBcmdCLGFBQUEvTixJQUFBb3VCLGlCQUdBMUwsR0FBQWtSLGNBQUE3bEIsYUFBQXZNLE1BQUFveUIsY0FFQXZ1QixRQUFBa0wsSUFBQSxDQUNBbkosV0FBQTBvQixhQUFBL2hCLGFBQUF2TSxNQUFBMEcsS0FDQWQsV0FBQWt0QixrQkFBQXZtQixhQUFBdk0sTUFBQTBHLE9BRUF6QyxLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBcU4sVUFBQSxFQUNBck4sR0FBQWlOLFlBQUFqcUIsS0FBQSxHQUFBcEQsS0FBQUEsS0FBQTB0QixZQUNBdE4sR0FBQXdMLGFBQUF4b0IsS0FBQSxHQUFBcEQsS0FBQUEsS0FDQW9nQixHQUFBNlIsd0JBQUEsU0FBQTFQLFFBQ0EsT0FBQSxJQUFBeGYsUUFBQSxTQUFBQyxRQUFBQyxRQUNBRCxRQUFBb2QsR0FBQXdMLG1CQUlBdG9CLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFPQW9hLEdBQUE4UixVQUFBLFNBQUF0d0IsSUFDQWtELFdBQ0FxdEIscUJBQUF2d0IsSUFDQXVCLEtBQUEsU0FBQUMsTUFDQS9CLFFBQUFDLElBQUE4QixLQUFBcEQsUUFFQXNELE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFNQSxJQUFBb3NCLGdCQUFBdGxCLGVBRUFzVCxHQUFBaVMsWUFBQSxDQUNBQyxPQUFBLFNBQUFoekIsT0FBQWl6QixLQUFBQyxXQUNBLE9BQUFsekIsT0FBQTZILE9BQ0FpckIsZ0JBQUFybEIsTUFBQXdsQixPQUNBLElBSUFFLFNBQUEsU0FBQWhjLE9BQUEsSUFDQW5YLE9BQUFtWCxNQUFBblgsT0FBQW1YLE1BQUE4YixLQUVBLEdBQUFqekIsT0FBQW96QixVQUFBdnJCLEtBQUEsQ0FFQSxJQUFBd3JCLFlBQUFQLGdCQUFBbHpCLE1BQ0EsSUFBQXl6QixZQUFBQyxXQUVBLE9BRUEsSUFBQWh6QixRQUFBLENBQ0E2RixRQUFBbkcsT0FBQW96QixVQUFBdnJCLEtBQUF2QixJQUNBQyxTQUFBdkcsT0FBQW96QixVQUFBRyxRQUFBRCxXQUFBRSxZQUFBbHRCLElBQ0FQLE9BQUFzdEIsWUFBQUMsV0FBQUUsWUFBQWx0QixLQUdBZCxXQUNBaXVCLFdBQUFuekIsU0FDQXVELEtBQUEsU0FBQUMsTUFDQTFFLGFBQUFvSCxRQUFBMUMsS0FBQXBELEtBQUErRixXQUVBekMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxLQUdBMnNCLFlBQUFDLFdBQUFFLFlBQUEzdUIsTUFDQXd1QixZQUFBQyxXQUFBRSxZQUFBM3VCLE1BQUFpQyxLQUNBOUcsT0FBQW96QixVQUFBdnJCLE1BR0F3ckIsWUFBQUMsV0FBQUUsWUFBQTN1QixNQUFBLENBQUE3RSxPQUFBb3pCLFVBQUF2ckIsTUFJQTdILE9BQUFvekIsVUFBQUcsUUFBQUQsV0FBQUUsWUFBQTN1QixNQUFBN0UsT0FBQW96QixVQUFBRyxRQUFBRCxXQUFBRSxZQUFBM3VCLE1BQUFnRSxPQUNBLFNBQUF4QyxHQUFBLE9BQUFBLEVBQUFDLE1BQUF0RyxPQUFBb3pCLFVBQUF2ckIsS0FBQXZCLFFBSUFvdEIsUUFBQSxTQUFBdmMsT0FBQSxJQUNBblgsT0FBQW1YLE1BQUFuWCxPQUFBaXpCLEtBQUE5YixNQUFBOGIsS0FDQTN5QixhQUFBQSxFQUtBLE9BQUEyeUIsS0FBQVUsV0FBQUwsWUFDQSxPQUFBdHpCLE9BQUFvekIsVUFBQVEsbUJBU0F0ekIsUUFKQSxPQUFBMnlCLEtBQUFVLFdBQUFMLFlBQ0EsT0FBQXR6QixPQUFBb3pCLFVBQUFRLGlCQUdBLENBQ0ExdUIsS0FBQSxFQUNBZixZQUFBbkUsT0FBQW96QixVQUFBSSxZQUFBbHRCLElBQ0F1dEIsU0FBQTd6QixPQUFBb3pCLFVBQUFRLGlCQUFBSixZQUFBbHRCLElBQ0E5RCxVQUFBMkosYUFBQXZNLE1BQUEwRyxLQUdBLE9BQUEyc0IsS0FBQVUsV0FBQUwsWUFDQSxPQUFBdHpCLE9BQUFvekIsVUFBQVEsaUJBR0EsQ0FDQTF1QixLQUFBLEVBQ0FmLFlBQUFuRSxPQUFBb3pCLFVBQUFJLFlBQUFsdEIsSUFDQTlELFVBQUEySixhQUFBdk0sTUFBQTBHLElBQ0FQLE9BQUFrdEIsS0FBQVUsV0FBQUwsV0FBQUUsWUFBQWx0QixLQUlBLENBQ0FwQixLQUFBLEVBQ0FmLFlBQUFuRSxPQUFBb3pCLFVBQUFJLFlBQUFsdEIsSUFDQXV0QixTQUFBN3pCLE9BQUFvekIsVUFBQVEsaUJBQUFKLFlBQUFsdEIsSUFDQVAsT0FBQWt0QixLQUFBVSxXQUFBTCxXQUFBRSxZQUFBbHRCLEtBSUFkLFdBQ0FzdUIsY0FBQXh6QixTQUNBdUQsS0FBQSxTQUFBQyxNQUNBMUUsYUFBQW9ILFFBQUExQyxLQUFBcEQsS0FBQStGLFdBRUF6QyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLFFBS0EsSUFBQXF0QixnQkFBQXZtQixlQUVBc1QsR0FBQWtULGNBQUEsU0FBQXRnQixLQUNBcWdCLGdCQUFBdG1CLE1BQUFpRyxNQUlBb04sR0FBQW1ULGtCQUFBLEVBQ0F0VCxFQUFBLGFBQUF2UCxHQUFBLGdCQUFBLFdBQ0EwUCxHQUFBK0csVUFBQSxHQUNBL0csR0FBQW1ULGtCQUFBLElBR0FuVCxHQUFBb1QsaUJBQUEsU0FBQTV2QixLQUFBOUIsV0FDQSxJQUFBbEMsUUFBQSxDQUNBZ0UsS0FBQUEsS0FDQTZ2QixVQUFBLEVBQ0EzeEIsVUFBQUEsV0FFQTR4QixRQUFBTCxnQkFBQW4wQixNQUNBK2dCLEVBQUEsYUFBQXlFLE1BQUEsUUFDQTVmLFdBQ0E2dUIsYUFBQS96QixTQUNBdUQsS0FBQSxTQUFBQyxNQUNBc3dCLFFBQUFFLFlBQUFkLFlBQUExc0IsS0FBQWhELEtBQUFwRCxLQUFBQSxNQUNBdEIsYUFBQW9ILFFBQUExQyxLQUFBcEQsS0FBQStGLFNBQ0ExRSxRQUFBQyxJQUFBLGFBQUEreEIsZ0JBQUFuMEIsU0FFQW9FLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFJQW9hLEdBQUF5VCxhQUFBLFNBQUF2MEIsT0FBQTBULEtBQ0FvTixHQUFBMFQsZUFBQXgwQixPQUNBOGdCLEdBQUFzVCxRQUFBMWdCLElBQ0FpTixFQUFBLGFBQUF5RSxNQUFBLFNBR0F0RSxHQUFBMlQsWUFBQSxFQUVBM1QsR0FBQTRULGFBQUEsU0FBQUMsT0FBQWxDLEtBQUFtQyxNQUNBRCxPQUFBbkIsWUFBQXFCLFNBS0FsVSxFQUFBZ1UsT0FBQUcsV0FBQUMsU0FBQSxJQUNBdFksS0FBQSxnQkFDQXVFLFlBQUEsZUFDQUwsRUFBQWdVLE9BQUFJLFNBQUEsSUFDQXRZLEtBQUEsUUFDQXVZLFFBQ0EvVCxTQUFBLGVBRUFILEdBQUEyVCxZQUFBLEVBQ0FqdkIsV0FDQXl2QixjQUFBTixPQUFBbkIsWUFBQWx0QixLQUNBekMsS0FBQSxTQUFBQyxNQUVBZ2QsR0FBQW1SLFlBQUEsQ0FDQUMsV0FBQXlDLE9BQ0F4QyxRQUFBd0MsT0FBQW5CLFlBQUF4VSxTQUNBbmEsTUFBQWYsS0FBQXBELEtBQUFtRSxPQUdBaWMsR0FBQW9VLGVBQUFweEIsS0FBQXBELEtBQUF5MEIsWUFDQXJVLEdBQUEyVCxZQUFBLEVBQ0FFLE9BQUFuQixZQUFBM3VCLE1BQUFmLEtBQUFwRCxLQUFBbUUsTUFDQThCLGdCQUFBRyxLQUFBNnRCLFVBRUEzd0IsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxLQUVBaXVCLE9BQUFTLFVBQ0FULE9BQUExdEIsU0FDQXdyQixNQUNBOXJCLGdCQUFBRyxLQUFBNnRCLFVBS0EsSUFBQWh1QixnQkFBQWlyQixtQkFBQWpyQixrQkFFQW1hLEdBQUF1VSxTQUFBLFNBQUFydUIsU0FDQSxJQUFBMnRCLE9BQUEzdEIsUUFDQUwsZ0JBQUFLLFVBQ0FMLGdCQUFBTyxXQUdBeXRCLFNBQ0E3VCxHQUFBMlQsWUFBQSxFQUNBanZCLFdBQ0F5dkIsY0FBQU4sT0FBQW5CLFlBQUFsdEIsS0FDQXpDLEtBQUEsU0FBQUMsTUFFQWdkLEdBQUFtUixZQUFBLENBQ0FDLFdBQUF5QyxPQUNBeEMsUUFBQXdDLE9BQUFuQixZQUFBeFUsU0FDQW5hLE1BQUFmLEtBQUFwRCxLQUFBbUUsT0FFQWljLEdBQUEyVCxZQUFBLEVBQ0FFLE9BQUFuQixZQUFBM3VCLE1BQUFmLEtBQUFwRCxLQUFBbUUsUUFFQWIsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxPQUtBb2EsR0FBQXdVLFdBQUEsU0FBQWh6QixJQUVBLElBQUE0dkIsV0FBQXBSLEdBQUFtUixZQUFBQyxXQUNBcUQsYUFDQWowQixPQUFBLFNBQUFDLElBQUE4RSxHQUlBLE9BSEFBLEVBQUFtdEIsWUFBQWx0QixNQUFBaEUsS0FDQWYsSUFBQThFLEdBRUE5RSxLQUNBLE1BRUF1ZixHQUFBMlQsWUFBQSxFQUNBanZCLFdBQ0F5dkIsY0FBQTN5QixJQUNBdUIsS0FBQSxTQUFBQyxNQUNBNkMsZ0JBQUFHLEtBQUFvckIsWUFFQXBSLEdBQUFtUixZQUFBLENBQ0FDLFdBQUFBLFdBQ0FDLFFBQUFydUIsS0FBQXBELEtBQUF5eEIsUUFDQXR0QixNQUFBZixLQUFBcEQsS0FBQW1FLE9BRUFpYyxHQUFBb1UsZUFBQXB4QixLQUFBcEQsS0FBQXkwQixZQUNBclUsR0FBQTJULFlBQUEsSUFFQXp3QixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BSUFvYSxHQUFBMFUsVUFBQSxTQUFBbHhCLEtBQUFxd0IsUUFDQWhVLEVBQUEsYUFBQXlFLE1BQUEsUUFDQSxJQUFBOWtCLFFBQUEsQ0FDQWdFLEtBQUFBLEtBQ0E2dkIsVUFBQSxFQUNBc0IsT0FBQWQsUUFFQW52QixXQUNBNnVCLGFBQUEvekIsU0FDQXVELEtBQUEsU0FBQUMsTUFDQTZ3QixPQUFBM1YsU0FBQWxZLEtBQUFoRCxLQUFBcEQsS0FBQUEsTUFDQXRCLGFBQUFvSCxRQUFBMUMsS0FBQXBELEtBQUErRixXQUVBekMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQUlBb2EsR0FBQTRVLG1CQUFBLFNBQUFDLE9BQUFoQixRQUNBaFUsRUFBQSxhQUFBeUUsTUFBQSxRQUNBLElBQUFqZixRQUFBd3ZCLE9BQUF2dkIsSUFBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFDLE1BQ0FuQyxZQUFBd3dCLE9BQUFydUIsSUFDQWQsV0FDQWt3QixtQkFBQSxDQUNBdnZCLFFBQUFBLFFBQ0FoQyxZQUFBQSxjQUVBTixLQUFBLFNBQUFDLE1BQ0EvQixRQUFBQyxJQUFBOEIsTUFDQTFFLGFBQUFvSCxRQUFBMUMsS0FBQXBELEtBQUErRixXQUVBekMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQUlBb2EsR0FBQThVLFdBQUEsU0FBQXR6QixHQUFBNHZCLFlBQ0F2UixFQUFBLGFBQUF5RSxNQUFBLFFBQ0E1ZixXQUNBcXdCLGFBQUEsQ0FDQTF2QixRQUFBN0QsS0FFQXVCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUEyVCxZQUFBLEVBQ0FqdkIsV0FDQXl2QixjQUFBL0MsV0FBQXNCLFlBQUFsdEIsS0FDQXpDLEtBQUEsU0FBQUMsTUFFQWdkLEdBQUFtUixZQUFBLENBQ0FDLFdBQUFBLFdBQ0FDLFFBQUFELFdBQUFzQixZQUFBeFUsU0FDQW5hLE1BQUFmLEtBQUFwRCxLQUFBbUUsT0FFQWljLEdBQUEyVCxZQUFBLEVBQ0F2QyxXQUFBc0IsWUFBQTN1QixNQUFBZixLQUFBcEQsS0FBQW1FLFFBRUFiLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsT0FHQTFDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFLQW9hLEdBQUFnVixhQUFBLEVBQ0FoVixHQUFBaVYsY0FBQSxFQUVBalYsR0FBQTZHLFlBQUEsU0FBQTlpQixNQUFBc1MsT0FFQSxJQUFBeVEsUUFBQXpRLE1BQUErSCxPQUFBcmEsTUFDQWljLEdBQUFnVixhQUFBLEVBQ0FoVixHQUFBaVYsY0FBQSxFQUVBalYsR0FBQStHLFVBQUF6bUIsT0FBQUMsS0FBQXVtQixTQUFBeGhCLElBQUEsU0FBQUMsR0FDQSxJQUFBZ0IsSUFBQXVnQixRQUFBdmhCLEdBTUEsT0FMQWdCLElBQUFwSCxTQUFBLEVBQ0FvSCxJQUFBOEksVUFBQSxFQUNBOUksSUFBQVksV0FBQSxFQUNBWixJQUFBYSxTQUFBLEVBQ0FiLElBQUFpbkIsTUFBQSxFQUNBam5CLE9BR0F5WixHQUFBa1YseUJBQUEsU0FBQTN1QixLQUNBeVosR0FBQW1WLG9CQUFBNXVCLEtBZ0JBeVosR0FBQW9WLFVBQUEsU0FBQXJ4QixNQUFBOHZCLFFBQ0E1eUIsUUFBQUMsSUFBQTZDLE9BQ0E4YixFQUFBLGFBQUF5RSxNQUFBLFFBQ0F3TSxtQkFDQXpwQixvQkFBQXRELE1BQUE4dkIsT0FBQXJ1QixLQUNBekMsS0FBQSxTQUFBc3lCLFdBQ0FBLFVBQUExdEIsV0FBQXpDLFFBQ0E4YSxHQUFBc1YsZUFBQUQsVUFDQXAwQixRQUFBQyxJQUFBOGUsR0FBQXNWLGdCQUNBelYsRUFBQSxvQkFBQXlFLE1BQUEsVUFFQXJqQixRQUFBQyxJQUFBbTBCLFdBQ0FyVixHQUFBdVYsV0FBQUYsVUFBQWhxQixhQUFBdk0sTUFBQTBHLElBQUFxdUIsV0FHQTN3QixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BSUFvYSxHQUFBd1YseUJBQUEsU0FBQXp1QixNQUNBLFlBQUFBLEtBQUFVLE9BQ0FWLEtBQUFXLFVBQUFvcEIsbUJBQUE5b0IsZ0JBQUFqQixLQUFBdkQsTUFFQXVELEtBQUFXLFVBQUFYLEtBQUF2RCxNQUlBd2MsR0FBQXVWLFdBQUEsU0FBQXh4QixNQUFBckMsVUFBQW15QixRQUVBLEdBQUEvQyxtQkFBQWhwQixnQkFBQS9ELE1BQUE0RCxZQUNBckosYUFBQTZHLFFBQUEscUNBOEZBLEdBMUZBMGEsRUFBQSxvQkFBQXlFLE1BQUEsUUFDQXZnQixNQUFBQSxHQUFBQSxPQUFBQSxtQkFBQUEsTUFBQTRELFlBQUFxRixtQkFBQWpKLE1BQUE4RCxjQUNBbVksR0FBQWdWLGFBQUEsRUFDQW5WLEVBQUEsYUFBQXlFLE1BQUEsUUFDQXRFLEdBQUF5VixnQkFBQTNFLG1CQUFBdHFCLGlCQUFBekMsT0FFQTdILFFBQUFnTCxRQUFBOFksR0FBQXlWLGdCQUFBNXVCLEdBQUEsU0FBQXRCLEdBaUZBd3JCLGNBQUFqdUIsTUEvRUEsU0FBQTR5QixXQUVBbndCLEVBQUE0SixNQUFBNGhCLGNBQUE1aEIsTUFBQXdtQixLQUFBRCxVQUFBbndCLEdBQ0FBLEVBQUErSixPQUFBeWhCLGNBQUF6aEIsT0FBQXFtQixLQUFBRCxVQUFBbndCLEdBQ0FBLEVBQUFnSyxNQUFBd2hCLGNBQUF4aEIsTUFBQW9tQixLQUFBRCxVQUFBbndCLEdBQ0EsSUFBQXF3QixVQUFBLENBQ0FweUIsS0FBQStCLEVBQUEvQixLQUNBdUQsS0FBQXhCLEVBQ0FwRyxTQUFBLFNBQUEwMkIsRUFBQUMsT0FHQXZ3QixFQUFBcEcsU0FDQW9HLEVBQUFwRyxTQUFBOFosS0FBQThjLE1BQUEsSUFBQUYsR0FDQXR3QixFQUFBcEcsU0FDQThaLEtBQUE4YyxNQUFBLElBQUFGLEdBRUE3VixHQUFBaVYsYUFBQW5FLG1CQUFBOXBCLHNCQUNBZ1osR0FBQXlWLGlCQUdBalcsU0FBQSxXQUNBRCxPQUFBa1AsWUFHQXhyQixTQUFBLFNBQUEreUIsS0FBQUMsUUFDQTF3QixFQUFBNEIsV0FBQSxFQUVBcVksU0FBQSxXQUNBRCxPQUFBa1AsV0FFQXh0QixRQUFBQyxJQUFBLGVBSUF3MEIsVUFBQTloQixJQUFBZ2lCLFdBQUE3eUIsS0FDQSxTQUFBbXpCLGNBRUEsSUFBQTEyQixRQUFBLENBQ0E0RSxLQUFBMHNCLG1CQUFBaHFCLGdCQUFBdkIsR0FDQTdELFVBQUEySixhQUFBdk0sTUFBQTBHLElBQ0Eyd0IsU0FBQXRDLE9BQUFydUIsSUFDQTR3QixVQUFBLENBQ0ExdUIsVUFBQW5DLEVBQUFtQyxVQUNBeUcsT0FBQSxjQUNBelIsSUFBQUEsUUFBQTZJLEVBQUEvQixLQUNBNnlCLFNBQUE5d0IsRUFBQW5CLEtBQ0FreUIsTUFBQS93QixFQUFBbUIsS0FDQThuQixhQUFBanBCLEVBQUFpb0IsT0FHQTlvQixXQUNBNnhCLGNBQUEvMkIsU0FDQXVELEtBQUEsU0FBQUMsTUFDQTZ3QixRQUNBQSxPQUFBOXZCLE1BQUFpQyxLQUFBaEQsS0FBQXBELEtBQUFBLFFBR0FzRCxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLEtBRUF0SCxhQUFBb0gsUUFBQSw4QkFDQXpFLFFBQUFDLElBQUEsaUNBQUFnMUIsZUFFQSxTQUFBTSxRQUVBanhCLEVBQUE2QixTQUFBLEVBRUE0WSxHQUFBaVYsYUFBQW5FLG1CQUFBOXBCLHNCQUNBZ1osR0FBQXlWLGlCQUdBalcsU0FBQSxXQUNBRCxPQUFBa1AsV0FFQXh0QixRQUFBQyxJQUFBLG1DQUFBczFCLGNBUUF4VyxHQUFBeVYsZ0JBQUE3dUIsV0FBQTFCLE9BQUEsQ0FDQSxJQUFBdXhCLGtCQUFBLENBQ0ExeUIsTUFBQWljLEdBQUF5VixnQkFBQTd1QixXQUVBVyxXQUFBeVksR0FBQXlWLGdCQUFBN3VCLFdBQUF0QixJQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQW1DLFlBQ0FoRyxVQUFBQSxVQUNBMkIsWUFBQXd3QixPQUFBcnVCLEtBR0FkLFdBQ0FneUIsd0JBQUFELG1CQUNBMXpCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUF5VixnQkFBQTd1QixXQUFBb1osR0FBQXlWLGdCQUFBN3VCLFdBQUF0QixJQUNBLFNBQUFDLEdBRUEsT0FEQUEsRUFBQTRCLFdBQUEsRUFDQTVCLElBSUF5YSxHQUFBaVYsYUFBQW5FLG1CQUFBOXBCLHNCQUNBZ1osR0FBQXlWLGlCQUdBalcsU0FBQSxXQUNBRCxPQUFBa1AsV0FHQW9GLFFBQ0E3d0IsS0FBQXBELEtBQUFBLEtBQUFzSCxRQUFBLFNBQUEzQixHQUNBc3VCLE9BQUE5dkIsTUFBQWlDLEtBQUFULEtBSUFqSCxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsV0FFQXpDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsT0FLQW9hLEdBQUEyVyxnQkFBQSxXQUNBM1csR0FBQWdWLGFBQUEsR0FHQWhWLEdBQUE0VyxTQUFBLFNBQUE3dkIsTUFDQThZLEVBQUEsYUFBQXlFLE1BQUEsUUFDQXRFLEdBQUE2VyxZQUFBOXZCLEtBQ0FpWixHQUFBNlcsWUFBQUMsVUFDQSxRQUFBL3ZCLEtBQUEwcUIsT0FDQTFxQixLQUFBNkcsV0FBQU4sUUFBQSxRQUFBLFFBQ0F2RyxLQUFBNkcsWUFLQW9TLEdBQUErVyxhQUFBLEVBQ0EvVyxHQUFBZ1gsV0FBQSxTQUFBL3ZCLE1BQ0ErWSxHQUFBK1csWUFBQTl2QixNQUlBc1ksT0FBQTJPLGFBQUEsRUFDQWxPLEdBQUFpWCxtQkFBQSxDQUNBQyxTQUFBLENBQ0EsQ0FDQXByQixLQUFBLGdCQUNBN0IsTUFBQSxTQUFBa3RCLFdBQUFDLE9BQUFDLFdBQUF2ckIsS0FBQXdyQixLQUNBdFgsR0FBQW1SLFlBQUFDLFdBQ0F6c0IsVUFDQUssTUFBQWdiLEdBQUFtUixZQUFBQyxXQUFBc0IsWUFBQWx0QixLQUNBekMsS0FBQSxTQUFBQyxNQUNBQSxNQUNBMEIsV0FDQXl2QixjQUFBblUsR0FBQW1SLFlBQUFDLFdBQUFzQixZQUFBbHRCLEtBQ0F6QyxLQUFBLFNBQUFDLE1BRUFnZCxHQUFBbVIsWUFBQSxDQUNBQyxXQUFBcFIsR0FBQW1SLFlBQUFDLFdBQ0FDLFFBQUFydUIsS0FBQXBELEtBQUF5eEIsUUFDQXR0QixNQUFBZixLQUFBcEQsS0FBQW1FLFNBR0FiLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsT0FJQTFDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsS0FHQXRILGFBQUE2RyxRQUFBLHlDQUtBNEIsS0FBQSxDQUNBLENBQ0ErRSxLQUFBLE9BQ0E3QixNQUFBLFNBQUFrdEIsV0FBQUMsT0FBQUMsV0FBQXZyQixLQUFBd3JCLEtBQ0EzeUIsVUFBQUUsS0FBQXN5QixXQUFBcHdCLFFBR0EsQ0FDQStFLEtBQUEsTUFDQTdCLE1BQUEsU0FBQWt0QixXQUFBQyxPQUFBQyxXQUFBdnJCLEtBQUF3ckIsS0FDQTN5QixVQUFBSSxJQUNBb3lCLFdBQUFwd0IsS0FDQWlaLEdBQUFtUixZQUFBQyxXQUFBc0IsWUFBQWx0QixPQUlBLENBQ0FzRyxLQUFBLFVBQ0E3QixNQUFBLFNBQUFrdEIsWUFDQW5YLEdBQUF1WCxTQUFBLEVBQ0F2WCxHQUFBMk4sY0FBQXp4QixRQUFBMkksS0FBQW1iLEdBQUFpTixhQUNBak4sR0FBQXdYLGlCQUFBTCxXQUFBcHdCLEtBQ0E4WSxFQUFBLFdBQUF5RSxNQUFBLFFBQ0F6RSxFQUFBLGVBQUE5TSxPQUNBOE0sRUFBQSxnQkFBQWtPLE9BQ0EvTixHQUFBZ08sT0FBQSxVQUNBek8sT0FBQTBPLFdBQUEsY0FDQSxlQUFBMU8sT0FBQTBPLFdBQ0ExTyxPQUFBMk8sYUFBQSxFQUVBM08sT0FBQTJPLGFBQUEsTUFNQWxPLEdBQUF5WCxnQkFBQSxTQUFBbHhCLEtBQ0F5WixHQUFBMFgsYUFBQW54QixJQUFBMlgsU0FDQThCLEdBQUFnTyxPQUFBem5CLElBQUEvQyxLQUNBcWMsRUFBQSxlQUFBa08sT0FDQWxPLEVBQUEsZ0JBQUE5TSxRQUVBd00sT0FBQTJPLGFBQUEsRUFDQSxlQUFBM08sT0FBQTBPLFdBQ0ExTyxPQUFBMk8sYUFBQSxFQUVBM08sT0FBQTJPLGFBQUEsRUFJQWxPLEdBQUEyWCxrQkFBQSxTQUFBbjBCLE1BQ0EsR0FBQUEsS0FFQSxDQUNBcWMsRUFBQSxzQkFBQXlFLE1BQUEsUUFDQSxJQUFBMWtCLEtBQUEsQ0FDQTRELEtBQUFBLE1BRUFrQixXQUNBaXpCLGtCQUFBdHNCLGFBQUF2TSxNQUFBMEcsSUFBQTVGLE1BQ0FtRCxLQUFBLFNBQUFDLE1BQ0ExRSxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsV0FFQTFFLFFBQUFDLElBQUEsU0FBQTBFLEdBQ0EzRSxRQUFBQyxJQUFBMEUsVUFaQXRILGFBQUF3TSxNQUFBLCtCQWlCQWtWLEdBQUF1SixpQkFBQSxHQUlBN2tCLFdBQ0E4aUIsdUJBQ0F6a0IsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQXlILGFBQUF6a0IsS0FBQXBELEtBQUFBLE9BRUFzRCxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLEtBR0FvYSxHQUFBc0osZUFBQSxXQUNBLElBQUExcEIsS0FBQSxDQUNBOEIsVUFBQTJKLGFBQUF2TSxNQUFBMEcsSUFDQXVqQixXQUFBL0ksR0FBQXVKLGlCQUFBL2pCLEtBRUFxYSxFQUFBLHdCQUFBeUUsTUFBQSxRQUNBNWYsV0FDQWt6QixzQkFBQWg0QixNQUNBbUQsS0FBQSxTQUFBQyxNQUNBMUUsYUFBQW9ILFFBQUExQyxLQUFBcEQsS0FBQStGLFNBQ0FxYSxHQUFBaVIsa0JBQUE1bEIsYUFBQXZNLE9BQ0E0RixXQUNBbXpCLGVBQUF4c0IsYUFBQXZNLE1BQUEwRyxLQUNBekMsS0FBQSxTQUFBQyxNQUNBcUksYUFBQS9OLElBQUEwRixLQUFBcEQsTUFDQW9nQixHQUFBa1IsY0FBQTdsQixhQUFBdk0sTUFBQW95QixnQkFFQWh1QixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE9BR0ExQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BSUFvYSxHQUFBOFgsaUJBQUEsRUFDQTlYLEdBQUErWCxpQkFBQSxFQUVBL1gsR0FBQWdZLGdCQUFBLFNBQUF6eEIsSUFBQTdKLEtBQ0FzakIsR0FBQXRqQixNQUFBNkosS0FHQXlaLEdBQUFzTCxpQkFBQSxTQUFBOXBCLElBRUFrRCxXQUFBNm1CLGlCQUFBL3BCLEdBREEsR0FDQXVCLEtBQUEsU0FBQTJwQixVQUNBMU0sR0FBQXdMLGFBQUFrQixTQUFBOXNCLEtBQUFBLFFBR0FvZ0IsR0FBQXNMLGlCQUFBamdCLGFBQUF2TSxNQUFBMEcsT0FuekJBLEdDQUEsV0FDQXRKLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsa0JBRUEsU0FDQXloQixPQUNBQyxTQUNBQyxZQUNBeGhCLE9BQ0FzbUIsYUFDQTdmLFdBQ0FwRyxhQUNBb2hCLE1BQ0F0aEIsUUFDQUQscUJBSUEsSUFBQTZoQixHQUFBdGdCLEtBQ0FOLE9BQUFoQixRQUFBZ0IsT0FBQUMsVUFBQWpCLFFBQUFpQixVQUNBb2dCLFlBQUF2YixhQUNBOUUsU0FFQTRnQixHQUFBalYsU0FBQTFMLFVBQUFQLE1BR0FraEIsR0FBQTVnQixPQUFBLFdBQ0FBLFVBRUE0Z0IsR0FBQWlZLFFBQUExVCxhQUFBL2lCLEdBR0ErZCxPQUFBYyxZQUFBLEVBQ0FkLE9BQUEyWSxhQUFBLEVBR0FsWSxHQUFBbVksZUFBQSxXQUNBenpCLFdBQ0FyRCxhQUFBMmUsR0FBQWlZLFNBQ0FsMUIsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQW9ZLFVBQUFwMUIsS0FBQXBELEtBQ0FvZ0IsR0FBQXFZLFdBQUFyWSxHQUFBb1ksVUFBQUUsU0FBQXB6QixPQUNBcWEsT0FBQWdaLGNBQUF2WSxHQUFBb1ksVUFBQUUsU0FBQUUsVUFDQWpaLE9BQUFrWixnQkFBQXpZLEdBQUFvWSxVQUFBTSxjQUFBRixVQUVBeFksR0FBQTJZLFlBQUFwWixPQUFBZ1osY0FBQTUzQixNQUFBLEVBQUEsR0FDQXFmLEdBQUE0WSxjQUFBclosT0FBQWtaLGdCQUFBOTNCLE1BQUEsRUFBQSxHQUNBNmUsU0FBQSxXQUNBSyxFQUFBLGVBQUF5QixXQUFBLENBQ0ExYyxNQUFBb2IsR0FBQXFZLFdBQ0E5VyxZQUFBaEMsT0FBQTJZLGFBQ0ExVyxTQUFBLGNBQ0FDLGVBQUEsSUFDQUMsVUFBQSxFQUNBckIsWUFBQSxFQUVBc0IsWUFBQSxTQUFBOVksS0FBQXdOLE9BQ0FBLE1BQUF1TCxpQkE0QkEsU0FBQS9ZLE1BRUEsSUFBQWd3QixVQUFBN1ksR0FBQW9ZLFVBQUFFLFNBQUEzM0IsT0FDQWtJLEtBQUEsR0FBQTBXLE9BQUEyWSxhQUNBcnZCLEtBQUEwVyxPQUFBMlksY0FFQWxZLEdBQUEyWSxZQUFBRSxVQUVBdFosT0FBQWtQLFNBbkNBcUssQ0FBQWp3QixTQUlBZ1gsRUFBQSx1QkFBQXlCLFdBQUEsQ0FDQTFjLE1BQUFvYixHQUFBb1ksVUFBQU0sY0FBQXh6QixPQUNBcWMsWUFBQSxFQUNBQyxTQUFBLGNBQ0FDLGVBQUEsSUFDQUMsVUFBQSxFQUNBckIsWUFBQSxFQUVBc0IsWUFBQSxTQUFBOVksS0FBQXdOLE9BQ0FBLE1BQUF1TCxpQkF3QkEsU0FBQS9ZLE1BRUEsSUFBQWd3QixVQUFBN1ksR0FBQW9ZLFVBQUFNLGNBQUEvM0IsTUFDQSxHQUFBa0ksS0FBQSxHQUNBLEVBQUFBLE1BRUFtWCxHQUFBNFksY0FBQUMsVUFFQXRaLE9BQUFrUCxTQS9CQXNLLENBQUFsd0IsY0FrQ0FtWCxHQUFBbVksaUJBS0FuWSxHQUFBZ1osWUFBQSxTQUFBbDFCLFNBQ0EsR0FBQWxGLE1BQUFrRixRQUNBeEYsYUFBQXdNLE1BQUEsMkJBQ0EsQ0FDQSxJQUFBbXVCLFdBQUEsQ0FBQW4xQixRQUFBQSxTQUNBWSxXQUNBdzBCLG9CQUFBbFosR0FBQWlZLFFBQUFnQixZQUNBbDJCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUFtWSxpQkFDQTc1QixhQUFBb0gsUUFBQSxrQ0FDQXhDLE1BQUEsU0FBQTBDLEdBQ0F0SCxhQUFBd00sTUFBQSwrQkFLQXlVLE9BQUE0Wix1QkFBQSxXQUNBQyxNQUFBLGVBSUE3WixPQUFBOFosbUJBQUEsU0FBQUMsTUFDQXI0QixRQUFBQyxJQUFBLE9BQUFvNEIsTUFDQSxJQUFBQyxLQUFBLENBQUFELEtBQUExckIsWUFBQSxDQUFBeEosS0FBQWsxQixLQUFBakQsWUFNQTlXLE9BQUFpYSxZQUFBLFdBRUE5MEIsV0FDQSswQix3QkFBQXpaLEdBQUFpWSxTQUNBbDFCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUFtWSxpQkFDQXRZLEVBQUEsaUJBQUF5RSxNQUFBLFFBQ0FobUIsYUFBQW9ILFFBQUEsOEJBQ0F4QyxNQUFBLFNBQUEwQyxHQUNBdEgsYUFBQXdNLE1BQUEsOEJBSUF5VSxPQUFBbWEsb0JBQUEsZUF4SkEsR0NBQSxXQUNBeDlCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsYUFFQSxTQUNBeWhCLE9BQ0E5UCxXQUNBK1AsU0FDQUMsWUFDQXhoQixPQUNBMDdCLEdBQ0FqMUIsV0FDQXBHLGFBQ0FGLFFBQ0EweUIsbUJBQ0F6eUIsT0FDQUYsb0JBQ0E0eUIsZUFFQSxJQUFBL1EsR0FBQXRnQixLQUNBTixPQUFBaEIsUUFBQWdCLE9BQUFDLFVBQUFqQixRQUFBaUIsVUFBQStNLFNBQUFoTyxRQUFBZ08sU0E4QkEsR0E3QkFtVCxPQUFBcWEsY0FBQSxHQUNBNVosR0FBQW9ZLFVBQUEsR0FDQTdZLE9BQUFzYSxXQUFBLEdBQ0F0YSxPQUFBeFksS0FDQXdZLE9BQUF6YixRQUFBLEdBQ0F5YixPQUFBOEgsV0FBQSxHQUNBOUgsT0FBQXVhLFVBQUEsRUFDQXZhLE9BQUF3YSxjQUFBLEdBQ0F4YSxPQUFBeWEsZUFBQSxFQUNBemEsT0FBQTBhLFlBQUEsRUFDQTFhLE9BQUEyYSxVQUFBLEdBQ0EzYSxPQUFBNGEsVUFBQSxHQUNBbmEsR0FBQW9hLFdBQUEsR0FDQXBhLEdBQUFxYSxVQUFBLEdBRUE5YSxPQUFBK2EsZUFBQSxFQUNBL2EsT0FBQWdiLGVBQUEsRUFFQWhiLE9BQUFpYixVQUFBLFVBQ0FqYixPQUFBa2IsVUFDQWxiLE9BQUFtYixTQUNBbmIsT0FBQW9iLFVBQUEsY0FDQXBiLE9BQUFxYixVQUFBLEVBQ0E1YSxHQUFBNmEsV0FBQSxpQ0FDQXRiLE9BQUF1YixVQUFBLDJCQUNBdmIsT0FBQXdiLFVBQUEsNENBQ0F4YixPQUFBeWIsUUFBQSxnQ0FDQXpiLE9BQUEwYixRQUFBLHFEQUVBeGIsWUFBQXZiLFlBRUEsWUFEQTlFLFNBS0E0Z0IsR0FBQWpWLFNBQUExTCxVQUFBUCxNQUVBa2hCLEdBQUE1Z0IsT0FBQSxXQUNBQSxVQUlBeWdCLEVBQUEsZUFBQUUsWUFDQVIsT0FBQWEsZ0JBQUEsRUFFQUosR0FBQUssWUFBQSxFQUVBTCxHQUFBTSxVQUFBLENBQ0E0YSxZQUFBLENBQ0E5TCxXQUFBLEVBQ0E3aEIsT0FBQSxFQUNBRSxhQUFBLEVBQ0F1ZCxhQUFBLEVBQ0FwSyxTQUFBLElBR0FaLEdBQUF4VSxXQUFBLEdBQ0F3VSxHQUFBbWIsV0FBQSxTQUFBLzJCLEtBQUEwYyxlQUVBbGlCLElBQUFvaEIsR0FBQU0sVUFBQVEsVUFBQTFjLE1BQ0E0YixHQUFBTSxVQUFBUSxVQUFBMWMsT0FBQSxFQUNBNGIsR0FBQU0sVUFBQVEsVUFBQTFjLE9BQUE0YixHQUFBTSxVQUFBUSxVQUFBMWMsTUFDQU0sV0FDQTAyQixjQUFBLENBQ0F2eUIsS0FBQSxFQUNBNlQsTUFBQSxHQUNBcUUsS0FBQTNjLEtBQ0E0YyxPQUFBaEIsR0FBQXhVLFdBQ0F5VixTQUFBakIsR0FBQU0sVUFBQVEsVUFBQTFjLFFBRUFyQixLQUFBLFNBQUFDLE1BR0FnZCxHQUFBcWIsVUFBQXI0QixLQUFBcEQsS0FBQXVoQixLQUNBbkIsR0FBQXNiLFdBQUF0NEIsS0FBQXBELEtBQUF5aEIsTUFDQTdCLFNBQUEsV0FDQUQsT0FBQSthLGVBQUEsRUFDQXphLEVBQUEsZUFBQXlCLFdBQUEsQ0FDQTFjLE1BQUFvYixHQUFBc2IsV0FDQS9aLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXJCLFlBQUEsRUFFQXNCLFlBQUEsU0FBQTlZLEtBQUF3TixPQUNBQSxNQUFBdUwsaUJBQ0FsZCxXQUNBMDJCLGNBQUEsQ0FDQXZ5QixLQUFBQSxLQUNBNlQsTUFBQSxHQUNBcUUsS0FBQTNjLEtBQ0E2YyxTQUFBakIsR0FBQU0sVUFBQWxjLFFBRUFyQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBcWIsVUFBQXI0QixLQUFBcEQsS0FBQXVoQixPQUVBamUsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxZQU9BMUMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQUlBLElBQUFpYyxlQUFBelYsU0FBQSxLQThwQkEsU0FBQW12QixjQUFBMzFCLEdBQ0EyWixPQUFBaWMsUUFBQSxFQUNBamMsT0FBQWtjLFVBQUEsRUFDQSxJQUFBbDJCLEVBQUEwVCxLQUFBeWlCLE9BQUE5MUIsRUFBQSsxQixRQUFBcGMsT0FBQXFjLEtBQUFDLE9BQUF0YyxPQUFBcWMsS0FBQUUsTUFBQXZjLE9BQUFxYyxLQUFBQyxNQUFBdGMsT0FBQXZXLE9BQUFNLE9BQ0E4RyxFQUFBNkksS0FBQXlpQixPQUFBOTFCLEVBQUFtMkIsUUFBQXhjLE9BQUFxYyxLQUFBOU8sTUFBQXZOLE9BQUFxYyxLQUFBSSxPQUFBemMsT0FBQXFjLEtBQUE5TyxLQUFBdk4sT0FBQXZXLE9BQUFLLFFBQ0FrVyxPQUFBMGMsa0JBQUEsQ0FBQUMsRUFBQTMyQixFQUFBNDJCLEVBQUEvckIsR0FDQW1QLE9BQUE2YyxTQUFBN2MsT0FBQXBXLFFBQUFrekIsYUFBQSxFQUFBLEVBQUE5YyxPQUFBdlcsT0FBQU0sTUFBQWlXLE9BQUF2VyxPQUFBSyxRQUdBLFNBQUFpekIsU0FBQTEyQixHQUNBLElBQUFrTyxTQUNBdk8sRUFBQTBULEtBQUF5aUIsT0FBQTkxQixFQUFBKzFCLFFBQUFwYyxPQUFBcWMsS0FBQUMsT0FBQXRjLE9BQUFxYyxLQUFBRSxNQUFBdmMsT0FBQXFjLEtBQUFDLE1BQUF0YyxPQUFBdlcsT0FBQU0sT0FDQThHLEVBQUE2SSxLQUFBeWlCLE9BQUE5MUIsRUFBQW0yQixRQUFBeGMsT0FBQXFjLEtBQUE5TyxNQUFBdk4sT0FBQXFjLEtBQUFJLE9BQUF6YyxPQUFBcWMsS0FBQTlPLEtBQUF2TixPQUFBdlcsT0FBQUssU0FDQSxJQUFBa1csT0FBQWtjLFdBQ0FsYyxPQUFBcFcsUUFBQW96QixhQUFBaGQsT0FBQTZjLFNBQUEsRUFBQSxHQUNBdG9CLFNBQUEsQ0FBQW9vQixFQUFBMzJCLEVBQUE0MkIsRUFBQS9yQixHQUNBbVAsT0FBQXBXLFFBQUFxekIsWUFDQWpkLE9BQUFwVyxRQUFBc3pCLE9BQUFsZCxPQUFBMGMsa0JBQUFDLEVBQUEzYyxPQUFBMGMsa0JBQUFFLEdBQ0E1YyxPQUFBcFcsUUFBQXV6QixPQUFBNW9CLFNBQUFvb0IsRUFBQXBvQixTQUFBcW9CLEdBQ0E1YyxPQUFBcFcsUUFBQXd6QixZQUFBcGQsT0FBQWliLFVBQ0FqYixPQUFBcFcsUUFBQXl6QixVQUFBLEVBQ0FyZCxPQUFBcFcsUUFBQTB6QixRQUFBLFFBQ0F0ZCxPQUFBcFcsUUFBQWtQLFVBR0EsU0FBQXlrQixhQUFBbDNCLEdBR0EsSUFBQWtPLFNBRkF5TCxPQUFBa2MsVUFBQSxFQUNBbGMsT0FBQXBXLFFBQUFvekIsYUFBQWhkLE9BQUE2YyxTQUFBLEVBQUEsR0FFQSxJQUFBNzJCLEVBQUEwVCxLQUFBeWlCLE9BQUE5MUIsRUFBQSsxQixRQUFBcGMsT0FBQXFjLEtBQUFDLE9BQUF0YyxPQUFBcWMsS0FBQUUsTUFBQXZjLE9BQUFxYyxLQUFBQyxNQUFBdGMsT0FBQXZXLE9BQUFNLE9BQ0E4RyxFQUFBNkksS0FBQXlpQixPQUFBOTFCLEVBQUFtMkIsUUFBQXhjLE9BQUFxYyxLQUFBOU8sTUFBQXZOLE9BQUFxYyxLQUFBSSxPQUFBemMsT0FBQXFjLEtBQUE5TyxLQUFBdk4sT0FBQXZXLE9BQUFLLFFBQ0F5SyxTQUFBLENBQUFvb0IsRUFBQTMyQixFQUFBNDJCLEVBQUEvckIsR0FFQW1QLE9BQUFwVyxRQUFBcXpCLFlBQ0FqZCxPQUFBcFcsUUFBQXN6QixPQUFBbGQsT0FBQTBjLGtCQUFBQyxFQUFBM2MsT0FBQTBjLGtCQUFBRSxHQUNBNWMsT0FBQXBXLFFBQUF1ekIsT0FBQTVvQixTQUFBb29CLEVBQUFwb0IsU0FBQXFvQixHQUNBNWMsT0FBQXBXLFFBQUF3ekIsWUFBQXBkLE9BQUFpYixVQUNBamIsT0FBQXBXLFFBQUF5ekIsVUFBQSxFQUNBcmQsT0FBQXBXLFFBQUEwekIsUUFBQSxRQUNBdGQsT0FBQXBXLFFBQUFrUCxTQUNBLElBQUEwa0IsVUFBQXhkLE9BQUFwVyxRQUFBa3pCLGFBQUEsRUFBQSxFQUFBOWMsT0FBQXZXLE9BQUFNLE1BQUFpVyxPQUFBdlcsT0FBQUssUUFDQWtXLE9BQUEyYSxVQUFBbDBCLEtBQUErMkIsV0FDQTk3QixRQUFBQyxJQUFBLGNBQUFxZSxPQUFBMmEsV0F2c0JBbGEsR0FBQWdkLGFBQUEsU0FBQWx4QixNQUtBK1YsZUFDQSxXQUNBbmQsV0FDQTAyQixjQUFBLENBQ0F2eUIsS0FBQSxFQUNBNlQsTUFBQSxHQUNBc0UsT0FBQWxWLEtBQ0FpVixLQUFBLFVBQ0FFLFVBQUEsSUFFQWxlLEtBQUEsU0FBQUMsTUFFQWdkLEdBQUFxYixVQUFBcjRCLEtBQUFwRCxLQUFBdWhCLEtBQ0FuQixHQUFBc2IsV0FBQXQ0QixLQUFBcEQsS0FBQXloQixNQUVBN0IsU0FBQSxXQUNBRCxPQUFBK2EsZUFBQSxFQUNBemEsRUFBQSxXQUFBeUIsV0FBQSxDQUVBMWMsTUFBQW9iLEdBQUFzYixXQUNBL1osWUFBQSxHQUNBQyxTQUFBLGNBQ0FDLGVBQUEsSUFDQUMsVUFBQSxFQUNBckIsWUFBQSxFQUVBc0IsWUFBQSxTQUFBOVksS0FBQXdOLE9BQ0FBLE1BQUF1TCxpQkFDQWxkLFdBQ0EwMkIsY0FBQSxDQUNBdnlCLEtBQUFBLEtBQ0E2VCxNQUFBLEdBQ0FxRSxLQUFBM2MsS0FDQTZjLFNBQUFqQixHQUFBTSxVQUFBUSxVQUFBMWMsUUFFQXJCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUFxYixVQUFBcjRCLEtBQUFwRCxLQUFBdWhCLE9BRUFqZSxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLFlBTUExQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BR0EsQ0FBQWtHLFFBTUFrVSxHQUFBbWIsV0FBQSxVQUFBLGVBRUFuYixHQUFBK0IsVUFBQSxDQUNBQyxRQUFBLEVBQ0E5QyxNQUFBLEVBQ0F3QyxVQUFBLEVBQ0FPLFdBQUEsR0FLQTFDLE9BQUEwZCxjQUFBLENBQUEsU0FBQSxVQUFBLFNBR0F2NEIsV0FBQXhFLGVBQUE2QyxLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBa2QsU0FBQWw2QixLQUFBcEQsS0FBQXVoQixPQUlBemMsV0FBQTdELGlCQUFBa0MsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQW1kLFdBQUFuNkIsS0FBQXBELEtBQUF1aEIsT0FJQXpjLFdBQUF2RSxrQkFBQTRDLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUFvZCxZQUFBcDZCLEtBQUFwRCxLQUFBdWhCLE9BR0F6YyxXQUFBMjRCLGdCQUFBdDZCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUFzZCxZQUFBdDZCLEtBQUFwRCxLQUFBdWhCLE9BS0E1QixPQUFBZ2UsUUFBQSxTQUFBQyxTQUNBLElBQUFDLE9BQUF4MEIsU0FBQXlILGVBQUEsUUFDQStzQixPQUFBQyxJQUFBQyxJQUFBQyxnQkFBQUosVUFHQWplLE9BQUFzZSxRQUFBLFNBQUE5MkIsS0FBQWpELFNBT0F5YixPQUFBOEgsV0FBQXJoQixLQUFBLENBQUFlLEtBQUFBLEtBQUFqRCxRQUFBQSxRQUFBNUUsT0FBQSxPQUNBK0IsUUFBQUMsSUFBQSxTQUFBcWUsT0FBQThILGFBWUE5SCxPQUFBdWUsVUFBQSxTQUFBM21CLE1BQUE0bUIsT0FDQUEsTUFBQTkzQixPQUFBa1IsTUFBQSxJQUlBb0ksT0FBQXllLFlBQUEsU0FBQWozQixNQUVBd1ksT0FBQTBlLFVBQUEsR0FDQWg5QixRQUFBQyxJQUFBLGFBQUE2RixNQUNBLE9BQUFBLE1BQ0FBLEtBQUE3QixPQUFBLEdBQ0E2QixLQUFBRyxRQUFBLFNBQUFnM0IsU0FDQSxHQUFBLGFBQUFBLFFBQUE5NUIsTUFBQSxhQUFBODVCLFFBQUE5NUIsTUFBQSxjQUFBODVCLFFBQUE5NUIsS0FBQSxDQUNBLElBQUErNUIsSUFBQVIsSUFBQUMsZ0JBQUFNLFNBQ0EzZSxPQUFBMGUsVUFBQUUsUUFFQSxtQkFBQUQsUUFBQTk1QixLQUNBbWIsT0FBQTBlLFVBQUEsc0NBRUEsMkVBQUFDLFFBQUE5NUIsS0FDQW1iLE9BQUEwZSxVQUFBLHFDQUVBLDRCQUFBQyxRQUFBOTVCLE1BQUEscUVBQUE4NUIsUUFBQTk1QixLQUNBbWIsT0FBQTBlLFVBQUEsb0NBRUEsZ0NBQUFDLFFBQUE5NUIsS0FDQW1iLE9BQUEwZSxVQUFBLGtDQUVBMWUsT0FBQTBlLFVBQUEsc0NBRUExZSxPQUFBOEgsV0FBQXJoQixLQUFBLENBQUFlLEtBQUFtM0IsUUFBQUUsTUFBQTdlLE9BQUEwZSxlQVNBMWUsT0FBQThlLGVBQUEsU0FBQWxuQixNQUFBNG1CLE1BQUFPLFFBQ0FQLE1BQUE1bUIsT0FBQXJULFFBQUF3NkIsUUFJQXRlLEdBQUF1ZSxhQUFBLFNBQUFSLE9BQ0E5OEIsUUFBQUMsSUFBQSxrQkFDQWhGLFFBQUFnTCxRQUFBNjJCLE1BQUEsU0FBQXg0QixHQXVGQXdyQixjQUFBanVCLE1BcEZBLFNBQUE0eUIsV0FFQW53QixFQUFBd0IsS0FBQW9JLE1BQUE0aEIsY0FBQTVoQixNQUFBd21CLEtBQUFELFVBQUFud0IsR0FDQUEsRUFBQXdCLEtBQUF1SSxPQUFBeWhCLGNBQUF6aEIsT0FBQXFtQixLQUFBRCxVQUFBbndCLEdBQ0FBLEVBQUF3QixLQUFBd0ksTUFBQXdoQixjQUFBeGhCLE1BQUFvbUIsS0FBQUQsVUFBQW53QixHQUNBLElBQUFxd0IsVUFBQSxDQUNBcHlCLEtBQUErQixFQUFBd0IsS0FBQXZELEtBQ0F1RCxLQUFBeEIsRUFBQXdCLEtBQ0E1SCxTQUFBLFNBQUEwMkIsRUFBQUMsT0FJQXZ3QixFQUFBd0IsS0FBQTVILFNBQ0FvRyxFQUFBd0IsS0FBQTVILFNBQUE4WixLQUFBOGMsTUFBQSxJQUFBRixHQUNBdHdCLEVBQUF3QixLQUFBNUgsU0FDQThaLEtBQUE4YyxNQUFBLElBQUFGLEdBRUE3VixHQUFBaVYsYUFBQW5FLG1CQUFBOXBCLHNCQUNBZ1osR0FBQXlWLGlCQUdBalcsU0FBQSxXQUNBRCxPQUFBa1AsWUFHQXhyQixTQUFBLFNBQUEreUIsS0FBQUMsUUFDQTF3QixFQUFBd0IsS0FBQUksV0FBQSxFQUVBcVksU0FBQSxXQUNBRCxPQUFBa1AsV0FFQXh0QixRQUFBQyxJQUFBLGVBSUF3MEIsVUFBQTloQixJQUFBZ2lCLFdBQUE3eUIsS0FDQSxTQUFBbXpCLGNBRUFqMUIsUUFBQUMsSUFBQXFFLEdBQ0EsSUFBQS9GLFFBQUEsQ0FDQTRFLEtBQUEwc0IsbUJBQUFocUIsZ0JBQUF2QixFQUFBd0IsTUFFQXF2QixVQUFBLENBQ0ExdUIsVUFBQW5DLEVBQUF3QixLQUFBdkQsS0FDQWc3QixpQkFBQWo1QixFQUFBekIsUUFDQXFLLE9BQUEsY0FDQXpSLElBQUFBLFFBQUE2SSxFQUFBd0IsS0FBQXZELEtBQ0E2eUIsU0FBQTl3QixFQUFBd0IsS0FBQTNDLEtBQ0FreUIsTUFBQS93QixFQUFBd0IsS0FBQUwsT0FHQWhDLFdBQ0ErNUIscUJBQUFqL0IsU0FDQXVELEtBQUEsU0FBQUMsTUFJQSxHQUZBMDdCLGdCQUNBbmYsT0FBQXFhLGNBQUE1ekIsS0FBQWhELE1BQ0EwN0IsZ0JBQUExZSxHQUFBeVYsZ0JBQUE1dUIsR0FBQTNCLE9BRUEsTUFBQSxxQkFHQWhDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsS0FFQXRILGFBQUFvSCxRQUFBLCtCQUdBLFNBQUE4d0IsUUFFQWp4QixFQUFBNkIsU0FBQSxFQUVBNFksR0FBQWlWLGFBQUFuRSxtQkFBQTlwQixzQkFDQWdaLEdBQUF5VixpQkFHQWpXLFNBQUEsV0FDQUQsT0FBQWtQLGtCQVdBek8sR0FBQTJlLHNCQUFBLFNBQUFaLE9BQ0FBLE1BQUE3NEIsUUFDQXFhLE9BQUFrWCxrQkFBQSxDQUNBMXlCLE1BQUFnNkIsT0FJQXI1QixXQUNBazZCLFdBQUFyZixPQUFBa1gsbUJBQ0ExekIsS0FBQSxTQUFBQyxNQWtCQSxPQWpCQS9CLFFBQUFDLElBQUEsMkJBQUE4QixNQVFBZ2QsR0FBQWlWLGFBQUFuRSxtQkFBQTlwQixzQkFDQWdaLEdBQUF5VixpQkFHQWpXLFNBQUEsV0FDQUQsT0FBQWtQLFdBR0Fud0IsYUFBQW9ILFFBQUExQyxLQUFBcEQsS0FBQStGLFNBQ0EsNkJBRUF6QyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BSUEzRSxRQUFBQyxJQUFBLHVDQUlBOGUsR0FBQTZlLGdCQUFBLFNBQUF6RyxXQUNBLElBQUEwRyxZQUFBLEdBQ0FBLFlBQUF2eEIsTUFBQTZxQixVQUFBN3FCLE1BQ0F1eEIsWUFBQXJ4QixZQUFBMnFCLFVBQUEzcUIsWUFDQXF4QixZQUFBblQsUUFBQXlNLFVBQUF6TSxRQUFBbm1CLElBQ0FzNUIsWUFBQTdCLGNBQUE3RSxVQUFBMkcsU0FDQUQsWUFBQUUsUUFBQTVHLFVBQUE2RyxPQUFBejVCLElBQ0FzNUIsWUFBQUksU0FBQTlHLFVBQUE4RyxTQUNBSixZQUFBSyxlQUNBTCxZQUFBSyxhQUFBL0csVUFBQStHLGFBQUEzNUIsS0FHQXM1QixZQUFBTSxXQUFBaEgsVUFBQWdILFdBQUE1NUIsSUFDQXM1QixZQUFBTyxZQUFBakgsVUFBQWlILFlBQ0FwK0IsUUFBQUMsSUFBQSxZQUFBazNCLFdBR0ExekIsV0FDQTNELFlBQUErOUIsYUFDQS83QixLQUFBLFNBQUFDLE1BUUEsT0FQQTFFLGFBQUFvSCxRQUFBLHFDQUNBNlosT0FBQThILFdBQUEsR0FDQTlILE9BQUEwYSxZQUFBLEVBSUFqYSxHQUFBbWIsV0FBQSxVQUFBLGVBQ0FuNEIsT0FFQUUsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQXFDQW9hLEdBQUFzZixTQUFBLFNBQUFsSCxXQUdBdlksRUFBQSxnQkFBQXlFLE1BQUEsUUFDQXpFLEVBQUEsaUJBQUF5RSxNQUFBLFNBU0F0RSxHQUFBdWYsV0FBQSxHQUNBaGdCLE9BQUFpZ0Isa0JBQUEsU0FBQXo3QixPQUVBLEdBREE5QyxRQUFBQyxJQUFBLGdCQUFBNkMsT0FDQUEsTUFBQSxDQUNBQSxNQUFBbUQsUUFBQSxTQUFBZzNCLFNBQ0EsSUFBQUMsSUFBQVIsSUFBQUMsZ0JBQUFNLFNBQ0FsZSxHQUFBb2EsV0FBQXAwQixLQUFBLENBQUFwSSxJQUFBdWdDLFFBRUFsOUIsUUFBQUMsSUFBQSxvQkFDQTJlLEVBQUEsaUJBQUF5RSxNQUFBLFFBQ0EsSUFBQW1iLGVBQUF6ZixHQUFBb2EsV0FBQXo1QixPQUFBLEdBQ0FrZixFQUFBLGdCQUFBQyxJQUFBLG1CQUFBLE9BQUEyZixlQUFBLEdBQUE3aEMsSUFBQSxVQUtBVSxhQUFBd00sTUFBQSx1QkFTQStVLEVBQUEsaUJBQUF2UCxHQUFBLGtCQUFBLFNBQUExSyxHQUdBaWEsRUFBQW5nQixNQUFBZ2dDLFdBQUEsWUFDQTdmLEVBQUEseUJBQUE4ZixHQUFBLFlBQ0ExK0IsUUFBQUMsSUFBQSxrQkFHQUQsUUFBQUMsSUFBQSxtQkFDQTJlLEVBQUFuZ0IsTUFBQTRrQixNQUFBLFdBTUEvRSxPQUFBcWdCLG1CQUFBLFdBSUFsN0IsV0FDQWpELG9CQUhBLDRCQUlBc0IsS0FBQSxTQUFBQyxNQUVBLElBQUE2OEIsYUFBQTc4QixLQUFBcEQsS0FBQUEsS0FDQW9nQixHQUFBZ04sZ0JBQUE2UyxhQUNBNStCLFFBQUFDLElBQUEsZUFBQThlLEdBQUFnTixpQkFDQW5OLEVBQUEsaUJBQUF5RSxNQUFBLFFBQ0F6RSxFQUFBLHlCQUFBeUUsTUFBQSxVQUdBcGhCLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFLQW9hLEdBQUE4ZixlQUFBLFNBQUF0UyxNQUNBeE4sR0FBQW9hLFdBQUFwMEIsS0FBQXduQixLQUFBK0QsV0FJQXZSLEdBQUErZixnQkFBQSxTQUFBdlMsTUFDQXhOLEdBQUFvYSxXQUFBcDBCLEtBQUF3bkIsT0FJQWpPLE9BQUF5Z0IsYUFBQSxTQUFBQyxVQUNBcGdCLEVBQUEseUJBQUF5RSxNQUFBLFFBQ0F6RSxFQUFBLGlCQUFBeUUsTUFBQSxRQUNBcmpCLFFBQUFDLElBQUEsa0JBQUE4ZSxHQUFBb2EsWUFHQSxJQUFBcUYsZUFBQVEsU0FBQXQvQixPQUFBLEdBQ0FrZixFQUFBLGdCQUFBQyxJQUFBLG1CQUFBLE9BQUEyZixlQUFBLEdBQUE3aEMsSUFBQSxNQVFBMmhCLE9BQUEyZ0IsY0FBQSxTQUFBRCxVQUNBcGdCLEVBQUEsb0JBQUF5RSxNQUFBLFFBQ0F6RSxFQUFBLGlCQUFBeUUsTUFBQSxRQUVBLElBQUFtYixlQUFBUSxTQUFBdC9CLE9BQUEsR0FDQWtmLEVBQUEsZ0JBQUFDLElBQUEsbUJBQUEsT0FBQTJmLGVBQUEsR0FBQTdoQyxJQUFBLE1BS0EyaEIsT0FBQTRnQixVQUFBLFNBQUFDLE9BQ0F2Z0IsRUFBQSxnQkFBQXlFLFFBQ0EvRSxPQUFBc2EsV0FBQXVHLE1BRUE3Z0IsT0FBQThnQixNQUFBOWdCLE9BQUFzYSxXQUFBdHNCLE1BQ0FnUyxPQUFBK2dCLFlBQUEvZ0IsT0FBQXNhLFdBQUFwc0IsWUFFQThSLE9BQUFnaEIsYUFBQSxJQUFBcjRCLEtBQUFxWCxPQUFBc2EsV0FBQXFGLFVBQ0FqMkIsU0FBQXlILGVBQUEsWUFBQTh2QixhQUFBamhCLE9BQUFnaEIsYUFDQWhoQixPQUFBa2hCLElBQUFsaEIsT0FBQWdoQixhQUFBRyxVQUFBLEVBRUFuaEIsT0FBQW9oQixNQUFBcGhCLE9BQUFnaEIsYUFBQUssV0FBQSxFQUVBcmhCLE9BQUFzaEIsS0FBQXRoQixPQUFBZ2hCLGFBQUFPLGNBRUF2aEIsT0FBQXdoQixhQUFBeGhCLE9BQUFvaEIsTUFBQSxJQUFBcGhCLE9BQUFraEIsSUFBQSxJQUFBbGhCLE9BQUFzaEIsS0FHQXRoQixPQUFBeWhCLE9BQUF6aEIsT0FBQXNhLFdBQUF3RixhQUtBOWYsT0FBQTBoQixnQkFBQSxTQUFBbDZCLEtBQUFqRCxTQUNBeWIsT0FBQThILFdBQUFyaEIsS0FBQSxDQUFBZSxLQUFBQSxLQUFBakQsUUFBQUEsVUFDQTdDLFFBQUFDLElBQUFxZSxPQUFBOEgsWUFDQTlILE9BQUF4WSxLQUFBLEdBQ0F3WSxPQUFBemIsUUFBQSxJQUlBeWIsT0FBQTJoQixjQUFBLFNBQUFDLFdBQ0FsZ0MsUUFBQUMsSUFBQSxpQkFBQWlnQyxXQUVBNWhCLE9BQUEwYSxZQUFBLEVBQ0ExYSxPQUFBdWEsVUFBQSxHQUlBdmEsT0FBQTZoQixZQUFBLFNBQUFqcUIsTUFBQTRtQixNQUFBc0QsU0FDQXRELE1BQUE5M0IsT0FBQWtSLE1BQUEsR0FDQWxXLFFBQUFDLElBQUEsaUJBQUEsUUFBQWlXLE1BQUEsVUFBQWtxQixTQUNBOWhCLE9BQUF3YSxjQUFBL3pCLEtBQUFxN0IsU0FDQXBnQyxRQUFBQyxJQUFBLGlCQUFBcWUsT0FBQXdhLGdCQUVBL1osR0FBQXNoQixnQkFBQSxXQUVBL2hCLE9BQUEwYSxZQUFBLEdBR0ExYSxPQUFBZ2lCLGFBQUEsV0FFQWhpQixPQUFBdWEsVUFBQSxHQUVBdmEsT0FBQWlpQixjQUFBLFdBRUFqaUIsT0FBQXVhLFVBQUEsR0FHQTlaLEdBQUF5aEIsbUJBQUEsU0FBQTNZLFVBRUEsSUFBQWdXLFlBQUEsR0FDQWxnQyxNQUFBb2hCLEdBQUF6ZSxhQUNBTixRQUFBQyxJQUFBLDZCQUNBNDlCLFlBQUF1QixNQUFBOWdCLE9BQUFzYSxXQUFBdHNCLE1BQ0F1eEIsWUFBQXJ4QixZQUFBOFIsT0FBQXNhLFdBQUFwc0IsWUFDQXF4QixZQUFBSSxTQUFBM2YsT0FBQXNhLFdBQUFxRixTQUNBSixZQUFBTyxZQUFBOWYsT0FBQXNhLFdBQUF3RixjQUVBcCtCLFFBQUFDLElBQUEsZ0RBQ0F0QyxNQUFBb2hCLEdBQUF6ZSxZQUFBZ00sTUFDQXV4QixZQUFBdUIsTUFBQTlnQixPQUFBc2EsV0FBQXRzQixNQUdBdXhCLFlBQUF1QixNQUFBcmdCLEdBQUF6ZSxZQUFBZ00sTUFFQTNPLE1BQUFvaEIsR0FBQXplLFlBQUFrTSxZQUNBcXhCLFlBQUFyeEIsWUFBQThSLE9BQUFzYSxXQUFBcHNCLFlBR0FxeEIsWUFBQXJ4QixZQUFBdVMsR0FBQXplLFlBQUFrTSxZQUVBN08sTUFBQW9oQixHQUFBemUsWUFBQTI5QixTQUVBSixZQUFBSSxTQUFBM2YsT0FBQXNhLFdBQUFxRixTQUdBSixZQUFBSSxTQUFBbGYsR0FBQXplLFlBQUEyOUIsU0FFQXRnQyxNQUFBb2hCLEdBQUF6ZSxZQUFBODlCLFlBQ0FQLFlBQUFPLFlBQUE5ZixPQUFBc2EsV0FBQXdGLFlBRUFQLFlBQUFPLFlBQUFyZixHQUFBemUsWUFBQTg5QixhQUlBOWYsT0FBQThILFdBQUFuaUIsT0FBQSxJQUNBNDVCLFlBQUEvNkIsTUFBQXdiLE9BQUE4SCxZQUVBOUgsT0FBQXdhLGNBQUE3MEIsT0FBQSxJQUNBakUsUUFBQUMsSUFBQSxrQkFBQXFlLE9BQUF3YSxlQUNBK0UsWUFBQWhaLGFBQUF2RyxPQUFBd2EsZUFFQTk0QixRQUFBQyxJQUFBLGNBQUE0OUIsYUFDQXA2QixXQUNBbkQsWUFBQXU5QixZQUFBdmYsT0FBQXNhLFdBQUFyMEIsS0FDQXpDLEtBQUEsU0FBQUMsTUFDQTFFLGFBQUFvSCxRQUFBLHVDQUNBNlosT0FBQThILFdBQUEsR0FDQTlILE9BQUF3YSxjQUFBLEdBQ0F4YSxPQUFBMGEsWUFBQSxFQUNBcGEsRUFBQSxnQkFBQXlFLE1BQUEsUUFDQXRFLEdBQUFtYixXQUFBLFVBQUEsaUJBRUFqNEIsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxHQUNBMlosT0FBQThILFdBQUEsR0FDQTlILE9BQUF3YSxjQUFBLEdBQ0F4YSxPQUFBMGEsWUFBQSxFQUNBMzdCLGFBQUF3TSxNQUFBLDJCQU1BeVUsT0FBQW1pQixhQUFBLDZDQUNBbmlCLE9BQUFvaUIsYUFBQSxTQUFBQyxRQUNBM2dDLFFBQUFDLElBQUEsU0FBQTBnQyxRQUNBcmlCLE9BQUFtaUIsYUFBQSxLQUFBRSxRQU1BcmlCLE9BQUF2VyxPQUFBQyxTQUFBeUgsZUFBQSxlQUNBbVAsRUFBQSxpQkFBQXZQLEdBQUEsaUJBQUEsU0FBQTFLLEdBRUFpYSxFQUFBLGlCQUFBdUYsV0FBQSxDQUNBQyxVQUFBLFFBQ0FDLFlBQUEsRUFDQUMsZUFBQSxFQUNBQyxXQUFBLEVBQ0FDLFVBQUEsSUFDQUMsV0FBQSxNQVFBbkcsT0FBQXNpQixnQkFBQSxTQUFBamtDLElBQUF1WixPQUNBbFcsUUFBQUMsSUFBQSxRQUFBdEQsS0FDQWlpQixFQUFBLGdCQUFBQyxJQUFBLG1CQUFBLE9BQUFsaUIsSUFBQSxNQUtBMmhCLE9BQUFpYyxRQUFBLEVBQ0FqYyxPQUFBdWlCLFVBQUEsRUFDQXZpQixPQUFBd2lCLFVBQUEsRUFDQXhpQixPQUFBeWlCLFFBQUEsRUFFQXppQixPQUFBMGlCLGlCQUFBLFdBQ0ExaUIsT0FBQWdiLGVBQUEsRUFDQWhiLE9BQUE2YyxTQUNBN2MsT0FBQXFiLFVBQUEsRUFDQXJiLE9BQUFrYyxVQUFBLEVBQ0FsYyxPQUFBMGMsa0JBQ0FwYyxFQUFBLFdBQUFDLElBQUEsbUJBQUEsV0FFQVAsT0FBQXViLFVBQUEsMkJBQ0F2YixPQUFBd2IsVUFBQSw0Q0FDQXhiLE9BQUF5YixRQUFBLGlDQUNBemIsT0FBQTBiLFFBQUEsb0RBR0FwYixFQUFBLFdBQUFDLElBQUEsbUJBQUEsV0FDQUQsRUFBQSxjQUFBQyxJQUFBLG1CQUFBLFdBQ0FELEVBQUEsZUFBQUMsSUFBQSxtQkFBQSxXQUNBUCxPQUFBcFcsUUFBQW9XLE9BQUF2VyxPQUFBSSxXQUFBLE1BRUFtVyxPQUFBcWMsS0FBQXJjLE9BQUF2VyxPQUFBazVCLHdCQUNBLEdBQUEzaUIsT0FBQXVpQixVQUFBLEdBQUF2aUIsT0FBQXdpQixVQUFBLEdBQUF4aUIsT0FBQXlpQixTQUNBemlCLE9BQUF2VyxPQUFBbTVCLG9CQUFBLFlBQUFDLFdBQ0E3aUIsT0FBQXZXLE9BQUFtNUIsb0JBQUEsWUFBQUUsTUFDQTlpQixPQUFBdlcsT0FBQW01QixvQkFBQSxVQUFBOVAsVUFDQTlTLE9BQUF2VyxPQUFBbTVCLG9CQUFBLFlBQUFHLFdBQ0EvaUIsT0FBQXZXLE9BQUFtNUIsb0JBQUEsWUFBQUksWUFHQWhqQixPQUFBdlcsT0FBQStNLGlCQUFBLFlBQUF3bEIsZUFDQWhjLE9BQUF2VyxPQUFBK00saUJBQUEsWUFBQXVtQixVQUNBL2MsT0FBQXZXLE9BQUErTSxpQkFBQSxVQUFBK21CLGVBd0RBdmQsT0FBQWlqQixZQUFBLFdBQ0EsR0FBQWpqQixPQUFBMmEsVUFBQWgxQixPQUFBLEVBQUEsQ0FDQSxJQUFBdTlCLFFBQUFsakIsT0FBQXZXLE9BQUFJLFdBQUEsTUFDQXE1QixRQUFBQyxVQUFBLEVBQUEsRUFBQW5qQixPQUFBdlcsT0FBQU0sTUFBQWlXLE9BQUF2VyxPQUFBSyxRQUNBLElBQUFzNUIsUUFBQXBqQixPQUFBMmEsVUFBQTBJLE1BQ0FyakIsT0FBQTRhLFVBQUFuMEIsS0FBQTI4QixTQUVBcGpCLE9BQUEyYSxVQUFBaHpCLFFBQUEsU0FBQWdjLFNBQ0F1ZixRQUFBbEcsYUFBQXJaLFFBQUEsRUFBQSxPQUtBM0QsT0FBQXNqQixZQUFBLFdBQ0EsSUFBQUosUUFBQWxqQixPQUFBdlcsT0FBQUksV0FBQSxNQUNBLEdBQUFtVyxPQUFBNGEsVUFBQWoxQixPQUFBLEVBQUEsQ0FDQSxJQUFBaU8sS0FBQW9NLE9BQUE0YSxVQUFBeUksTUFFQUgsUUFBQWxHLGFBQUFwcEIsS0FBQSxFQUFBLEtBS0E2TSxHQUFBOGlCLGFBQUEsV0FDQSxJQUFBbDVCLEtBQUFYLFNBQUF5SCxlQUFBLFFBQ0E5RyxLQUFBbTVCLGFBQUEsV0FBQSxrQkFDQW41QixLQUFBbTVCLGFBQUEsT0FBQXhqQixPQUFBdlcsT0FBQVcsVUFBQSxhQUFBMkQsUUFBQSxZQUFBLHVCQUNBMUQsS0FBQUssV0E3MkJBLEdDQUEsV0FDQS9OLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsZUFFQSxTQUNBeWhCLE9BQ0FDLFNBQ0FDLFlBQ0F4aEIsT0FDQXlHLFdBQ0FwRyxhQUNBRixRQUNBc2hCLE1BQ0FyaEIsUUFJQSxJQUFBMmhCLEdBQUF0Z0IsS0FDQU4sT0FBQWhCLFFBQUFnQixPQUFBQyxVQUFBakIsUUFBQWlCLFVBQUErTSxTQUFBaE8sUUFBQWdPLFNBQ0EsSUFBQXFULFlBQUF2YixZQUVBLFlBREE5RSxTQUtBNGdCLEdBQUFqVixTQUFBMUwsVUFBQVAsTUFFQWtoQixHQUFBNWdCLE9BQUEsV0FDQUEsVUFHQXlnQixFQUFBLGdCQUFBa08sT0FHQS9OLEdBQUErQixVQUFBLENBQ0FpaEIsVUFBQSxFQUNBaGhCLFFBQUEsRUFDQTlDLE1BQUEsRUFDQXdDLFVBQUEsR0FNQSxJQUFBcFcsZUFBQWxOLFFBQUFrTixpQkFDQTBVLEdBQUFpakIsVUFBQTMzQixlQUFBeE0sTUFBQXlNLElBQ0FnVSxPQUFBYSxnQkFBQSxFQUNBSixHQUFBSyxZQUFBLEVBRUFkLE9BQUFVLE9BQ0EsZUFDQSxTQUFBMVUsS0FDQUQsZUFBQU8sT0FBQU4sT0FFQSxHQUdBeVUsR0FBQU0sVUFBQSxDQUNBN1UsU0FBQSxDQUNBMmpCLFdBQUEsRUFDQXZLLGNBQUEsRUFDQUksWUFBQSxFQUNBb0ssV0FBQSxFQUNBN3JCLE1BQUEsR0FFQWtJLE1BQUEsQ0FDQTBqQixXQUFBLEVBQ0F2SyxjQUFBLEVBQ0FJLFlBQUEsRUFDQW9LLFdBQUEsRUFDQTdyQixNQUFBLElBSUF3YyxHQUFBeFUsV0FBQUYsZUFBQXhNLE1BQUEwTSxXQUVBK1QsT0FBQVUsT0FDQSxnQkFDQSxTQUFBblUsTUFDQVIsZUFBQVEsS0FBQUEsUUFFQSxHQVFBa1UsR0FBQWtqQixXQUFBLFNBQUF0akMsTUFDQW9nQixHQUFBbWpCLGFBQUF2akMsS0FBQTRELE1BR0F3YyxHQUFBb2pCLGNBQUEsU0FBQWgvQixLQUFBMGMsZUFFQWxpQixJQUFBb2hCLEdBQUFNLFVBQUFRLFVBQUExYyxNQUNBNGIsR0FBQU0sVUFBQVEsVUFBQTFjLE9BQUEsRUFDQTRiLEdBQUFNLFVBQUFRLFVBQUExYyxPQUFBNGIsR0FBQU0sVUFBQVEsVUFBQTFjLE1BQ0EsSUFBQWkvQixRQUNBLGFBQUF2aUIsU0FBQSxtQkFBQSx3QkFFQXBjLFdBQUEyK0IsU0FBQSxDQUNBeDZCLEtBQUF5QyxlQUFBeE0sTUFBQStKLEtBQUFpWSxVQUNBcEUsTUFBQSxHQUNBcUUsS0FBQTNjLEtBQ0E0YyxPQUFBaEIsR0FBQXhVLFdBQ0F5VixTQUFBakIsR0FBQU0sVUFBQVEsVUFBQTFjLFFBRUFyQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBYyxVQUFBOWQsS0FBQXBELEtBQUF1aEIsS0FDQW5CLEdBQUFjLFNBQUEsU0FBQTlkLEtBQUFwRCxLQUFBeWhCLE1BQ0E3QixTQUFBLFdBQ0FLLEVBQUEsSUFBQWlCLFNBQUEsY0FBQVEsV0FBQSxDQUNBMWMsTUFBQW9iLEdBQUFjLFNBQUEsU0FDQVMsWUFBQSxHQUNBQyxTQUFBLGNBQ0FDLGVBQUEsSUFDQUMsVUFBQSxFQUNBckIsWUFBQS9VLGVBQUF4TSxNQUFBK0osS0FBQWlZLFVBQ0FhLFlBQUEsU0FBQTlZLEtBQUF3TixPQUNBQSxNQUFBdUwsaUJBQ0F0VyxlQUFBSyxRQUFBbVYsU0FBQWpZLE1BRUFuRSxXQUFBMitCLFNBQUEsQ0FDQXg2QixLQUFBQSxLQUNBNlQsTUFBQSxHQUNBcUUsS0FBQTNjLEtBQ0E2YyxTQUFBakIsR0FBQU0sVUFBQVEsVUFBQTFjLFFBRUFyQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBYyxVQUFBOWQsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsWUFNQTFDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFJQSxJQUFBaWMsZUFBQXpWLFNBQUEsS0FDQTRULEdBQUFzakIsZ0JBQUEsU0FBQXgzQixLQUFBZ1YsVUFLQWUsZUFDQSxXQUNBLElBQUF3aEIsUUFDQSxhQUFBdmlCLFNBQ0EsbUJBQ0Esd0JBRUFwYyxXQUFBMitCLFNBQUEsQ0FDQXg2QixLQUFBLEVBQ0E2VCxNQUFBLEdBQ0FzRSxPQUFBbFYsS0FDQWlWLEtBQUEsY0FDQUUsVUFBQSxJQUVBbGUsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQWMsVUFBQTlkLEtBQUFwRCxLQUFBdWhCLEtBQ0FuQixHQUFBYyxTQUFBLFNBQUE5ZCxLQUFBcEQsS0FBQXloQixNQUNBN0IsU0FBQSxXQUNBSyxFQUFBLElBQUFpQixTQUFBLGNBQUFRLFdBQUEsQ0FDQTFjLE1BQUFvYixHQUFBYyxTQUFBLFNBQ0FTLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXJCLFlBQUEsRUFDQXNCLFlBQUEsU0FBQTlZLEtBQUF3TixPQUNBQSxNQUFBdUwsaUJBQ0FsZCxXQUFBMitCLFNBQUEsQ0FDQXg2QixLQUFBQSxLQUNBNlQsTUFBQSxHQUNBcUUsS0FBQTNjLEtBQ0E2YyxTQUFBakIsR0FBQU0sVUFBQVEsVUFBQTFjLFFBRUFyQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBdWpCLFVBQUF2Z0MsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsWUFNQTFDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFHQSxDQUFBa0csS0FBQWdWLFlBS0FkLEdBQUFvakIsY0FBQSxZQUFBLFlBQ0FwakIsR0FBQW9qQixjQUFBLFlBQUEsU0FJQXBqQixHQUFBeVAsWUFBQSxDQUFBQyxpQkFBQSxHQUNBMVAsR0FBQTJQLFlBQUEsQ0FBQUMsU0FBQSxHQUNBbHJCLFdBQ0ExRSxlQUFBZ2dCLEdBQUFqVixTQUFBOUssV0FDQThDLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUE3VSxZQUFBbkksS0FBQXBELEtBQ0FvZ0IsR0FBQXlQLFlBQUFJLFNBQUE3UCxHQUFBN1UsWUFBQTJrQixnQkFBQXJNLGVBRUExZ0IsS0FBQSxTQUFBNkMsR0FDQTNFLFFBQUFDLElBQUEwRSxLQUdBMlosT0FBQVUsT0FBQSwwQkFBQSxTQUFBclUsT0FDQWlVLEVBQUEsd0JBQUFLLFlBQUEsOEJBQ0FMLEVBQUEsd0JBQUFNLFNBQUEsdUJBR0FILEdBQUF0ZCxtQkFBQSxTQUFBcXRCLEtBQUFDLElBQ0FuUSxFQUFBLFdBQUE5TSxPQUNBLElBQUFrZCxhQUFBLENBQ0FGLEtBQUFBLEtBQ0FDLEdBQUFBLElBRUF0ckIsV0FDQWhDLG1CQUFBdXRCLGNBQ0FsdEIsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQXlQLFlBQUFDLGlCQUFBMXNCLEtBQUFwRCxLQUFBOHZCLGlCQUNBbFEsU0FBQSxXQUNBSyxFQUFBLFdBQUFrTyxRQUNBLE9BRUE3cUIsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQUlBb2EsR0FBQW1RLFNBQUEsU0FBQTVwQixXQUVBM0gsSUFBQW9oQixHQUFBeVAsWUFBQVcsY0FDQSxLQUFBcFEsR0FBQXlQLFlBQUFXLG1CQUNBeHhCLElBQUFvaEIsR0FBQXdqQixxQkFBQWhnQyxNQUNBLEtBQUF3YyxHQUFBd2pCLHFCQUFBaGdDLGFBR0E1RSxJQUFBb2hCLEdBQUF5UCxZQUFBZ1UsYUFDQSxNQUFBempCLEdBQUF5UCxZQUFBZ1Usa0JBQ0E3a0MsSUFBQW9oQixHQUFBd2pCLHFCQUFBRSxZQUNBLE1BQUExakIsR0FBQXdqQixxQkFBQUUsbUJBR0E5a0MsSUFBQW9oQixHQUFBeVAsWUFBQUksVUFDQSxLQUFBN1AsR0FBQXlQLFlBQUFJLGVBQ0FqeEIsSUFBQW9oQixHQUFBd2pCLHFCQUFBLzFCLGFBQ0EsTUFBQXVTLEdBQUF3akIscUJBQUEvMUIsb0JBR0E3TyxJQUFBb2hCLEdBQUF5UCxZQUFBQyxrQkFDQSxLQUFBMVAsR0FBQXlQLFlBQUFDLHVCQUNBOXdCLElBQUFvaEIsR0FBQXdqQixxQkFBQS8xQixhQUNBLE1BQUF1UyxHQUFBd2pCLHFCQUFBLzFCLGNBRUFvUyxFQUFBLDZCQUFBb0gsS0FDQSxRQUNBLG9EQUVBcEgsRUFBQSxnQ0FBQWtPLE9BQ0FsTyxFQUFBLHFCQUFBb0gsS0FBQSxZQUFBLEtBMEJBcEgsRUFBQSw2QkFBQW9ILEtBQ0EsUUFDQSw0Q0FFQXBILEVBQUEsZ0NBQUE5TSxPQUNBOE0sRUFBQSxxQkFBQW9ILEtBQUEsWUFBQSxLQUlBakgsR0FBQXNRLGdCQUFBLFdBRUExeEIsTUFBQW9oQixHQUFBeVAsWUFBQVcsY0FDQSxLQUFBcFEsR0FBQXlQLFlBQUFXLGFBT0F4eEIsTUFBQW9oQixHQUFBeVAsWUFBQWdVLGFBQ0EsSUFBQXpqQixHQUFBeVAsWUFBQWdVLFlBT0E3a0MsTUFBQW9oQixHQUFBeVAsWUFBQUksVUFDQSxLQUFBN1AsR0FBQXlQLFlBQUFJLFNBTUF0USxPQUFBYSxnQkFBQSxFQUpBOWhCLGFBQUF3TSxNQUFBLDBCQVJBeE0sYUFBQXdNLE1BQUEsK0JBUkF4TSxhQUFBd00sTUFBQSwrQkF1QkFrVixHQUFBdVEsV0FBQSxTQUFBQyxLQUFBQyxnQkFDQSxPQUFBRCxLQUFBQyxnQkFHQXpRLEdBQUEwUSxtQkFBQSxXQUNBLElBQUE1SCxTQUFBLENBQ0F0bEIsS0FBQXdjLEdBQUF5UCxZQUFBVyxhQUNBemQsS0FBQXFOLEdBQUF5UCxZQUFBZ1UsWUFDQTVlLGFBQUEsQ0FDQWpaLE1BQUFvVSxHQUFBdVEsV0FDQXZRLEdBQUF5UCxZQUFBa1Usa0JBQ0EzakIsR0FBQXlQLFlBQUFDLGtCQUVBak0sYUFBQXpELEdBQUE3VSxZQUFBMmtCLGdCQUFBck0sY0FFQXdCLFdBQUEsQ0FDQXJaLE1BQUFvVSxHQUFBdVEsV0FDQXZRLEdBQUF5UCxZQUFBb0IsZ0JBQ0E3USxHQUFBeVAsWUFBQUMsa0JBRUFqTSxhQUFBekQsR0FBQTdVLFlBQUEya0IsZ0JBQUFyTSxjQUVBMWYsTUFBQWljLEdBQUFxSCxZQUdBM2lCLFdBQ0E3QyxnQkFBQWluQixVQUNBL2xCLEtBQUEsU0FBQUMsTUFDQXVjLE9BQUFoVSxJQUFBLEVBQ0FzVSxFQUFBLGdCQUFBeUUsTUFBQSxRQUNBaG1CLGFBQUFvSCxRQUFBMUMsS0FBQXBELEtBQUErRixTQUdBcWEsR0FBQU0sVUFBQTdVLFNBQUE0akIsV0FBQSxFQUVBclAsR0FBQW9qQixjQUFBLFlBQUEsWUFFQXBqQixHQUFBeVAsWUFBQSxDQUNBQyxpQkFBQSxLQUdBeHNCLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFJQW9hLEdBQUE3ZCxnQkFBQSxTQUFBWCxJQUNBa0QsV0FDQXZDLGdCQUFBWCxJQUNBdUIsS0FBQSxTQUFBQyxNQUNBL0IsUUFBQUMsSUFBQThCLFFBRUFFLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFLQWlhLEVBQUEsZ0JBQUF2UCxHQUFBLGdCQUFBLFdBQ0FpUCxPQUFBYSxnQkFBQSxFQUNBSixHQUFBeVAsWUFBQSxDQUNBQyxpQkFBQSxLQUtBMVAsR0FBQTRFLGtCQUFBLEdBQ0E1RSxHQUFBd2pCLHFCQUFBLEdBQ0F4akIsR0FBQXdHLG1CQUFBLEdBQ0F4RyxHQUFBNGpCLHFCQUFBLFNBQUFyOUIsS0FDQSxHQUFBLEdBQUFBLElBQ0FpWixTQUFBLFdBQ0FLLEVBQUEscUJBQUFvSCxLQUFBLFlBQUEsSUFDQSxLQUNBMUgsT0FBQXNrQixxQkFBQXQ5QixTQUNBLEdBQUEsR0FBQUEsSUFBQSxDQUNBLEdBQ0EzSCxNQUFBb2hCLEdBQUF3akIscUJBQUFoZ0MsTUFDQSxLQUFBd2MsR0FBQXdqQixxQkFBQWhnQyxLQUdBLFlBREFsRixhQUFBd00sTUFBQSw4QkFJQSxHQUNBbE0sTUFBQW9oQixHQUFBd2pCLHFCQUFBRSxZQUNBLElBQUExakIsR0FBQXdqQixxQkFBQUUsV0FHQSxZQURBcGxDLGFBQUF3TSxNQUFBLCtCQUlBLEdBQ0FsTSxNQUFBb2hCLEdBQUF3akIscUJBQUEvMUIsYUFDQSxLQUFBdVMsR0FBQXdqQixxQkFBQS8xQixZQUdBLFlBREFuUCxhQUFBd00sTUFBQSwwQkFHQXlVLE9BQUFza0IscUJBQUF0OUIsU0FDQSxHQUFBLEdBQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUF5WixHQUFBNEUsa0JBQUExZixPQUVBLFlBREE1RyxhQUFBd00sTUFBQSwrQkFHQWtWLEdBQUE4akIsUUFBQSxFQUNBOWpCLEdBQUErakIsUUFBQSxFQUNBN25DLFFBQUFnTCxRQUFBOFksR0FBQTRFLGtCQUFBLFNBQUFoWixPQUNBb1UsR0FBQThqQixRQUNBam5CLFdBQUFtRCxHQUFBOGpCLFNBQUFqbkIsV0FBQWpSLE1BQUFpWixjQUNBN0UsR0FBQStqQixRQUFBbG5CLFdBQUFtRCxHQUFBK2pCLFNBQUFsbkIsV0FBQWpSLE1BQUFxWixjQUVBakYsR0FBQThqQixRQUFBam5CLFdBQUE1RCxLQUFBOGMsTUFBQSxJQUFBL1YsR0FBQThqQixTQUFBLEtBQ0E5akIsR0FBQStqQixRQUFBbG5CLFdBQUE1RCxLQUFBOGMsTUFBQSxJQUFBL1YsR0FBQStqQixTQUFBLEtBQ0F4a0IsT0FBQXNrQixxQkFBQXQ5QixNQU1BeVosR0FBQWhVLE9BQUE1TixRQUFBNE4sT0FDQTVOLFFBQUE2TixjQUFBbEosS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQWtRLFdBQUFsdEIsS0FBQXBELEtBQ0FvZ0IsR0FBQWdrQixlQUFBLFNBQUE3aEIsUUFDQSxPQUFBLElBQUF4ZixRQUFBLFNBQUFDLFFBQUFDLFFBQ0FELFFBQUFJLEtBQUFwRCxXQWNBb2dCLEdBQUFpa0IsVUFBQSxDQUNBbGYsU0FBQSxFQUNBRixhQUFBLEVBQ0FJLFdBQUEsR0FHQWpGLEdBQUFra0IsZ0JBQUEsU0FBQUMsY0FDQW5rQixHQUFBaWtCLFVBQUFwZixhQUFBaEksV0FDQTVELEtBQUE4YyxNQUNBL1YsR0FBQWlrQixVQUFBbGYsU0FDQW9mLGFBQUFyZixZQUFBRCxhQUFBalosTUFDQSxLQUNBLEtBRUFvVSxHQUFBaWtCLFVBQUFoZixXQUFBcEksV0FDQTVELEtBQUE4YyxNQUNBL1YsR0FBQWlrQixVQUFBbGYsU0FDQW9mLGFBQUFyZixZQUFBRyxXQUFBclosTUFDQSxLQUNBLEtBRUFvVSxHQUFBbVEsV0FDQXRRLEVBQUEsd0JBQUFLLFlBQUEsOEJBQ0FMLEVBQUEsd0JBQUFNLFNBQUEsc0JBRUFILEdBQUFva0IsVUFBQSxTQUFBNzlCLElBQUFrRixVQUNBLElBQUFsRixLQUFBLEdBQUFBLEtBQ0F5WixHQUFBaWtCLFVBQUFsZixTQUFBLEVBQ0F4ZSxJQUFBLEVBQ0F5WixHQUFBaWtCLFVBQUFwZixhQUFBaEksV0FDQTVELEtBQUE4YyxNQUFBeHZCLElBQUFrRixTQUFBcVosWUFBQUQsYUFBQWpaLE1BQUEsS0FBQSxLQUVBb1UsR0FBQWlrQixVQUFBaGYsV0FBQXBJLFdBQ0E1RCxLQUFBOGMsTUFBQXh2QixJQUFBa0YsU0FBQXFaLFlBQUFHLFdBQUFyWixNQUFBLEtBQUEsT0FHQW9VLEdBQUFpa0IsVUFBQXBmLGFBQUFoSSxXQUNBNUQsS0FBQThjLE1BQUF4dkIsSUFBQWtGLFNBQUFxWixZQUFBRCxhQUFBalosTUFBQSxLQUFBLEtBRUFvVSxHQUFBaWtCLFVBQUFoZixXQUFBcEksV0FDQTVELEtBQUE4YyxNQUFBeHZCLElBQUFrRixTQUFBcVosWUFBQUcsV0FBQXJaLE1BQUEsS0FBQSxNQUdBb1UsR0FBQW1RLFlBR0FuUSxHQUFBMEcsbUJBQUEsV0FDQTFHLEdBQUF3RyxtQkFBQXhnQixLQUFBLENBQ0EyZ0IsZUFBQSxHQUNBMGQsZ0JBQUEsTUFHQXJrQixHQUFBNEcseUJBQUEsU0FBQXpQLE9BQ0E2SSxHQUFBd0csbUJBQUF2Z0IsT0FBQWtSLE1BQUEsSUFHQTZJLEdBQUFza0Isb0JBQUEsU0FBQTFrQyxNQUNBLElBQUFBLE9BQ0FvZ0IsR0FBQTRFLGtCQUFBNWUsS0FBQSxDQUNBd1AsV0FBQTVWLEtBQUE0RixJQUNBaEMsS0FBQTVELEtBQUE0RCxLQUNBdWhCLFNBQUEvRSxHQUFBaWtCLFVBQUFsZixTQUNBRixhQUFBN0UsR0FBQWlrQixVQUFBcGYsYUFDQUksV0FBQWpGLEdBQUFpa0IsVUFBQWhmLFdBQ0FzQixvQkFBQXZHLEdBQUF3RyxxQkFFQXhHLEdBQUF3RyxtQkFBQSxHQUNBeEcsR0FBQWlrQixVQUFBLENBQ0FsZixTQUFBLEVBQ0FGLGFBQUEsRUFDQUksV0FBQSxHQUdBakYsR0FBQXdqQixxQkFBQWUsY0FBQSxHQUNBMWtCLEVBQUEsbUNBQUEvVCxLQUFBLE1BSUFrVSxHQUFBNkcsWUFBQSxTQUFBOWlCLE1BQUFzUyxPQUNBLElBQUF5USxRQUFBelEsTUFBQStILE9BQUFyYSxNQUNBaWMsR0FBQStHLFVBQUF6bUIsT0FBQUMsS0FBQXVtQixTQUFBeGhCLElBQUEsU0FBQUMsR0FBQSxPQUFBdWhCLFFBQUF2aEIsR0FBQS9CLFFBR0F3YyxHQUFBd2tCLHdCQUFBLFdBQ0EsSUFBQUMsT0FBQSxHQUVBemtCLEdBQUE0RSxrQkFBQTFkLFFBQUEsU0FBQTNCLEdBQ0EsSUFBQW0vQixhQUFBLEdBQ0EsSUFBQW4vQixFQUFBZ2hCLG9CQUFBcmhCLFFBQ0FLLEVBQUFnaEIsb0JBQUFyZixRQUFBLFNBQUEzQixHQUNBbS9CLGFBQUFuL0IsRUFBQW9oQixnQkFBQS9KLE9BQUFyWCxFQUFBOCtCLG1CQUdBSSxPQUFBeitCLEtBQUEsQ0FDQXdQLFdBQUFqUSxFQUFBaVEsV0FDQXVQLFNBQUF4ZixFQUFBd2YsU0FDQXdCLG9CQUFBbWUsaUJBSUEsSUFBQTlrQyxLQUFBLENBQ0E0RCxLQUFBd2MsR0FBQXdqQixxQkFBQWhnQyxLQUNBbVAsS0FBQXFOLEdBQUF3akIscUJBQUFFLFdBQ0E5ZSxrQkFBQTZmLE9BQ0ExZ0MsTUFBQWljLEdBQUFxSCxZQUdBM2lCLFdBQ0FpZ0MsZUFDQTVoQyxLQUFBLFNBQUFDLE1BQ0EsSUFBQW9zQixVQUFBLENBQUFBLFVBQUFwc0IsS0FBQXBELEtBQUFnbEMsVUFDQTFvQyxRQUFBMm9DLE9BQUFqbEMsS0FBQXd2QixXQUNBMXFCLFdBQ0FuQyxvQkFBQTNDLE1BQ0FtRCxLQUFBLFNBQUFDLE1BQ0ExRSxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsU0FDQWthLEVBQUEscUJBQUF5RSxNQUFBLFVBRUFwaEIsTUFBQSxTQUFBMEMsR0FDQXRILGFBQUF3TSxNQUFBbEYsRUFBQWhHLEtBQUErRixhQUdBekMsTUFBQSxTQUFBMEMsR0FDQXRILGFBQUF3TSxNQUFBbEYsRUFBQWhHLEtBQUErRixZQUlBcWEsR0FBQThrQixjQUFBLFNBQUFoZ0MsTUFDQWtiLEdBQUE0RSxrQkFBQTNlLE9BQUFuQixLQUFBLE1BMWxCQSxHQ0FBLFdBQ0E1SSxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLG1CQUVBLFNBQ0F5aEIsT0FDQUMsU0FDQUMsWUFDQXhoQixPQUNBc21CLGFBQ0E3ZixXQUNBcEcsYUFDQUYsUUFDQUYsVUFDQUcsUUFHQSxJQUFBMmhCLEdBQUF0Z0IsS0FDQU4sT0FBQWhCLFFBQUFnQixPQUFBQyxVQUFBakIsUUFBQWlCLFVBQ0EsSUFBQW9nQixZQUFBdmIsWUFFQSxZQURBOUUsU0FxR0EsU0FBQStsQixZQUNBdEYsRUFBQSxhQUFBdUYsV0FBQSxDQUNBQyxVQUFBLFFBQ0FDLFlBQUEsRUFDQUMsZUFBQSxFQUNBQyxXQUFBLEVBQ0FDLFVBQUEsR0FDQUMsV0FBQSxFQUNBQyxTQUFBLFlBR0E5RixFQUFBLFdBQUF1RixXQUFBLENBQ0FDLFVBQUEsUUFDQUMsWUFBQSxFQUNBQyxlQUFBLEVBQ0FDLFdBQUEsRUFDQUksS0FBQSxjQWhIQTVGLEdBQUFqVixTQUFBMUwsVUFBQVAsTUFDQWtoQixHQUFBNWdCLE9BQUEsV0FDQUEsVUFHQTRnQixHQUFBeEssV0FBQStPLGFBQUEvaUIsR0FDQXdlLEdBQUFoVSxPQUFBNU4sUUFBQTROLE9BQ0FnVSxHQUFBNkYsVUFBQSxFQUNBN0YsR0FBQThGLGFBQUEsR0FDQXZHLE9BQUF3bEIsYUFBQSxXQUNBcmdDLFdBQ0F2QyxnQkFBQTZkLEdBQUF4SyxZQUNBelMsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQWlHLFlBQUFqakIsS0FBQXBELEtBQ0FvZ0IsR0FBQWdsQixZQUFBaGxCLEdBQUFpRyxZQUFBemlCLEtBQ0F3YyxHQUFBeWpCLFlBQUF6akIsR0FBQWlHLFlBQUF0VCxLQUNBMVIsUUFBQUMsSUFBQThlLEdBQUFpRyxhQUNBakcsR0FBQWlsQixZQUFBcm9CLE9BQ0FvRCxHQUFBaUcsWUFBQW5CLFlBQUFELGFBQUFqWixPQUNBa1IsUUFBQSxHQUNBa0QsR0FBQWtsQixvQkFDQWxsQixHQUFBaUcsWUFBQW5CLFlBQUFELGFBQUFwQixhQUNBekQsR0FBQW1sQixrQkFBQXZvQixPQUNBb0QsR0FBQWlHLFlBQUFuQixZQUFBRyxXQUFBclosT0FDQWtSLFFBQUEsR0FDQWtELEdBQUFvbEIsMEJBQ0FwbEIsR0FBQWlHLFlBQUFuQixZQUFBRyxXQUFBeEIsYUFDQXpELEdBQUFxbEIsaUJBQUFybEIsR0FBQWlHLFlBQUFxZixhQUFBQyxVQUFBL2hDLEtBQ0F3YyxHQUFBd2xCLGlCQUFBeGxCLEdBQUFpRyxZQUFBb0osVUFDQXJQLEdBQUF5bEIsaUJBQUF6bEIsR0FBQWlHLFlBQUFvSixVQUNBOVAsT0FBQW1tQixTQUFBLENBQ0EsQ0FBQTFmLElBQUEsK0JBQUF6WSxNQUFBLE9BQUEzQixNQUFBb1UsR0FBQXlqQixhQUNBLENBQUF6ZCxJQUFBLGlDQUFBelksTUFBQSxnQkFBQTNCLE1BQUFvVSxHQUFBaWxCLFlBQUF4aEIsYUFBQXpELEdBQUFrbEIscUJBQ0EsQ0FBQWxmLElBQUEsaUNBQUF6WSxNQUFBLGNBQUEzQixNQUFBb1UsR0FBQW1sQixrQkFBQTFoQixhQUFBekQsR0FBQW9sQiw4QkFHQWxpQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BR0EyWixPQUFBd2xCLGVBRUEva0IsR0FBQStGLFVBQUEsU0FBQUMsS0FDQWhHLEdBQUE4RixhQUFBOWYsS0FBQWdhLEdBQUFpRyxZQUFBbGlCLE1BQUFpaUIsS0FBQXhnQixLQUNBd2EsR0FBQWlHLFlBQUFsaUIsTUFBQWtDLE9BQUErZixJQUFBLElBRUFoRyxHQUFBMmxCLGFBQUEsU0FBQXAvQixLQUNBLEdBQUEsR0FBQUEsSUFFQXlaLEdBQUE2RixVQUFBLEVBQ0FoRyxFQUFBLGlEQUFBb0gsS0FDQSxZQUNBLFFBRUEsR0FBQSxHQUFBMWdCLElBQUEsQ0FFQXlaLEdBQUE2RixVQUFBLEVBQ0FoRyxFQUFBLGlEQUFBb0gsS0FDQSxZQUNBLEdBRUEsSUFBQTJlLG1CQUFBLENBQ0FwaUMsS0FBQXdjLEdBQUFnbEIsWUFDQXJ5QixLQUFBcU4sR0FBQXlqQixZQUNBM2QsYUFBQTlGLEdBQUE4RixhQUNBaEIsWUFBQSxDQUNBRCxhQUFBLENBQ0FqWixNQUFBb1UsR0FBQWlsQixZQUNBeGhCLGFBQUF6RCxHQUFBa2xCLHFCQUVBamdCLFdBQUEsQ0FDQXJaLE1BQUFvVSxHQUFBbWxCLGtCQUNBMWhCLGFBQUF6RCxHQUFBb2xCLDRCQUdBcitCLEtBQUFpWixHQUFBcUgsWUFFQTNpQixXQUNBeEMsbUJBQUE4ZCxHQUFBeEssV0FBQW93QixvQkFDQTdpQyxLQUFBLFNBQUFDLE1BQ0ExRSxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsU0FDQTRaLE9BQUF3bEIsZUFDQS9rQixHQUFBK0csVUFBQSxHQUNBdkgsU0FBQTJGLFVBQUEsT0FFQWppQixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE9BS0FvYSxHQUFBNkcsWUFBQSxTQUFBOWlCLE1BQUFzUyxPQUNBLElBQUF5USxRQUFBelEsTUFBQStILE9BQUFyYSxNQUNBaWMsR0FBQStHLFVBQUF6bUIsT0FBQUMsS0FBQXVtQixTQUFBeGhCLElBQUEsU0FBQUMsR0FBQSxPQUFBdWhCLFFBQUF2aEIsR0FBQS9CLFFBdUJBK2IsT0FBQXNtQixZQUFBLENBQ0EsQ0FBQUMsU0FBQSxVQUNBLENBQUFBLFNBQUEsUUFDQSxDQUFBQSxTQUFBLGlCQUNBLENBQUFBLFNBQUEsZ0JBRUF2bUIsT0FBQXdtQixVQUFBLENBQ0EsQ0FBQUMsS0FBQSxJQUFBQyxLQUFBLGVBQUFDLE9BQUEsVUFBQUMsT0FBQSxXQUNBLENBQUFILEtBQUEsSUFBQUMsS0FBQSxlQUFBQyxPQUFBLFVBQUFDLE9BQUEsV0FDQSxDQUFBSCxLQUFBLElBQUFDLEtBQUEsZUFBQUMsT0FBQSxVQUFBQyxPQUFBLFdBQ0EsQ0FBQUgsS0FBQSxJQUFBQyxLQUFBLGVBQUFDLE9BQUEsVUFBQUMsT0FBQSxXQUNBLENBQUFILEtBQUEsSUFBQUMsS0FBQSxlQUFBQyxPQUFBLFVBQUFDLE9BQUEsV0FDQSxDQUFBSCxLQUFBLElBQUFDLEtBQUEsZUFBQUMsT0FBQSxVQUFBQyxPQUFBLFdBQ0EsQ0FBQUgsS0FBQSxJQUFBQyxLQUFBLGVBQUFDLE9BQUEsVUFBQUMsT0FBQSxXQUNBLENBQUFILEtBQUEsSUFBQUMsS0FBQSxlQUFBQyxPQUFBLFVBQUFDLE9BQUEsV0FDQSxDQUFBSCxLQUFBLElBQUFDLEtBQUEsZUFBQUMsT0FBQSxVQUFBQyxPQUFBLFdBQ0EsQ0FBQUgsS0FBQSxLQUFBQyxLQUFBLGVBQUFDLE9BQUEsVUFBQUMsT0FBQSxXQUNBLENBQUFILEtBQUEsS0FBQUMsS0FBQSxlQUFBQyxPQUFBLFVBQUFDLE9BQUEsV0FDQSxDQUFBSCxLQUFBLEtBQUFDLEtBQUEsZUFBQUMsT0FBQSxVQUFBQyxPQUFBLGNBOUpBLEdDQUEsV0FDQWpxQyxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGNBRUEsU0FDQXloQixPQUNBQyxTQUNBdGhCLFVBQ0F1aEIsWUFDQXhoQixPQUNBeUcsV0FDQXBHLGFBQ0FGLFNBR0EsSUFDQWdCLE9BQUFoQixRQUFBZ0IsT0FBQUMsVUFBQWpCLFFBQUFpQixVQUNBLElBQUFvZ0IsWUFBQXZiLFlBRUEsWUFEQTlFLFNBSEFNLEtBUUFxTCxTQUFBMUwsVUFBQVAsTUFSQVksS0FTQU4sT0FBQSxXQUFBQSxVQUdBbEIsVUFBQTBoQixPQUdBQyxFQUFBLGdCQUFBQyxJQUFBLFVBQUEsb0JBRUFELEVBQUEsZ0JBQUFFLGNBL0JBLEdDQUEsV0FDQTdqQixRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGVBRUEsU0FDQXloQixPQUNBQyxTQUNBdmhCLE9BQ0F3aEIsWUFDQS9hLFdBQ0F0RyxRQUNBRCxvQkFDQUcsYUFDQW9oQixPQUdBLElBQUFNLEdBQUF0Z0IsS0FDQUwsV0FBQWpCLFFBQUFlLFNBQUFmLFFBQUFnQixPQUFBaEIsUUFBQWlCLFdBR0EsR0FGQTJnQixHQUFBTCxVQUFBLEVBRUFGLFlBQUF2YixZQUdBLE9BRkFqRyxPQUFBNE0sR0FBQSxrQkFDQW1WLEdBQUFMLFVBQUEsR0FNQUssR0FBQTJILEtBQUEsQ0FDQS9wQixJQUNBLHNGQUNBaXFCLE9BQUEsQ0FDQSxDQUNBOEIsWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FGLFlBQUEsY0FDQUMsUUFBQSxDQUNBLENBQ0FFLFdBQUEsU0FJQSxDQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FGLFlBQUEscUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSxpQkFDQUosWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEseUJBQ0FKLFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSw2QkFDQUgsUUFBQSxDQUNBLENBQ0FFLFdBQUEsU0FJQSxDQUNBQyxZQUFBLDBCQUNBSixZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsTUFDQUosWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBRSxZQUFBLFdBQ0FKLFlBQUEsV0FDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBRSxZQUFBLFdBQ0FKLFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSxXQUNBSixZQUFBLHFCQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsT0FDQUosWUFBQSxnQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBRSxZQUFBLE9BQ0FKLFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSxnQkFDQUosWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsZUFDQUosWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsaUNBQ0FKLFlBQUEsV0FDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBRSxZQUFBLGFBQ0FKLFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUUsWUFBQSxVQUNBSixZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsUUFDQUosWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FFLFlBQUEsUUFDQUosWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsY0FLQWpDLFFBQUEsQ0FBQSxDQUFBLFFBQUEsU0FBQSxDQUFBLFFBQUEsV0FHQWxJLE1BQUF5SixTQUFBcG1CLEtBQUEsU0FBQXVDLEtBQ0FBLElBQUF6SSxXQUFBLENBQ0FnckIsT0FBQTdILEdBQUEySCxLQUFBRSxPQUNBdUIsa0JBQUEsRUFDQXJCLEtBQUEsRUFDQUQsT0FBQSxDQUNBVyxJQUFBLFFBQ0FDLElBQUEsYUFvQkExSSxHQUFBb21CLGNBQUEsV0FDQXZtQixFQUFBLGlDQUFBeUUsTUFBQSxRQUNBekUsRUFBQSxrQkFBQXlFLE1BQUEsU0FFQXRFLEdBQUFxbUIsV0FBQSxXQUNBeG1CLEVBQUEsb0NBQUF5RSxNQUFBLFFBQ0F6RSxFQUFBLGVBQUF5RSxNQUFBLFNBRUF0RSxHQUFBc21CLGdCQUFBLFdBQ0F6bUIsRUFBQSxlQUFBeUUsTUFBQSxRQUNBekUsRUFBQSxvQkFBQXlFLE1BQUEsU0FHQXRFLEdBQUF6Z0IsTUFBQSxTQUFBZ25DLFFBQUF6ZCxVQUNBN25CLFFBQUFDLElBQUE0bkIsVUFDQXBrQixXQUNBbkYsTUFBQXVwQixVQUNBL2xCLEtBQUEsU0FBQUMsTUFDQTZjLEVBQUEsZUFBQXlFLE1BQUEsUUFDQXpFLEVBQUEsUUFBQUssWUFBQSxjQUNBTCxFQUFBLG1CQUFBa08sT0FDQTV2QixvQkFBQWIsSUFBQSxlQUFBMEYsS0FBQXBELEtBQUFsQixPQUNBVyxVQUFBL0IsSUFBQTBGLEtBQUFwRCxLQUFBNG1DLE1BQ0F2b0MsT0FBQTRNLEdBQUEsYUFDQXZNLGFBQUFvSCxRQUFBLG1CQUVBeEMsTUFBQSxTQUFBQyxLQUNBN0UsYUFBQXdNLE1BQUEzSCxJQUFBdkQsS0FBQStGLFlBSUFxYSxHQUFBeW1CLFdBQUEsU0FBQUYsUUFBQXpkLFVBQ0EsR0FBQWxxQixNQUFBa3FCLFNBQ0F4cUIsYUFBQXdNLE1BQUEsNEJBQ0EsQ0FDQSxJQUFBbEwsS0FBQWtwQixTQUNBcGtCLFdBQ0E3RSxlQUFBRCxNQUNBbUQsS0FBQSxTQUFBQyxNQUNBNmMsRUFBQSxvQkFBQXlFLE1BQUEsUUFDQWhtQixhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsV0FHQXpDLE1BQUEsU0FBQUMsS0FDQTdFLGFBQUF3TSxNQUFBM0gsSUFBQXZELEtBQUErRixhQUtBcWEsR0FBQTlKLFNBQUEsU0FBQXF3QixRQUFBemQsVUFDQXBrQixXQUNBNUUsYUFBQWdwQixVQUNBL2xCLEtBQUEsU0FBQUMsTUFDQTZjLEVBQUEsa0JBQUF5RSxNQUFBLFFBQ0FobUIsYUFBQW9ILFFBQUExQyxLQUFBcEQsS0FBQStGLFdBRUF6QyxNQUFBLFNBQUFDLEtBQ0EwYyxFQUFBLGtCQUFBeUUsTUFBQSxRQUNBaG1CLGFBQUF3TSxNQUFBM0gsSUFBQXZELEtBQUErRixZQUlBcWEsR0FBQWpnQixVQUFBLFNBQUEyZ0IsT0FDQSxnREFDQS9aLEtBQUErWixPQUlBaGMsV0FDQTNFLFVBQUEsQ0FBQTJnQixNQUFBQSxRQUNBM2QsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQTBtQixlQUFBLEdBQ0Fwb0MsYUFBQW9ILFFBQUExQyxLQUFBcEQsS0FBQStGLFdBRUF6QyxNQUFBLFNBQUFDLEtBQ0E3RSxhQUFBd00sTUFBQTNILElBQUF2RCxLQUFBK0YsV0FWQXJILGFBQUF3TSxNQUFBLG9CQXZUQSxHQ0FBLFdBQ0E1TyxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGNBRUEsU0FDQXloQixPQUNBQyxTQUNBQyxZQUNBeGhCLE9BQ0F5RyxXQUNBcEcsYUFDQUYsUUFDQXNoQixPQUlBLElBRUF0Z0IsT0FBQWhCLFFBQUFnQixPQUFBQyxVQUFBakIsUUFBQWlCLFVBRUEsSUFBQW9nQixZQUFBdmIsWUFFQSxZQURBOUUsU0FMQU0sS0FXQXFMLFNBQUExTCxVQUFBUCxNQUVBNEYsV0FDQXZFLGtCQUNBNEMsS0FBQSxTQUFBQyxNQUNBL0IsUUFBQUMsSUFBQThCLEtBQUFwRCxRQUVBc0QsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxLQW5CQWxHLEtBc0JBTixPQUFBLFdBQ0FBLFlBdENBLEdDQUEsV0FDQWxELFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsbUJBRUEsU0FDQXloQixPQUNBQyxTQUNBQyxZQUNBeGhCLE9BQ0F5RyxXQUNBcEcsYUFDQW9oQixNQUNBdGhCLFFBQ0FELHFCQUVBLElBQUE2aEIsR0FBQXRnQixLQUNBNmYsT0FBQW9uQixPQUFBLHNDQUNBcG5CLE9BQUFxbkIsT0FBQSx1Q0FIQSxJQUlBeG5DLE9BQUFoQixRQUFBZ0IsT0FDQW1nQixPQUFBc25CLFVBQUEsR0FDQXRuQixPQUFBdW5CLG1CQUFBLEVBQ0F2bkIsT0FBQXduQixZQUFBLEdBQ0F4bkIsT0FBQXluQixXQUFBLEdBQ0F6bkIsT0FBQTBuQixPQUFBLENBQ0F6NUIsU0FBQSxNQUdBaVMsWUFBQXZiLGFBQ0E5RSxTQUlBNGdCLEdBQUE1Z0IsT0FBQSxXQUNBQSxVQUdBbWdCLE9BQUEybkIsWUFBQSxXQUNBLElBQUFsaEIsSUFBQSxJQUFBbWhCLE1BQ0FuaEIsSUFBQTBYLElBQUEsc0NBQ0EsSUFBQTBKLEtBQUEsSUFBQUQsTUFDQUMsS0FBQTFKLElBQUEsdUNBQ0EsSUFBQS8wQixJQUFBLElBQUEwK0IsTUFBQSxLQUVBMStCLElBQUEyK0IsU0FBQXRoQixJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsSUFDQXJkLElBQUEyK0IsU0FBQUYsS0FBQSxNQUFBLElBQUEsR0FBQSxHQUFBLElBRUF6K0IsSUFBQTQrQixVQUFBLENBQ0FDLEtBQUEsZUFFQUMsT0FBQSxDQUFBM2EsSUFBQSxLQUNBNGEsVUFBQSxPQUNBQyxXQUFBLE9BQ0FDLFdBQUEsY0FJQWovQixJQUFBay9CLFlBQUEsSUFDQWwvQixJQUFBbUQsS0FBQSxHQUFBLElBQUEsWUFDQW5ELElBQUFrL0IsWUFBQSxJQUNBbC9CLElBQUFtL0IsUUFBQSxhQUVBbi9CLElBQUFtRCxLQUFBLEdBQUEsSUFBQSxrRkFDQW5ELElBQUFtRCxLQUFBLEdBQUEsSUFBQSwyR0FFQW5ELElBQUFtRCxLQUFBLEdBQUEsSUFBQSxxREFTQW5ELElBQUFvL0IsS0FBQSxnQkFrQkEsSUFBQXg5QixTQUFBLEVBQ0FvZ0IsVUFBQSxFQUNBM0ssR0FBQWdvQixZQUFBLEdBQ0Fob0IsR0FBQTZLLGdCQUFBLEVBQ0E3SyxHQUFBOEssV0FBQSxDQUNBQyxNQUFBLFVBQ0EzbUIsTUFBQSxHQTBCQW1iLE9BQUEwb0IsaUJBQUEsV0FFQWpvQixHQUFBNkssZ0JBQUEsRUFDQW5tQixXQUNBMDJCLGNBQUEsQ0FDQXBhLE9BQUFoQixHQUFBZ29CLFlBQ0F0ckIsTUFBQWlPLFVBQ0E5aEIsS0FBQSxFQUNBa1ksS0FBQWYsR0FBQThLLFdBQUFDLE1BQ0E5SixTQUFBakIsR0FBQThLLFdBQUExbUIsT0FFQXJCLEtBQUEsU0FBQUMsTUFFQWdkLEdBQUFrb0IsZ0JBQUEsR0FDQTNvQixPQUFBeW5CLFdBQUE5aEMsT0FBQSxHQUVBcWEsT0FBQXluQixXQUFBOS9CLFFBQUEsU0FBQWdjLFNBQ0FsZ0IsS0FBQXBELEtBQUF1aEIsS0FBQWphLFFBQUEsU0FBQWloQyxRQUFBaHhCLE9BQ0ErTCxRQUFBMWQsS0FBQTJpQyxRQUFBM2lDLElBRUF4QyxLQUFBcEQsS0FBQXVoQixLQUFBbGIsT0FBQWtSLE1BQUEsR0FFQWxXLFFBQUFDLElBQUEsYUFRQXNlLFNBQUEsV0FFQVEsR0FBQWtvQixnQkFBQWxsQyxLQUFBcEQsS0FBQXVoQixLQUNBdEIsRUFBQSxvQkFBQXlFLE1BQUEsUUFDQXpFLEVBQUEscUJBQUF5RSxNQUFBLFFBQ0EvRSxPQUFBNm9CLFVBQUEsTUFHQWxsQyxNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLE1BR0FpYSxFQUFBLHFCQUFBdlAsR0FBQSxnQkFBQSxXQUNBMFAsR0FBQTZLLGdCQUFBLElBR0E3SyxHQUFBcW9CLGlCQUFBLFdBQ0F4b0IsRUFBQSxxQkFBQXlFLE1BQUEsUUFDQXRFLEdBQUFnb0IsWUFBQSxJQUdBem9CLE9BQUErTSxRQUFBLFdBQ0FyckIsUUFBQUMsSUFBQSxvQkFDQXFKLFVBQ0FBLFNBQUEsRUFDQWlWLFNBQUEsV0FDQWpWLFNBQUEsR0FDQSxLQUNBb2dCLFdBQUEsRUFDQWptQixXQUNBMDJCLGNBQUEsQ0FDQXBhLE9BQUFoQixHQUFBZ29CLFlBQ0F0ckIsTUFBQWlPLFVBQ0E5aEIsS0FBQSxFQUNBa1ksS0FBQWYsR0FBQThLLFdBQUFDLE1BQ0E5SixTQUFBakIsR0FBQThLLFdBQUExbUIsT0FFQXJCLEtBQUEsU0FBQUMsTUFHQWdkLEdBQUFrb0IsZ0JBQUEsR0FDQTNvQixPQUFBeW5CLFdBQUE5aEMsT0FBQSxHQUVBcWEsT0FBQXluQixXQUFBOS9CLFFBQUEsU0FBQWdjLFNBRUFsZ0IsS0FBQXBELEtBQUF1aEIsS0FBQWphLFFBQUEsU0FBQWloQyxRQUFBaHhCLE9BQ0ErTCxRQUFBMWQsS0FBQTJpQyxRQUFBM2lDLEtBQ0F4QyxLQUFBcEQsS0FBQXVoQixLQUFBbGIsT0FBQWtSLE1BQUEsT0FTQXFJLFNBQUEsV0FFQVEsR0FBQWtvQixnQkFBQWxsQyxLQUFBcEQsS0FBQXVoQixTQUlBamUsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxPQU1Bb2EsR0FBQWdkLGFBQUEsU0FBQWx4QixNQUNBN0ssUUFBQUMsSUFBQSxZQUFBNEssTUFDQXBILFdBQ0EwMkIsY0FBQSxDQUNBcGEsT0FBQWhCLEdBQUFnb0IsWUFDQXRyQixNQUFBaU8sVUFDQTloQixLQUFBLEVBQ0FrWSxLQUFBZixHQUFBOEssV0FBQUMsTUFDQTlKLFNBQUFqQixHQUFBOEssV0FBQTFtQixPQUVBckIsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQWtvQixnQkFBQWxsQyxLQUFBcEQsS0FBQXVoQixPQUVBamUsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQU1BMlosT0FBQStvQixXQUFBLEdBQ0Evb0IsT0FBQWdwQixVQUFBLFNBQUFoN0IsTUFBQTNCLE9BQ0FoTixNQUFBMk8sT0FBQTNPLE1BQUFnTixRQUNBMlQsT0FBQStvQixXQUFBdGlDLEtBQUEsQ0FBQXE2QixNQUFBOXlCLE1BQUFpN0IsTUFBQTU4QixRQUNBaVUsRUFBQSxnQkFBQXRaLElBQUEsSUFDQXNaLEVBQUEsZ0JBQUF0WixJQUFBLE1BTUF5WixHQUFBeW9CLGFBQUEsU0FBQXJJLE1BQUFqcEIsTUFBQTRtQixPQUVBcUMsT0FJQXJDLE1BQUE5M0IsT0FBQWtSLE1BQUEsR0FDQW9JLE9BQUF5bkIsV0FBQWhoQyxLQUFBbzZCLE9BQ0F2Z0IsRUFBQSxxQkFBQXlFLE1BQUEsUUFDQXpFLEVBQUEsb0JBQUF5RSxNQUFBLFNBR0FobUIsYUFBQXdNLE1BQUEsaUJBS0FrVixHQUFBMG9CLHFCQUFBLFdBQ0E3b0IsRUFBQSxxQkFBQXlFLE1BQUEsUUFDQXpFLEVBQUEsb0JBQUF5RSxNQUFBLFNBR0EvRSxPQUFBb3BCLGVBQUEsV0FDQTlvQixFQUFBLG9CQUFBeUUsTUFBQSxRQUNBL0UsT0FBQXVuQixtQkFBQSxHQTRCQXZuQixPQUFBcXBCLGVBQUEsV0FDQS9vQixFQUFBLG1CQUFBeUUsTUFBQSxTQUVBL0UsT0FBQXNwQixhQUFBLFdBQ0FocEIsRUFBQSxpQkFBQXlFLE1BQUEsU0FFQS9FLE9BQUF1cEIsaUJBQUEsV0FDQWpwQixFQUFBLHFCQUFBeUUsTUFBQSxTQUVBL0UsT0FBQXdwQixrQkFBQSxXQUNBbHBCLEVBQUEsc0JBQUF5RSxNQUFBLFNBR0EvRSxPQUFBeXBCLG9CQUFBLFdBQ0FucEIsRUFBQSxvQkFBQXlFLE1BQUEsU0FJQS9FLE9BQUEwcEIsYUFBQSxTQUFBQyxRQUNBam9DLFFBQUFDLElBQUFnb0MsUUFDQTNwQixPQUFBd25CLFlBQUF4NUIsTUFBQTI3QixPQUFBMzdCLE1BQ0FnUyxPQUFBd25CLFlBQUF0NUIsWUFBQXk3QixPQUFBejdCLFlBQ0E4UixPQUFBd25CLFlBQUFvQyxZQUFBRCxPQUFBQyxZQUNBNXBCLE9BQUF3bkIsWUFBQXJtQixNQUFBd29CLE9BQUF4b0IsTUFDQW5CLE9BQUF3bkIsWUFBQXFDLFFBQUFGLE9BQUFFLFFBQ0E3cEIsT0FBQXduQixZQUFBc0MsTUFBQUgsT0FBQUcsTUFDQTlwQixPQUFBd25CLFlBQUEvYixZQUFBa2UsT0FBQWxlLFlBQ0F6TCxPQUFBd25CLFlBQUF1QyxTQUFBSixPQUFBSSxTQUNBL3BCLE9BQUF3bkIsWUFBQXdDLFdBQUFMLE9BQUFLLFdBQ0FocUIsT0FBQXluQixXQUFBOWhDLE9BQUEsSUFDQXFhLE9BQUF3bkIsWUFBQUMsV0FBQXpuQixPQUFBeW5CLFlBRUF6bkIsT0FBQStvQixXQUFBcGpDLE9BQUEsSUFDQXFhLE9BQUF3bkIsWUFBQXVCLFdBQUEvb0IsT0FBQStvQixZQUVBL29CLE9BQUF3bkIsWUFBQXlDLFdBQUFOLE9BQUFNLFdBQ0FqcUIsT0FBQXduQixZQUFBMEMsV0FBQVAsT0FBQU8sV0FFQTVwQixFQUFBLG1CQUFBeUUsTUFBQSxRQUNBekUsRUFBQSxpQkFBQXlFLE1BQUEsUUFDQXpFLEVBQUEscUJBQUF5RSxNQUFBLFFBQ0F6RSxFQUFBLHNCQUFBeUUsTUFBQSxRQUNBekUsRUFBQSxxQkFBQXlFLE1BQUEsU0FHQS9FLE9BQUE2b0IsVUFBQSxFQUNBN29CLE9BQUFtcUIsY0FBQSxXQUNBbnFCLE9BQUE2b0IsVUFBQSxHQUdBN29CLE9BQUFvcUIsb0JBQUEsU0FBQXh5QixNQUFBNG1CLE9BQ0FBLE1BQUE5M0IsT0FBQWtSLE1BQUEsR0FDQWxXLFFBQUFDLElBQUFxZSxPQUFBeW5CLGVBcFdBLEdDQUEsV0FDQTlxQyxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGNBRUEsU0FDQXloQixPQUNBQyxTQUNBQyxZQUNBeGhCLE9BQ0F5RyxXQUNBcEcsYUFDQW9oQixNQUNBdGhCLFFBQ0FELHFCQUVBLElBQUE2aEIsR0FBQXRnQixLQUVBTixPQUFBaEIsUUFBQWdCLE9BQUFoQixRQUFBaUIsVUFFQW9nQixZQUFBdmIsYUFDQTlFLFNBRUFtZ0IsT0FBQXFxQixZQUFBenJDLG9CQUFBVyxJQUFBLFlBRUF5Z0IsT0FBQXNxQixlQUFBLENBQUEsY0FBQSxlQUFBLFlBQ0FubEMsV0FBQXhFLGVBQUE2QyxLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBOHBCLGNBQUE5bUMsS0FBQXBELEtBQUF1aEIsT0FFQXpjLFdBQ0F2RSxrQkFDQTRDLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUFnSyxZQUFBaG5CLEtBQUFwRCxPQUlBc0QsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxLQUVBb2EsR0FBQTVnQixPQUFBLFdBQ0FBLFlBdENBLEdDQUEsV0FDQWxELFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEscUJBRUEsU0FDQXloQixPQUNBQyxTQUNBdGhCLFVBQ0F1aEIsWUFDQXhoQixPQUNBeUcsV0FDQXBHLGFBQ0FGLFNBR0EsSUFDQWdCLE9BQUFoQixRQUFBZ0IsT0FBQUMsVUFBQWpCLFFBQUFpQixVQUNBLElBQUFvZ0IsWUFBQXZiLFlBRUEsWUFEQTlFLFNBSEFNLEtBUUFxTCxTQUFBMUwsVUFBQVAsTUFSQVksS0FTQU4sT0FBQSxXQUFBQSxVQUtBLFlBRkFsQixVQUFBMGhCLFFBR0FDLEVBQUEsZ0JBQUFDLElBQUEsVUFBQSxvQkFJQUQsRUFBQSxnQkFBQUUsY0FqQ0EsR0NBQSxXQUNBN2pCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsa0JBRUEsU0FDQXloQixPQUNBQyxTQUNBdGhCLFVBQ0F1aEIsWUFDQXhoQixPQUNBeUcsV0FDQXBHLGFBQ0FGLFNBR0EsSUFBQTRoQixHQUFBdGdCLEtBRUFoQixNQUFBUixVQUFBOGlCLFNBQUF0aUIsTUFFQSxJQUFBQSxNQUNBLE9BR0FnRyxXQUNBcWxDLGFBQUEsQ0FBQXJyQyxNQUFBQSxRQUNBcUUsS0FBQSxTQUFBQyxNQUNBL0IsUUFBQUMsSUFBQThCLEtBQUFwRCxNQUNBb0QsS0FBQXBELEtBQUFvcUMsWUFDQWhxQixHQUFBd21CLEtBQUF4akMsS0FBQXBELEtBQUE0bUMsS0FDQTNtQixFQUFBLG9CQUFBeUUsTUFBQSxTQUVBekUsRUFBQSxpQkFBQXlFLE1BQUEsVUFHQXBoQixNQUFBLFNBQUEwQyxHQUNBM0UsUUFBQUMsSUFBQTBFLEtBR0FvYSxHQUFBaXFCLFVBQUEsU0FBQTFELFFBQUEzbUMsTUFFQSxHQURBaWdCLEVBQUEsb0JBQUF5RSxNQUFBLFFBQ0F0RSxHQUFBaXFCLFVBQUFDLFdBQUFscUIsR0FBQWlxQixVQUFBRSxXQUFBLENBQ0EsSUFBQXZxQyxLQUFBLENBQ0FzcUMsU0FBQWxxQixHQUFBaXFCLFVBQUFDLFNBQ0ExRCxLQUFBeG1CLEdBQUF3bUIsTUFFQXZsQyxRQUFBQyxJQUFBdEIsTUFDQThFLFdBQ0EwbEMsWUFBQXhxQyxNQUNBbUQsS0FBQSxTQUFBQyxNQUNBMUUsYUFBQW9ILFFBQUExQyxLQUFBcEQsS0FBQStGLFNBQ0ExSCxPQUFBNE0sR0FBQSxjQUVBM0gsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxVQUdBdEgsYUFBQXdNLE1BQUEsa0RBR0FrVixHQUFBcXFCLEtBQUEsV0FDQXhxQixFQUFBLGlCQUFBeUUsTUFBQSxRQUNBOUUsU0FBQSxXQUNBdmhCLE9BQUE0TSxHQUFBLGlCQTdEQSxHQ0FBLFdBQ0EzTyxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGNBRUEsU0FDQXloQixPQUNBQyxTQUNBQyxZQUNBeGhCLE9BQ0F5RyxXQUNBcEcsYUFDQUYsUUFDQUMsUUFJQSxJQUFBMmhCLEdBQUF0Z0IsS0FDQU4sT0FBQWhCLFFBQUFnQixPQUFBQyxVQUFBakIsUUFBQWlCLFVBQUE2TCxhQUFBOU0sUUFBQThNLGFBQ0EsSUFBQXVVLFlBQUF2YixZQUVBLFlBREE5RSxTQUlBNGdCLEdBQUFqVixTQUFBMUwsVUFBQVAsTUFDQW9NLGFBQUFwTSxPQUNBa2hCLEdBQUE3VSxZQUFBRCxhQUFBcE0sTUFDQWtoQixHQUFBdmIsV0FBQXViLEdBQUE3VSxZQUFBMUcsWUFFQUMsV0FDQTFFLGVBQUFnZ0IsR0FBQWpWLFNBQUE5SyxXQUNBOEMsS0FBQSxTQUFBQyxNQUNBZ2QsR0FBQTdVLFlBQUFuSSxLQUFBcEQsS0FDQW9nQixHQUFBdmIsV0FBQXViLEdBQUE3VSxZQUFBMUcsYUFFQXZCLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsS0FJQW9hLEdBQUFzcUIsbUJBQUEsU0FBQXhoQixVQUNBcGtCLFdBQ0E2bEMsc0JBQUF6aEIsVUFDQS9sQixLQUFBLFNBQUFDLE1BQ0ExRSxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsU0FDQXVGLGFBQUFFLFFBQUE0VSxHQUFBalYsU0FBQTlLLGFBRUFpRCxNQUFBLFNBQUEwQyxHQUNBdEgsYUFBQXdNLE1BQUEsd0JBQ0E3SixRQUFBQyxJQUFBMEUsTUFJQW9hLEdBQUF3cUIsY0FBQSxXQUNBdnNDLE9BQUE0TSxHQUFBLGNBR0FtVixHQUFBNWdCLE9BQUEsV0FDQUEsWUF4REEsR0NBQSxXQUNBbEQsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxvQkFFQSxTQUNBeWhCLE9BQ0FDLFNBQ0FDLFlBQ0F4aEIsT0FDQXlHLFdBQ0FwRyxhQUNBb2hCLE1BQ0F0aEIsUUFDQUQscUJBRUEsSUFBQTZoQixHQUFBdGdCLEtBRUFzZ0IsR0FBQXlxQixrQkFBQSxHQUNBenFCLEdBQUEwcUIsU0FBQSxHQUpBLElBS0F0ckMsT0FBQWhCLFFBQUFnQixPQUFBaEIsUUFBQWdPLFNBQUFoTyxRQUFBaUIsVUFDQW9nQixZQUFBdmIsYUFDQTlFLFNBSUE0Z0IsR0FBQTJxQixrQkFBQSxTQUFBdm1DLE1BR0FNLFdBQ0FrbUMscUJBQUEsQ0FDQS9oQyxLQUFBLEVBQ0E2VCxNQUFBLEdBQ0FxRSxLQUFBM2MsT0FJQXJCLEtBQUEsU0FBQUMsTUFHQWdkLEdBQUE2cUIsaUJBQUE3bkMsS0FBQXBELEtBQUF1aEIsS0FDQW5CLEdBQUE4cUIsb0JBQUE5bkMsS0FBQXBELEtBQUF5aEIsTUFDQXBnQixRQUFBQyxJQUFBLGlCQUFBOGUsR0FBQTZxQixrQkFDQXJyQixTQUFBLFdBRUFLLEVBQUEsZUFBQXlCLFdBQUEsQ0FDQTFjLE1BQUFvYixHQUFBOHFCLG9CQUNBdnBCLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXJCLFlBQUEsRUFFQXNCLFlBQUEsU0FBQTlZLEtBQUF3TixPQUNBQSxNQUFBdUwsaUJBQ0FsZCxXQUNBa21DLHFCQUFBLENBQ0EvaEMsS0FBQUEsS0FDQTZULE1BQUEsS0FJQTNaLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUE2cUIsaUJBQUE3bkMsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsWUFNQTFDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFJQW9hLEdBQUEycUIsa0JBQUEsV0FHQTNxQixHQUFBK3FCLHFCQUFBLFdBQ0FsckIsRUFBQSxTQUFBbXJCLFNBQUEsV0FDQS9wQyxRQUFBQyxJQUFBLFFBQ0EyZSxFQUFBLDhCQUFBSyxZQUFBLFVBQ0FMLEVBQUEsZ0JBQUFNLFNBQUEsVUFDQU4sRUFBQSxTQUFBSyxZQUFBLFFBQ0FMLEVBQUEsU0FBQUssWUFBQSxVQUNBTCxFQUFBLFlBQUFNLFNBQUEsUUFDQU4sRUFBQSxZQUFBTSxTQUFBLFdBQ0FOLEVBQUEsZ0JBQUFtckIsU0FBQSxZQUNBL3BDLFFBQUFDLElBQUEsV0FDQTJlLEVBQUEsOEJBQUFLLFlBQUEsVUFDQUwsRUFBQSxnQkFBQU0sU0FBQSxVQUNBTixFQUFBLFlBQUFLLFlBQUEsUUFDQUwsRUFBQSxZQUFBSyxZQUFBLFVBQ0FMLEVBQUEsWUFBQU0sU0FBQSxRQUNBTixFQUFBLFlBQUFNLFNBQUEsWUFNQUgsR0FBQWlyQix5QkFBQSxXQUNBcHJCLEVBQUEsZ0JBQUFtckIsU0FBQSxXQUNBL3BDLFFBQUFDLElBQUEsUUFDQTJlLEVBQUEsOEJBQUFLLFlBQUEsVUFDQUwsRUFBQSxTQUFBTSxTQUFBLFVBQ0FOLEVBQUEsWUFBQUssWUFBQSxRQUNBTCxFQUFBLFlBQUFLLFlBQUEsVUFDQUwsRUFBQSxTQUFBTSxTQUFBLFFBQ0FOLEVBQUEsU0FBQU0sU0FBQSxXQUNBTixFQUFBLGdCQUFBbXJCLFNBQUEsWUFDQS9wQyxRQUFBQyxJQUFBLFdBQ0EyZSxFQUFBLDhCQUFBSyxZQUFBLFVBQ0FMLEVBQUEsZ0JBQUFNLFNBQUEsVUFDQU4sRUFBQSxZQUFBSyxZQUFBLFFBQ0FMLEVBQUEsWUFBQUssWUFBQSxVQUNBTCxFQUFBLFlBQUFNLFNBQUEsUUFDQU4sRUFBQSxZQUFBTSxTQUFBLFlBS0FaLE9BQUEyckIsZUFBQSxTQUFBL3pCLE1BQUE0bUIsT0FDQUEsTUFBQTkzQixPQUFBa1IsTUFBQSxJQUdBb0ksT0FBQTRyQixZQUFBLFNBQUFoMEIsTUFBQTRtQixPQUNBQSxNQUFBOTNCLE9BQUFrUixNQUFBLElBS0FvSSxPQUFBNnJCLFNBQUEsU0FBQXJuQyxPQUVBbkYsTUFBQW1GLE1BQUEsS0FDQXdiLE9BQUE4ckIsUUFBQTFOLElBQUFDLGdCQUFBNzVCLE1BQUEsSUFDQXdiLE9BQUErckIsUUFBQXZuQyxNQUFBLEdBQUFQLEtBQUErTyxNQUFBLEtBQUFxd0IsUUFLQXhrQyxRQUFBOE4saUJBQUFuSixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBOVQsZUFBQWxKLEtBQUFwRCxLQUVBb2dCLEdBQUFrQyxnQkFBQSxTQUFBQyxRQUNBLE9BQUEsSUFBQXhmLFFBQUEsU0FBQUMsUUFBQUMsUUFDQUQsUUFBQUksS0FBQXBELFdBS0E4RSxXQUFBM0MsbUJBQUFnQixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBdXJCLGFBQUF2b0MsS0FBQXBELEtBQUF1aEIsT0FJQW5CLEdBQUF5UCxZQUFBLFNBQUEzcUIsTUFDQWtiLEdBQUF5cUIsa0JBQUF6a0MsS0FBQWxCLE9BSUFrYixHQUFBd3JCLFVBQUEsU0FBQWhvQyxNQUNBd2MsR0FBQTBxQixTQUFBMWtDLEtBQUF4QyxPQUtBK2IsT0FBQWtzQixvQkFBQSxTQUFBNW5DLGVBQ0FBLGNBQUE2bkMsU0FBQSxHQUFBN25DLGNBQUE4bkMsTUFBQSxHQUNBMXFDLFFBQUFDLElBQUEsZ0JBQUEyQyxlQUNBbWMsR0FBQXlxQixrQkFBQXZsQyxPQUFBLEdBQ0E4YSxHQUFBeXFCLGtCQUFBdmpDLFFBQUEsU0FBQWdjLFNBQ0FyZixjQUFBNm5DLFNBQUExbEMsS0FBQWtkLFFBQUExZCxPQUdBd2EsR0FBQTBxQixTQUFBeGxDLE9BQUEsR0FDQThhLEdBQUEwcUIsU0FBQXhqQyxRQUFBLFNBQUFnYyxTQUNBcmYsY0FBQThuQyxNQUFBM2xDLEtBQUFrZCxXQUdBamlCLFFBQUFDLElBQUEsZ0JBQUEyQyxlQUNBYSxXQUNBa25DLHVCQUFBL25DLGVBQ0FkLEtBQUEsU0FBQUMsTUFDQTFFLGFBQUFvSCxRQUFBLDhDQUNBc2EsR0FBQXJjLFNBQUEsR0FDQXFjLEdBQUF5cUIsa0JBQUEsR0FDQXpxQixHQUFBNnJCLFNBQUEsR0FDQXRzQixPQUFBOEgsV0FBQSxHQUNBeGpCLGNBQUE2bkMsU0FBQSxHQUNBN25DLGNBQUE4bkMsTUFBQSxHQUVBOXJCLEVBQUEseUJBQUF5RSxNQUFBLFFBQ0F0RSxHQUFBMnFCLGtCQUFBLGFBRUF6bkMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxHQU9BdEgsYUFBQXdNLE1BQUEsMkJBS0F5VSxPQUFBdXNCLFVBQUEsQ0FDQSxDQUFBditCLE1BQUEsa0JBQUF3K0IsS0FBQSwwQkFBQS9sQixJQUFBLHlDQUNBLENBQUF6WSxNQUFBLGtCQUFBdytCLEtBQUEsMEJBQUEvbEIsSUFBQSx5Q0FDQSxDQUFBelksTUFBQSxrQkFBQXcrQixLQUFBLDBCQUFBL2xCLElBQUEseUNBQ0EsQ0FBQXpZLE1BQUEsa0JBQUF3K0IsS0FBQSwwQkFBQS9sQixJQUFBLHlDQUNBLENBQUF6WSxNQUFBLGtCQUFBdytCLEtBQUEsMEJBQUEvbEIsSUFBQSx5Q0FDQSxDQUFBelksTUFBQSxrQkFBQXcrQixLQUFBLDBCQUFBL2xCLElBQUEsNENBck5BLEdDQUEsV0FDQTlwQixRQUFBQyxPQUFBLE9BQUEyQixXQUFBLDBCQUVBLFNBQ0F5aEIsT0FDQUMsU0FDQUMsWUFDQXhoQixPQUNBc21CLGFBQ0E3ZixXQUNBcEcsYUFDQW9oQixNQUNBdGhCLFFBQ0FELHFCQUVBLElBQUE2aEIsR0FBQXRnQixLQUVBTixPQUFBaEIsUUFBQWdCLE9BQUFDLFVBQUFqQixRQUFBaUIsVUFDQW9nQixZQUFBdmIsYUFDQTlFLFNBRUE0Z0IsR0FBQWpWLFNBQUExTCxVQUFBUCxNQUdBa2hCLEdBQUE1Z0IsT0FBQSxXQUNBQSxVQUVBNGdCLEdBQUFnc0IsZ0JBQUF6bkIsYUFBQS9pQixHQUNBK2QsT0FBQTBzQix1QkFBQSxXQUNBdm5DLFdBQ0F3bkMscUJBQUFsc0IsR0FBQWdzQixpQkFDQWpwQyxLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBbXNCLGtCQUFBbnBDLEtBQUFwRCxRQUtBMmYsT0FBQTBzQiwyQkFyQ0EsR0NBQSxXQUNBL3ZDLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsZUFFQSxTQUNBeWhCLE9BQ0E5UCxXQUNBK1AsU0FDQUMsWUFDQXhoQixPQUNBeUcsV0FDQXBHLGFBQ0FGLFFBQ0EweUIsbUJBQ0F6eUIsT0FDQUYscUJBRUEsSUFBQTZoQixHQUFBdGdCLEtBQ0FzZ0IsR0FBQXlxQixrQkFBQSxHQUNBenFCLEdBQUEwcUIsU0FBQSxHQUhBLElBSUF0ckMsT0FBQWhCLFFBQUFnQixPQUFBaEIsUUFBQWdPLFNBQUFoTyxRQUFBaUIsVUFDQWtnQixPQUFBYSxnQkFBQSxFQUVBWCxZQUFBdmIsYUFDQTlFLFNBR0E0Z0IsR0FBQW9zQixhQUFBLFNBQUFob0MsTUFHQU0sV0FDQTJuQyxnQkFBQSxDQUNBeGpDLEtBQUEsRUFDQTZULE1BQUEsR0FDQXFFLEtBQUEzYyxPQUlBckIsS0FBQSxTQUFBQyxNQUdBZ2QsR0FBQXNzQixhQUFBdHBDLEtBQUFwRCxLQUFBdWhCLEtBQ0FuQixHQUFBdXNCLGNBQUF2cEMsS0FBQXBELEtBQUF5aEIsTUFDQXBnQixRQUFBQyxJQUFBLGlCQUFBOGUsR0FBQXNzQixjQUNBOXNCLFNBQUEsV0FFQUssRUFBQSxlQUFBeUIsV0FBQSxDQUNBMWMsTUFBQW9iLEdBQUF1c0IsY0FDQWhyQixZQUFBLEdBQ0FDLFNBQUEsY0FDQUMsZUFBQSxJQUNBQyxVQUFBLEVBQ0FyQixZQUFBLEVBRUFzQixZQUFBLFNBQUE5WSxLQUFBd04sT0FDQUEsTUFBQXVMLGlCQUNBbGQsV0FDQTJuQyxnQkFBQSxDQUNBeGpDLEtBQUFBLEtBQ0E2VCxNQUFBLEtBSUEzWixLQUFBLFNBQUFDLE1BQ0FnZCxHQUFBc3NCLGFBQUF0cEMsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsWUFNQTFDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsTUFJQW9hLEdBQUFvc0IsYUFBQSxXQUdBN3NCLE9BQUE2ckIsU0FBQSxTQUFBcm5DLE9BRUFuRixNQUFBbUYsTUFBQSxLQUNBd2IsT0FBQThyQixRQUFBMU4sSUFBQUMsZ0JBQUE3NUIsTUFBQSxJQUNBd2IsT0FBQStyQixRQUFBdm5DLE1BQUEsR0FBQVAsS0FBQStPLE1BQUEsS0FBQXF3QixRQUtBeGtDLFFBQUE4TixpQkFBQW5KLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUE5VCxlQUFBbEosS0FBQXBELEtBRUFvZ0IsR0FBQWtDLGdCQUFBLFNBQUFDLFFBQ0EsT0FBQSxJQUFBeGYsUUFBQSxTQUFBQyxRQUFBQyxRQUNBRCxRQUFBSSxLQUFBcEQsV0FLQThFLFdBQUEzQyxtQkFBQWdCLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUF1ckIsYUFBQXZvQyxLQUFBcEQsS0FBQXVoQixPQUlBbkIsR0FBQXlQLFlBQUEsU0FBQTNxQixNQUNBa2IsR0FBQXlxQixrQkFBQXprQyxLQUFBbEIsT0FJQWtiLEdBQUF3ckIsVUFBQSxTQUFBaG9DLE1BQ0F3YyxHQUFBMHFCLFNBQUExa0MsS0FBQXhDLE9BTUF3YyxHQUFBd3NCLGdCQUFBLFdBQ0Ezc0IsRUFBQSxTQUFBbXJCLFNBQUEsV0FDQS9wQyxRQUFBQyxJQUFBLFFBQ0EyZSxFQUFBLDhCQUFBSyxZQUFBLFVBQ0FMLEVBQUEsZ0JBQUFNLFNBQUEsVUFDQU4sRUFBQSxTQUFBSyxZQUFBLFFBQ0FMLEVBQUEsU0FBQUssWUFBQSxVQUNBTCxFQUFBLFlBQUFNLFNBQUEsUUFDQU4sRUFBQSxZQUFBTSxTQUFBLFdBQ0FOLEVBQUEsZ0JBQUFtckIsU0FBQSxZQUNBL3BDLFFBQUFDLElBQUEsV0FDQTJlLEVBQUEsOEJBQUFLLFlBQUEsVUFDQUwsRUFBQSxnQkFBQU0sU0FBQSxVQUNBTixFQUFBLFlBQUFLLFlBQUEsUUFDQUwsRUFBQSxZQUFBSyxZQUFBLFVBQ0FMLEVBQUEsWUFBQU0sU0FBQSxRQUNBTixFQUFBLFlBQUFNLFNBQUEsWUFLQUgsR0FBQXlzQixvQkFBQSxXQUNBNXNCLEVBQUEsZ0JBQUFtckIsU0FBQSxXQUNBL3BDLFFBQUFDLElBQUEsUUFDQTJlLEVBQUEsOEJBQUFLLFlBQUEsVUFDQUwsRUFBQSxTQUFBTSxTQUFBLFVBQ0FOLEVBQUEsWUFBQUssWUFBQSxRQUNBTCxFQUFBLFlBQUFLLFlBQUEsVUFDQUwsRUFBQSxTQUFBTSxTQUFBLFFBQ0FOLEVBQUEsU0FBQU0sU0FBQSxXQUNBTixFQUFBLGdCQUFBbXJCLFNBQUEsWUFDQS9wQyxRQUFBQyxJQUFBLFdBQ0EyZSxFQUFBLDhCQUFBSyxZQUFBLFVBQ0FMLEVBQUEsZ0JBQUFNLFNBQUEsVUFDQU4sRUFBQSxZQUFBSyxZQUFBLFFBQ0FMLEVBQUEsWUFBQUssWUFBQSxVQUNBTCxFQUFBLFlBQUFNLFNBQUEsUUFDQU4sRUFBQSxZQUFBTSxTQUFBLFlBTUFaLE9BQUEyckIsZUFBQSxTQUFBL3pCLE1BQUE0bUIsT0FDQUEsTUFBQTkzQixPQUFBa1IsTUFBQSxJQUdBb0ksT0FBQTRyQixZQUFBLFNBQUFoMEIsTUFBQTRtQixPQUNBQSxNQUFBOTNCLE9BQUFrUixNQUFBLElBR0FvSSxPQUFBbXRCLGVBQUEsU0FBQS9vQyxVQUNBQSxTQUFBK25DLFNBQUEsR0FBQS9uQyxTQUFBZ29DLE1BQUEsR0FDQTFxQyxRQUFBQyxJQUFBLFdBQUF5QyxVQUNBcWMsR0FBQXlxQixrQkFBQXZsQyxPQUFBLEdBQ0E4YSxHQUFBeXFCLGtCQUFBdmpDLFFBQUEsU0FBQWdjLFNBQ0F2ZixTQUFBK25DLFNBQUExbEMsS0FBQWtkLFFBQUExZCxPQUdBd2EsR0FBQTBxQixTQUFBeGxDLE9BQUEsR0FDQThhLEdBQUEwcUIsU0FBQXhqQyxRQUFBLFNBQUFnYyxTQUNBdmYsU0FBQWdvQyxNQUFBM2xDLEtBQUFrZCxXQUdBamlCLFFBQUFDLElBQUEsV0FBQXlDLFVBQ0FlLFdBQ0Fpb0Msa0JBQUFocEMsVUFDQVosS0FBQSxTQUFBQyxNQUNBMUUsYUFBQW9ILFFBQUEsd0NBQ0FzYSxHQUFBcmMsU0FBQSxHQUNBcWMsR0FBQXlxQixrQkFBQSxHQUNBenFCLEdBQUE2ckIsU0FBQSxHQUNBdHNCLE9BQUE4SCxXQUFBLEdBQ0ExakIsU0FBQStuQyxTQUFBLEdBQ0EvbkMsU0FBQWdvQyxNQUFBLEdBRUE5ckIsRUFBQSxtQkFBQXlFLE1BQUEsUUFDQXRFLEdBQUFvc0IsYUFBQSxhQUVBbHBDLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsR0FPQXRILGFBQUF3TSxNQUFBLDJCQUtBeVUsT0FBQXVzQixVQUFBLENBQ0EsQ0FBQXYrQixNQUFBLGtCQUFBdytCLEtBQUEsMEJBQUEvbEIsSUFBQSx5Q0FDQSxDQUFBelksTUFBQSxrQkFBQXcrQixLQUFBLDBCQUFBL2xCLElBQUEseUNBQ0EsQ0FBQXpZLE1BQUEsa0JBQUF3K0IsS0FBQSwwQkFBQS9sQixJQUFBLHlDQUNBLENBQUF6WSxNQUFBLGtCQUFBdytCLEtBQUEsMEJBQUEvbEIsSUFBQSx5Q0FDQSxDQUFBelksTUFBQSxrQkFBQXcrQixLQUFBLDBCQUFBL2xCLElBQUEseUNBQ0EsQ0FBQXpZLE1BQUEsa0JBQUF3K0IsS0FBQSwwQkFBQS9sQixJQUFBLDRDQXROQSxHQ0FBLFdBQ0E5cEIsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxxQkFFQSxTQUNBeWhCLE9BQ0FDLFNBQ0FDLFlBQ0F4aEIsT0FDQXNtQixhQUNBN2YsV0FDQXBHLGFBQ0FvaEIsTUFDQXRoQixRQUNBRCxxQkFFQSxJQUFBNmhCLEdBQUF0Z0IsS0FFQU4sT0FBQWhCLFFBQUFnQixPQUFBQyxVQUFBakIsUUFBQWlCLFVBQ0FvZ0IsWUFBQXZiLGFBQ0E5RSxTQUVBNGdCLEdBQUFqVixTQUFBMUwsVUFBQVAsTUFHQWtoQixHQUFBNWdCLE9BQUEsV0FDQUEsVUFFQTRnQixHQUFBNHNCLFdBQUFyb0IsYUFBQS9pQixHQUNBK2QsT0FBQXN0QixrQkFBQSxXQUNBbm9DLFdBQ0Fvb0MsZ0JBQUE5c0IsR0FBQTRzQixZQUNBN3BDLEtBQUEsU0FBQUMsTUFDQWdkLEdBQUErc0IsYUFBQS9wQyxLQUFBcEQsUUFLQTJmLE9BQUFzdEIsc0JBckNBLEdDQUEsV0FDQTN3QyxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLG9CQUVBLFNBQ0F5aEIsT0FDQUMsU0FDQXZoQixPQUNBQyxVQUNBRSxRQUNBcWhCLFlBQ0EvYSxXQUNBcEcsYUFDQW1aLGdCQUNBQyxlQUNBczFCLGdCQUNBN3VDLG9CQUNBcVosZ0JBQ0F5MUIsaUJBQ0EsSUFDQTd0QyxPQUFBaEIsUUFBQWdCLE9BQUFoQixRQUFBaUIsVUFDQSxJQUFBb2dCLFlBQUF2YixZQUVBLFlBREE5RSxTQW9FQSxHQTVEQXlnQixFQUFBLGlCQUFBcXRCLFVBQUEsWUFVQSxTQUFBQyxNQUFBdm5DLEdBQ0EsSUFBQXduQyxLQUFBLEVBQ0FDLEtBQUEsRUFDQUMsS0FBQSxFQUNBQyxLQUFBLEVBV0EsU0FBQUMsY0FBQTVuQyxJQUNBQSxFQUFBQSxHQUFBNm5DLE9BQUFwM0IsT0FDQXVMLGlCQUVBMHJCLEtBQUExbkMsRUFBQSsxQixRQUNBNFIsS0FBQTNuQyxFQUFBbTJCLFFBQ0E5eUIsU0FBQXlrQyxVQUFBQyxpQkFFQTFrQyxTQUFBMmtDLFlBQUFDLFlBR0EsU0FBQUEsWUFBQWpvQyxJQUNBQSxFQUFBQSxHQUFBNm5DLE9BQUFwM0IsT0FDQXVMLGlCQUVBd3JCLEtBQUFFLEtBQUExbkMsRUFBQSsxQixRQUNBMFIsS0FBQUUsS0FBQTNuQyxFQUFBbTJCLFFBQ0F1UixLQUFBMW5DLEVBQUErMUIsUUFDQTRSLEtBQUEzbkMsRUFBQW0yQixRQUVBb1IsTUFBQTN6QixNQUFBc1QsSUFBQXFnQixNQUFBVyxVQUFBVCxLQUFBLEtBQ0FGLE1BQUEzekIsTUFBQXFpQixLQUFBc1IsTUFBQVksV0FBQVgsS0FBQSxLQUdBLFNBQUFPLG1CQUVBMWtDLFNBQUF5a0MsVUFBQSxLQUNBemtDLFNBQUEya0MsWUFBQSxLQXJDQTNrQyxTQUFBeUgsZUFBQXk4QixNQUFBM3JDLEdBQUEsVUFFQXlILFNBQUF5SCxlQUNBeThCLE1BQUEzckMsR0FBQSxVQUNBd3NDLFlBQUFSLGNBR0FMLE1BQUFhLFlBQUFSLGNBckJBUyxDQUNBaGxDLFNBQUF5SCxlQUNBbVAsRUFBQW5nQixNQUNBd3VDLFFBQUEsT0FDQWpuQixLQUFBLFdBc0RBeEgsWUFBQXZiLFlBRUEsT0FVQSxJQUFBOGIsR0FBQXRnQixLQW1DQSxTQUFBeXVDLFlBQUFDLFVBTUEsSUFBQUMsZUFBQUQsU0FBQXYrQixlQUNBdStCLFNBQUF2K0IsWUFBQXkrQixZQU9BMzVCLGNBQUE4QyxnQkFBQTlDLGdCQUlBeUssWUFBQTFILGVBQUEwSCxjQUVBNHRCLGdCQUFBaDFCLGNBQUFvSCxhQUVBWSxHQUFBaE0sV0FBQSxDQUNBdTZCLFVBQUEsY0FDQUMsWUFBQSxxQkFDQTdULFVBQUEsNEJBQ0FyaUIsWUFBQSxHQUtBMEgsR0FBQXl1QixVQUFBLENBQ0FDLFFBQUEsRUFDQUMsV0FBQSxPQUNBbGQsT0FBQSxNQUNBbWQsS0FBQSxRQUNBQyxPQUFBLEdBSUE3dUIsR0FBQTh1QixTQUFBLENBQ0ExRCxTQUFBLFNBQUEyRCxJQUFBbGxCLE1BQUF1TixRQUNBLElBQUF4a0IsSUFBQSxHQUNBQSxJQUFBeUYsT0FBQTJILEdBQUFoTSxXQUFBdzZCLFlBQ0E1N0IsSUFBQTJGLEtBQUF5SCxHQUFBaE0sV0FBQTJtQixVQUNBdmIsWUFBQTloQixJQUFBc1YsT0FLQW9OLEdBQUFndkIsa0JBQUEsV0FDQTV2QixZQUFBOWhCLElBQUEsQ0FDQWdiLFlBQUEwSCxHQUFBaE0sV0FBQXNFLGVBUUEsSUFBQXhJLE1BQUEySCxnQkFBQS9ILFlBQ0EsUUFDQSxDQUNBckcsT0FBQW9rQyxPQUFBd0IsWUFDQTNsQyxNQUFBbWtDLE9BQUF5QixZQUVBZCxTQUFBditCLGFBS0FzRyxZQUFBcUIsZ0JBQUFyQixZQUFBckcsT0FFQXFHLFlBQUFELFNBQUEsWUFBQSxXQUVBOEosR0FBQW12QixnQkFBQSxDQUNBNXBDLEVBQUF1SyxNQUFBcy9CLHFCQUFBN3BDLEVBQ0E2SyxFQUFBTixNQUFBcy9CLHFCQUFBaC9CLEdBRUFtUCxPQUFBa1AsV0FLQSxJQUFBcmMsVUFBQXFGLGdCQUFBckYsWUFFQW1OLE9BQUE0TyxJQUFBLGtCQUFBLFNBQUF2b0IsRUFBQTBNLFlBQ0EwTixHQUFBcXZCLGlCQUFBLzhCLGFBSUEsSUFBQXFFLFVBQUEwM0IsYUFDQXYrQixNQUFBOEwsY0FBQSxHQUNBcXhCLGdCQUFBejJCLFlBQUExRyxPQUVBdy9CLGFBQUFyQyxnQkFBQXYyQixnQkFBQTVHLE1BQUE2RyxXQUVBL0IsZUFBQTZDLGdCQUFBN0MsaUJBSUEyNkIsaUJBQUE5M0IsZ0JBQUF0RCxhQUFBd0MsV0FNQXZGLFdBQUE0N0IsZ0JBQUE1N0IsV0FBQXRCLE1BQUE2RyxXQUVBakUsaUJBQUErRSxnQkFBQS9FLG1CQUlBcU0sUUFBQXJILGVBQUFxSCxVQU9BLEdBTEFpQixHQUFBd3ZCLFdBQUEsRUFDQXh2QixHQUFBeXZCLFVBQUEsSUFDQXp2QixHQUFBaEIsVUFHQXF2QixhQUFBLENBQ0EsR0FBQUQsU0FBQXYrQixhQUFBdStCLFNBQUF2K0IsWUFBQTYvQixZQUFBLENBQ0FoOUIsaUJBQUFwVixJQUFBOHdDLFNBQUF2K0IsWUFBQTYvQixhQUVBLElBQUFDLGdCQUFBNy9CLE1BQ0E4TCxjQUFBLEdBQ0FBLGNBQ0E3VCxPQUFBLFNBQUF4QyxHQUNBLFFBQUEsV0FBQW9CLEtBQUFwQixFQUFBL0IsVUFFQW1zQyxnQkFBQXpxQyxPQUFBLEVBQ0FvcUMsYUFBQWg0QixjQUFBcTRCLGlCQUVBTCxhQUFBejRCLGdCQUlBdTNCLFNBQUF2K0IsYUFBQXUrQixTQUFBditCLFlBQUErL0IsV0FDQTVDLGdCQUFBLzBCLFlBQUFtMkIsU0FBQXYrQixZQUFBKy9CLGdCQUdBTixhQUFBejRCLGdCQUlBbUosR0FBQTZ2QixnQkFBQW45QixpQkFBQTVULE1BRUFraEIsR0FBQTh2QixrQkFBQSxTQUFBdnBDLEtBQ0EsT0FBQUEsSUFBQXVXLFFBQUEsSUFJQWtELEdBQUFwSixVQUFBMDRCLGFBQUF0NEIsZUFJQWdKLEdBQUE5SyxhQUFBdUMsZ0JBQUF2QyxlQUlBLElBQUE2NkIsU0FBQSxJQUFBNUksTUFDQTRJLFNBQUFDLFlBQUEsWUFFQTVCLFNBQUF2K0IsYUFBQXUrQixTQUFBditCLFlBQUFFLFlBQ0FnZ0MsU0FBQXJTLElBQUEwUSxTQUFBN2MsU0FBQTN6QixJQUNBbXlDLFNBQUF4bkMsT0FBQSxXQUNBLElBQUEwbkMsZUFBQXQ1QixVQUFBN1gsSUFBQSxZQUFBLEdBQ0FteEMsZUFBQTdSLE1BQUEyUixVQUVBL3ZCLEdBQUFrd0IsV0FBQSxDQUNBM3FDLEVBQUEwVCxLQUFBOGMsTUFBQWthLGVBQUEzbUMsU0FDQThHLEVBQUE2SSxLQUFBOGMsTUFBQWthLGVBQUE1bUMsV0FFQXlHLE1BQUFVLFVBR0F1L0IsU0FBQXJTLElBQUEwUSxTQUFBN2MsU0FBQTN6QixJQUVBbXlDLFNBQUF4bkMsT0FBQSxXQUVBLElBQUE0bkMsWUFBQWwzQixLQUFBOGMsTUFBQWptQixNQUFBekcsU0FBQSxJQUNBK21DLFlBQUFMLFNBQUExbUMsT0FBQThtQyxZQUNBRSxXQUFBcDNCLEtBQUE4YyxNQUFBZ2EsU0FBQXptQyxNQUFBOG1DLGFBRUFwd0IsR0FBQWt3QixXQUFBLENBQ0EzcUMsRUFBQThxQyxXQUNBamdDLEVBQUErL0IsYUFHQSxJQUFBRyxRQUFBLElBQUF0Z0MsTUFBQW0zQixNQUFBLENBQ0EvSSxNQUFBMlIsU0FDQXZzQyxLQUFBLFVBQ0FoQyxHQUFBLFVBQ0E2SCxPQUFBOG1DLFlBQ0FJLGNBQUEsRUFDQUMsY0FBQSxFQUNBQyxjQUFBLEdBQ0FsckMsRUFBQXVLLE1BQUF4RyxRQUFBLEVBQUErbUMsV0FBQSxFQUVBamdDLEVBQUEsR0FDQTlHLE1BQUErbUMsYUFHQUMsUUFBQWhnQyxHQUFBLFFBQUEsU0FBQTFLLEdBQ0EycEMsaUJBQUFqN0IsY0FHQXFDLFVBQUEvQyxJQUFBMDhCLFNBQ0EzNUIsVUFBQW5HLE9BRUFtRyxVQUFBKzVCLGlCQUtBLElBQUE3OUIsYUFBQTRFLGdCQUFBNUUsZUFTQTg5QixZQUFBbjVCLGdCQUFBNUIsYUFBQTYzQixRQUNBa0QsWUFBQXo2QixTQUFBcEcsT0FDQWtRLEdBQUE0d0IsV0FBQSxDQUNBcnJDLE9BQUEzRyxFQUNBd1IsT0FBQXhSLEdBSUE2dUMsT0FBQTEzQixpQkFBQSxRQUFBLFNBQUFuUSxHQUlBLGtCQUFBM0gsT0FBQTR5QyxTQUFBcnRDLE9BRUEsYUFBQW1ELEtBQ0FzQyxTQUFBNm5DLHFCQUFBLFFBQUEsR0FBQS8zQixZQUVBblQsRUFBQWdjLGlCQUlBM0ksS0FBQThjLE1BQUFqbUIsTUFBQXpHLFNBQUEsR0FDQTRQLEtBQUE4YyxNQUFBam1CLE1BQUF4RyxRQUFBLEdBRUEsR0FBQTFELEVBQUFtckMsUUFBQSxDQUNBLElBQUFDLFNBQUFyNkIsVUFBQThHLFNBQ0F3ekIsYUFBQSxDQUNBMXJDLEVBQ0F1SyxNQUFBcy9CLHFCQUFBN3BDLEVBQUF5ckMsU0FDQXI2QixVQUFBcFIsSUFBQXlyQyxTQUNBNWdDLEVBQ0FOLE1BQUFzL0IscUJBQUFoL0IsRUFBQTRnQyxTQUFBcjZCLFVBQUF2RyxJQUFBNGdDLFVBR0FFLFNBQUF0ckMsRUFBQXVyQyxPQUFBLEVBekJBLEtBeUJBSCxTQUFBQSxTQXpCQSxLQTBCQXI2QixVQUFBeUUsTUFBQSxDQUNBN1YsRUFBQTJyQyxTQUNBOWdDLEVBQUE4Z0MsV0FHQSxJQUFBRSxPQUFBLENBQ0E3ckMsSUFDQTByQyxhQUFBMXJDLEVBQUF1SyxNQUFBcy9CLHFCQUFBN3BDLEVBQUEyckMsVUFDQUEsU0FDQTlnQyxJQUNBNmdDLGFBQUE3Z0MsRUFBQU4sTUFBQXMvQixxQkFBQWgvQixFQUFBOGdDLFVBQ0FBLFVBSUFoQixXQUFBLENBQ0E5L0IsRUFBQTZJLEtBQUE4YyxNQUFBcGYsVUFBQWdGLEtBQUEsWUFBQSxHQUFBdFMsU0FBQTZuQyxVQUNBM3JDLEVBQUEwVCxLQUFBOGMsTUFBQXBmLFVBQUFnRixLQUFBLFlBQUEsR0FBQXJTLFFBQUE0bkMsV0FFQWx4QixHQUFBa3dCLFdBQUFBLFdBRUFsd0IsR0FBQXl2QixVQUFBeDJCLEtBQUE4YyxNQUFBLElBQUFwZixVQUFBeUUsUUFBQTdWLEdBQ0FtUyxlQUFBbUgsNEJBQUFsSSxXQUdBNEksT0FBQWtQLFNBQ0E5WCxVQUFBN0MsU0FBQXM5QixRQUNBdGhDLE1BQUE2RCxlQUlBODVCLE9BQUExM0IsaUJBQUEsY0FBQSxTQUFBblEsR0FDQSxXQUFBQSxFQUFBd1ksT0FBQWl6QixVQUNBenJDLEVBQUFnYyxpQkFDQW9yQixnQkFBQTF6QixnQkFDQTNDLFVBQUFuRyxPQUNBNEIsVUFBQW5ILFdBTUErVSxHQUFBc3hCLFdBQUEsU0FBQWx0QyxNQUdBLElBQUFtdEMsUUFBQXQ0QixLQUFBOGMsTUFBQWptQixNQUFBekcsU0FBQSxHQUNBbW9DLFFBQUF2NEIsS0FBQThjLE1BQUFqbUIsTUFBQXhHLFFBQUEsR0FFQTBuQyxTQUFBcjZCLFVBQUE4RyxTQUNBd3pCLGFBQUEsQ0FDQTFyQyxFQUFBaXNDLFFBQUFSLFNBQUFyNkIsVUFBQXBSLElBQUF5ckMsU0FDQTVnQyxFQUFBbWhDLFFBQUFQLFNBQUFyNkIsVUFBQXZHLElBQUE0Z0MsVUFFQUUsU0FBQTlzQyxLQUFBLEVBTkEsS0FNQTRzQyxTQUFBQSxTQU5BLEtBT0FyNkIsVUFBQXlFLE1BQUEsQ0FDQTdWLEVBQUEyckMsU0FDQTlnQyxFQUFBOGdDLFdBRUEsSUFBQUUsT0FBQSxDQUNBN3JDLElBQUEwckMsYUFBQTFyQyxFQUFBaXNDLFFBQUFOLFVBQUFBLFNBQ0E5Z0MsSUFBQTZnQyxhQUFBN2dDLEVBQUFtaEMsUUFBQUwsVUFBQUEsVUFJQWhCLFdBQUEsQ0FDQTkvQixFQUFBNkksS0FBQThjLE1BQUFwZixVQUFBZ0YsS0FBQSxZQUFBLEdBQUF0UyxTQUFBNm5DLFVBQ0EzckMsRUFBQTBULEtBQUE4YyxNQUFBcGYsVUFBQWdGLEtBQUEsWUFBQSxHQUFBclMsUUFBQTRuQyxXQUVBbHhCLEdBQUFrd0IsV0FBQUEsV0FDQXg0QixlQUFBbUgsNEJBQUFsSSxXQUNBcUosR0FBQXl2QixVQUFBeDJCLEtBQUE4YyxNQUFBLElBQUFwZixVQUFBeUUsUUFBQTdWLEdBRUFvUixVQUFBN0MsU0FBQXM5QixRQUNBdGhDLE1BQUE2RCxhQUdBcU0sR0FBQXl4QixXQUFBLFNBQUFDLFlBQ0EsSUFBQUgsUUFBQXQ0QixLQUFBOGMsTUFBQWptQixNQUFBekcsU0FBQSxHQUNBbW9DLFFBQUF2NEIsS0FBQThjLE1BQUFqbUIsTUFBQXhHLFFBQUEsR0FFQTBuQyxTQUFBcjZCLFVBQUE4RyxTQUNBd3pCLGFBQUEsQ0FDQTFyQyxFQUFBaXNDLFFBQUFSLFNBQUFyNkIsVUFBQXBSLElBQUF5ckMsU0FDQTVnQyxFQUFBbWhDLFFBQUFQLFNBQUFyNkIsVUFBQXZHLElBQUE0Z0MsVUFHQUUsU0FBQVEsV0FBQSxJQUNBLzZCLFVBQUF5RSxNQUFBLENBQ0E3VixFQUFBMnJDLFNBQ0E5Z0MsRUFBQThnQyxXQUVBLElBQUFFLE9BQUEsQ0FDQTdyQyxJQUFBMHJDLGFBQUExckMsRUFBQWlzQyxRQUFBTixVQUFBQSxTQUNBOWdDLElBQUE2Z0MsYUFBQTdnQyxFQUFBbWhDLFFBQUFMLFVBQUFBLFVBSUFoQixXQUFBLENBQ0E5L0IsRUFBQTZJLEtBQUE4YyxNQUFBcGYsVUFBQWdGLEtBQUEsWUFBQSxHQUFBdFMsU0FBQTZuQyxVQUNBM3JDLEVBQUEwVCxLQUFBOGMsTUFBQXBmLFVBQUFnRixLQUFBLFlBQUEsR0FBQXJTLFFBQUE0bkMsV0FFQWx4QixHQUFBa3dCLFdBQUFBLFdBQ0F4NEIsZUFBQW1ILDRCQUFBbEksV0FDQXFKLEdBQUF5dkIsVUFBQXgyQixLQUFBOGMsTUFBQSxJQUFBcGYsVUFBQXlFLFFBQUE3VixHQUVBb1IsVUFBQTdDLFNBQUFzOUIsUUFDQXRoQyxNQUFBNkQsYUFLQXFNLEdBQUEyeEIsVUFBQSxXQUNBM3hCLEdBQUF5dkIsVUFBQSxJQUNBOTRCLFVBQUE3QyxTQUFBLENBQ0F2TyxFQUFBLEVBQ0E2SyxFQUFBLElBRUF1RyxVQUFBeUUsTUFBQSxDQUNBN1YsRUFBQSxFQUNBNkssRUFBQSxJQUVBTixNQUFBNkQsYUFHQSxJQUFBaStCLGVBQUFwNkIsZ0JBQUFqQixZQUFBSSxXQWNBLFNBQUFrN0Isc0JBQUFDLFlBQUFDLFVBQUF4K0IsU0FDQSxJQUFBeStCLGVBQUF4NkIsZ0JBQUFsQixZQUNBdzdCLFlBQUEzL0IsT0FFQSxJQUFBb0IsUUFBQSxDQUVBLElBQUEwK0IsZUFBQTNDLGFBQUFyNEIsYUFDQWc3QixlQUFBcitCLElBQUFrK0IsWUFBQTMvQixPQUNBOC9CLGVBQUFDLFlBR0EsSUFBQTV6QixrQkFBQTVHLGVBQUE0RyxrQkFDQXhPLE1BQ0E2RyxVQUNBbTdCLFlBQUEzL0IsT0FDQSxHQUVBbU0sa0JBQUFoaEIsSUFBQXcwQyxZQUFBMy9CLE1BQUEyRixVQUNBeTNCLGlCQUFBMzdCLElBQUEwSyxrQkFBQUQsWUFLQTJ6QixlQUFBOTdCLFNBQUEsWUFBQTY3QixVQUFBLFNBQUFuc0MsR0FDQTBZLGtCQUFBRyxPQUFBLENBQ0FsWixFQUFBdXNDLFlBQUEzL0IsTUFBQTVNLElBQ0E2SyxFQUFBMGhDLFlBQUEzL0IsTUFBQS9CLFFBT0E0aEMsZUFBQTk3QixTQUFBLG1CQUFBLFdBQ0EsSUFBQWtGLE1BQ0EsSUFBQTFJLGlCQUFBNVQsTUFBQThNLFdBQ0FoTixFQUNBOFQsaUJBQUE1VCxNQUFBOE0sTUFFQW1ULFFBQUFFLGFBQUEsQ0FDQWpDLEtBQUF0RixlQUFBNkUsWUFBQXUxQixZQUFBMy9CLE1BQUEyRixTQUFBc0QsT0FDQXpJLEtBQUFELGlCQUFBNVQsTUFBQTZULE9BRUE0TSxPQUFBa1AsU0FDQXpPLEdBQUFoQixVQUFBRCxRQUFBSSxlQUVBMnlCLFlBQUEzL0IsTUFBQTJGLE9BQUF3RyxrQkFBQUssZUFJQXF6QixlQUFBOTdCLFNBQUEsU0FBQTY3QixVQUFBLFdBQ0FELFlBQUEzL0IsTUFBQSsvQixZQUNBdjlCLGNBQUFyWCxJQUFBdzBDLFlBQUEzL0IsT0FDQXdFLFVBQUFuRyxPQUNBOE4sa0JBQUFHLE9BQUEsQ0FDQWxaLEVBQUF1c0MsWUFBQTMvQixNQUFBNU0sSUFDQTZLLEVBQUEwaEMsWUFBQTMvQixNQUFBL0IsTUFHQTRQLEdBQUFteUIsaUJBQ0EsSUFBQS8yQixNQUNBLElBQUExSSxpQkFBQTVULE1BQUE4TSxXQUNBaE4sRUFDQThULGlCQUFBNVQsTUFBQThNLE1BRUFtVCxRQUFBRSxhQUFBLENBQ0FqQyxLQUFBdEYsZUFBQTZFLFlBQUF1MUIsWUFBQTMvQixNQUFBMkYsU0FBQXNELE9BQ0F6SSxLQUFBRCxpQkFBQTVULE1BQUE2VCxPQUVBNk0sU0FBQSxXQUNBRCxPQUFBa1AsV0FFQXpPLEdBQUFoQixVQUFBRCxRQUFBSSxlQUNBYSxHQUFBd3ZCLFdBQUEsRUFFQUQsaUJBQUFqN0IsWUFDQXFDLFVBQUEvQyxJQUFBMEssa0JBQUFELFlBQ0ExSCxVQUFBbkcsU0FNQSxJQUFBeUQsU0FBQXdELGdCQUFBeEQsV0FFQSs5QixlQUFBOTdCLFNBQUEsYUFBQTY3QixVQUFBLFNBQUFuc0MsR0FDQXFPLFNBQUFMLElBQ0FoTyxFQUFBd1ksT0FBQThLLGlCQUdBOG9CLGVBQUE5N0IsU0FBQSxXQUFBNjdCLFVBQUEsU0FBQW5zQyxHQUVBaU4sYUFBQTdNLEtBQ0F5UixnQkFBQXBFLGNBQ0F2RCxNQUNBZ2lDLFlBQUEzL0IsTUFDQW05QixhQUFBcjRCLGFBQ0EsT0FDQWhELFNBQUFMLElBQUFoTyxFQUFBd1ksT0FBQThLLG1CQU1BLFNBQUFrcEIsb0JBQUFOLFlBQUFDLFVBQUF4K0IsU0FDQSxJQUFBOCtCLGFBQUE3NkIsZ0JBQUFsQixZQUNBdzdCLFlBQUEzL0IsT0FFQSxJQUFBb0IsUUFBQSxDQUVBLElBQUEwK0IsZUFBQTNDLGFBQUFyNEIsYUFDQWc3QixlQUFBcitCLElBQUFrK0IsWUFBQTMvQixPQUNBOC9CLGVBQUFDLFlBS0EsSUFBQTkwQixrQkFBQTFGLGVBQUEwRixrQkFDQXROLE1BQ0E2RyxVQUNBbTdCLFlBQUEzL0IsT0FHQWlMLGtCQUFBOWYsSUFBQXcwQyxZQUFBMy9CLE1BQUF3RyxVQUNBNDJCLGlCQUFBMzdCLElBQUF3SixrQkFBQWlCLFlBRUFnMEIsYUFBQW44QixTQUFBLG1CQUFBLFNBQUF0USxHQUNBd1gsa0JBQUFqQyxXQUNBaUMsa0JBQUExRixlQUFBMEYsa0JBQ0F0TixNQUNBNkcsVUFDQW03QixZQUFBMy9CLFFBRUE3VSxJQUFBdzBDLFlBQUEzL0IsTUFBQXdHLFVBQ0E0MkIsaUJBQUEzN0IsSUFBQXdKLGtCQUFBaUIsY0FHQWcwQixhQUFBbjhCLFNBQUEsZ0JBQUEsU0FBQXRRLEdBQ0Frc0MsWUFBQTMvQixNQUFBKy9CLFlBQ0F2N0IsVUFBQW5HLE9BRUErK0IsaUJBQUFqN0IsWUFDQUssY0FBQXJYLElBQUF3MEMsWUFBQTMvQixPQUNBNk4sR0FBQW15QixpQkFFQSxJQUFBLzJCLE1BQ0EsSUFBQTFJLGlCQUFBNVQsTUFBQThNLFdBQ0FoTixFQUNBOFQsaUJBQUE1VCxNQUFBOE0sTUFFQW1ULFFBQUFFLGFBQUEsQ0FDQWpDLEtBQUF0RixlQUFBdUYsWUFBQTYwQixZQUFBMy9CLE1BQUF3RyxTQUFBeUMsT0FDQXpJLEtBQUFELGlCQUFBNVQsTUFBQTZULE9BR0F5SyxrQkFBQWpDLFdBQ0FpQyxrQkFBQTFGLGVBQUEwRixrQkFDQXROLE1BQ0E2RyxVQUNBbTdCLFlBQUEzL0IsUUFFQTdVLElBQUF3MEMsWUFBQTMvQixNQUFBd0csVUFDQTQyQixpQkFBQTM3QixJQUFBd0osa0JBQUFpQixZQUNBMUgsVUFBQW5HLE9BRUF3UCxHQUFBaEIsVUFBQUQsUUFBQUksZUFDQWEsR0FBQXd2QixXQUFBLEVBQ0Fod0IsU0FBQSxXQUNBRCxPQUFBa1AsYUFJQTRqQixhQUFBbjhCLFNBQUEsbUJBQUEsU0FBQXRRLEdBR0EsSUFBQXdWLE1BQ0EsSUFBQTFJLGlCQUFBNVQsTUFBQThNLFdBQ0FoTixFQUNBOFQsaUJBQUE1VCxNQUFBOE0sTUFFQW1ULFFBQUFFLGFBQUEsQ0FDQWpDLEtBQUF0RixlQUFBdUYsWUFBQTYwQixZQUFBMy9CLE1BQUF3RyxTQUFBeUMsT0FDQXpJLEtBQUFELGlCQUFBNVQsTUFBQTZULE9BR0FxTixHQUFBaEIsVUFBQUQsUUFBQUksZUFDQWEsR0FBQXd2QixXQUFBLElBS0EsSUFBQXY3QixTQUFBd0QsZ0JBQUF4RCxXQUVBbytCLGFBQUFuOEIsU0FBQSxvQkFBQSxTQUFBdFEsR0FDQXFPLFNBQUFMLElBQ0FoTyxFQUFBd1ksT0FBQThLLGlCQUdBbXBCLGFBQUFuOEIsU0FBQSxrQkFBQSxTQUFBdFEsR0FFQWlOLGFBQUE3TSxLQUNBeVIsZ0JBQUFwRSxjQUNBdkQsTUFDQWdpQyxZQUFBMy9CLE1BQ0FtOUIsYUFBQXI0QixhQUNBLE9BQ0FoRCxTQUFBTCxJQUFBaE8sRUFBQXdZLE9BQUE4SyxtQkFNQSxTQUFBb3BCLG9CQUFBUixZQUFBditCLFNBQ0EsSUFBQWcvQixhQUFBLzZCLGdCQUFBbEIsWUFDQXc3QixZQUFBeGdDLFNBRUEsSUFBQWlDLFFBQUEsQ0FFQSxJQUFBMCtCLGVBQUEzQyxhQUFBcjRCLGFBQ0FnN0IsZUFBQXIrQixJQUFBaytCLFlBQUF4Z0MsU0FDQTJnQyxlQUFBQyxZQUdBLElBQUE1ekIsa0JBQUE1RyxlQUFBNEcsa0JBQ0F4TyxNQUNBNkcsVUFDQW03QixZQUFBeGdDLFNBQ0EsR0FFQWdOLGtCQUFBaGhCLElBQUF3MEMsWUFBQXhnQyxRQUFBd0csVUFDQXkzQixpQkFBQTM3QixJQUFBMEssa0JBQUFELFlBS0FrMEIsYUFBQXI4QixTQUFBLG1CQUFBLFNBQUF0USxHQUNBMFksa0JBQUFHLE9BQUEsQ0FDQWxaLEVBQUF1c0MsWUFBQXhnQyxRQUFBL0wsSUFDQTZLLEVBQUEwaEMsWUFBQXhnQyxRQUFBbEIsUUFHQW1pQyxhQUFBcjhCLFNBQUEsZ0JBQUEsU0FBQXRRLEdBQ0EwWSxrQkFBQUcsT0FBQSxDQUNBbFosRUFBQXVzQyxZQUFBeGdDLFFBQUEvTCxJQUNBNkssRUFBQTBoQyxZQUFBeGdDLFFBQUFsQixRQU9BLElBQUE2RCxTQUFBd0QsZ0JBQUF4RCxXQUVBcytCLGFBQUFyOEIsU0FBQSxvQkFBQSxTQUFBdFEsR0FDQXFPLFNBQUFMLElBQ0FoTyxFQUFBd1ksT0FBQThLLGlCQUdBcXBCLGFBQUFyOEIsU0FBQSxrQkFBQSxTQUFBdFEsR0FFQWlOLGFBQUE3TSxLQUNBeVIsZ0JBQUFwRSxjQUNBdkQsTUFDQWdpQyxZQUFBeGdDLFFBQ0FnK0IsYUFBQXI0QixhQUNBLE9BQ0FoRCxTQUFBTCxJQUFBaE8sRUFBQXdZLE9BQUE4SyxtQkFPQXFwQixhQUFBcjhCLFNBQUEsbUJBQUEsV0FDQSxJQUFBa0YsTUFDQSxJQUFBMUksaUJBQUE1VCxNQUFBOE0sV0FDQWhOLEVBQ0E4VCxpQkFBQTVULE1BQUE4TSxNQUVBbVQsUUFBQUUsYUFBQSxDQUNBakMsS0FBQXRGLGVBQUE2RSxZQUNBdTFCLFlBQUF4Z0MsUUFBQXdHLFNBQ0FzRCxPQUVBekksS0FBQUQsaUJBQUE1VCxNQUFBNlQsT0FFQTZNLFNBQUEsV0FDQUQsT0FBQWtQLFdBRUF6TyxHQUFBaEIsVUFBQUQsUUFBQUksZUFFQTJ5QixZQUFBeGdDLFFBQUF3RyxPQUFBd0csa0JBQUFLLGVBSUE0ekIsYUFBQXI4QixTQUFBLFFBQUEsV0FDQTQ3QixZQUFBeGdDLFFBQUE0Z0MsWUFDQXY3QixVQUFBbkcsT0FDQW1FLGNBQUFyWCxJQUFBdzBDLFlBQUF4Z0MsU0FDQTBPLEdBQUFteUIsaUJBQ0EsSUFBQS8yQixNQUNBLElBQUExSSxpQkFBQTVULE1BQUE4TSxXQUNBaE4sRUFDQThULGlCQUFBNVQsTUFBQThNLE1BRUFtVCxRQUFBRSxhQUFBLENBQ0FqQyxLQUFBdEYsZUFBQTZFLFlBQ0F1MUIsWUFBQXhnQyxRQUFBd0csU0FDQXNELE9BRUF6SSxLQUFBRCxpQkFBQTVULE1BQUE2VCxPQUVBNE0sT0FBQWtQLFNBQ0F6TyxHQUFBaEIsVUFBQUQsUUFBQUksZUFDQWEsR0FBQXd2QixXQUFBLEVBRUFELGlCQUFBajdCLFlBQ0FxQyxVQUFBL0MsSUFBQTBLLGtCQUFBRCxZQUNBMUgsVUFBQW5HLFNBSUEsU0FBQWdpQyxxQkFBQVYsWUFBQXYrQixTQUNBLElBQUFrL0IsY0FBQWo3QixnQkFBQWxCLFlBQ0F3N0IsWUFBQXhnQyxTQUVBLElBQUFpQyxRQUFBLENBRUEsSUFBQTArQixlQUFBM0MsYUFBQXI0QixhQUNBZzdCLGVBQUFyK0IsSUFBQWsrQixZQUFBeGdDLFNBQ0EyZ0MsZUFBQUMsWUFLQSxJQUFBaitCLFNBQUF3RCxnQkFBQXhELFdBRUF3K0IsY0FBQXY4QixTQUFBLG9CQUFBLFNBQUF0USxHQUNBcU8sU0FBQUwsSUFDQWhPLEVBQUF3WSxPQUFBOEssaUJBR0F1cEIsY0FBQXY4QixTQUFBLGtCQUFBLFNBQUF0USxHQUVBaU4sYUFBQTdNLEtBQ0F5UixnQkFBQXBFLGNBQ0F2RCxNQUNBZ2lDLFlBQUF4Z0MsUUFDQWcrQixhQUFBcjRCLGFBQ0EsT0FDQWhELFNBQUFMLElBQUFoTyxFQUFBd1ksT0FBQThLLG1CQU1BdXBCLGNBQUF2OEIsU0FBQSxRQUFBLFdBQ0E0N0IsWUFBQXhnQyxRQUFBNGdDLFlBQ0F2N0IsVUFBQW5HLE9BQ0FtRSxjQUFBclgsSUFBQXcwQyxZQUFBeGdDLFNBQ0EwTyxHQUFBbXlCLGlCQUNBLElBQUEvMkIsTUFDQSxJQUFBMUksaUJBQUE1VCxNQUFBOE0sV0FDQWhOLEVBQ0E4VCxpQkFBQTVULE1BQUE4TSxNQUNBbVQsUUFBQUUsYUFBQSxDQUNBakMsS0FBQXRGLGVBQUE2RSxZQUNBdTFCLFlBQUF4Z0MsUUFBQXdHLFNBQ0FzRCxPQUVBekksS0FBQUQsaUJBQUE1VCxNQUFBNlQsT0FFQTZNLFNBQUEsV0FDQUQsT0FBQWtQLFdBRUF6TyxHQUFBaEIsVUFBQUQsUUFBQUksZUFDQWEsR0FBQXd2QixXQUFBLEVBQ0FELGlCQUFBajdCLFlBQ0FxQyxVQUFBbkcsU0FJQSxTQUFBa2lDLGlCQUFBWixZQUFBditCLFNBQ0EsSUFBQW8vQixVQUFBbjdCLGdCQUFBbEIsWUFBQXc3QixZQUFBdGdDLE1BRUEsSUFBQStCLFFBQUEsQ0FFQSxJQUFBMCtCLGVBQUEzQyxhQUFBcjRCLGFBQ0FnN0IsZUFBQXIrQixJQUFBaytCLFlBQUF0Z0MsTUFDQXlnQyxlQUFBQyxZQUtBLElBQUFqK0IsU0FBQXdELGdCQUFBeEQsV0FFQTArQixVQUFBejhCLFNBQUEsaUJBQUEsU0FBQXRRLEdBQ0FxTyxTQUFBTCxJQUNBaE8sRUFBQXdZLE9BQUE4SyxpQkFHQXlwQixVQUFBejhCLFNBQUEsZUFBQSxTQUFBdFEsR0FFQWlOLGFBQUE3TSxLQUNBeVIsZ0JBQUFwRSxjQUNBdkQsTUFDQWdpQyxZQUFBdGdDLEtBQ0E4OUIsYUFBQXI0QixhQUNBLE9BQ0FoRCxTQUFBTCxJQUFBaE8sRUFBQXdZLE9BQUE4SyxtQkFNQXlwQixVQUFBejhCLFNBQUEsUUFBQSxXQUNBNDdCLFlBQUF0Z0MsS0FBQTBnQyxZQUNBdjlCLGNBQUFyWCxJQUFBdzBDLFlBQUF0Z0MsTUFDQXdPLEdBQUFteUIsaUJBRUE1QyxpQkFBQWo3QixZQUNBcUMsVUFBQW5HLFNBSUEsU0FBQW9pQyxzQkFBQWQsWUFBQXYrQixTQUNBLElBQUFrL0IsY0FBQWo3QixnQkFBQWxCLFlBQ0F3N0IsWUFBQXhnQyxTQUVBLElBQUFpQyxRQUFBLENBRUEsSUFBQTArQixlQUFBM0MsYUFBQXI0QixhQUNBZzdCLGVBQUFyK0IsSUFBQWsrQixZQUFBeGdDLFNBQ0EyZ0MsZUFBQUMsWUFLQSxJQUFBaitCLFNBQUF3RCxnQkFBQXhELFdBRUF3K0IsY0FBQXY4QixTQUFBLDJCQUFBLFNBQUF0USxHQUNBcU8sU0FBQUwsSUFDQWhPLEVBQUF3WSxPQUFBOEssaUJBR0F1cEIsY0FBQXY4QixTQUFBLHlCQUFBLFNBQUF0USxHQUVBaU4sYUFBQTdNLEtBQ0F5UixnQkFBQXBFLGNBQ0F2RCxNQUNBZ2lDLFlBQUF4Z0MsUUFDQWcrQixhQUFBcjRCLGFBQ0EsT0FDQWhELFNBQUFMLElBQUFoTyxFQUFBd1ksT0FBQThLLG1CQU1BdXBCLGNBQUF2OEIsU0FBQSx1QkFBQSxXQUNBNDdCLFlBQUF4Z0MsUUFBQTRnQyxZQUNBdjdCLFVBQUFuRyxPQUVBbUUsY0FBQXJYLElBQUF3MEMsWUFBQXhnQyxTQUNBME8sR0FBQW15QixpQkFFQTVDLGlCQUFBajdCLFlBQ0FxQyxVQUFBbkcsU0E0RkEsU0FBQXFpQyxpQkFBQS83QixNQUFBdkQsU0FDQSxJQUFBdS9CLFVBQUF0N0IsZ0JBQUFsQixZQUNBUSxPQUVBLElBQUF2RCxRQUFBLENBRUEsSUFBQTArQixlQUFBM0MsYUFBQXI0QixhQUNBZzdCLGVBQUFyK0IsSUFBQWtELE9BQ0FtN0IsZUFBQUMsWUFJQSxJQUFBNXpCLGtCQUFBNUcsZUFBQTRHLGtCQUNBeE8sTUFDQTZHLFVBQ0FHLE9BQ0EsR0FFQWk4QixRQUFBajhCLE1BQUE4RSxjQUFBLEdBQ0E5UCxLQUFBZ0wsTUFBQThFLGNBQUEsR0FFQTBDLGtCQUFBaGhCLElBQUF5MUMsUUFBQWo3QixVQUNBeTNCLGlCQUFBMzdCLElBQUEwSyxrQkFBQUQsWUFLQXkwQixVQUFBNThCLFNBQUEscUJBQUEsU0FBQXRRLEdBQ0EwWSxrQkFBQUcsT0FBQSxDQUNBbFosRUFBQXVSLE1BQUF2UixJQUNBNkssRUFBQTBHLE1BQUExRyxRQU9BMGlDLFVBQUE1OEIsU0FBQSxtQkFBQSxXQUNBNjhCLFFBQUFqN0IsT0FBQXdHLGtCQUFBSyxhQUVBLElBQUFxMEIsY0FBQUQsUUFBQWo3QixTQUVBaE0sS0FBQXhDLE1BQUEyUCxLQUFBQyxJQUFBODVCLGNBQUEsR0FBQUEsY0FBQSxJQUFBLElBQ0FsbkMsS0FBQWdJLFNBQUEsQ0FDQXZPLEVBQUF5dEMsY0FBQSxHQUFBLEVBQ0E1aUMsRUFBQTRpQyxjQUFBLEdBQUEsSUFFQXI4QixVQUFBbkcsU0FJQXNpQyxVQUFBNThCLFNBQUEsa0JBQUEsV0FDQVksTUFBQW83QixZQUNBdjlCLGNBQUFyWCxJQUFBd08sTUFDQTZLLFVBQUFuRyxPQUNBOE4sa0JBQUFHLE9BQUEsQ0FDQWxaLEVBQUF1UixNQUFBdlIsSUFDQTZLLEVBQUEwRyxNQUFBMUcsTUFHQW9QLFNBQUEsV0FDQUQsT0FBQWtQLFdBR0E4Z0IsaUJBQUFqN0IsWUFDQXFDLFVBQUEvQyxJQUFBMEssa0JBQUFELFlBQ0EwMEIsUUFBQTE2QixPQUFBLFFBQ0ExQixVQUFBbkcsT0FDQXdQLEdBQUFpekIsdUJBTUEsSUFBQWgvQixTQUFBd0QsZ0JBQUF4RCxXQUVBNitCLFVBQUE1OEIsU0FBQSxzQkFBQSxTQUFBdFEsR0FDQXFPLFNBQUFMLElBQ0FoTyxFQUFBd1ksT0FBQThLLGlCQUdBNHBCLFVBQUE1OEIsU0FBQSxvQkFBQSxTQUFBdFEsR0FFQWlOLGFBQUE3TSxLQUNBeVIsZ0JBQUFwRSxjQUNBdkQsTUFDQWdILE1BQ0F3NEIsYUFBQXI0QixhQUNBLE9BQ0FoRCxTQUFBTCxJQUFBaE8sRUFBQXdZLE9BQUE4SyxtQkFucEJBMG9CLGVBQUExN0IsU0FBQSxRQUFBLFNBQUF0USxHQUNBLFVBQUFBLEVBQUF3WSxPQUFBckYsWUFDQXcyQixpQkFBQWo3QixZQUNBMEwsR0FBQWt6QixrQkFDQWx6QixHQUFBbXpCLHNCQUNBeCtCLGNBQUExSixXQTh0QkFvakMsZUF0RUFueUMsUUFBQWdMLFFBQUF5UCxVQUFBaUYsY0FBQSxTQUFBclcsR0FDQSxXQUFBb0IsS0FBQXBCLEVBQUEvQixTQUNBdEgsUUFBQWdMLFFBQUEzQixFQUFBcVcsY0FBQSxTQUFBQyxPQUdBLEdBQUEsWUFBQUEsTUFBQTlDLFVBQ0FxNUIsb0JBQ0EsQ0FDQWpnQyxNQUFBMEosT0FFQSxXQUNBLFFBSUEsR0FDQSxTQUFBQSxNQUFBOUMsV0FDQSxVQUFBOEMsTUFBQTlDLFVBQ0EsQ0FFQSxJQUFBaEUsVUFBQThHLE1BQUFyWSxPQUNBLFFBQUFtRCxLQUFBb08sV0FDQTg4QixzQkFDQSxDQUNBMS9CLE1BQUEwSixPQUVBLGFBQ0EsR0FFQSxXQUFBbFYsS0FBQW9PLFdBQ0F1OUIsb0JBQ0EsQ0FDQWhoQyxRQUFBdUssUUFFQSxHQUVBLFFBQUFsVixLQUFBb08sV0FDQTI5QixpQkFDQSxDQUNBbGhDLEtBQUFxSyxRQUVBLEdBRUEsWUFBQWxWLEtBQUFvTyxXQUNBeTlCLHFCQUNBLENBQ0FsaEMsUUFBQXVLLFFBRUEsR0FFQSxrQkFBQWxWLEtBQUFvTyxZQUNBNjlCLHNCQUNBLENBQ0F0aEMsUUFBQXVLLFFBRUEsT0FLQSxhQUFBbFYsS0FBQWtWLE1BQUFyWSxTQUNBcXZDLGlCQUFBaDNCLE9BQUEsT0FNQTB6QixpQkFBQWo3QixhQWNBMEwsR0FBQWhQLFVBQUEsU0FBQUMsUUFDQSxJQUFBOGdDLFVBQUE5Z0MsT0FBQSxTQUFBLFlBQ0FtQixVQUFBOVUsSUFBQSxVQUFBeTBDLFdBQ0E5b0MsU0FBQWMsS0FBQXlQLE1BQUFDLE9BQUEsWUFDQXhZLFFBQUFDLElBQUE4ZSxHQUFBcXZCLGlCQUFBdCtCLE9BQUFFLFFBRUEyZ0MsZUFBQTE3QixTQUFBLFNBQUE2N0IsVUFBQSxXQUNBLEdBQUEzL0IsVUFBQUssTUFBQSxVQUFBcy9CLFdBQUEsQ0FDQSxJQUFBRCxZQUFBOUUsZ0JBQUE3MEIsWUFDQSxFQUNBVixnQkFBQWxELFdBQ0F6RSxNQUFBcy9CLHFCQUNBejRCLFVBQUF1UyxjQUNBdlMsVUFBQXlFLFVBSUEwMkIsWUFBQWh2QyxPQUNBNlQsVUFBQS9DLElBQUFrK0IsWUFBQTMvQixPQUdBVSxhQUFBN00sS0FDQXlSLGdCQUFBcEUsY0FDQXZELE1BQ0FnaUMsWUFBQTMvQixNQUNBbTlCLGFBQUFyNEIsYUFDQSxXQUdBTixVQUFBbkcsU0FHQXFoQyxzQkFBQUMsWUFBQUMsV0FFQTlvQyxTQUFBYyxLQUFBeVAsTUFBQUMsT0FBQSxVQUNBckgsVUFBQW5ILFFBQ0EraEMsZ0JBQUEzekIsbUJBSUF1NEIsZUFBQTE3QixTQUFBLGFBQUE2N0IsVUFBQSxXQUNBMy9CLFVBQUFLLE1BQUEsVUFBQXMvQixhQUNBL0UsZ0JBQUFwMEIsVUFDQW5CLGdCQUFBbEQsV0FDQXpFLE1BQUFzL0IscUJBQ0F6NEIsVUFBQXVTLGNBQ0F2UyxVQUFBeUUsU0FFQW5LLFFBRUEwRixVQUFBbkcsV0FNQXdQLEdBQUE3TyxRQUFBLFNBQUFELFFBQ0EsSUFBQTZnQyxVQUFBN2dDLE9BQUEsU0FBQSxVQUNBa0IsVUFBQTlVLElBQUEsVUFBQXkwQyxXQUNBOW9DLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFlBSUFtNEIsZUFBQTE3QixTQUFBLFNBQUE2N0IsVUFBQSxXQUNBLEdBQUEzL0IsVUFBQUssTUFBQSxVQUFBcy9CLFdBQUEsQ0FDQSxJQUFBRCxZQUFBOUUsZ0JBQUE3MEIsWUFDQSxFQUNBVixnQkFBQWxELFdBQ0F6RSxNQUFBcy9CLHFCQUNBejRCLFVBQUF1UyxjQUNBdlMsVUFBQXlFLFVBR0EwMkIsWUFBQWh2QyxPQUNBNlQsVUFBQS9DLElBQUFrK0IsWUFBQTMvQixPQUNBVSxhQUFBN00sS0FDQXlSLGdCQUFBcEUsY0FDQXZELE1BQ0FnaUMsWUFBQTMvQixNQUNBbTlCLGFBQUFyNEIsYUFDQSxXQUdBTixVQUFBbkcsU0FFQXZILFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFVBRUEyNEIsb0JBQUFOLFlBQUFDLFdBRUEzL0IsVUFBQW5ILFFBQ0EraEMsZ0JBQUEzekIsbUJBSUF1NEIsZUFBQTE3QixTQUFBLGFBQUE2N0IsVUFBQSxXQUNBMy9CLFVBQUFLLE1BQUEsVUFBQXMvQixhQUNBL0UsZ0JBQUFwMEIsVUFDQW5CLGdCQUFBbEQsV0FDQXpFLE1BQUFzL0IscUJBQ0F6NEIsVUFBQXVTLGNBQ0F2UyxVQUFBeUUsU0FFQWxLLFFBRUF5RixVQUFBbkcsV0FNQXdQLEdBQUExTyxRQUFBLFdBQ0FjLFVBQUE5VSxJQUFBLGtCQUNBMkwsU0FBQWMsS0FBQXlQLE1BQUFDLE9BQUEsWUFHQW00QixlQUFBMTdCLFNBQUEsZ0JBQUEsV0FDQSxHQUFBOUQsVUFBQUssTUFBQSxrQkFBQSxDQUNBLElBQUFxL0IsWUFBQTlFLGdCQUFBdHpCLGNBQ0FqQyxnQkFBQWxELFdBQ0F6RSxNQUFBcy9CLHFCQUNBejRCLFVBQUF1UyxjQUNBdlMsVUFBQXlFLFVBR0EwMkIsY0FDQUEsWUFBQWh2QyxPQUNBK1AsYUFBQTdNLEtBQ0F5UixnQkFBQXBFLGNBQ0F2RCxNQUNBZ2lDLFlBQUF4Z0MsUUFDQWcrQixhQUFBcjRCLGFBQ0EsV0FHQU4sVUFBQS9DLElBQUFrK0IsWUFBQXhnQyxXQUlBZ2hDLG9CQUFBUixhQUVBN29DLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFVBQ0FySCxVQUFBbkgsUUFDQStoQyxnQkFBQTN6QixpQkFHQTFDLFVBQUFuRyxVQUlBb2hDLGVBQUExN0IsU0FBQSxvQkFBQSxXQUNBOUQsVUFBQUssTUFBQSxvQkFDQXU2QixnQkFBQW56QixZQUNBcEMsZ0JBQUFsRCxXQUNBekUsTUFBQXMvQixxQkFDQXo0QixVQUFBdVMsY0FDQXZTLFVBQUF5RSxVQUdBekUsVUFBQW5HLFdBTUF3UCxHQUFBM08sU0FBQSxXQUNBZSxVQUFBOVUsSUFBQSx3QkFDQTJMLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFlBR0FtNEIsZUFBQTE3QixTQUFBLHFCQUFBLFdBQ0EsR0FBQTlELFVBQUFLLE1BQUEsd0JBQUEsQ0FDQSxJQUFBcS9CLFlBQUE5RSxnQkFBQXR6QixjQUNBakMsZ0JBQUFsRCxXQUNBekUsTUFBQXMvQixxQkFDQXo0QixVQUFBdVMsY0FDQXZTLFVBQUF5RSxVQUVBLEdBRUEwMkIsY0FDQUEsWUFBQWh2QyxPQUNBK1AsYUFBQTdNLEtBQ0F5UixnQkFBQXBFLGNBQ0F2RCxNQUNBZ2lDLFlBQUF4Z0MsUUFDQWcrQixhQUFBcjRCLGFBQ0EsV0FHQU4sVUFBQS9DLElBQUFrK0IsWUFBQXhnQyxXQUlBa2hDLHFCQUFBVixhQUVBN29DLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFVBQ0FySCxVQUFBbkgsUUFDQStoQyxnQkFBQTN6QixpQkFHQTFDLFVBQUFuRyxVQUlBb2hDLGVBQUExN0IsU0FBQSxxQkFBQSxXQUNBOUQsVUFBQUssTUFBQSwwQkFDQXU2QixnQkFBQW56QixZQUNBcEMsZ0JBQUFsRCxXQUNBekUsTUFBQXMvQixxQkFDQXo0QixVQUFBdVMsY0FDQXZTLFVBQUF5RSxVQUVBLEdBRUF6RSxVQUFBbkcsV0FNQXdQLEdBQUFvekIsV0FBQSxTQUFBaHZDLE1BQ0FnTyxVQUFBOVUsSUFBQSxZQUFBOEcsTUFDQTZFLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFlBR0FtNEIsZUFBQTE3QixTQUFBLFNBQUE5UixLQUFBLFdBQ0EsR0FBQWdPLFVBQUFLLE1BQUEsWUFBQXJPLE1BQUEsQ0FDQSxJQUFBMHRDLFlBQUE5RSxnQkFBQWx6QixXQUNBckMsZ0JBQUFsRCxXQUNBekUsTUFBQXMvQixxQkFDQXo0QixVQUFBdVMsY0FDQXZTLFVBQUF5RSxTQUVBaFgsTUFFQTB0QyxjQUNBQSxZQUFBaHZDLE9BQ0ErUCxhQUFBN00sS0FDQXlSLGdCQUFBcEUsY0FDQXZELE1BQ0FnaUMsWUFBQXRnQyxLQUNBODlCLGFBQUFyNEIsYUFDQSxXQUdBTixVQUFBL0MsSUFBQWsrQixZQUFBdGdDLE1BQ0FtRixVQUFBbkcsU0FHQWtpQyxpQkFBQVosYUFFQTdvQyxTQUFBYyxLQUFBeVAsTUFBQUMsT0FBQSxVQUNBckgsVUFBQW5ILFFBQ0EraEMsZ0JBQUEzekIsaUJBR0ExQyxVQUFBbkcsVUFJQW9oQyxlQUFBMTdCLFNBQUEsYUFBQTlSLEtBQUEsV0FDQWdPLFVBQUFLLE1BQUEsWUFBQXJPLFFBQ0E0b0MsZ0JBQUE3eUIsU0FDQTFDLGdCQUFBbEQsV0FDQXpFLE1BQUFzL0IscUJBQ0F6NEIsVUFBQXVTLGNBQ0F2UyxVQUFBeUUsVUFHQXpFLFVBQUFuRyxXQUtBd1AsR0FBQXF6QixXQUFBLFdBQ0FqaEMsVUFBQTlVLElBQUEsbUJBQ0EyTCxTQUFBYyxLQUFBeVAsTUFBQUMsT0FBQSxZQUNBbTRCLGVBQUExN0IsU0FBQSxlQUFBLFdBQ0EsR0FBQTlELFVBQUFLLE1BQUEsbUJBQUEsQ0FDQSxJQUFBcS9CLFlBQUE5RSxnQkFBQTV5QixpQkFDQTNDLGdCQUFBbEQsV0FDQXpFLE1BQUFzL0IscUJBQ0F6NEIsVUFBQXVTLGNBQ0F2UyxVQUFBeUUsVUFHQTAyQixjQUNBQSxZQUFBaHZDLE9BQ0ErUCxhQUFBN00sS0FDQXlSLGdCQUFBcEUsY0FDQXZELE1BQ0FnaUMsWUFBQXRnQyxLQUNBODlCLGFBQUFyNEIsYUFDQSxXQUdBTixVQUFBL0MsSUFBQWsrQixZQUFBdGdDLE1BQ0FtRixVQUFBbkcsVUFyakJBLFNBQUFzaEMsWUFBQXYrQixTQUNBLElBQUErL0IsWUFBQTk3QixnQkFBQWxCLFlBQ0F3N0IsWUFBQXRnQyxNQUVBLElBQUErQixRQUFBLENBRUEsSUFBQTArQixlQUFBM0MsYUFBQXI0QixhQUNBZzdCLGVBQUFyK0IsSUFBQWsrQixZQUFBdGdDLE1BQ0F5Z0MsZUFBQUMsWUFHQSxJQUFBdHpCLGtCQUFBbEgsZUFBQWtILGtCQUNBOU8sTUFDQTZHLFVBQ0FtN0IsWUFBQXRnQyxNQUVBb04sa0JBQUF0aEIsSUFBQXcwQyxZQUFBdGdDLEtBQUFzRyxVQUNBeTNCLGlCQUFBMzdCLElBQUFnTCxrQkFBQVAsWUFLQWkxQixZQUFBcDlCLFNBQUEsbUJBQUEsU0FBQXRRLEdBQ0FnWixrQkFBQUgsT0FBQSxDQUNBbFosRUFBQXVzQyxZQUFBdGdDLEtBQUFqTSxJQUNBNkssRUFBQTBoQyxZQUFBdGdDLEtBQUFwQixRQUdBa2pDLFlBQUFwOUIsU0FBQSxnQkFBQSxTQUFBdFEsR0FDQWdaLGtCQUFBSCxPQUFBLENBQ0FsWixFQUFBdXNDLFlBQUF0Z0MsS0FBQWpNLElBQ0E2SyxFQUFBMGhDLFlBQUF0Z0MsS0FBQXBCLFFBT0EsSUFBQTZELFNBQUF3RCxnQkFBQXhELFdBRUFxL0IsWUFBQXA5QixTQUFBLG9CQUFBLFNBQUF0USxHQUNBcU8sU0FBQUwsSUFDQWhPLEVBQUF3WSxPQUFBOEssaUJBR0FvcUIsWUFBQXA5QixTQUFBLGtCQUFBLFNBQUF0USxHQUVBaU4sYUFBQTdNLEtBQ0F5UixnQkFBQXBFLGNBQ0F2RCxNQUNBZ2lDLFlBQUF0Z0MsS0FDQTg5QixhQUFBcjRCLGFBQ0EsT0FDQWhELFNBQUFMLElBQUFoTyxFQUFBd1ksT0FBQThLLG1CQU9Bb3FCLFlBQUFwOUIsU0FBQSxrQkFBQSxXQUNBNDdCLFlBQUF0Z0MsS0FBQXNHLE9BQUE4RyxrQkFBQUQsZUFJQTIwQixZQUFBcDlCLFNBQUEsUUFBQSxXQUNBNDdCLFlBQUF0Z0MsS0FBQTBnQyxZQUNBdjdCLFVBQUFuRyxPQUNBbUUsY0FBQXJYLElBQUF3MEMsWUFBQXRnQyxNQUNBd08sR0FBQW15QixpQkFDQSxJQUFBLzJCLE1BQ0EsSUFBQTFJLGlCQUFBNVQsTUFBQThNLFdBQ0FoTixFQUNBOFQsaUJBQUE1VCxNQUFBOE0sTUFFQW1ULFFBQUFFLGFBQUEsQ0FDQWpDLEtBQUF0RixlQUFBNkUsWUFBQXUxQixZQUFBdGdDLEtBQUFzRyxTQUFBc0QsT0FDQXpJLEtBQUFELGlCQUFBNVQsTUFBQTZULE9BRUFxTixHQUFBaEIsVUFBQUQsUUFBQUksZUFDQWEsR0FBQXd2QixXQUFBLEVBRUFELGlCQUFBajdCLFlBQ0FxQyxVQUFBL0MsSUFBQWdMLGtCQUFBUCxZQUNBMUgsVUFBQW5HLFNBb2VBK2lDLENBQUF6QixhQUVBN29DLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFVBQ0FySCxVQUFBbkgsUUFDQStoQyxnQkFBQTN6QixpQkFHQTFDLFVBQUFuRyxVQUlBb2hDLGVBQUExN0IsU0FBQSxtQkFBQSxXQUNBOUQsVUFBQUssTUFBQSxxQkFDQXU2QixnQkFBQXZ5QixlQUNBaEQsZ0JBQUFsRCxXQUNBekUsTUFBQXMvQixxQkFDQXo0QixVQUFBdVMsY0FDQXZTLFVBQUF5RSxVQUdBekUsVUFBQW5HLFdBTUF3UCxHQUFBd3pCLGVBQUEsV0FDQXBoQyxVQUFBOVUsSUFBQSxtQkFDQTJMLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFlBR0FtNEIsZUFBQTE3QixTQUFBLHFCQUFBLFdBQ0EsR0FBQTlELFVBQUFLLE1BQUEsbUJBQUEsQ0FDQSxJQUFBcS9CLFlBQUE5RSxnQkFBQXR6QixjQUNBakMsZ0JBQUFsRCxXQUNBekUsTUFBQXMvQixxQkFDQXo0QixVQUFBdVMsY0FDQXZTLFVBQUF5RSxVQUVBLEdBQ0EsR0FFQTAyQixjQUNBQSxZQUFBaHZDLE9BQ0ErUCxhQUFBN00sS0FDQXlSLGdCQUFBcEUsY0FDQXZELE1BQ0FnaUMsWUFBQXhnQyxRQUNBZytCLGFBQUFyNEIsYUFDQSxXQUdBTixVQUFBL0MsSUFBQWsrQixZQUFBeGdDLFdBRUFzaEMsc0JBQUFkLGFBQ0E3b0MsU0FBQWMsS0FBQXlQLE1BQUFDLE9BQUEsVUFDQXJILFVBQUFuSCxRQUNBK2hDLGdCQUFBM3pCLGlCQUdBMUMsVUFBQW5HLFVBSUFvaEMsZUFBQTE3QixTQUFBLHFCQUFBLFdBQ0E5RCxVQUFBSyxNQUFBLHFCQUNBdTZCLGdCQUFBbnpCLFlBQ0FwQyxnQkFBQWxELFdBQ0F6RSxNQUFBcy9CLHFCQUNBejRCLFVBQUF1UyxjQUNBdlMsVUFBQXlFLFVBRUEsR0FFQXpFLFVBQUFuRyxXQUtBd1AsR0FBQXl6QixXQUFBLFdBQ0FyaEMsVUFBQTlVLElBQUEsZUFDQTJMLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFlBRUFtNEIsZUFBQTE3QixTQUFBLG9CQUFBLFdBQ0EsR0FBQTlELFVBQUFLLE1BQUEsZUFBQSxDQUNBLElBQUFxL0IsWUFBQTlFLGdCQUFBNzBCLFlBQ0EsRUFDQVYsZ0JBQUFsRCxXQUNBekUsTUFBQXMvQixxQkFDQXo0QixVQUFBdVMsY0FDQXZTLFVBQUF5RSxVQUlBLEdBQUEwMkIsWUFBQWh2QyxNQUNBNlQsVUFBQS9DLElBQUFrK0IsWUFBQTMvQixPQUdBVSxhQUFBN00sS0FDQXlSLGdCQUFBcEUsY0FDQXZELE1BQ0FnaUMsWUFBQTMvQixNQUNBbTlCLGFBQUFyNEIsYUFDQSxlQUdBLENBR0EsSUFBQStELFVBQUFneUIsZ0JBQUFqeUIsa0JBRUFDLFVBQUFwSCxJQUFBaytCLFlBQUEzL0IsT0FHQSxJQUFBMkYsT0FBQWc2QixZQUFBMy9CLE1BQUEyRixTQUNBNDdCLFVBQUEsQ0FDQTUvQixTQUFBLENBQ0F2TyxFQUFBdVMsT0FBQSxHQUFBLEdBQ0ExSCxFQUFBMEgsT0FBQSxHQUFBLElBRUF4TyxNQUFBMlAsS0FBQUMsSUFBQXBCLE9BQUEsR0FBQUEsT0FBQSxJQUFBLElBRUE2N0IsUUFBQTNHLGdCQUFBdHlCLFdBQUFnNUIsV0FDQTE0QixVQUFBcEgsSUFBQSsvQixTQUVBZCxpQkFBQTczQixXQUVBL1IsU0FBQWMsS0FBQXlQLE1BQUFDLE9BQUEsVUFDQXJILFVBQUFuSCxRQUNBK2hDLGdCQUFBM3pCLGVBRUExQyxVQUFBbkcsV0FJQW9oQyxlQUFBMTdCLFNBQUEsd0JBQUEsV0FDQTlELFVBQUFLLE1BQUEsaUJBQ0F1NkIsZ0JBQUFwMEIsVUFDQW5CLGdCQUFBbEQsV0FDQXpFLE1BQUFzL0IscUJBQ0F6NEIsVUFBQXVTLGNBQ0F2UyxVQUFBeUUsVUFFQSxFQUNBLFdBRUF6RSxVQUFBbkcsV0FLQXdQLEdBQUE0ekIsZ0JBQUEsU0FBQUMsVUFDQXRFLGlCQUFBajdCLFlBQ0FLLGNBQUExSixRQUNBMEosY0FBQXJYLElBQUF1MkMsVUFDQUEsU0FBQTU5QixLQUFBLFVBR0ErSixHQUFBOHpCLGNBQUEsV0FDQTFoQyxVQUFBOVUsSUFBQSxzQkFFQTJMLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFlBRUFtNEIsZUFBQTE3QixTQUFBLHNCQUFBLFdBQ0EsR0FBQTlELFVBQUFLLE1BQUEsc0JBQUEsQ0FDQXVOLEdBQUErekIsaUJBQUEsR0FDQSxJQUFBakMsWUFBQTlFLGdCQUFBNzBCLFlBQ0EsRUFDQVYsZ0JBQUFsRCxXQUNBekUsTUFBQXMvQixxQkFDQXo0QixVQUFBdVMsY0FDQXZTLFVBQUF5RSxVQUdBekUsVUFBQS9DLElBQUFrK0IsWUFBQTMvQixPQUNBd0UsVUFBQW5HLFVBSUFvaEMsZUFBQTE3QixTQUFBLG9CQUFBLFdBQ0EsR0FBQTlELFVBQUFLLE1BQUEsc0JBQUEsQ0FDQXhKLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLFVBQ0FySCxVQUFBbkgsUUFHQSxJQUFBc08sZ0JBQUF5ekIsZ0JBQUExekIsZ0JBQ0E0QyxlQUFBOHdCLGdCQUFBbHhCLGFBQ0FuRixVQUNBNEMsaUJBRUF5NkIsbUJBQUE5M0IsZUFBQTVXLElBQUEsU0FBQUMsR0FDQSxPQUFBQSxFQUFBL0IsU0FHQW9SLGVBQUFqSSxNQUFBdVAsZ0JBQ0FoZ0IsUUFBQWdMLFFBQUE4WSxHQUFBcEosVUFBQSxTQUFBckQsU0FDQXJYLFFBQUFnTCxRQUFBcU0sUUFBQXFJLGNBQUEsU0FBQUMsT0FDQW00QixtQkFBQXBzQyxRQUFBaVUsTUFBQXJZLFNBQUEsSUFDQXFZLE1BQUFyTyxVQUFBLE9BS0FtSixVQUFBbkcsVUFHQW9oQyxlQUFBMTdCLFNBQUEsc0JBQUEsV0FDQTlELFVBQUFLLE1BQUEsd0JBQ0F1NkIsZ0JBQUFwMEIsVUFDQW5CLGdCQUFBbEQsV0FDQXpFLE1BQUFzL0IscUJBQ0F6NEIsVUFBQXVTLGNBQ0F2UyxVQUFBeUUsVUFFQSxFQUNBLFdBRUF6RSxVQUFBbkcsV0FLQXdQLEdBQUErekIsZ0JBQUEsU0FBQUUsYUFDQSxJQUFBdjRCLFVBQUFzeEIsZ0JBQUF2eEIsaUJBQUE5RSxXQUNBczlCLFlBQ0FyL0IsZUFBQWpJLE1BQUErTyxXQUVBOUcsZUFBQUssUUFFQS9ZLFFBQUFnTCxRQUFBd1UsVUFBQSxTQUFBblcsR0FDQUEsRUFBQWlJLFdBQUF5bUMsZUFJQWowQixHQUFBazBCLHNCQUFBLFNBQUEvaEMsT0FDQW85QixpQkFBQWo3QixZQUNBbkMsTUFBQWdpQyxTQUFBaGlDLE1BQUFnaUMsV0FDQXg5QixVQUFBbkcsUUFHQXdQLEdBQUE1TyxXQUFBLFdBQ0FnQixVQUFBOVUsSUFBQSwwQkFDQThULFdBQUE0N0IsZ0JBQUE1N0IsV0FBQXRCLE1BQUE2RyxXQUNBaTdCLGVBQUExN0IsU0FBQSxtQkFBQSxXQUNBOUQsVUFBQUssTUFBQSwyQkFDQXJCLFdBQ0FxRyxnQkFBQWxELFdBQ0F6RSxNQUFBcy9CLHFCQUNBejRCLFVBQUF1UyxjQUNBdlMsVUFBQXlFLFVBRUEsS0FLQXcyQixlQUFBMTdCLFNBQUEsdUJBQUEsV0FDQTlELFVBQUFLLE1BQUEsMkJBQ0FyQixXQUNBcUcsZ0JBQUFsRCxXQUNBekUsTUFBQXMvQixxQkFDQXo0QixVQUFBdVMsY0FDQXZTLFVBQUF5RSxVQUVBLE1BUUFtRSxPQUFBNE8sSUFBQSxhQUFBLFNBQUF2b0IsRUFBQXd1QyxnQkFHQXYwQixFQUFBLG1CQUFBeUUsTUFBQSxRQUdBLElBQUF4TSxPQUFBczhCLGVBQUF0OEIsU0FDQXU4QixTQUFBcDdCLEtBQUFxN0IsS0FDQXI3QixLQUFBczdCLElBQUF6OEIsT0FBQSxHQUFBQSxPQUFBLEdBQUEsR0FDQW1CLEtBQUFzN0IsSUFBQXo4QixPQUFBLEdBQUFBLE9BQUEsR0FBQSxJQUdBa0ksR0FBQXcwQixvQkFBQUgsU0FDQXIwQixHQUFBeTBCLGdCQUFBLFdBQ0EsSUFFQXI1QixNQUZBeFAsTUFBQW9VLEdBQUEwMEIsaUJBQUE5b0MsTUFJQXdQLE1BQUF1NUIsU0FBQS9vQyxPQUFBeW9DLFNBR0EzaEMsaUJBQUFwVixJQUFBLENBQ0FzTyxNQUFBd1AsTUFDQXpJLEtBQUFxTixHQUFBMDBCLGlCQUFBL2hDLE9BR0FxTixHQUFBNnZCLGdCQUFBbjlCLGlCQUFBNVQsTUFFQWtoQixHQUFBd3ZCLFdBQUEsRUFDQXh2QixHQUFBaEIsVUFBQUQsUUFBQUksZUFDQWkxQixlQUFBajVCLFVBQ0F4RSxVQUFBbkcsT0FFQXFQLEVBQUEsbUJBQUF5RSxNQUFBLFNBR0F6RSxFQUFBLG1CQUFBdlAsR0FBQSxnQkFBQSxTQUFBMUssR0FDQXd1QyxlQUFBajVCLFVBQ0F4RSxVQUFBbkcsV0FJQXdQLEdBQUE0MEIsWUFBQSxTQUFBZixVQUNBLElBQUExaEMsTUFBQTBoQyxVQUFBbC9CLGNBQUE3VixNQUNBcVQsUUFDQW85QixpQkFBQWo3QixZQUNBekIsYUFBQTdNLEtBQ0F5UixnQkFBQXBFLGNBQ0F2RCxNQUNBcUMsTUFDQUEsTUFBQTBpQyxZQUNBLFdBR0ExaUMsTUFBQXZILFNBQ0ErTCxVQUFBbkcsT0FDQXdQLEdBQUFrekIsa0JBQ0FsekIsR0FBQW16QixzQkFDQXgrQixjQUFBMUosVUFJQStVLEdBQUFteUIsZUFBQSxXQUNBLElBQUFoZ0MsTUFBQXdDLGNBQUE3VixNQUNBa2hCLEdBQUE4MEIsZ0JBQUEsQ0FDQXR4QyxLQUFBMk8sTUFBQTNPLE9BQ0ErcUMsVUFBQSxTQUNBbDJCLE9BQUFsRyxNQUFBa0csU0FDQUUsS0FBQXBHLE1BQUFvRyxPQUNBRCxZQUFBbkcsTUFBQW1HLGVBRUEwSCxHQUFBKzBCLGlCQUFBLEdBR0EvMEIsR0FBQWcxQixXQUFBLENBQ0EsQ0FDQTV3QyxLQUFBLFNBQ0F3SCxNQUFBLFVBRUEsQ0FDQXhILEtBQUEsT0FDQXdILE1BQUEsU0FJQW9VLEdBQUFpMUIsZUFBQSxDQUNBLENBQ0E3d0MsS0FBQSxhQUNBd0gsTUFBQSxVQUVBLENBQ0F4SCxLQUFBLE9BQ0F3SCxNQUFBLFNBSUFvVSxHQUFBazFCLFdBQUEsQ0FDQSxDQUNBOXdDLEtBQUEsU0FDQXdILE1BQUEsVUFFQSxDQUNBeEgsS0FBQSxPQUNBd0gsTUFBQSxRQUVBLENBQ0F4SCxLQUFBLFNBQ0F3SCxNQUFBLFdBSUFvVSxHQUFBbTFCLGFBQUEsQ0FDQSxRQUNBLFVBQ0EsWUFDQSxrQkFDQSxRQUNBLGNBQ0EsVUFDQSxVQUNBLFVBQ0EsV0FDQSxXQUNBLFVBQ0EsZ0JBQ0EsZUFDQSxjQUNBLFVBR0FuMUIsR0FBQWl6QixtQkFBQSxXQUNBLElBQUE5Z0MsTUFBQXdDLGNBQUE3VixNQUNBa2hCLEdBQUFvMUIsb0JBQUEsQ0FDQTdHLFVBQUEsU0FDQXppQyxLQUFBcUcsTUFBQXJHLE9BQ0ErTyxTQUFBMUksTUFBQTBJLFdBQ0F3NkIsVUFBQWxqQyxNQUFBa2pDLFlBQ0F2NkIsV0FBQTNJLE1BQUEySSxhQUNBekMsT0FBQWxHLE1BQUFrRyxTQUNBRSxLQUFBcEcsTUFBQW9HLE9BQ0FELFlBQUFuRyxNQUFBbUcsZUFFQTBILEdBQUFzMUIsZ0JBQUEsRUFDQS8xQixPQUFBa1AsVUFHQXpPLEdBQUF1MUIsZUFBQSxTQUFBajVCLEtBQUExUSxPQUNBLElBQUF1RyxNQUFBd0MsY0FBQTdWLE1BQ0FxVCxNQUFBbUssTUFBQTFRLE9BQ0ErSyxVQUFBbkcsUUFHQXdQLEdBQUF3MUIsaUJBQUEsU0FBQWp2QyxLQUNBLElBQUE0TCxNQUFBd0MsY0FBQTdWLE1BdUJBcVQsTUFBQW1HLFlBQUEvUixLQUNBb1EsVUFBQW5HLFFBR0EsSUFBQWlsQyxpQkFBQWgrQixnQkFBQXZELHVCQUVBOEwsR0FBQTAxQixpQkFBQSxDQUNBdEssU0FBQSxTQUFBMkQsSUFBQWxsQixNQUFBdU4sUUFDQSxJQUFBamxCLE1BQUF3QyxjQUFBN1YsTUFDQSxTQUFBa2hCLEdBQUE4MEIsZ0JBQUF2RyxVQUNBcDhCLE1BQUFvRyxLQUFBc1IsT0FDQSxXQUFBN0osR0FBQTgwQixnQkFBQXZHLFdBQ0FwOEIsTUFBQWtHLE9BQUF3UixPQUVBbFQsVUFBQW5HLFFBR0FtbEMsT0FBQSxTQUFBNUcsSUFBQWxsQixNQUFBdU4sUUFDQSxJQUFBamxCLE1BQUF3QyxjQUFBN1YsTUFDQTJVLE1BQUEsQ0FDQTRFLE9BQUFsRyxNQUFBa0csU0FDQUUsS0FBQXBHLE1BQUFvRyxPQUNBRCxZQUFBbkcsTUFBQW1HLGVBRUFtOUIsaUJBQUE3aEMsSUFBQUgsUUFFQW1pQyxRQUFBLFNBQUE3RyxJQUFBbGxCLE1BQUF1TixRQUNBLElBQUFqbEIsTUFBQXdDLGNBQUE3VixNQUNBMlUsTUFBQSxDQUNBNEUsT0FBQWxHLE1BQUFrRyxTQUNBRSxLQUFBcEcsTUFBQW9HLE9BQ0FELFlBQUFuRyxNQUFBbUcsZUFFQXpGLGFBQUE3TSxLQUNBeVIsZ0JBQUFwRSxjQUNBdkQsTUFDQXFDLE1BQ0FtOUIsYUFBQXI0QixhQUNBLGFBQ0F3K0IsaUJBQUE3aEMsSUFBQUgsU0FJQWdpQyxpQkFBQWgrQixnQkFBQXZELHlCQUlBOEwsR0FBQTYxQixxQkFBQSxDQUNBekssU0FBQSxTQUFBMkQsSUFBQWxsQixNQUFBdU4sUUFDQSxJQUFBamxCLE1BQUF3QyxjQUFBN1YsTUFDQSxHQUFBLFNBQUFraEIsR0FBQW8xQixvQkFBQTdHLFVBQ0FwOEIsTUFBQW9HLEtBQUFzUixZQUNBLEdBQUEsV0FBQTdKLEdBQUFvMUIsb0JBQUE3RyxVQUFBLENBQ0EsSUFBQXdFLFFBQUE1Z0MsTUFBQTBpQyxZQUFBbDVCLEtBQUEsUUFDQW8zQixRQUFBeDZCLEtBQUFzUixPQUVBbFQsVUFBQW5HLFFBR0FtbEMsT0FBQSxTQUFBNUcsSUFBQWxsQixNQUFBdU4sUUFDQSxJQUFBamxCLE1BQUF3QyxjQUFBN1YsTUFDQTJVLE1BQUEsQ0FDQTRFLE9BQUFsRyxNQUFBa0csU0FDQUUsS0FBQXBHLE1BQUFvRyxPQUNBRCxZQUFBbkcsTUFBQW1HLGVBRUFtOUIsaUJBQUE3aEMsSUFBQUgsUUFFQW1pQyxRQUFBLFNBQUE3RyxJQUFBbGxCLE1BQUF1TixRQUNBLElBQUFqbEIsTUFBQXdDLGNBQUE3VixNQUNBMlUsTUFBQSxDQUNBNEUsT0FBQWxHLE1BQUFrRyxTQUNBRSxLQUFBcEcsTUFBQW9HLE9BQ0FELFlBQUFuRyxNQUFBbUcsZUFFQXpGLGFBQUE3TSxLQUNBeVIsZ0JBQUFwRSxjQUNBdkQsTUFDQXFDLE1BQ0FtOUIsYUFBQXI0QixhQUNBLGFBQ0F3K0IsaUJBQUE3aEMsSUFBQUgsU0FJQWdpQyxpQkFBQWgrQixnQkFBQXZELHlCQUlBOEwsR0FBQWt6QixnQkFBQSxXQUNBbHpCLEdBQUErMEIsaUJBQUEsR0FHQS8wQixHQUFBbXpCLG9CQUFBLFdBQ0EsSUFBQXJuQyxLQUFBNkksY0FBQTdWLE1BQ0EsR0FBQWdOLE1BQUEsU0FBQUEsS0FBQXRJLE9BQUEsQ0FDQSxJQUFBc1QsTUFBQWhMLEtBQUErb0MsWUFDQTlCLFFBQUFqOEIsTUFBQTZFLEtBQUEsUUFBQSxHQUNBbzNCLFFBQUExNkIsT0FBQSxNQUNBMUIsVUFBQW5HLE9BQ0ErK0IsaUJBQUFqN0IsWUFFQTBMLEdBQUFzMUIsZ0JBQUEsR0FNQXQxQixHQUFBODFCLGlCQUFBLEVBQ0E5MUIsR0FBQSsxQixTQUFBLFdBQ0EvMUIsR0FBQTgxQixnQkFBQW4vQixVQUFBNkIsWUFDQXdILEdBQUE4MUIsZ0JBQ0E3c0MsU0FBQWMsS0FBQXlQLE1BQUFDLE9BQUEsVUFDQXhRLFNBQUFjLEtBQUF5UCxNQUFBQyxPQUFBLE9BQ0E5QyxVQUFBNkIsV0FBQXdILEdBQUE4MUIsaUJBQ0FuL0IsVUFBQW5HLFFBS0F3UCxHQUFBZzJCLFdBQUEsU0FBQTV4QyxNQUVBbXJDLGlCQUFBajdCLFlBQ0EsSUFBQWxRLEtBQUF5TyxhQUFBTSxPQUFBTixhQUFBSSxRQUtBK00sR0FBQWkyQixjQUFBLFdBQ0EsSUFBQXZzQyxRQUFBb0csTUFBQW5HLFlBQ0FDLEtBQUFYLFNBQUFDLGNBQUEsS0FDQVUsS0FBQUMsU0FBQSxrQkFBQTNCLEtBQUFDLE1BQ0F5QixLQUFBRSxLQUFBSixRQUNBVCxTQUFBYyxLQUFBQyxZQUFBSixNQUNBQSxLQUFBSyxRQUNBaEIsU0FBQWMsS0FBQUcsWUFBQU4sT0FHQW9XLEdBQUFrMkIsYUFBQSxXQUNBLElBQUFDLEtBQUFybUMsTUFBQXNtQyxTQUNBcnZDLEtBQUEsSUFBQXd5QixLQUFBLENBQUE0YyxNQUFBLENBQ0EveEMsS0FBQSxxQkFFQXdGLEtBQUFYLFNBQUFDLGNBQUEsS0FDQVUsS0FBQUUsS0FBQTZ6QixJQUFBQyxnQkFBQTcyQixNQUNBNkMsS0FBQUMsU0FBQSxpQkFBQTNCLEtBQUFDLE1BQ0FjLFNBQUFjLEtBQUFDLFlBQUFKLE1BQ0FBLEtBQUFLLFFBQ0FoQixTQUFBYyxLQUFBRyxZQUFBTixPQUdBb1csR0FBQXJlLGFBQUEsV0FDQTR0QyxpQkFBQWo3QixZQUNBLElBQUE2aEMsS0FBQXJtQyxNQUFBc21DLFNBSUExeEMsV0FDQS9DLGFBQUF5c0MsU0FBQTVvQyxJQUFBLENBQ0F1SyxXQUFBb21DLEtBQ0F6RyxZQUFBaDlCLGlCQUFBNVQsTUFDQTh3QyxVQUFBNUMsZ0JBQUE5MEIsYUFDQWhELGFBQUE4SyxHQUFBOUssYUFBQUssMkJBRUF4UyxLQUFBLFNBQUFDLE1BQ0ExRSxhQUFBb0gsUUFBQTFDLEtBQUFwRCxLQUFBK0YsU0FFQWpCLFdBQ0FqRCxvQkFBQXRELG9CQUFBVyxJQUFBLG9CQUNBaUUsS0FBQSxTQUFBQyxNQUNBN0Usb0JBQUFiLElBQUEsWUFBQTBGLEtBQUFwRCxLQUFBQSxRQUVBc0QsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxPQUdBMUMsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQU1Bb2EsR0FBQTNJLFlBQUEsU0FBQUYsT0FDQW80QixpQkFBQWo3QixZQUNBZzdCLGFBQUFqNEIsWUFBQUYsUUFFQTZJLEdBQUE1SSxZQUFBLFNBQUFELE9BQ0FtNEIsYUFBQWw0QixZQUFBRCxRQUdBNkksR0FBQXEyQixXQUFBLFdBQ0EvRyxhQUFBejRCLGdCQUNBbUosR0FBQXBKLFVBQUEwNEIsYUFBQXQ0QixnQkFHQWdKLEdBQUFzMkIsWUFBQSxTQUFBbnBDLEdBQ0E2UyxHQUFBdTJCLGNBQUFwcEMsRUFDQW1pQyxhQUFBcDRCLFdBQUEvSixJQUlBNlMsR0FBQXMyQixZQUFBLEdBRUF0MkIsR0FBQXcyQixpQkFBQSxTQUFBcmtDLE9BQ0FBLE1BQUEzRSxTQUNBb0gsZUFBQTVPLEtBQUFtTSxPQUNBeUMsZUFBQUUsS0FBQTNDLE1BQUEzTyxTQUdBd2MsR0FBQXkyQixjQUFBLFNBQUExaEMsV0FDQSxNQUFBLFFBQUFwTyxLQUFBb08sV0FDQSxTQUVBLFdBQUFwTyxLQUFBb08sV0FDQSxTQUVBLFdBQUFwTyxLQUFBb08sV0FDQSxVQUVBLFFBQUFwTyxLQUFBb08sV0FDQSxPQUVBLGFBQUFwTyxLQUFBb08sV0FDQSxPQUVBLFlBQUFwTyxLQUFBb08sV0FDQSxjQURBLEdBS0FpTCxHQUFBMDJCLGNBQUEsV0FDQSxJQUFBeDZCLGVBQUF0SCxlQUFBOVYsTUFDQW1DLFFBQUFDLElBQUFnYixnQkFDQXF6QixpQkFBQWo3QixZQUNBcFksUUFBQWdMLFFBQUFnVixlQUFBLFNBQUEvSixPQUNBQSxNQUFBZ2lDLFNBQUEsS0FFQXg5QixVQUFBbkcsUUFHQXdQLEdBQUEyMkIsZ0JBQUEsV0FDQSxJQUFBejZCLGVBQUF0SCxlQUFBOVYsTUFDQXl3QyxpQkFBQWo3QixZQUNBcFksUUFBQWdMLFFBQUFnVixlQUFBLFNBQUEvSixPQUNBVSxhQUFBN00sS0FDQXlSLGdCQUFBcEUsY0FDQXZELE1BQ0FxQyxNQUNBQSxNQUFBMGlDLFlBQ0EsV0FHQTFpQyxNQUFBdkgsV0FFQStMLFVBQUFuRyxRQUdBd1AsR0FBQTQyQixhQUFBLFNBQUFDLFdBQ0FoM0IsRUFBQSxpQkFBQXlFLE1BQUEsU0FHQXRFLEdBQUE1SyxrQkFBQSxTQUFBdkUsUUFBQXdFLFNBQUFqUixNQUNBNGIsR0FBQTlLLGFBQUFFLGtCQUFBdkUsUUFBQXdFLFNBQUFqUixNQUNBeWIsRUFBQSxpQkFBQXlFLE1BQUEsU0FHQS9FLE9BQUE0TyxJQUFBLG1CQUFBLFNBQUF2b0IsRUFBQWhHLE1BQ0FxQixRQUFBQyxJQUFBLHVCQUFBdEIsUUF0b0VBb2dCLEdBQUE4MkIsZUFBQSxFQUVBOTJCLEdBQUFtTixVQUFBaHZCLG9CQUFBVyxJQUFBLGFBRUFraEIsR0FBQSsyQixXQUFBLFNBQUF2cEIsTUFDQXhOLEdBQUFnM0IsYUFBQXhwQixLQUFBaG9CLElBQ0Eyb0MsWUFBQTNnQixNQUNBeE4sR0FBQTgyQixlQUFBLEdBRUE5MkIsR0FBQSsyQixXQUFBNTRDLG9CQUFBVyxJQUFBLGlCQVdBa2hCLEdBQUFpM0IsbUJBQUEsV0FDQWh1QyxTQUFBYyxLQUFBeVAsTUFBQUMsT0FBQSxVQUNBb0csRUFBQSxvQkFBQXlFLE1BQUEsUUFDQXJtQixPQUFBNE0sR0FBQSxnQkFoSUEsR0NBQSxXQUNBM08sUUFBQUMsT0FBQSxPQUFBKzZDLFVBQUEsWUFFQSxTQUFBem5DLFdBQUEvSyxXQUFBOGEsU0FBQXBoQixRQUFBRSxjQUNBLE1BQUEsQ0FDQTY0QyxTQUFBLElBQ0FDLE1BQUEsQ0FDQUMsUUFBQSxLQUVBenRDLEtBQUEsU0FBQTJWLE9BQUErM0IsS0FBQUMsT0FDQW41QyxRQUFBNFAsV0FBQXVSLE9BQUE4M0IsUUFBQUMsS0FBQSxJQUNBOTNCLFNBQUEsV0FDQUQsT0FBQWtQLGVBWkEsR0NBQSxXQUNBdnlCLFFBQUFDLE9BQUEsT0FBQSs2QyxVQUFBLGFBRUEsU0FBQXpuQyxXQUFBL0ssV0FBQThhLFNBQUFwaEIsUUFBQUUsY0FDQSxNQUFBLENBQ0E2NEMsU0FBQSxJQUNBdDVDLFlBQUEsNEJBQ0F1NUMsTUFBQSxDQUNBL2xCLFFBQUEsSUFDQW55QixPQUFBLElBQ0FzNEMsV0FBQSxJQUNBQyxVQUFBLEtBRUE3dEMsS0FBQSxTQUFBMlYsT0FBQSszQixLQUFBQyxPQUNBLElBQUFHLFlBQUEsR0FDQXJzQyxhQUFBak4sUUFBQWlOLGFBQ0FrVSxPQUFBeGIsTUFBQSxHQUNBd2IsT0FBQTBPLFdBQUEsY0FDQTFPLE9BQUFvNEIsY0FBQSxHQUNBcDRCLE9BQUFxNEIsZUFBQSxLQUNBcjRCLE9BQUEyTyxhQUFBLEVBRUEzTyxPQUFBczRCLFdBQUEsU0FBQWhrQixRQUNBLElBQUFyd0IsS0FBQXF3QixPQUFBcndCLEtBQ0FrMEMsWUFBQTF4QyxLQUFBNnRCLFFBQ0F0VSxPQUFBcTRCLGVBQ0FsekMsV0FDQXl2QixjQUFBTixPQUFBcnVCLEtBQ0F6QyxLQUFBLFNBQUFDLE1BQ0F1YyxPQUFBcTRCLGVBQUEvakIsT0FDQXRVLE9BQUFvNEIsY0FBQTlqQixPQUFBcndCLEtBQ0ErYixPQUFBOFIsUUFBQXJ1QixLQUFBcEQsS0FBQXl4QixRQUNBOVIsT0FBQXhiLE1BQUFmLEtBQUFwRCxLQUFBbUUsTUFDQXdiLE9BQUFqWixZQUFBdEQsS0FBQXBELEtBQUF5MEIsWUFDQTlVLE9BQUEwTyxXQUFBenFCLEtBQ0EsZUFBQStiLE9BQUEwTyxXQUNBMU8sT0FBQTJPLGFBQUEsRUFFQTNPLE9BQUEyTyxhQUFBLElBR0FockIsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQUlBMlosT0FBQXU0QixXQUFBLFNBQUEvd0MsS0FBQVQsYUFDQVMsS0FBQVQsWUFBQUEsWUFDQW1KLFdBQUErQyxXQUFBLFVBQUEsR0FDQS9DLFdBQUErQyxXQUFBLHNCQUFBekwsT0FHQXdZLE9BQUE4cUIsS0FBQSxXQUNBcU4sWUFBQTlVLE1BRUEsSUFBQW1WLFNBQUFMLFlBQUFBLFlBQUF4eUMsT0FBQSxHQUNBbStCLFFBQUEwVSxTQUFBLGdCQUFBLGVBQ0FDLE1BQUFELFNBQUFBLFNBQUF2eUMsSUFBQTZGLGFBQUF2TSxNQUFBMEcsSUFFQWQsV0FBQTIrQixTQUFBMlUsT0FDQWoxQyxLQUFBLFNBQUFDLE1BQ0F1YyxPQUFBcTRCLGVBQUFHLFVBQUEsS0FDQXg0QixPQUFBbzRCLGNBQUFJLFNBQUFBLFNBQUF2MEMsS0FBQSxLQUNBK2IsT0FBQThSLFFBQUEwbUIsU0FDQS8wQyxLQUFBcEQsS0FBQXl4QixRQUNBcnVCLEtBQUFwRCxLQUFBQSxLQUFBMHRCLFlBQ0EvTixPQUFBeGIsTUFBQWcwQyxTQUFBLzBDLEtBQUFwRCxLQUFBbUUsTUFBQSxHQUNBd2IsT0FBQTBPLFdBQUE4cEIsU0FBQUEsU0FBQXYwQyxLQUFBLGNBRUEsZUFBQStiLE9BQUEwTyxXQUNBMU8sT0FBQTJPLGFBQUEsRUFFQTNPLE9BQUEyTyxhQUFBLElBR0FockIsTUFBQSxTQUFBMEMsR0FDQTNFLFFBQUFDLElBQUEwRSxNQUlBMlosT0FBQWtkLE9BQUEsU0FBQTVJLE9BQUEzMEIsUUFDQSxHQUFBMjBCLE9BQUEsQ0FLQSxJQUFBcjBCLFFBQUEsQ0FDQTZGLFFBQUFrYSxPQUFBaTRCLFdBQUFoeUMsSUFDQUMsU0FBQXZHLE9BQUF3ekIsWUFBQWx0QixJQUNBUCxPQUFBNHVCLE9BQUFydUIsS0FHQWQsV0FDQWl1QixXQUFBbnpCLFNBQ0F1RCxLQUFBLFNBQUFDLE1BRUF1YyxPQUFBazRCLFlBQ0FsNEIsT0FBQWs0QixVQUFBbDRCLE9BQUFrNEIsVUFBQTF2QyxPQUNBLFNBQUF4QyxHQUFBLE9BQUFBLEVBQUFDLE1BQUErWixPQUFBaTRCLFdBQUFoeUMsT0FHQWxILGFBQUFvSCxRQUFBLDJCQUNBbWEsRUFBQSxXQUFBeUUsTUFBQSxVQUVBcGhCLE1BQUEsU0FBQTBDLEdBQ0EzRSxRQUFBQyxJQUFBMEUsV0F6R0EsR0NDQTFKLFFBQUFDLE9BQUEsT0FBQSs2QyxVQUFBLGVBQUEsU0FBQTEzQixVQUNBLE9BQUEsU0FBQTQzQixNQUFBYSxTQUFBQyxRQUNBRCxTQUFBRSxhQUFBLENBQ0FqNUMsT0FBQWs0QyxNQUFBYyxPQUFBRSxTQUNBQyxPQUFBLFdBQ0E3NEIsU0FBQSxXQUNBeTRCLFNBQUFLLFFBQUEsVUFDQSxTQVFBcDhDLFFBQUFDLE9BQUEsT0FBQSs2QyxVQUFBLFNBQUEsV0FDQSxNQUFBLENBQ0F0dEMsS0FBQSxTQUFBd3RDLE1BQUFsMEIsUUFBQXEwQixPQUNBcjBCLFFBQUF5UyxLQUFBLFFBQUEsV0FDQTRoQixNQUFBN1osS0FBQTZaLE1BQUFnQixRQUNBaEIsTUFBQWlCLEtBQUEsTUFBQWpCLE1BQUFnQixjQ3JCQSxXQUNBcjhDLFFBQUFDLE9BQUEsT0FBQSs2QyxVQUFBLGlCQUVBLFNBQ0F6bkMsV0FDQS9LLFdBQ0E4YSxTQUNBcGhCLFFBQ0FFLGNBRUEsTUFBQSxDQUNBNjRDLFNBQUEsSUFDQXQ1QyxZQUFBLGdDQUNBdTVDLE1BQUEsQ0FDQXFCLGFBQUEsSUFDQUMsaUJBQUEsSUFDQUMsYUFBQSxJQUNBempDLGFBQUEsS0FFQXRMLEtBQUEsU0FBQTJWLE9BQUErM0IsS0FBQUMsT0E0QkFoNEIsT0FBQTRHLGFBQUEsR0FDQTVHLE9BQUFxNUIsV0FBQSxFQUNBbDBDLFdBQ0EzQyxtQkFDQWdCLEtBQUEsU0FBQUMsTUFDQXVjLE9BQUE0RyxhQUFBbmpCLEtBQUFwRCxLQUFBdWhCLEtBQ0E1QixPQUFBbTVCLGlCQUFBeDhDLFFBQUEySSxLQUFBMGEsT0FBQTRHLGFBQUEsTUFFQWpqQixNQUFBLFNBQUEwQyxNQUdBMlosT0FBQXM1QixRQUFBLEdBQ0FuMEMsV0FDQTFDLHdCQUNBZSxLQUFBLFNBQUFDLE1BQ0F1YyxPQUFBczVCLFFBQUE3MUMsS0FBQXBELEtBQUF1aEIsT0FFQWplLE1BQUEsU0FBQTBDLE1BR0EyWixPQUFBdTVCLGNBQUEsR0FDQXAwQyxXQUNBekMsb0JBQ0FjLEtBQUEsU0FBQUMsTUFDQXVjLE9BQUF1NUIsY0FBQTkxQyxLQUFBcEQsS0FBQXVoQixPQUVBamUsTUFBQSxTQUFBMEMsTUFFQTJaLE9BQUF3NUIscUJBQUEsU0FBQXR0QyxVQUNBZ0UsV0FBQStDLFdBQUEsbUJBQUEvRyxVQUNBeEssUUFBQUMsSUFBQXVLLFVBQ0E4VCxPQUFBeTVCLGVBQUF2dEMsVUFHQThULE9BQUEwNUIsa0JBQUEsU0FBQW4wQyxNQUNBeWEsT0FBQW01QixpQkFBQTV6QyxNQUdBeWEsT0FBQTI1QixzQkFBQSxTQUFBM3lDLEtBQ0FnWixPQUFBbTVCLG1CQUdBejNDLFFBQUFDLElBQUFxZSxPQUFBbzVCLGNBQ0EsR0FBQXB5QyxLQUNBZ1osT0FBQW01QixpQkFBQXg4QyxRQUFBMkksS0FBQTBhLE9BQUE0RyxhQUFBLElBQ0E1RyxPQUFBcTVCLFdBQUFyeUMsSUFBQSxHQUNBLEdBQUFBLEtBQ0FnWixPQUFBbTVCLGlCQUFBeDhDLFFBQUEySSxLQUFBMGEsT0FBQXM1QixRQUFBLElBQ0F0NUIsT0FBQXE1QixXQUFBcnlDLElBQUEsSUFFQWdaLE9BQUFtNUIsaUJBQUF4OEMsUUFBQTJJLEtBQUEwYSxPQUFBdTVCLGNBQUEsSUFDQXY1QixPQUFBcTVCLFdBQUFyeUMsSUFBQSxLQUlBZ1osT0FBQTQ1QixlQUFBLFNBQUF0b0MsUUFBQXdFLFNBQUFqUixNQUNBeWIsRUFBQSxpQkFBQXlFLE1BQUEsUUFDQS9FLE9BQUFySyxhQUFBRSxrQkFBQXZFLFFBQUF3RSxTQUFBalIsV0F4R0EsR0NBQSxXQUVBbEksUUFBQUMsT0FBQSxPQUFBNEwsT0FBQSxrQkFFQSxXQUNBLE9BQUEsU0FBQXF4QyxNQUFBM29CLGdCQUNBLE9BQUEyb0IsTUFHQUEsTUFBQTNvQixlQUZBLEtBU0F2MEIsUUFBQUMsT0FBQSxPQUFBNEwsT0FBQSxXQUVBLFdBQ0EsT0FBQSxTQUFBcXhDLE1BQUFDLE9BQ0EsT0FBQUQsTUFHQXg4QixPQUFBdzhCLE9BQUF0OEIsUUFBQXU4QixPQUZBLEtBU0FuOUMsUUFBQUMsT0FBQSxPQUFBNEwsT0FBQSxpQkFFQSxXQUNBLE9BQUEsU0FBQXF4QyxPQUNBLEdBQUFBLE1BQ0EsTUFBQSxhQUFBenlDLEtBQUF5eUMsTUFBQXhyQyxZQUNBd3JDLE1BQUF4ckMsV0FBQU4sUUFBQSxRQUFBLFFBQ0E4ckMsTUFBQW5iLGFBckNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImFwcFwiLCBbXHJcbiAgXCJ1aS5yb3V0ZXJcIixcclxuICBcInJvdXRlc01vZHVsZVwiLFxyXG4gIFwiTG9jYWxTdG9yYWdlTW9kdWxlXCIsXHJcbiAgXCJ1aUdtYXBnb29nbGUtbWFwc1wiLFxyXG4gIFwibmdQcm9ncmVzc1wiLFxyXG4gIFwidWktbm90aWZpY2F0aW9uXCIsXHJcbiAgXCJuZ01hcFwiLFxyXG4gIFwidWkuc2VsZWN0XCIsXHJcbiAgJ3VpLnNlbGVjdDInLFxyXG4gIFwibmdTYW5pdGl6ZVwiLFxyXG4gIFwiY29sb3IucGlja2VyXCIsXHJcbiAgXCJ1aS5ib290c3RyYXBcIixcclxuICBcImRhdGF0YWJsZXNcIixcclxuICBcIm5nVGFnc0lucHV0XCIsXHJcbiAgXCJuZ0ZpbGVVcGxvYWRcIixcclxuICBcImluZmluaXRlLXNjcm9sbFwiLFxyXG4gIFwidWkudHJlZVwiLFxyXG4gIFwiYnRvcmZzLm11bHRpc2VsZWN0XCIsXHJcbiAgXCJodG1sVG9QZGZTYXZlXCIsXHJcbiAgXCJkbmRMaXN0c1wiLFxyXG4gIFwiYW5ndWxhci5jaGlwc1wiLFxyXG4gIFwidWkuYm9vdHN0cmFwLmNvbnRleHRNZW51XCIsXHJcbiAgXCJjbG91ZGluYXJ5XCJcclxuXSk7XHJcbmFwcC5jb25maWcoY29uZmlnKTtcclxuXHJcbmZ1bmN0aW9uIGNvbmZpZyhcclxuICBOb3RpZmljYXRpb25Qcm92aWRlcixcclxuICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlcixcclxuICB0cmVlQ29uZmlnLFxyXG4gIGNsb3VkaW5hcnlQcm92aWRlclxyXG4pIHtcclxuICAvKiBHb29nbGUgbWFwIGNvbmZpZyAqL1xyXG5cclxuICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlci5jb25maWd1cmUoe1xyXG4gICAga2V5OiBcIkFJemFTeUEzTUlBLW1LV3FfNjBxMUswek9IZ3VyYXhULTFRUHhOVVwiLFxyXG4gICAgdjogXCIzLmV4cFwiLFxyXG4gICAgbGlicmFyaWVzOiBcInBsYWNlcyx3ZWF0aGVyLGdlb21ldHJ5LHZpc3VhbGl6YXRpb25cIlxyXG4gIH0pO1xyXG5cclxuICAvKiBOb3RpZmljYXRpb24gY29uZmlnICovXHJcblxyXG4gIE5vdGlmaWNhdGlvblByb3ZpZGVyLnNldE9wdGlvbnMoe1xyXG4gICAgZGVsYXk6IDMwMDAsXHJcbiAgICBzdGFydFRvcDogMjAsXHJcbiAgICBzdGFydFJpZ2h0OiAxMCxcclxuICAgIHZlcnRpY2FsU3BhY2luZzogMjAsXHJcbiAgICBob3Jpem9udGFsU3BhY2luZzogMjAsXHJcbiAgICBwb3NpdGlvblg6IFwicmlnaHRcIixcclxuICAgIHBvc2l0aW9uWTogXCJ0b3BcIlxyXG4gIH0pO1xyXG5cclxuICAvKiBUcmVlIGNvbmZpZ3VyYXRpb24gKi9cclxuICB0cmVlQ29uZmlnLmRlZmF1bHRDb2xsYXBzZWQgPSB0cnVlO1xyXG5cclxuICAvKiBDbG91ZGluYXJ5IGNvbmZpZyAqL1xyXG4gIGNsb3VkaW5hcnlQcm92aWRlclxyXG4gICAgLnNldChcImNsb3VkX25hbWVcIiwgXCJka3RuaG1zanhcIilcclxuICAgIC5zZXQoXCJ1cGxvYWRfcHJlc2V0XCIsIFwiY2xvdWRlc19mcm9udGVuZFwiKTtcclxufVxyXG4iLCJhbmd1bGFyLm1vZHVsZShcInJvdXRlc01vZHVsZVwiLCBbXSkuY29uZmlnKHJvdXRlQ29uZmlnKTtcclxuXHJcbmZ1bmN0aW9uIHJvdXRlQ29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcmVMb2dpblwiLCB7XHJcbiAgICB1cmw6IFwiL1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3ByZUxvZ2luLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicHJlTG9naW5DdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkYXNoYm9hcmRcIiwge1xyXG4gICAgdXJsOiBcIi9kYXNoYm9hcmRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9kYXNoYm9hcmQuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJkYXNoYm9hcmRDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgLyogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkYXNoYm9hcmRfb2xkXCIsIHtcclxuICAgIHVybDogXCIvZGFzaGJvYXJkX29sZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2Rhc2hib2FyZF9vbGQuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJkYXNoYm9hcmRDdHJsIGFzIHZtXCJcclxuICB9KTsgKi9cclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJjcmVhdGVQcm9qZWN0XCIsIHtcclxuICAgIHVybDogXCIvY3JlYXRlX3Byb2plY3RcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9jcmVhdGVQcm9qZWN0Lmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiY3JlYXRlUHJvamVjdEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInZpc3VhbFBsYW5uZXJcIiwge1xyXG4gICAgdXJsOiBcIi92aXN1YWxfcGxhbm5lclwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3Zpc3VhbFBsYW5uZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJ2aXN1YWxQbGFubmVyQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvamVjdHNcIiwge1xyXG4gICAgdXJsOiBcIi9wcm9qZWN0c1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3Byb2plY3RzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicHJvamVjdEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIm1hdGVyaWFsc1wiLCB7XHJcbiAgICB1cmw6IFwiL21hdGVyaWFsc1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL21hdGVyaWFscy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcIm1hdGVyaWFsQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwibWF0ZXJpYWxWaWV3XCIsIHtcclxuICAgIHVybDogXCIvbWF0ZXJpYWwvOmlkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvbWF0ZXJpYWxWaWV3Lmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwibWF0ZXJpYWxWaWV3Q3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiY29tYm9NYXRlcmlhbFZpZXdcIiwge1xyXG4gICAgdXJsOiBcIi9jb21ib19tYXRlcmlhbC86aWRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9jb21ib01hdGVyaWFsVmlldy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImNvbWJvTWF0ZXJpYWxWaWV3Q3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZXF1aXBtZW50c1wiLCB7XHJcbiAgICB1cmw6IFwiL2VxdWlwbWVudHNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9lcXVpcG1lbnRzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiZXF1aXBtZW50Q3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZmlsZU1hbmFnZXJcIiwge1xyXG4gICAgdXJsOiBcIi9maWxlX21hbmFnZXJcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9maWxlTWFuYWdlci5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImZpbGVNYW5hZ2VyQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicGF5cm9sbFwiLCB7XHJcbiAgICB1cmw6IFwiL3BheXJvbGxcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9wYXlyb2xsLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicGF5cm9sbEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImNhbGN1bGF0aW9uXCIsIHtcclxuICAgIHVybDogXCIvY2FsY3VsYXRpb25cIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9jYWxjdWxhdGlvbi5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImNhbGN1bGF0aW9uQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicmVwb3J0XCIsIHtcclxuICAgIHVybDogXCIvcmVwb3J0XCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvcmVwb3J0cy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInJlcG9ydHNDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJpc3N1ZXNcIiwge1xyXG4gICAgdXJsOiBcIi9pc3N1ZXNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9pc3N1ZXMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJpc3N1ZXNDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImlzc3Vlc0RldGFpbFwiLCB7XHJcbiAgICB1cmw6IFwiL2lzc3Vlc19kZXRhaWxzLzppZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2lzc3Vlc19kZXRhaWxzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiaXNzdWVEZXRhaWxDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJyZXBvcnRzRGV0YWlsXCIsIHtcclxuICAgIHVybDogXCIvcmVwb3J0c19kZXRhaWxzLzppZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3JlcG9ydHNkZXRhaWxzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicmVwb3J0RGV0YWlsQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYmlsbGluZ0FyY2hpdmVcIiwge1xyXG4gICAgdXJsOiBcIi9iaWxsaW5nX2FyY2hpdmVcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9iaWxsaW5nQXJjaGl2ZS5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImJpbGxpbmdBcmNoaXZlQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicmVwb3J0c0xpc3RpbmdcIiwge1xyXG4gICAgdXJsOiBcIi9yZXBvcnRzX2xpc3RpbmdcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9yZXBvcnRzTGlzdGluZy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInJlcG9ydHNMaXN0aW5nQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiM2REYXNoYm9hcmRcIiwge1xyXG4gICAgdXJsOiBcIi8zZF9kYXNoYm9hcmRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy8zZC1kYXNoYm9hcmQuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJfM2REYXNoYm9hcmRDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzZXRQYXNzd29yZFwiLCB7XHJcbiAgICB1cmw6IFwiL3NldF9wYXNzd29yZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3NldF9wYXNzd29yZC5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInNldFBhc3N3b3JkQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzZXR0aW5nXCIsIHtcclxuICAgIHVybDogXCIvc2V0dGluZ1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3NldHRpbmcuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJzZXR0aW5nQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZW1wbG95ZWVzXCIsIHtcclxuICAgIHVybDogXCIvZW1wbG95ZWVzXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvZW1wbG95ZWUuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJlbXBsb3llZXNDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCIzZHZpZXdlclwiLCB7XHJcbiAgICB1cmw6IFwiLzNkdmlld2VyXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvM2Qtdmlld2VyLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiXzNkdmlld2VyQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiY2xpZW50c1wiLCB7XHJcbiAgICB1cmw6IFwiL2NsaWVudHNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9jbGllbnRzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiY2xpZW50c0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInN1cHBsaWVyXCIsIHtcclxuICAgIHVybDogXCIvc3VwcGxpZXJcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9zdXBwbGllci5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInN1cHBsaWVyQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzdXBwbGllckRldGFpbFwiLCB7XHJcbiAgICB1cmw6IFwiL3N1cHBsaWVyX2RldGFpbHMvOmlkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvc3VwcGxpZXJkZXRhaWxzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwic3VwcGxpZXJEZXRhaWxDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzdWJjb250cmFjdG9yXCIsIHtcclxuICAgIHVybDogXCIvc3ViY29udHJhY3RvclwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3N1YmNvbnRyYWN0b3IuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJzdWJjb250cmFjdG9yQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic3ViY29udHJhY3RvckRldGFpbFwiLCB7XHJcbiAgICB1cmw6IFwiL3N1YmNvbnRyYWN0b3JfZGV0YWlscy86aWRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9zdWJjb250cmFjdG9yZGV0YWlscy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInN1YmNvbnRyYWN0b3JEZXRhaWxDdHJsIGFzIHZtXCJcclxuICB9KTtcclxufVxyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJhcGlGYWN0b3J5XCIsIGFwaUZhY3RvcnkpO1xyXG5cclxuICBmdW5jdGlvbiBhcGlGYWN0b3J5KFxyXG4gICAgJGh0dHAsXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgZ2xvYmFscyxcclxuICAgIFVwbG9hZCxcclxuICAgIE5vdGlmaWNhdGlvblxyXG4gICkge1xyXG4gICAgY29uc3QgdXJsID0gXCJodHRwczovL2FwaS5zdGFnaW5nLmNsb3VkZXMuZXVcIixcclxuICAgIC8vICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6NDIwMFwiLFxyXG4gICAgICAvL2NvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDoxMzM3XCIsXHJcbiAgICAgIGhlYWRlcnMgPSAobWV0aG9kLCB0b2tlbikgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBtZXRob2QgPT09IFwiR0VUXCIgPyB1bmRlZmluZWQgOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIFwieC1hY2Nlc3MtdG9rZW5cIjogdG9rZW5cclxuICAgICAgICAgICAgPyBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImFjY2Vzcy10b2tlblwiKVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIHBsYXRmb3JtOiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHNvdXJjZTogXCJ3ZWJcIlxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICBoZWFkZXJzM0QgPSAobWV0aG9kLCB0b2tlbikgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBtZXRob2QgPT09IFwiR0VUXCIgPyB1bmRlZmluZWQgOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIFwieC1hY2Nlc3MtdG9rZW5cIjogdG9rZW5cclxuICAgICAgICAgICAgPyBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImFjY2Vzcy10b2tlblwiKVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIGtleTogXCJmYXZ5QDEyM1wiXHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuICAgICAgeyBwcm9ncmVzcywgdXNlclN0b3JlLCBsb2dvdXQgfSA9IGdsb2JhbHM7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbG9naW46IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hdXRoZW50aWNhdGVcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZm9yZ290UGFzc3dvcmQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9mb3JnZXRQYXNzd29yZFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcmVnaXN0cmF0aW9uOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvZGFzaGJvYXJkUmVnaXN0cmF0aW9uXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9zdWJzY3JpYmVcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldENvbXBhbnlCeUlkOiBmdW5jdGlvbihjb21wYW55SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiBgJHt1cmx9L2FwaS9nZXRDb21wYW55QnlJZC8ke2NvbXBhbnlJZH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxVc2VyczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldGFkbWludXNlcnNcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBsaXN0QWxsQ291bnRyeUNvZGUgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgLy8gICAkcm9vdFNjb3BlLmFwaVdhaXQgPSB0cnVlO1xyXG4gICAgICAvLyAgICRodHRwXHJcbiAgICAgIC8vICAgICAuZ2V0KFwiYXBwL2RhdGEvY29tbW9uLWFwaS9Db3VudHJ5Q29kZS5qc29uXCIsIHZtLmdldENvbmZpZygpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgLy8gICAgICAgJHJvb3RTY29wZS5hcGlXYWl0ID0gZmFsc2U7XHJcbiAgICAgIC8vICAgICAgIGNiKHJlcy5kYXRhKTtcclxuICAgICAgLy8gICAgIH0sXHJcbiAgICAgIC8vICAgICBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIC8vICAgICAgICRyb290U2NvcGUuYXBpV2FpdCA9IGZhbHNlO1xyXG4gICAgICAvLyAgICAgICBpZiAoZXJyLnN0YXR1cykge1xyXG4gICAgICAvLyAgICAgICAgIHZtLnNob3dBbGVydCh0aGlzLCBlcnIpO1xyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgIC8vICAgICAgIGVsc2Uge1xyXG4gICAgICAvLyAgICAgICAgIGNiKGVyci5kYXRhKTtcclxuICAgICAgLy8gICAgICAgfVxyXG4gICAgICAvLyAgICAgfSlcclxuICAgICAgLy99LFxyXG5cclxuICAgICAgbGlzdEFsbFByb2plY3RzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbFByb2plY3RzXCIgKyBxdWVyeSxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBsaXN0QWxsQ2xpZW50czogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICAvLyBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAvLyAgICRodHRwKHtcclxuICAgICAgICAvLyAgICAgdXJsOiB1cmwgKyBcIlwiLFxyXG4gICAgICAgIC8vICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgLy8gICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAvLyAgIH0pXHJcbiAgICAgICAgLy8gKTtcclxuICAgICAgICAvLyByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RBbGxDbGllbnRzXCIgKyBxdWVyeSxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBsaXN0QWxsUm9vZmVyczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RBbGxSb29mZXJzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlUHJvamVjdDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jcmVhdGVQcm9qZWN0XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjcmVhdGVJc3N1ZTogZnVuY3Rpb24oaXNzdWVvYmopIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImluIGNyZWF0ZSBpc3N1ZSBhcGlcIixpc3N1ZW9iaik7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAvLyBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jcmVhdGVJc3N1ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBpc3N1ZW9iaixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlSXNzdWVTM1VwbG9hZDogZnVuY3Rpb24oaXNzdWVvYmopIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jcmVhdGVJc3N1ZUZvclMzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGlzc3Vlb2JqLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0SXNzdWVCeUlkOiBmdW5jdGlvbihpc3N1ZUlEKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvZ2V0SXNzdWVCeUlkLyR7aXNzdWVJRH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHVwZGF0ZUlzc3VlOiBmdW5jdGlvbihpc3N1ZW9iaiwgaWQpIHtcclxuXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdXBkYXRlSXNzdWUvXCIgKyBpZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBpc3N1ZW9iaixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0UHJvamVjdFJvb2ZQbGFuczogZnVuY3Rpb24ocHJvamVjdElkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldFByb2plY3RSb29mUGxhbnMvXCIgKyBwcm9qZWN0SWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2F2ZVJvb2ZQbGFuOiBmdW5jdGlvbihyb29mUGxhbklkLCBwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3NhdmVSb29mUGxhbi9cIiArIHJvb2ZQbGFuSWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlTWF0ZXJpYWxzOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY3JlYXRlTWF0ZXJpYWxcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZUVxdWlwbWVudDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZUVxdWlwbWVudFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbE1hdGVyaWFsczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RBbGxNYXRlcmlhbHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxDb21ib01hdGVyaWFsczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RDb21ib01hdGVyaWFsc1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbEVxdWlwbWVudHM6IGZ1bmN0aW9uKHF1ZXJ5T2JqKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gIXF1ZXJ5T2JqIC8vIGJ1aWxkaW5nIHF1ZXJ5IHN0cmluZ1xyXG4gICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKHF1ZXJ5T2JqKS5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBzdHIgPSBgJHt2fT0ke3F1ZXJ5T2JqW3ZdfSZgO1xyXG4gICAgICAgICAgICAgIGFjYyArPSBzdHI7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgXCI/XCIpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuc2xpY2UoMCwgLTEpOyAvLyByZW1vdmUgdHJhaWxpbmcgJlxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0QWxsRXF1aXBtZW50c1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlTWF0ZXJpYWxCeUlkOiBmdW5jdGlvbihpZCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3VwZGF0ZU1hdGVyaWFsQnlJZC9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldE1hdGVyaWFsQnlJZDogZnVuY3Rpb24obWF0ZXJpYWxJRCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldE1hdGVyaWFsQnlJZC8ke21hdGVyaWFsSUR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRDb21ib01hdGVyaWFsQnlJZDogZnVuY3Rpb24oY29tYm9JZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldENvbWJvTWF0ZXJpYWxCeUlkLyR7Y29tYm9JZH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlQ29tYm9NYXRlcmlhbDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvY3JlYXRlQ29tYm9NYXRlcmlhbGAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZUNvbWJvTWF0ZXJpYWxMaXN0OiBmdW5jdGlvbihpZCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL3VwZGF0ZUNvbWJvTWF0ZXJpYWxMaXN0LyR7aWR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlQ29tYm9NYXRlcmlhbDogZnVuY3Rpb24oaWQsIHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL3VwZGF0ZUNvbWJvTWF0ZXJpYWwvJHtpZH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNob3dDb252ZXJzaW9uUmF0ZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9zaG93Q29udmVyc2lvblJhdGVcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIGdldEN1cnJlbmN5QmFzZWRPbkNhbGN1bGF0aW9uRGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgIC8vICAgICAkaHR0cCh7XHJcbiAgICAgIC8vICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEN1cnJlbmN5QmFzZWRPbkNhbGN1bGF0aW9uRGF0ZVwiLFxyXG4gICAgICAvLyAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAvLyAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgLy8gICAgICAgZGF0YToge1xyXG4gICAgICAvLyAgICAgICAgIGRhdGU6IG5ldyBEYXRlKClcclxuICAgICAgLy8gICAgICAgfVxyXG4gICAgICAvLyAgICAgfSlcclxuICAgICAgLy8gICApO1xyXG4gICAgICAvLyAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAvLyB9LFxyXG4gICAgICBnZXRNYXRlcmlhbEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldE1hdGVyaWFsQnlJZC9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgLyogRGVjb3JhdGUgYWpheCBjYWxscyB3aXRoIHByb2dyZXNzIGJhciAqL1xyXG4gICAgICBwcm9ncmVzc2lmeTogcHJvbWlzZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIHByb2dyZXNzLnN0YXJ0KCk7XHJcbiAgICAgICAgICBwcm9taXNlXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIHByb2dyZXNzLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbElzc3VlczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RBbGxJc3N1ZXNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldElzc3Vlc0xpc3Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9hbGxJc3N1ZXNcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGlzVG9rZW5WYWxpZDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2lzVG9rZW5WYWxpZFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0UGFzc3dvcmQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9yZXNldFBhc3N3b3JkQWRtaW5cIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVSb2xlQmFzZWRBY2Nlc3M6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdXBkYXRlUm9sZUJhc2VkQWNjZXNzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogRmlsZSBNYW5hZ2VyIEFQSXMgKi9cclxuICAgICAgYWRkSGllcmFyY2h5OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZEhpZXJhcmNoeVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRIaWVyYXJjaHlDaGlsZHJlbjogZnVuY3Rpb24oaGllcmFyY2h5SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0SGllcmFyY2h5Q2hpbGRyZW4vXCIgKyBoaWVyYXJjaHlJZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEhpZXJhcmNoeTogZnVuY3Rpb24ocHJvamVjdElkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEhpZXJhcmNoeS9cIiArIHByb2plY3RJZCArIFwiP2RlcHRoPTJcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIHZpZXdQcm9qZWN0QXNzZXRzOiBmdW5jdGlvbihwcm9qZWN0SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdmlld1Byb2plY3RBc3NldHMvXCIgKyBwcm9qZWN0SWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgYWRkRmlsZVRvSGllcmFyY2h5OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZEZpbGVUb0hpZXJhcmNoeVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHZpZXdIaWVyYXJjaHk6IGZ1bmN0aW9uKGhpZXJhcmNoeUlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3ZpZXdIaWVyYXJjaHkvXCIgKyBoaWVyYXJjaHlJZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjbG9uZUFzc2V0czogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jbG9uZUFzc2V0c1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgdXBsb2FkRmlsZUluRmlsZU1hbmFnZXI6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGxvYWRGaWxlSW5GaWxlTWFuYWdlclwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZHJhZ01vdmVOb2RlczogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9kcmFnTW92ZU5vZGVzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIG1vdmVBc3NldHM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbW92ZUFzc2V0c1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkZWxldGVBc3NldHM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZGVsZXRlQXNzZXRzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgLy8zRC1zaXRlIHJlZGlyZWN0aW9uIGFwaSBjYWxsXHJcblxyXG4gICAgICBnZXQzRFBhZ2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCB0b2tlbiA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpO1xyXG5cclxuICAgICAgICB2YXIgRGF0YTNEID0ge1xyXG4gICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlbixcclxuICAgICAgICAgIHByb2plY3RJZDogXCI1YjY5N2MwMzBhN2U5NzA1NjgzNWE5NGFcIlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkZXMtM2QuY29tXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IERhdGEzRFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy9jcmVhdGUgbmV3IGNsaWVudFxyXG4gICAgICBjcmVhdGVDbGllbnQ6IGZ1bmN0aW9uKGNsaWVudCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xpZW50IGluIGFwaSBmYWN0b3J5XCIsIGNsaWVudCk7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZUNsaWVudFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogY2xpZW50XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzYXZlSGllcmFyY2h5VHJlZTogZnVuY3Rpb24ocHJvamVjdElkLCBuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3NhdmVIaWVyYXJjaHlUcmVlL1wiICsgcHJvamVjdElkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBuYW1lXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRTeXN0ZW1UYWc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRDb21ib1N5c3RlbVRhZ1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgYm9va01hcmtQcm9qZWN0OiBmdW5jdGlvbihpZCwgYWRkZWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYm9va01hcmtQcm9qZWN0XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIHByb2plY3RJZDogaWQsXHJcbiAgICAgICAgICAgICAgYWRkZWQ6IGFkZGVkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEJvb2ttYXJrczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEJvb2ttYXJrc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0SGllcmFyY2h5VGVtcGxhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRIaWVyYXJjaHlUZW1wbGF0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxvYWRIaWVyYXJjaHlUcmVlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xvYWRIaWVyYXJjaHlUcmVlXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIG5ld0ZpbGVVcGxvYWQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbmV3RmlsZVVwbG9hZFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2hvd1Byb2plY3RGaWxlczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3Nob3dQcm9qZWN0RmlsZXNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgY2hhbmdlUHJvamVjdFRlbXBsYXRlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NoYW5nZVByb2plY3RUZW1wbGF0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBzaG93UHJvamVjdEZpbGVzOiBmdW5jdGlvbihpZCwgbGltaXQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvc2hvd1Byb2plY3RGaWxlcy9cIiArIGlkICsgXCI/bGltaXQ9XCIgKyBsaW1pdCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldFByb2plY3RCeUlkOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRQcm9qZWN0QnlJZC9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgY2hlY2tBc3NldER1cGxpY2F0ZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jaGVja0Fzc2V0RHVwbGljYXRlXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZU5ld1N1cHBsaWVyOiBmdW5jdGlvbihzdXBwbGllcikge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZHN1cHBsaWVyXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHN1cHBsaWVyLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0QWxsU3VwcGxpZXJzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdGFsbHN1cHBsaWVyc1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICBcclxuXHJcbiAgICAgIGdldEFsbFN1YmNvbnRyYWN0b3JzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdGFsbHN1YmNvbnRyYWN0b3JcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGFkZFByb2plY3RSb29mUGxhbjogZnVuY3Rpb24ocGF5bG9hZCwgcHJvamVjdElkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZFByb2plY3RSb29mUGxhblwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG5cclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdlbmVyYXRlUm9vZlBsYW5zOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dlbmVyYXRlUm9vZlBsYW5zXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBhZGRSb29mUGxhbnNGcm9tQXNzZXQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYWRkUm9vZlBsYW5zRnJvbUFzc2V0XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRTdXBwbGllckJ5SWQ6IGZ1bmN0aW9uKHN1cHBsaWVySUQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiBgJHt1cmx9L2FwaS9nZXRzdXBwbGllci8ke3N1cHBsaWVySUR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgIFxyXG5cclxuICAgICBcclxuICAgXHJcbiAgICBjcmVhdGVOZXdTdWJjb250cmFjdG9yOmZ1bmN0aW9uKHN1YmNvbnRyYWN0b3Ipe1xyXG4gICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZHN1YmNvbnRyYWN0b3JcIixcclxuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICBkYXRhOiBzdWJjb250cmFjdG9yLFxyXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgIH0sXHJcbiAgIFxyXG5cclxuICAgIFxyXG5cclxuICBnZXRTdWJjb250cmFjdG9yQnlJZDogZnVuY3Rpb24oc3VwcGxpZXJJRCkge1xyXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICRodHRwKHtcclxuICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldHN1YmNvbnRyYWN0b3IvJHtzdXBwbGllcklEfWAsXHJcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgICByZXR1cm4gcHJvbWlzZTtcclxuICB9LFxyXG5cclxuICBpc3N1ZUltYWdlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvaXNzdWVJbWFnZVwiLFxyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH0sXHJcblxyXG4gIG5ld0lzc3VlczNGaWxlVXBsb2FkOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIklOIFMzIElTU1VFIEZVTkNUSU9OXCIpO1xyXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICRodHRwKHtcclxuICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9uZXdJc3N1ZXMzRmlsZVVwbG9hZFwiLFxyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH0sXHJcblxyXG4gIHBvc3RDb21tZW50Rm9ySXNzdWU6ZnVuY3Rpb24oaWQsY29tbWVudCl7XHJcbiAgICBjb25zb2xlLmxvZyhcIkNvbW1lbnQ6IFwiLGNvbW1lbnQpO1xyXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICRodHRwKHtcclxuICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9hZGRjb21tZW50L1wiICsgaWQsXHJcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgIGRhdGE6IGNvbW1lbnQsXHJcbiAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKVxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH0sXHJcblxyXG4gIHNhdmVMb2NhbElzc3VlQXNzZXQ6IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgdXJsOiBgJHt1cmx9L2FwaS9sb2NhbEZpbGVJbWFnZXNgLFxyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgZGF0YTogZmlsZXNcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgICByZXR1cm4gcHJvbWlzZTtcclxuICB9LFxyXG5cclxuICBwb3N0TWFya0ltZzpmdW5jdGlvbihkdCl7XHJcbiAgICBjb25zb2xlLmxvZyhcImRhdGE6IFwiLGR0KTtcclxuICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICB1cmw6IGAke3VybH0vYXBpL3Bvc3RtYXJraW5nc2AsXHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICBkYXRhOiBkdFxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH0sXHJcblxyXG4gIHJlT3Blbklzc3VlU3RhdHVzVXBkYXRlOmZ1bmN0aW9uKGlkKXtcclxuICAgIHZhciBJc3N1ZXN0YXR1c09iaj17Y29tcGxldGlvblN0YXR1czpcIk9QRU5cIn1cclxuICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAkaHR0cCh7XHJcbiAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvcmVvcGVuU3RhdHVzL1wiICsgaWQsXHJcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgIGRhdGE6IElzc3Vlc3RhdHVzT2JqLFxyXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSlcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgICByZXR1cm4gcHJvbWlzZTtcclxuICB9LFxyXG4gICAgIFxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcImF1dGhGYWN0b3J5XCIsIGF1dGhGYWN0b3J5KTtcclxuXHJcbiAgZnVuY3Rpb24gYXV0aEZhY3RvcnkoJGh0dHAsICRsb2NhdGlvbiwgbG9jYWxTdG9yYWdlU2VydmljZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2hlY2tVc2VyOiAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImFjY2Vzcy10b2tlblwiKTtcclxuICAgICAgICBpZiAodG9rZW4gJiYgdG9rZW4gIT0gXCJcIikge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGNoZWNrUHJpdmlsZWdlOiAodHlwZSwgc3ViVHlwZSkgPT4ge1xyXG4gICAgICAgIGxldCB7IHByaXZpbGVnZSB9ID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJ1c2VyRGF0YVwiKTtcclxuICAgICAgICBsZXQgeyBwcml2aWxlZ2VzIH0gPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImNvbXBhbnlEYXRhXCIpO1xyXG5cclxuICAgICAgICBpZiAocHJpdmlsZWdlIDw9IHByaXZpbGVnZXNbdHlwZV1bc3ViVHlwZV0pIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiZmlsZU1hbmFnZXJGYWN0b3J5XCIsIGZpbGVNYW5hZ2VyRmFjdG9yeSk7XHJcblxyXG4gIGZ1bmN0aW9uIGZpbGVNYW5hZ2VyRmFjdG9yeShhcGlGYWN0b3J5LCBOb3RpZmljYXRpb24pIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNsaXBCb2FyZDogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8qICAqL1xyXG4gICAgICAgIGxldCBpdGVtcyA9IHtcclxuICAgICAgICAgIHR5cGU6IDAsXHJcbiAgICAgICAgICBkYXRhOiBbXSxcclxuICAgICAgICAgIHNvdXJjZTogbnVsbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGNvcHk6IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbXMuc291cmNlID0gbnVsbDtcclxuICAgICAgICAgICAgaXRlbXMudHlwZSA9IDA7XHJcbiAgICAgICAgICAgIGl0ZW1zLmRhdGEgPSBbaXRlbV07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY3V0OiBmdW5jdGlvbihpdGVtLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgaXRlbXMuc291cmNlID0gc291cmNlO1xyXG4gICAgICAgICAgICBpdGVtcy50eXBlID0gMTtcclxuICAgICAgICAgICAgaXRlbXMuZGF0YSA9IFtpdGVtXTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwYXN0ZTogZnVuY3Rpb24oZGVzdElkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKGl0ZW1zLmRhdGEubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLndhcm5pbmcoXCJDbGlwYm9hcmQgaXMgZW1wdHlcIik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IGFwaVR5cGUgPSBpdGVtcy50eXBlID09PSAwID8gXCJjbG9uZUFzc2V0c1wiIDogXCJtb3ZlQXNzZXRzXCI7XHJcblxyXG4gICAgICAgICAgICAgIC8qIENoYW5nZSBwYXlsb2FkIGRlcGVuZGluZyB1cG9uIGN1dCBvciBjb3B5ICovXHJcbiAgICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgICAgICBhc3NldElkOiBpdGVtcy5kYXRhLm1hcCh4ID0+IHguX2lkKSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBpdGVtcy50eXBlID09PSAwID8gdW5kZWZpbmVkIDogaXRlbXMuc291cmNlLFxyXG4gICAgICAgICAgICAgICAgZGVzdElkOiBpdGVtcy50eXBlID09PSAwID8gdW5kZWZpbmVkIDogZGVzdElkLFxyXG4gICAgICAgICAgICAgICAgaGllcmFyY2h5SWQ6IGl0ZW1zLnR5cGUgPT09IDAgPyBkZXN0SWQgOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICBhcGlGYWN0b3J5W2FwaVR5cGVdKHBheWxvYWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAvKiBDbGVhciBjbGlwYm9hcmQgYWZ0ZXIgcGFzdGluZyAqL1xyXG4gICAgICAgICAgICAgICAgICBpdGVtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogbnVsbFxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgIHJlamVjdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKSxcclxuXHJcbiAgICAgIG5hdmlnYXRpb25TdGFjazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IHN0YWNrID0gW10sXHJcbiAgICAgICAgICBoZWFkID0gc3RhY2subGVuZ3RoIC0gMSxcclxuICAgICAgICAgIC8vIFRPRE86IG5vIGFjdGlvbiBoYW5kbGVyIHJlcXVpcmVkIGZvciBub3dcclxuICAgICAgICAgIGF0dGFjaEhhbmRsZXIgPSBhY3Rpb24gPT4ge1xyXG4gICAgICAgICAgICBsZXQgb2JqID0ge307XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBwdXNoOiBpdGVtID0+IHtcclxuICAgICAgICAgICAgc3RhY2suc3BsaWNlKGhlYWQgKyAxLCBzdGFjay5sZW5ndGgsIGl0ZW0pO1xyXG4gICAgICAgICAgICBoZWFkID0gc3RhY2subGVuZ3RoIC0gMTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmb3J3YXJkOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBvYmo7XHJcbiAgICAgICAgICAgIGlmICghc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgLyogSWdub3JlIGZvciBlbXB0eSBzdGFjayAqL1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGVhZCA9PT0gc3RhY2subGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgIC8qIElnbm9yZSBmb3IgZW5kIG9mIHRoZSBzdGFjayAqL1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaGVhZCsrO1xyXG4gICAgICAgICAgICBpZiAoc3RhY2tbaGVhZF0pIHtcclxuICAgICAgICAgICAgICBzdGFja1toZWFkXS50b2dnbGUoKTtcclxuICAgICAgICAgICAgICBvYmogPSBzdGFja1toZWFkXTtcclxuICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYmFja3dhcmQ6ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IG9iajtcclxuICAgICAgICAgICAgaWYgKCFzdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAvKiBJZ25vcmUgZm9yIGVtcHR5IHN0YWNrICovXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaGVhZCA8IDApIHtcclxuICAgICAgICAgICAgICAvKiBJZ25vcmUgZm9yIGVuZCBvZiB0aGUgc3RhY2sgKi9cclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YWNrW2hlYWRdKSB7XHJcbiAgICAgICAgICAgICAgc3RhY2tbaGVhZF0udG9nZ2xlKCk7XHJcbiAgICAgICAgICAgICAgaGVhZC0tO1xyXG4gICAgICAgICAgICAgIG9iaiA9IHN0YWNrW2hlYWRdO1xyXG4gICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgYnJlYWRDcnVtYjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IGJyZWFkQ3J1bWJzID0gW107XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldDogdmFsID0+IHtcclxuICAgICAgICAgICAgYnJlYWRDcnVtYnMucHVzaCh2YWwpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYnJlYWRDcnVtYnM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsZU9ialxyXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgeyBzMzogW2ZpbGVzXSwgY2xvdWRpbmFyeTogW2ZpbGVzXSB9XHJcbiAgICAgICAqL1xyXG5cclxuICAgICAgc3BsaXREZXN0aW5hdGlvbjogZmlsZXNBcnJheSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGZpbGVzQXJyYXkucmVkdWNlKFxyXG4gICAgICAgICAgKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgeC5zaXplIDwgNTAwMDAwMDAgJiZcclxuICAgICAgICAgICAgICAoeC50eXBlID09PSBcImFwcGxpY2F0aW9uL3BkZlwiIHx8IC9pbWFnZSovLnRlc3QoeC50eXBlKSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgYWNjLmNsb3VkaW5hcnkucHVzaCh4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvKiBJZiBmaWxlIHNpemUgaXMgZ3JlYXRlciB0aGFuIDUwbWIgYW5kIHRoZSBmaWxlIGlzIGEgcGRmLCBnZW5lcmF0ZSBhIHRodW1ibmFpbCAqL1xyXG4gICAgICAgICAgICAgIGFjYy5zMy5wdXNoKHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgeyBzMzogW10sIGNsb3VkaW5hcnk6IFtdIH1cclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmaWxlXHJcbiAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9ICAxIC0gZGlyZWN0IHMzLCAyIC0gczMgLT4gY2xvdWRpbmFyeVxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIHJlc29sdmVEZXN0VHlwZTogZmlsZSA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgZmlsZS5zaXplIDwgNTAwMDAwMDAgJiZcclxuICAgICAgICAgIChmaWxlLnR5cGUgPT09IFwiYXBwbGljYXRpb24vcGRmXCIgfHwgL2ltYWdlKi8udGVzdChmaWxlLnR5cGUpKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmV0dXJuIDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGZpbGVzXHJcbiAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICAgKi9cclxuICAgICAgY2hlY2tVcGxvYWRDb21wbGV0aW9uOiBmaWxlcyA9PiB7XHJcbiAgICAgICAgbGV0IGJvb2wgPSB0cnVlO1xyXG4gICAgICAgIGZpbGVzLnMzLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICBpZiAoIXguY29tcGxldGVkICYmICF4LmFib3J0ZWQgJiYgYm9vbCkge1xyXG4gICAgICAgICAgICBib29sID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZmlsZXMuY2xvdWRpbmFyeS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgaWYgKCF4LmNvbXBsZXRlZCAmJiAheC5hYm9ydGVkICYmIGJvb2wpIHtcclxuICAgICAgICAgICAgYm9vbCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBib29sO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGZpbGVzIC0gQXJyYXkgb2YgZmlsZVxyXG4gICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBSZXNvbHZpbmcgd2lsbCBmZXRjaCBhbiBvYmplY3Qgb2YgZmlsZXMgY2F0ZWdvcml6ZWQgaW50byB0d28gYXJyYXlzXHJcbiAgICAgICAqL1xyXG5cclxuICAgICAgY2hlY2tEdXBsaWNhdGVGaWxlczogKGZpbGVzLCBkZXN0SWQpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAuY2hlY2tBc3NldER1cGxpY2F0ZSh7XHJcbiAgICAgICAgICAgICAgYXNzZXROYW1lczogZmlsZXMubWFwKHggPT4geC5uYW1lKSxcclxuICAgICAgICAgICAgICBkZXN0SWRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgLyogR2V0IGR1cGxpY2F0ZSBmaWxlIG9iaiAqL1xyXG4gICAgICAgICAgICAgIGxldCBkdXBsaWNhdGVGaWxlcyA9IGZpbGVzXHJcbiAgICAgICAgICAgICAgICAubWFwKHggPT4ge1xyXG4gICAgICAgICAgICAgICAgICB4LmFjdGlvbiA9IFwicmVuYW1lXCI7XHJcbiAgICAgICAgICAgICAgICAgIHguYXNzZXROYW1lID0geC5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAucmVkdWNlKFxyXG4gICAgICAgICAgICAgICAgICAoYWNjLCB4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcC5kYXRhLmR1cGxpY2F0ZXMuaW5kZXhPZih4Lm5hbWUpID09PSAtMVxyXG4gICAgICAgICAgICAgICAgICAgICAgPyBhY2MudXBsb2FkRmlsZXMucHVzaCh4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgOiBhY2MuZHVwbGljYXRlcy5wdXNoKHgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICB7IGR1cGxpY2F0ZXM6IFtdLCB1cGxvYWRGaWxlczogW10gfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShkdXBsaWNhdGVGaWxlcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGZpbGVzIC0gQXJyYXkgb2YgZmlsZVxyXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAgICovXHJcblxyXG4gICAgICBjaGVja05hbWVDaGFuZ2U6IGZpbGVzID0+IHtcclxuICAgICAgICByZXR1cm4gZmlsZXMuZmlsdGVyKHggPT4geC5hY3Rpb24gPT09IFwicmVuYW1lXCIpLnJlZHVjZSgoYWNjLCB4KSA9PiB7XHJcbiAgICAgICAgICBhY2MgPSBhY2MgfHwgeC5hc3NldE5hbWUgPT09IHgubmFtZTtcclxuICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlTmFtZVxyXG4gICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIGdlbmVyYXRlVmVyc2lvbjogZmlsZU5hbWUgPT4ge1xyXG4gICAgICAgIHJldHVybiBgJHtmaWxlTmFtZX0gKHYke0RhdGUubm93KCl9KWA7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsZVxyXG4gICAgICAgKi9cclxuICAgICAgZ2VuZXJhdGVUaHVtYm5haWw6IGZpbGUgPT4ge1xyXG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHBkZmpzTGliLmdldERvY3VtZW50KHsgdXJsOiByZWFkZXIucmVzdWx0IH0pLnRoZW4oZG9jID0+IHtcclxuICAgICAgICAgICAgZG9jLmdldFBhZ2UoMSkudGhlbihwYWdlID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInBhZ2UhISFcIiwgcGFnZSk7XHJcbiAgICAgICAgICAgICAgdmFyIHNjYWxlID0gMTtcclxuICAgICAgICAgICAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHNjYWxlKTtcclxuICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHZpZXdwb3J0LmhlaWdodDtcclxuICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgdmFyIHRhc2sgPSBwYWdlLnJlbmRlcih7XHJcbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0OiBjb250ZXh0LFxyXG4gICAgICAgICAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgdGFzay5wcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IFwicm9vZnBsYW5faW1hZ2VfXCIgKyBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgbGluay5ocmVmID0gZGF0YVVSTDtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICB9LFxyXG4gICAgICBzcGxpdEZpbGVEZXN0OiBmaWxlc0FycmF5ID0+IHtcclxuICAgICAgICByZXR1cm4gZmlsZXNBcnJheS5yZWR1Y2UoXHJcbiAgICAgICAgICAoYWNjLCB4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICB4LmZpbGUuc2l6ZSA8IDIwMDAwMDAwICYmXHJcbiAgICAgICAgICAgICAgKHguZmlsZS50eXBlID09PSBcImFwcGxpY2F0aW9uL3BkZlwiIHx8IC9pbWFnZSovLnRlc3QoeC5maWxlLnR5cGUpKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBhY2MuY2xvdWRpbmFyeS5wdXNoKHgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFjYy5zMy5wdXNoKHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgeyBzMzogW10sIGNsb3VkaW5hcnk6IFtdIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiZ2xvYmFsc1wiLCBnbG9iYWxzKTtcclxuXHJcbiAgZnVuY3Rpb24gZ2xvYmFscyhcclxuICAgICRodHRwLFxyXG4gICAgJHN0YXRlLFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgbmdQcm9ncmVzc0ZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlXHJcbiAgKSB7XHJcbiAgICAvKiBUbyBhdm9pZCByZWR1bmRhbnQgZnVuY3Rpb24gY2FsbHMgb2YgdGhlIHNhbWUgdHlwZSAoRWcuIG11bHRpcGxlIHRva2VuIGV4cGlyZWQgbWVzc2FnZXMpICovXHJcbiAgICBsZXQgdGhyb3R0bGVyID0gKCgpID0+IHtcclxuICAgICAgbGV0IGVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICByZXR1cm4gZm4gPT4ge1xyXG4gICAgICAgIGlmIChlbmFibGVkKSB7XHJcbiAgICAgICAgICBlbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGZuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwcm9ncmVzczogKCgpID0+IHtcclxuICAgICAgICBsZXQgcHJvZ3Jlc3NiYXIgPSBuZ1Byb2dyZXNzRmFjdG9yeS5jcmVhdGVJbnN0YW5jZSgpO1xyXG4gICAgICAgIHJldHVybiBwcm9ncmVzc2JhcjtcclxuICAgICAgfSkoKSxcclxuICAgICAgbG9nb3V0OiAoKSA9PiB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmUoXCJhY2Nlc3MtdG9rZW5cIik7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmUoXCJ1c2VyRGF0YVwiKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcImNvbXBhbnlEYXRhXCIpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwiY3VycmVudFByb2plY3RcIiwgbnVsbCk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmUoXCJpbnZlbnRvcnlTdGF0ZVwiKTtcclxuXHJcbiAgICAgICAgJHN0YXRlLmdvKFwicHJlTG9naW5cIik7XHJcbiAgICAgICAgdGhyb3R0bGVyKCgpID0+IE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBsb2dpblwiKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qIEFjY2VzcyB1c2VyIGluZm8gZ2xvYmFsbHkgKi9cclxuICAgICAgdXNlclN0b3JlOiAoKCkgPT4ge1xyXG4gICAgICAgIGxldCB1c2VyRGF0YSA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwidXNlckRhdGFcIikgfHwge307XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZXQ6IGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyUm9sZXMgPSBbXHJcbiAgICAgICAgICAgICAgXCJhZG1pblwiLFxyXG4gICAgICAgICAgICAgIFwibWFuYWdlclwiLFxyXG4gICAgICAgICAgICAgIFwic3ViX2NvbnRyYWN0b3JcIixcclxuICAgICAgICAgICAgICBcInRlYW1fbGVhZGVyXCIsXHJcbiAgICAgICAgICAgICAgXCJ3b3JrZXJcIlxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBkYXRhLnByaXZpbGVnZSA9IHVzZXJSb2xlcy5pbmRleE9mKGRhdGEuZGVzaWduYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJ1c2VyRGF0YVwiLCBkYXRhKTtcclxuICAgICAgICAgICAgdXNlckRhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICByZXR1cm4gdXNlckRhdGE7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0OiAoKSA9PiB1c2VyRGF0YSxcclxuICAgICAgICAgIHJlc2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UucmVtb3ZlKFwidXNlckRhdGFcIik7XHJcbiAgICAgICAgICAgIHVzZXJEYXRhID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKSxcclxuXHJcbiAgICAgIGNvbXBhbnlTdG9yZTogKCgpID0+IHtcclxuICAgICAgICBsZXQgY29tcGFueURhdGEgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImNvbXBhbnlEYXRhXCIpIHx8IG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZXQ6IGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImNvbXBhbnlEYXRhXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICBjb21wYW55RGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wYW55RGF0YTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXQ6ICgpID0+IGNvbXBhbnlEYXRhLFxyXG4gICAgICAgICAgLyogQ2FsbCByZWZldGNoIHdoZW4gY29tcGFueSBkZXBlbmRhbnQgZGF0YSBpcyBtb2RpZmllZCAqL1xyXG4gICAgICAgICAgcmVmZXRjaDogaWQgPT4ge1xyXG4gICAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIFwieC1hY2Nlc3MtdG9rZW5cIjogbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJhY2Nlc3MtdG9rZW5cIiksXHJcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybTogSlNPTi5zdHJpbmdpZnkoeyBzb3VyY2U6IFwid2ViXCIgfSlcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHVybDogYGh0dHBzOi8vYXBpLnN0YWdpbmcuY2xvdWRlcy5ldS9hcGkvZ2V0Q29tcGFueUJ5SWQvJHtpZH1gXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImNvbXBhbnlEYXRhXCIsIHJlc3AuZGF0YSk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZXNldDogKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcImNvbXBhbnlEYXRhXCIpO1xyXG4gICAgICAgICAgICBjb21wYW55RGF0YSA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pKCksXHJcblxyXG4gICAgICBwcm9qZWN0U3RvcmU6ICgoKSA9PiB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRQcm9qZWN0ID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJjdXJyZW50UHJvamVjdFwiKSB8fCBudWxsO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZXQ6IGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImN1cnJlbnRQcm9qZWN0XCIsIGRhdGEpO1xyXG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdCA9IGRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50UHJvamVjdDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXQ6ICgpID0+IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiY3VycmVudFByb2plY3RcIiksXHJcbiAgICAgICAgICByZXNldDogKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcImN1cnJlbnRQcm9qZWN0XCIpO1xyXG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdCA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKSxcclxuXHJcbiAgICAgIGludmVudG9yeVN0YXRlOiAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHN0YXRlID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJpbnZlbnRvcnlTdGF0ZVwiKSB8fCB7XHJcbiAgICAgICAgICB0YWI6IDAsXHJcbiAgICAgICAgICBzZWFyY2hUZXh0OiBcIlwiLFxyXG4gICAgICAgICAgcGFnZToge1xyXG4gICAgICAgICAgICBtYXRlcmlhbDogMSxcclxuICAgICAgICAgICAgY29tYm86IDFcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc2V0UGFnZTogKHR5cGUsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHN0YXRlLnBhZ2VbdHlwZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJpbnZlbnRvcnlTdGF0ZVwiLCBzdGF0ZSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0VGFiOiB2YWwgPT4ge1xyXG4gICAgICAgICAgICBzdGF0ZS50YWIgPSB2YWw7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwiaW52ZW50b3J5U3RhdGVcIiwgc3RhdGUpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHRleHQ6IHRleHQgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGV4dCkge1xyXG4gICAgICAgICAgICAgIHN0YXRlLnNlYXJjaFRleHQgPSB0ZXh0O1xyXG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwiaW52ZW50b3J5U3RhdGVcIiwgc3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbVVuaXRzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogXCJtdFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwibXRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogXCJzcS5tdFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwic3EubXRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFsdWU6IFwiY3UubXRcIixcclxuICAgICAgICAgIG5hbWU6IFwiY3UubXRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogXCJmdFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwiZnRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogXCJzcS5mdFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwic3EuZnRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFsdWU6IFwiY3UuZnRcIixcclxuICAgICAgICAgIG5hbWU6IFwiY3UuZnRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFsdWU6IFwidW5pdFwiLFxyXG4gICAgICAgICAgbmFtZTogXCJ1bml0XCJcclxuICAgICAgICB9XHJcbiAgICAgIF0sXHJcblxyXG4gICAgICBnZXRDdXJyZW5jeTogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvZGF0YS9jdXJyZW5jaWVzLmpzb25cIik7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldENvdW50cnlDb2RlOiAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcIi9kYXRhL0NvdW50cnlDb2RlLmpzb25cIik7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEluZHVzdHJ5OiAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcIi9kYXRhL2luZHVzdHJ5Lmpzb25cIik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkZWJvdW5jZTogcmF0ZSA9PiB7XHJcbiAgICAgICAgbGV0IHRpbWVyO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihmbiwgYXJncykge1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xyXG4gICAgICAgICAgfSwgcmF0ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdlbmVyaWNTdG9yZTogKCkgPT4ge1xyXG4gICAgICAgIGxldCBpdGVtO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdG9yZTogdmFsID0+IHtcclxuICAgICAgICAgICAgaXRlbSA9IHZhbDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXQ6ICgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGRmTGlua1xyXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0W119IC0gbGlua3Mgb2YgaW5kaXZpZHVhbCBwYWdlcyBhcyBpbWFnZSAoY2xvdWRpbmFyeSlcclxuICAgICAgICovXHJcblxyXG4gICAgICBleHRyYWN0UGFnZXNGcm9tUGRmOiAocGRmTGluaywgcGFnZUNvdW50KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi5BcnJheShwYWdlQ291bnQpLmtleXMoKV0ucmVkdWNlKChhY2MsIF8sIGkpID0+IHtcclxuICAgICAgICAgIGxldCBwYWdlT2JqID0ge1xyXG4gICAgICAgICAgICBwYWdlTm86IGksXHJcbiAgICAgICAgICAgIHVybDogcGRmTGlua1xyXG4gICAgICAgICAgICAgIC5yZXBsYWNlKFwiL3VwbG9hZC9cIiwgYC91cGxvYWQvcGdfJHtpICsgMX0vYClcclxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFwucGRmJC8sIFwiLnBuZ1wiKSxcclxuICAgICAgICAgICAgdGl0bGU6IGB0aXRsZV8ke0RhdGUubm93KCl9YCxcclxuICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIlxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGFjYy5wdXNoKHBhZ2VPYmopO1xyXG4gICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LCBbXSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IHBkZiAtIEZpbGUgb2JqZWN0XHJcbiAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIGNyZWF0ZVBhZ2VzRnJvbVBkZjogcGRmID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgcGRmanNMaWJcclxuICAgICAgICAgICAgLmdldERvY3VtZW50KHBkZi5zZWN1cmVfdXJsKVxyXG4gICAgICAgICAgICAucHJvbWlzZS50aGVuKGRvYyA9PiB7XHJcbiAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgICAgICAgICBbLi4uQXJyYXkoZG9jLm51bVBhZ2VzKS5rZXlzKCldLm1hcCgoXywgaSkgPT5cclxuICAgICAgICAgICAgICAgICAgZG9jLmdldFBhZ2UoaSArIDEpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocGFnZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZXNvbHZlKFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VzLm1hcCgoeCwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgKHgucGFnZU5vID0gaSksICh4LnRpdGxlID0gYHRpdGxlXyR7RGF0ZS5ub3coKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHguZGVzY3JpcHRpb24gPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHJlbmRlclBhZ2U6IChwYWdlLCBjYW52YXMpID0+IHtcclxuICAgICAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KFxyXG4gICAgICAgICAgY2FudmFzLndpZHRoIC8gcGFnZS5nZXRWaWV3cG9ydCgxKS53aWR0aFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHZhciB0YXNrID0gcGFnZS5yZW5kZXIoe1xyXG4gICAgICAgICAgY2FudmFzQ29udGV4dDogY29udGV4dCxcclxuICAgICAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwidXBsb2FkRmFjdG9yeVwiLCB1cGxvYWRGYWN0b3J5KTtcclxuXHJcbiAgZnVuY3Rpb24gdXBsb2FkRmFjdG9yeShcclxuICAgICRodHRwLFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBVcGxvYWQsXHJcbiAgICBjbG91ZGluYXJ5LFxyXG4gICAgTm90aWZpY2F0aW9uXHJcbiAgKSB7XHJcbiAgICAvKiBBV1MgQ09ORklHICovXHJcbiAgICBjb25zdCBidWNrZXROYW1lID0gXCIzZGZpbGVzZGF0YVwiO1xyXG4gICAgY29uc3QgYnVja2V0UmVnaW9uID0gXCJhcC1zb3V0aC0xXCI7XHJcbiAgICBsZXQgY29uZmlnID0ge1xyXG4gICAgICBzaWduZXJVcmw6IGBodHRwczovL2FwaS5zdGFnaW5nLmNsb3VkZXMuZXUvc2lnbnY0X2F1dGhgLFxyXG4gICAgICBhd3Nfa2V5OiBcIkFLSUFKTU8zWUpUUEtZVjVETjVBXCIsXHJcbiAgICAgIGJ1Y2tldDogXCIzZGZpbGVzZGF0YS90ZXN0XCIsXHJcbiAgICAgIGF3c1JlZ2lvbjogYnVja2V0UmVnaW9uLFxyXG4gICAgICBjb21wdXRlQ29udGVudE1kNTogdHJ1ZSxcclxuICAgICAgYWxsb3dTM0V4aXN0ZW5jZU9wdGltaXphdGlvbjogdHJ1ZSxcclxuICAgICAgY3J5cHRvTWQ1TWV0aG9kOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIEFXUy51dGlsLmNyeXB0by5tZDUoZGF0YSwgXCJiYXNlNjRcIik7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNyeXB0b0hleEVuY29kZWRIYXNoMjU2OiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIEFXUy51dGlsLmNyeXB0by5zaGEyNTYoZGF0YSwgXCJoZXhcIik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaW5pdDogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBFdmFwb3JhdGUuY3JlYXRlKGNvbmZpZyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbihoYW5kbGVyKSB7XHJcbiAgICAgICAgbGV0IGZpbGVVcGxvYWQgPSB0aGlzLmluaXQoKTtcclxuXHJcbiAgICAgICAgZmlsZVVwbG9hZC50aGVuKGhhbmRsZXIpLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBhdXNlOiBmdW5jdGlvbihmaWxlKSB7XHJcbiAgICAgICAgdGhpcy5wYXVzZShgM2RmaWxlc2RhdGEvdGVzdC8ke2ZpbGUubmFtZX1gLCB7IGZvcmNlOiB0cnVlIH0pXHJcbiAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZmlsZS5pc1BhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGF1c2VkIVwiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlc3VtZTogZnVuY3Rpb24oZmlsZSkge1xyXG4gICAgICAgIHRoaXMucmVzdW1lKGAzZGZpbGVzZGF0YS90ZXN0LyR7ZmlsZS5uYW1lfWApXHJcbiAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZmlsZS5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VtZWQhXCIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgYWJvcnQ6IGZ1bmN0aW9uKGZpbGUpIHtcclxuICAgICAgICB0aGlzLmNhbmNlbChgM2RmaWxlc2RhdGEvdGVzdC8ke2ZpbGUubmFtZX1gKVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vZmlsZS5hYm9ydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYW5jZWxlZCFcIik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIHVwbG9hZDogZmlsZSA9PiB7XHJcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJmaWxlISFcIiwgZmlsZSk7XHJcbiAgICAgIC8vICAgLyogQ2hlY2sgZmlsZSBzaXplICovXHJcbiAgICAgIC8vICAgaWYgKGZpbGUuc2l6ZSA+IDEwMDAwMDAwKSB7XHJcbiAgICAgIC8vICAgICAvKiBzMyBmb3IgZmlsZXMgbGFyZ2VyIHRoYW4gMTBtYiAqL1xyXG4gICAgICAvLyAgICAgY29uc3QgcGFyYW1zID0geyBLZXk6IGZpbGUubmFtZSwgQ29udGVudFR5cGU6IGZpbGUudHlwZSwgQm9keTogZmlsZSB9O1xyXG4gICAgICAvLyAgICAgczMucHV0T2JqZWN0KHBhcmFtcylcclxuICAgICAgLy8gICAgICAgLm9uKFwiaHR0cFVwbG9hZFByb2dyZXNzXCIsIHByb2dyZXNzID0+IHtcclxuICAgICAgLy8gICAgICAgICAvKiBUT0RPOiBHcmFiYmluZyBwcm9ncmVzcyBldmVudCAqL1xyXG4gICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZ3Jlc1wiLCBwcm9ncmVzcyk7XHJcbiAgICAgIC8vICAgICAgIH0pXHJcbiAgICAgIC8vICAgICAgIC5zZW5kKChlcnIsIGRhdGEpID0+IHtcclxuICAgICAgLy8gICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyhcImRvbmVcIiwgZGF0YSk7XHJcbiAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAvLyAgICAgICB9KTtcclxuICAgICAgLy8gICB9IGVsc2Uge1xyXG4gICAgICAvLyAgICAgLyogU2VuZCB0byBjbG91ZGluYXJ5ICovXHJcbiAgICAgIC8vICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgLy8gICAgICAgdXJsOlxyXG4gICAgICAvLyAgICAgICAgIFwiaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9cIiArXHJcbiAgICAgIC8vICAgICAgICAgY2xvdWRpbmFyeS5jb25maWcoKS5jbG91ZF9uYW1lICtcclxuICAgICAgLy8gICAgICAgICBcIi91cGxvYWRcIixcclxuICAgICAgLy8gICAgICAgZGF0YToge1xyXG4gICAgICAvLyAgICAgICAgIHVwbG9hZF9wcmVzZXQ6IGNsb3VkaW5hcnkuY29uZmlnKCkudXBsb2FkX3ByZXNldCxcclxuICAgICAgLy8gICAgICAgICB0YWdzOiBmaWxlLm5hbWUsXHJcbiAgICAgIC8vICAgICAgICAgY29udGV4dDogXCJwaG90bz1cIiArIERhdGUubm93KCksXHJcbiAgICAgIC8vICAgICAgICAgZmlsZTogZmlsZVxyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgIC8vICAgICB9KVxyXG4gICAgICAvLyAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcInJlc3AhIVwiLCByZXNwKTtcclxuICAgICAgLy8gICAgICAgfSlcclxuICAgICAgLy8gICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyXCIsIGUpO1xyXG4gICAgICAvLyAgICAgICB9KTtcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vIH1cclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJjb21tb25WUEZhY3RvcnlcIiwgY29tbW9uVlBGYWN0b3J5KTtcclxuXHJcbiAgLyoqIEBuZ0luamVjdCAqL1xyXG4gIGZ1bmN0aW9uIGNvbW1vblZQRmFjdG9yeSgkcm9vdFNjb3BlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvLyBJbml0aWFsaXplcyBhIHN0YWdlIGZvciB0aGUgdmlzdWFsIHBsYW5uZXJcclxuICAgICAgY3JlYXRlU3RhZ2U6IGZ1bmN0aW9uKGRpdklkLCBpbml0aWFsU2l6ZSwgcGxhbm5lckRhdGEpIHtcclxuICAgICAgICB2YXIgc3RhZ2U7XHJcbiAgICAgICAgaWYgKHBsYW5uZXJEYXRhICYmIHBsYW5uZXJEYXRhLmpzb25TdHJpbmcpIHtcclxuICAgICAgICAgIHN0YWdlID0gS29udmEuTm9kZS5jcmVhdGUocGxhbm5lckRhdGEuanNvblN0cmluZywgXCJzdGFnZVwiKTtcclxuICAgICAgICAgIHN0YWdlLndpZHRoKGluaXRpYWxTaXplLndpZHRoKTtcclxuICAgICAgICAgIHN0YWdlLmhlaWdodChpbml0aWFsU2l6ZS5oZWlnaHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzdGFnZSA9IG5ldyBLb252YS5TdGFnZSh7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcjogZGl2SWQsXHJcbiAgICAgICAgICAgIHg6IDEsXHJcbiAgICAgICAgICAgIHk6IDEsXHJcbiAgICAgICAgICAgIHdpZHRoOiBpbml0aWFsU2l6ZS53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBpbml0aWFsU2l6ZS5oZWlnaHRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2V0U3RhZ2VTaXplID0gdGhpcy5nZXRTdGFnZVNpemU7XHJcbiAgICAgICAgc3RhZ2Uub24oXCJ3aW5kb3dSZXNpemVkXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSBnZXRTdGFnZVNpemUoZGl2SWQpO1xyXG4gICAgICAgICAgc3RhZ2Uud2lkdGgoZGltZW5zaW9ucy53aWR0aCk7XHJcbiAgICAgICAgICBzdGFnZS5oZWlnaHQoZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgICAgc3RhZ2UuZHJhdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzdGFnZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0U3RhZ2VTaXplOiBmdW5jdGlvbihkaXZJZCkge1xyXG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaGVpZ2h0OiBlbC5jbGllbnRIZWlnaHQsXHJcbiAgICAgICAgICB3aWR0aDogZWwuY2xpZW50V2lkdGhcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICAvLyBnZW5lcmF0ZXMgc2hhcGUgSWQgYW5kIGluY3JlbWVudHMgaXQgZXZlcnl0aW1lIHlvdSBjYWxsIGl0XHJcblxyXG4gICAgICBzaGFwZUlkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGVmYXVsdENvdW50ID0ge1xyXG4gICAgICAgICAgc2hhcGVzOiB7XHJcbiAgICAgICAgICAgIHJlY3RhbmdsZTogMCxcclxuICAgICAgICAgICAgc3F1YXJlOiAwLFxyXG4gICAgICAgICAgICBjaXJjbGU6IDAsXHJcbiAgICAgICAgICAgIGVsbGlwc2U6IDAsXHJcbiAgICAgICAgICAgIGNhbGlicmF0b3I6IDAsXHJcbiAgICAgICAgICAgIGZyZWVIYW5kOiAwLFxyXG4gICAgICAgICAgICBwb2x5Z29uOiAwXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbWFya2luZ3M6IHtcclxuICAgICAgICAgICAgbGluZTogMCxcclxuICAgICAgICAgICAgc2luZ2xlQXJyb3c6IDAsXHJcbiAgICAgICAgICAgIGRvdWJsZUFycm93OiAwLFxyXG4gICAgICAgICAgICBiZXppZXI6IDAsXHJcbiAgICAgICAgICAgIGZyZWVoYW5kOiAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAwLFxyXG4gICAgICAgICAgICBzZWxlY3Rpb246IDBcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtZWFzdXJlbWVudDoge1xyXG4gICAgICAgICAgICByZWN0YW5nbGU6IDAsXHJcbiAgICAgICAgICAgIHNxdWFyZTogMCxcclxuICAgICAgICAgICAgY2lyY2xlOiAwLFxyXG4gICAgICAgICAgICBlbGxpcHNlOiAwLFxyXG4gICAgICAgICAgICBjYWxpYnJhdG9yOiAwLFxyXG4gICAgICAgICAgICBwb2x5Z29uOiAwLFxyXG4gICAgICAgICAgICBmcmVlSGFuZDogMFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBjdXJyZW50Q291bnQgPSBkZWZhdWx0Q291bnQ7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKGNvdW50KSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRDb3VudCA9IGNvdW50O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldENvdW50OiBmdW5jdGlvbih0eXBlLCBzaGFwZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50Q291bnRbdHlwZV1bc2hhcGVdKys7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q291bnRbdHlwZV1bc2hhcGVdO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q291bnQ7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjdXJyZW50Q291bnQgPSBkZWZhdWx0Q291bnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuICAgICAgLyogXHJcbiAgICAgICBEcmF3c3RhdGUgZnVuY3Rpb24gbGV0cyB5b3Ugc2V0IGFuZCBjaGVjayB0aGUgY3VycmVudCBkcmF3aW5nIHN0YXRlIGZvciB0aGUgY2FudmFzLiAoRWcuIFNxdWFyZSwgZWxsaXBzZSBldGMpXHJcbiAgICAgICBZb3UgY2FuJ3QgZHJhdyBhIHNoYXBlIG9uIHRoZSBjYW52YXMgdW5sZXNzIHRoZSBzdGF0ZSBmb3IgdGhlIHBhcnRpY3VsYXIgc2hhcGUgaXMgdHJ1ZS4gVGhlc2Ugc3RhdHMgd2lsbCBjaGVja2VkXHJcbiAgICAgICBpbiB0aGUgZXZlbnQgbGlzdGVuZXJzIG9mIHRoZSB0YXJnZXQgc3VjaCBhcyBzdGFnZSAsIGxheWVyIGV0Yy5cclxuICAgICAgKi9cclxuICAgICAgZHJhd1N0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvKiAgRG8gbm90IG1vZGlmeSB0aGlzIHZhciAqL1xyXG4gICAgICAgIHZhciBpbml0aWFsRHJhd1N0YXRlcyA9IHtcclxuICAgICAgICAgIHNoYXBlczoge1xyXG4gICAgICAgICAgICByZWN0YW5nbGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBzcXVhcmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjaXJjbGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBlbGxpcHNlOiBmYWxzZSxcclxuICAgICAgICAgICAgY2FsaWJyYXRvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvbHlnb246IGZhbHNlXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbWFya2luZ3M6IHtcclxuICAgICAgICAgICAgbGluZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHNpbmdsZUFycm93OiBmYWxzZSxcclxuICAgICAgICAgICAgZG91YmxlQXJyb3c6IGZhbHNlLFxyXG4gICAgICAgICAgICBiZXppZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICBmcmVlaGFuZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHRleHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzZWxlY3Rpb246IGZhbHNlXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbWVhc3VyZW1lbnQ6IHtcclxuICAgICAgICAgICAgcmVjdGFuZ2xlOiBmYWxzZSxcclxuICAgICAgICAgICAgc3F1YXJlOiBmYWxzZSxcclxuICAgICAgICAgICAgY2lyY2xlOiBmYWxzZSxcclxuICAgICAgICAgICAgZWxsaXBzZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNhbGlicmF0b3I6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2x5Z29uOiBmYWxzZSxcclxuICAgICAgICAgICAgZnJlZUhhbmQ6IGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyogRHJhdyBzdGF0ZXMgZnJvbSB0aGUgdmlldyBhcmUgYXNzaWduZWQgdG8gdGhpcyB2YXIgKi9cclxuICAgICAgICB2YXIgZHJhd1N0YXRlcyA9IGFuZ3VsYXIuY29weShpbml0aWFsRHJhd1N0YXRlcyk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAvLyBmdW5jdGlvbiB0byBzZXQgdGhlIGRyYXdTdGF0ZXNcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICAgICAgICB2YXIga2V5cyA9IHR5cGUuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7IC8vIHJlc2V0IGRyYXdzdGF0ZXMgYmVmb3JlIGFzc2lnbmluZyBzdGF0ZXNcclxuICAgICAgICAgICAgZHJhd1N0YXRlc1trZXlzWzBdXVtrZXlzWzFdXSA9IHRydWU7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChcImRyYXdTdGF0ZUNoYW5nZVwiLCBkcmF3U3RhdGVzKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyB0byBjaGVjayB0aGUgZHJhd1N0YXRlc1xyXG4gICAgICAgICAgY2hlY2s6IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICAgICAgdmFyIGtleXMgPSB0eXBlID8gdHlwZS5zcGxpdChcIi5cIikgOiBcIlwiO1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZSA/IGRyYXdTdGF0ZXNba2V5c1swXV1ba2V5c1sxXV0gOiBkcmF3U3RhdGVzO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZHJhd1N0YXRlcyA9IGFuZ3VsYXIuY29weShpbml0aWFsRHJhd1N0YXRlcyk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChcImRyYXdTdGF0ZUNoYW5nZVwiLCBkcmF3U3RhdGVzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gY2FsaWJyYXRpb24gc3RhdGVcclxuXHJcbiAgICAgIGNhbGlicmF0aW9uU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGF0ZSA9IHtcclxuICAgICAgICAgIHZhbHVlOiAxLFxyXG4gICAgICAgICAgdW5pdDogXCJ1bml0c1wiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gb2JqO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gVW5kbyByZWRvIGZ1bmN0aW9uYWxpdHlcclxuICAgICAgYWN0aW9uU3RhdGVzOiBmdW5jdGlvbihhY3Rpb25zKSB7XHJcbiAgICAgICAgdmFyIHN0YWNrID0gYWN0aW9ucyB8fCBbXTtcclxuICAgICAgICB2YXIgaGVhZCA9IHN0YWNrLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgICAgICBzdGFjay5zcGxpY2UoaGVhZCArIDEsIHN0YWNrLmxlbmd0aCwgdmFsKTtcclxuICAgICAgICAgICAgaGVhZCA9IHN0YWNrLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2hvdzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGFjaztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwZWVrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrW2hlYWRdO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHVuZG86IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoaGVhZCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgc3RhY2tbaGVhZF0uZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgaGVhZCA9IGhlYWQgLSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVkbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChoZWFkIDwgc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgaGVhZCA9IGhlYWQgPT09IHN0YWNrLmxlbmd0aCAtIDEgPyBoZWFkIDogaGVhZCArIDE7XHJcbiAgICAgICAgICAgICAgc3RhY2tbaGVhZF0ucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qIEF0dGFjaCBhY3Rpb24gaGFuZGxlcnMgdG8gZW50aXRpZXMgYmVmb3JlIHB1c2hpbmcgaW50byBhY3Rpb24gc3RhdGUgc3RhY2sgKi9cclxuICAgICAgYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24oc3RhZ2UsIGVudGl0eSwgcHJvY2VzcywgYWN0aW9uVHlwZSwgcHJvcHMpIHtcclxuICAgICAgICB2YXIgZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHZhciBzdGFnZSA9IHN0YWdlO1xyXG4gICAgICAgIHZhciBwcm9jZXNzID0gcHJvY2VzcztcclxuICAgICAgICB2YXIgcHJvcHMgPSBwcm9wcztcclxuXHJcbiAgICAgICAgLyogSGFuZGxlcnMgKi9cclxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICBjcmVhdGU6IHtcclxuICAgICAgICAgICAgZGVsZXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBlbnRpdHkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc3RvcmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHByb2Nlc3MuYWRkKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtb3ZlOiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uKHByb3BzLnN0YXJ0KTtcclxuICAgICAgICAgICAgICBzdGFnZS5iYXRjaERyYXcoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVzdG9yZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uKHByb3BzLmVuZCk7XHJcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBkZWxldGU6IHtcclxuICAgICAgICAgICAgZGVsZXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBwcm9jZXNzLmFkZChlbnRpdHkpO1xyXG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXN0b3JlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBlbnRpdHkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzaGFwZVByb3BzOiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzLnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHlba2V5XShwcm9wcy5zdGFydFtrZXldKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXN0b3JlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMuZW5kKSB7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHlba2V5XShwcm9wcy5lbmRba2V5XSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGVudGl0eTogZW50aXR5LFxyXG4gICAgICAgICAgcmVzdG9yZTogaGFuZGxlcnNbYWN0aW9uVHlwZV0ucmVzdG9yZSxcclxuICAgICAgICAgIGRlbGV0ZTogaGFuZGxlcnNbYWN0aW9uVHlwZV0uZGVsZXRlXHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBtb3ZlbWVudCB2YWx1ZXMgZm9yIHVuZG8vcmVkbyAqL1xyXG4gICAgICBtb3ZlbWVudDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHN0YXJ0O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICghc3RhcnQpIHtcclxuICAgICAgICAgICAgICBzdGFydCA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzaGFwZVByb3BlcnR5SGlzdG9yeTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHN0YXJ0O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmICghc3RhcnQpIHtcclxuICAgICAgICAgICAgICBzdGFydCA9IHByb3BzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IHByb3BzXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBUcmFuc2Zvcm1lcnMgKi9cclxuICAgICAgdHJhbnNmb3JtZXJzOiBmdW5jdGlvbihsYXllcikge1xyXG4gICAgICAgIHZhciBzdGFnZSA9IHN0YWdlO1xyXG4gICAgICAgIHZhciBsYXllciA9IGxheWVyO1xyXG4gICAgICAgIHZhciB0cmFuc2Zvcm1lcnMgPSBbXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGFkZDogZnVuY3Rpb24odHJhbnNmb3JtZXIpIHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtZXJzLnB1c2godHJhbnNmb3JtZXIpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlbW92ZUFsbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0cmFuc2Zvcm1lcnMsIGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICB4LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qIFxyXG4gICAgICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgcG9pbnRlciBkb2Vzbid0IGNoYW5nZSB3aGVuIHRoZSBiYWNrZ3JvdW5kIGltYWdlIGxheWVyIGlzIGJlaW5nIGRyYWdnZWQgYXJvdW5kLlxyXG4gICAgICAgIEluIG9yZGVyIHRvIGNvbXBlbnNhdGUgdGhhdCBvZmZzZXQsIFRoZSBzdGFnZSBwb2ludGVyIHBvc2l0aW9uIG11c3QgYmUgc3VidHJhY3RlZCBmcm9tIHRoZSBsYXllciBwb3NpdGlvblxyXG4gICAgICAqL1xyXG4gICAgICBkcmFnT2Zmc2V0OiBmdW5jdGlvbihzdGFnZVBvc2l0aW9uLCBsYXllck9mZnNldCwgc3RhZ2VTY2FsZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB4OiAoc3RhZ2VQb3NpdGlvbi54IC0gbGF5ZXJPZmZzZXQueCkgLyBzdGFnZVNjYWxlLngsXHJcbiAgICAgICAgICB5OiAoc3RhZ2VQb3NpdGlvbi55IC0gbGF5ZXJPZmZzZXQueSkgLyBzdGFnZVNjYWxlLnlcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogU2VsZWN0ZWQgU2hhcGUgKi9cclxuICAgICAgc2VsZWN0ZWRTaGFwZTogZnVuY3Rpb24oc2hhcGUpIHtcclxuICAgICAgICB2YXIgc2hhcGU7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFwZTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgICAgICBzaGFwZSA9IHZhbDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZXNldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNoYXBlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBTZWxlY3Rpb24gc3RvcmUgLSBUbyBzdG9yZSBhbmQgcmV0cmlldmUgc2VsZWN0ZWQgc2hhcGVzICovXHJcblxyXG4gICAgICBzZWxlY3Rpb25TdG9yZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGlvbnMgPSBbXTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3RvcmU6IGZ1bmN0aW9uKHNoYXBlcykge1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gc2hhcGVzO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25zO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHB1bGw6IGZ1bmN0aW9uKHNoYXBlTmFtZSkge1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gc2VsZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24oc2hhcGUpIHtcclxuICAgICAgICAgICAgICBpZiAoc2hhcGUubmFtZSgpID09PSBzaGFwZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uKHNoYXBlKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU5hbWVzID0gc2VsZWN0aW9ucy5tYXAoZnVuY3Rpb24oc2hhcGUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc2hhcGUubmFtZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCEoc2hhcGVOYW1lcy5pbmRleE9mKHNoYXBlLm5hbWUoKSkgPiAtMSkpIHtcclxuICAgICAgICAgICAgICBzZWxlY3Rpb25zLnB1c2goc2hhcGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGFzc29jaWF0aW9uczogKCkgPT4ge1xyXG4gICAgICAgIGxldCBhc3NvY2lhdGlvbnMgPSB7fTtcclxuXHJcbiAgICAgICAgbGV0IG1ldGhvZHMgPSB7XHJcbiAgICAgICAgICBjcmVhdGVBc3NvY2lhdGlvbjogKHNoYXBlSWQsIGVudGl0eUlkLCB0eXBlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSBgJHtzaGFwZUlkfS0ke2VudGl0eUlkfS0ke0RhdGUubm93KCl9YDtcclxuICAgICAgICAgICAgYXNzb2NpYXRpb25zW2tleV0gPSB7XHJcbiAgICAgICAgICAgICAgc2hhcGVJZCxcclxuICAgICAgICAgICAgICBlbnRpdHlJZCxcclxuICAgICAgICAgICAgICB0eXBlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0QXNzb2NpYXRpb25zOiBrZXkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ga2V5ID8gYXNzb2NpYXRpb25zW2tleV0gOiBhc3NvY2lhdGlvbnM7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0QXNzb2NpYXRpb25zRm9yU2F2ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYXNzb2NpYXRpb25zKS5yZWR1Y2UoKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBzaGFwZUlkOiBhc3NvY2lhdGlvbnNbeF0uc2hhcGVJZCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IGFzc29jaWF0aW9uc1t4XS50eXBlXHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgc3dpdGNoIChhc3NvY2lhdGlvbnNbeF0udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICBvYmoubWF0ZXJpYWxJZCA9IGFzc29jaWF0aW9uc1t4XS5lbnRpdHlJZDtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgIG9iai5jb21ib0lkID0gYXNzb2NpYXRpb25zW3hdLmVudGl0eUlkO1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgb2JqLmVxdWlwbWVudElkID0gYXNzb2NpYXRpb25zW3hdLmVudGl0eUlkO1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYWNjLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBbXSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVtb3ZlQXNzb2NpYXRpb246IGtleSA9PiB7XHJcbiAgICAgICAgICAgIGFzc29jaWF0aW9uc1trZXldID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGFzc29jaWF0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKG1ldGhvZHMpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiZXZlbnRzVlBGYWN0b3J5XCIsIGV2ZW50c1ZQRmFjdG9yeSk7XHJcblxyXG4gIC8qKiBAbmdJbmplY3QgKi9cclxuICBmdW5jdGlvbiBldmVudHNWUEZhY3RvcnkoJHJvb3RTY29wZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2luZG93RXZlbnRzOiBmdW5jdGlvbih3aW5kb3dPYmplY3QpIHtcclxuICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgIHZhciBlbnRpdGllcyA9IFtdO1xyXG4gICAgICAgIHdpbmRvd09iamVjdC5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uKGV2KSB7XHJcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZW50aXRpZXMsIGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgdi5maXJlKFwid2luZG93UmVzaXplZFwiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24oZW50aXR5KSB7XHJcbiAgICAgICAgICAgIGVudGl0aWVzLnB1c2goZW50aXR5KTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzaG93OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICBzdGFnZUV2ZW50czogZnVuY3Rpb24oc3RhZ2UpIHtcclxuICAgICAgICB2YXIgc3RhZ2UgPSBzdGFnZTtcclxuICAgICAgICB2YXIgZXZlbnRzID0gW107XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihldmVudCwgaGFuZGxlcikge1xyXG4gICAgICAgICAgICBpZiAoIXN0YWdlKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgc3RhZ2Uub24oZXZlbnQsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIHNoYXBlRXZlbnRzOiBmdW5jdGlvbihzaGFwZSkge1xyXG4gICAgICAgIHZhciBzaGFwZSA9IHNoYXBlO1xyXG4gICAgICAgIHZhciBldmVudHMgPSBbXTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKGV2ZW50LCBoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudHMuaW5kZXhPZihldmVudCkgPiAtMSkge1xyXG4gICAgICAgICAgICAgIC8qIENoZWNrIGZvciBkdXBsaWNhdGUgZXZlbnRzICovXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgICBzaGFwZS5vbihldmVudCwgaGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICBsYXllckV2ZW50czogZnVuY3Rpb24obGF5ZXIpIHtcclxuICAgICAgICB2YXIgbGF5ZXIgPSBsYXllcjtcclxuICAgICAgICB2YXIgZXZlbnRzID0gW107XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihldmVudCwgaGFuZGxlcikge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmluZGV4T2YoZXZlbnQpID4gLTEpIHtcclxuICAgICAgICAgICAgICAvKiBDaGVjayBmb3IgZHVwbGljYXRlIGV2ZW50cyAqL1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBldmVudHMucHVzaChldmVudCk7XHJcbiAgICAgICAgICAgICAgbGF5ZXIub24oZXZlbnQsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcImxheWVyc1ZQRmFjdG9yeVwiLCBsYXllcnNWUEZhY3RvcnkpO1xyXG5cclxuICAvKiogQG5nSW5qZWN0ICovXHJcbiAgZnVuY3Rpb24gbGF5ZXJzVlBGYWN0b3J5KCRyb290U2NvcGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNyZWF0ZUxheWVyOiBmdW5jdGlvbihzdGFnZSkge1xyXG4gICAgICAgIHZhciBsYXllciA9IG5ldyBLb252YS5MYXllcigpO1xyXG4gICAgICAgIHN0YWdlLmFkZChsYXllcik7XHJcbiAgICAgICAgcmV0dXJuIGxheWVyO1xyXG4gICAgICB9LFxyXG4gICAgICBpbml0aWF0ZVByb2Nlc3M6IGZ1bmN0aW9uKHN0YWdlLCBiYXNlTGF5ZXIpIHtcclxuICAgICAgICB2YXIgcHJvY2Vzc2VzID0gW10sXHJcbiAgICAgICAgICBoZWFkO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBjcmVhdGVQcm9jZXNzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGdyb3VwID0gbmV3IEtvbnZhLkdyb3VwKHtcclxuICAgICAgICAgICAgICBuYW1lOiBcInByb2Nlc3MtXCIgKyBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwcm9jZXNzZXMucHVzaChncm91cCk7XHJcbiAgICAgICAgICAgIGhlYWQgPSBwcm9jZXNzZXMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmFkZChncm91cCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0UHJvY2Vzc2VzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NlcztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRDdXJyZW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3Nlc1toZWFkXTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXRDdXJyZW50OiBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICBoZWFkID0gaW5kZXg7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2hvd1Byb2Nlc3M6IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChwcm9jZXNzZXNbaW5kZXhdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJvY2Vzc2VzLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuYWRkKHgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgaGlkZVByb2Nlc3M6IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgcHJvY2Vzc2VzW2luZGV4XS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJvY2Vzc2VzLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICB4LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgLyogTG9hZGluZyBwcm9jZXNzIGZyb20ganNvbiAqL1xyXG4gICAgICAgICAgbG9hZFByb2Nlc3NlczogZnVuY3Rpb24ocHJvY2Vzc2VzRnJvbUpzb24pIHtcclxuICAgICAgICAgICAgcHJvY2Vzc2VzID0gcHJvY2Vzc2VzRnJvbUpzb247XHJcbiAgICAgICAgICAgIGhlYWQgPSBwcm9jZXNzZXMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwic2hhcGVzVlBGYWN0b3J5XCIsIHNoYXBlc1ZQRmFjdG9yeSk7XHJcblxyXG4gIC8qKiBAbmdJbmplY3QgKi9cclxuICBmdW5jdGlvbiBzaGFwZXNWUEZhY3RvcnkoXHJcbiAgICAkcm9vdFNjb3BlLFxyXG4gICAgZXZlbnRzVlBGYWN0b3J5LFxyXG4gICAgY29tbW9uVlBGYWN0b3J5LFxyXG4gICAgdG9vbHNWUEZhY3RvcnlcclxuICApIHtcclxuICAgIHZhciBzaGFwZUlkID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlSWQoKTtcclxuICAgIHZhciBjcmVhdGVkU2hhcGU7XHJcblxyXG4gICAgLyogT3B0aW9ucyBjb21tb24gZm9yIHBvbHlnb24gY3JlYXRpb24gKi9cclxuICAgIHZhciBwb2x5Z29uT3B0aW9ucyA9IHtcclxuICAgICAgaW5pdDogZmFsc2UsXHJcbiAgICAgIC8qIHRvIGNoZWNrIGlmIGEgcG9seWdvbiBpcyBpbml0YXRlZCBvciBub3QgKi9cclxuICAgICAgcG9pbnRzOiBbXSxcclxuICAgICAgcG9pbnRTZXQ6IHRydWUgLyogdHJ1ZSBmb3IgY2xpY2sgZXZlbnQgYW5kIGZhbHNlIGZvciBtb3VzZSBvdmVyIGV2ZW50ICovXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBzaGFwZVRvb2xzO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8qIFRoaXMgbWV0aG9kIGlzIGZpcmVkIGluIHRoZSBjb250cm9sbGVyIGFuZCBzZXRzIHRoZSBnbG9iYWwgc2hhcGVUb29scyAqL1xyXG4gICAgICBnZXRTaGFwZVRvb2xzOiBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICBzaGFwZVRvb2xzID0gb2JqO1xyXG4gICAgICB9LFxyXG4gICAgICAvKiBcclxuICAgICAgICBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHNoYXBlIHdoaWNoIGlzIGludHVybiBwYXNzZWQgdG8gdGhlIGRyYXdTaGFwZSBmdW5jdGlvbi5cclxuICAgICAgICBCYXNlZWQgb24gbW91c2UgY2xpY2sgZXZlbnRcclxuICAgICAgKi9cclxuXHJcbiAgICAgIGxvYWRTaGFwZUlkOiBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICBzaGFwZUlkLmxvYWQob2JqKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldFNoYXBlSWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBzaGFwZUlkLmdldCgpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlU2hhcGU6IGZ1bmN0aW9uKHR5cGUsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgLyogMCAtIFJlY3RhbmdsZS9TcXVhcmUgLCAxIC0gRWxsaXBzZS9DaXJjbGUgKi9cclxuICAgICAgICBpZiAoY3JlYXRlZFNoYXBlKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNoYXBlOiBjcmVhdGVkU2hhcGVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzaGFwZTtcclxuICAgICAgICB2YXIgc2hhcGVQcm9wcyA9IHNoYXBlVG9vbHMuZ2V0KCk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBzaGFwZSA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgICAgICBwb2ludHM6IFtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi54LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnlcclxuICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIG5hbWU6IFwiUmVjdFwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcInJlY3RhbmdsZVwiKSxcclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGVQcm9wcy5zdHJva2VXaWR0aCB8fCAxLFxyXG4gICAgICAgICAgICAgIGZpbGw6IHNoYXBlUHJvcHMuZmlsbCxcclxuICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgY2xvc2VkOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgc2hhcGUgPSBuZXcgS29udmEuRWxsaXBzZSh7XHJcbiAgICAgICAgICAgICAgeDogcG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICB5OiBwb3NpdGlvbi55LFxyXG4gICAgICAgICAgICAgIHJhZGl1czoge1xyXG4gICAgICAgICAgICAgICAgeDogMSxcclxuICAgICAgICAgICAgICAgIHk6IDFcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIG5hbWU6IFwiRWxsaXBzZVwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcImVsbGlwc2VcIiksXHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlUHJvcHMuc3Ryb2tlV2lkdGggfHwgMSxcclxuICAgICAgICAgICAgICBmaWxsOiBzaGFwZVByb3BzLmZpbGwsXHJcbiAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY3JlYXRlZFNoYXBlID0gc2hhcGU7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdGFydDogdHJ1ZSxcclxuICAgICAgICAgIHNoYXBlOiBjcmVhdGVkU2hhcGVcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogXHJcbiAgICAgICAgVGhpcyBmdW5jdGlvbiBkcmF3cyB0aGUgc2hhcGUgd2hpY2ggaXMgYWxyZWFkeSBjcmVhdGVkIGJ5IGNyZWF0ZVNoYXBlXHJcbiAgICAgICAgQmFzZWQgb24gbW91c2Vtb3ZlIGV2ZW50XHJcbiAgICAgICovXHJcbiAgICAgIGRyYXdTaGFwZTogZnVuY3Rpb24ocG9zaXRpb24sIHNoYXBlTG9jaywgbWlzYykge1xyXG4gICAgICAgIC8qIGlmIHNoYXBlbG9jayBpcyB0cnVlICwgbG9jayB0aGUgYXNwZWN0IHJhdGlvICovXHJcblxyXG4gICAgICAgIC8qIE1pc2MgaXMgYSBzcGVjaWFsIHBhcmFtIGZvciByZWN0YW5nbGVzIHN1Y2ggYXMgZ3JhYiBzZWxlY3RvciBhbmQgdGV4dCB3cmFwcGVyICovXHJcblxyXG4gICAgICAgIGlmIChjcmVhdGVkU2hhcGUpIHtcclxuICAgICAgICAgIHN3aXRjaCAoY3JlYXRlZFNoYXBlLmNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiTGluZVwiOlxyXG4gICAgICAgICAgICAgIC8qIFRyZWF0aW5nIHJlY3RhbmdsZSBsaWtlIGEgcG9seWdvbiAqL1xyXG5cclxuICAgICAgICAgICAgICB0aGlzLmRyYXdSZWN0YW5nbGUocG9zaXRpb24sIGNyZWF0ZWRTaGFwZSwgc2hhcGVMb2NrLCBtaXNjKTtcclxuXHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJFbGxpcHNlXCI6XHJcbiAgICAgICAgICAgICAgY3JlYXRlZFNoYXBlLnJhZGl1cyh7XHJcbiAgICAgICAgICAgICAgICAvKiBNYWtlIHN1cmUgcmFkaXVzIGlzbid0IG5lZ2F0aXZlICovXHJcbiAgICAgICAgICAgICAgICB4OiBNYXRoLmFicyhwb3NpdGlvbi54IC0gY3JlYXRlZFNoYXBlLngoKSksXHJcbiAgICAgICAgICAgICAgICB5OiBNYXRoLmFicyhcclxuICAgICAgICAgICAgICAgICAgc2hhcGVMb2NrXHJcbiAgICAgICAgICAgICAgICAgICAgPyBwb3NpdGlvbi54IC0gY3JlYXRlZFNoYXBlLngoKVxyXG4gICAgICAgICAgICAgICAgICAgIDogcG9zaXRpb24ueSAtIGNyZWF0ZWRTaGFwZS55KClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkcmF3UmVjdGFuZ2xlOiBmdW5jdGlvbihwb3NpdGlvbiwgc2hhcGUsIHNoYXBlbG9jaywgbWlzYykge1xyXG4gICAgICAgIHZhciBwb2ludHMgPSBzaGFwZS5wb2ludHMoKTsgLyogZ2V0IHJlY3RhbmdsZSB2ZXJ0aWNlcyAqL1xyXG4gICAgICAgIC8qIERpYWdvbmFsIGhpbmdlIC0gUmVhc3NpZ24gYm90aCB4IGFuZCB5IGJhc2VkIG9uIHBvc2l0aW9uICovXHJcblxyXG4gICAgICAgIHBvaW50c1s0XSA9IHBvc2l0aW9uLng7XHJcbiAgICAgICAgcG9pbnRzWzVdID0gc2hhcGVsb2NrXHJcbiAgICAgICAgICA/IE1hdGguYWJzKHBvaW50c1sxXSArIChwb3NpdGlvbi54IC0gcG9pbnRzWzBdKSlcclxuICAgICAgICAgIDogcG9zaXRpb24ueTtcclxuXHJcbiAgICAgICAgLyogWSAtIGF4aXMgaGluZ2UgKGNoYW5nZSB4IC0gYXhpcyBhbmQga2VlcCB5IC0gZml4ZWQpKi9cclxuXHJcbiAgICAgICAgcG9pbnRzWzddID0gc2hhcGVsb2NrXHJcbiAgICAgICAgICA/IE1hdGguYWJzKHBvaW50c1sxXSArIChwb3NpdGlvbi54IC0gcG9pbnRzWzBdKSlcclxuICAgICAgICAgIDogcG9zaXRpb24ueTtcclxuICAgICAgICAvKiBYIC0gYXhpcyBoaW5nZSAoY2hhbmdlIHkgLSBheGlzIGFuZCBrZWVwIHggLSBmaXhlZCkgKi9cclxuXHJcbiAgICAgICAgcG9pbnRzWzJdID0gcG9zaXRpb24ueDtcclxuICAgICAgICAvKiBIYW5kbGUgc2VsZWN0aW9uICovXHJcblxyXG4gICAgICAgIHN3aXRjaCAobWlzYykge1xyXG4gICAgICAgICAgY2FzZSBcImdyYWJiZXJcIjpcclxuICAgICAgICAgICAgc2hhcGUuZGFzaChbMTAsIDEwXSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcIndyYXBwZXJcIjpcclxuICAgICAgICAgICAgc2hhcGUuc3Ryb2tlKFwiZ3JleVwiKTtcclxuICAgICAgICAgICAgc2hhcGUuZHJhZ2dhYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBSZWFzc2lnbiB0byBzaGFwZSAqL1xyXG4gICAgICAgIHNoYXBlLnBvaW50cyhwb2ludHMpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogVGhpcyBmdW5jdGlvbiBkb2Vzbid0IGFjdHVhbGx5IGRlc3Ryb3kgdGhlIHNoYXBlIHRoYXQgaGFzIGJlZW4gZHJhd3MuIEl0IHNpbXBseSByZW1vdmVzIHRoZSB2YXIgaW5zaWRlIHRoaXMgZmFjdG9yeSBmdW50aW9uICovXHJcbiAgICAgIGRlc3Ryb3lTaGFwZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY3JlYXRlZFNoYXBlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHBvbHlnb25PcHRpb25zID0ge1xyXG4gICAgICAgICAgaW5pdDogZmFsc2UsXHJcbiAgICAgICAgICBwb2ludHM6IFtdLFxyXG4gICAgICAgICAgcG9pbnRTZXQ6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNsZWFyIHRoZSBkcmF3aW5nIHdoZW4gdGhlIHVzZXIgY2FuY2VscyBpdCBtaWR3YXkgKi9cclxuICAgICAgY2FuY2VsRHJhd2luZzogZnVuY3Rpb24oc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGlvblBvaW50cyA9IGNyZWF0ZWRTaGFwZS5wb2ludHMoKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgIGNyZWF0ZWRTaGFwZSAmJiBjcmVhdGVkU2hhcGUucmVtb3ZlKCk7XHJcbiAgICAgICAgY3JlYXRlZFNoYXBlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHBvbHlnb25PcHRpb25zID0ge1xyXG4gICAgICAgICAgaW5pdDogZmFsc2UsXHJcbiAgICAgICAgICBwb2ludHM6IFtdLFxyXG4gICAgICAgICAgcG9pbnRTZXQ6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBzZWxlY3Rpb25Qb2ludHM7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBcclxuICAgICAgICBAcGFyYW0gcG9zaXRpb24gPSBzdGFnZSBwb2ludGVyIHBvc2l0aW9uXHJcbiAgICAgICAgQHBhcmFtIGZyZWVIYW5kID0gQm9vbGVhbiAoZW5hYmxpbmcgZnJlZWhhbmQpXHJcbiAgICAgICAgQHBhcmFtIGZyZWVIYW5kTWFrZXIgPSBCb29sZWFuIChlbmFibGluZyBtYXJrZXIgZnVuY3Rpb25hbGl0eSB3aGljaCBkb2Vzbid0IGNoZWNrIGZvciB0aHJlc2hvbGQpXHJcbiAgICAgICovXHJcblxyXG4gICAgICBjcmVhdGVQb2x5Z29uOiBmdW5jdGlvbihwb3NpdGlvbiwgZnJlZUhhbmQsIGZyZWVIYW5kTWFya2VyKSB7XHJcbiAgICAgICAgaWYgKCFwb2x5Z29uT3B0aW9ucy5pbml0ICYmICFjcmVhdGVkU2hhcGUpIHtcclxuICAgICAgICAgIC8qIENoZWNrIGlmIGEgcG9seWdvbiBoYXMgYmVlbiBpbml0aWFsaXplZCBhbmQgYWxzbyBpZiBhbnkgb3RoZXIgc2hhcGUgZXhpc3RzICovXHJcbiAgICAgICAgICB2YXIgc2hhcGVQcm9wcyA9IHNoYXBlVG9vbHMuZ2V0KCk7IC8qIEdldCBzaGFwZSBwcm9wcyAqL1xyXG4gICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzID0gW3Bvc2l0aW9uLngsIHBvc2l0aW9uLnldO1xyXG5cclxuICAgICAgICAgIGlmIChmcmVlSGFuZE1hcmtlcikge1xyXG4gICAgICAgICAgICAvKiBGb3IgTWFya2VyICovXHJcbiAgICAgICAgICAgIGNyZWF0ZWRTaGFwZSA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgICAgICBuYW1lOiBcIm1hcmtlckZyZWVIYW5kXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJmcmVlaGFuZFwiKSxcclxuICAgICAgICAgICAgICBwb2ludHM6IHBvbHlnb25PcHRpb25zLnBvaW50cyxcclxuICAgICAgICAgICAgICBmaWxsOiBzaGFwZVByb3BzLmZpbGwsXHJcbiAgICAgICAgICAgICAgc3Ryb2tlOiBzaGFwZVByb3BzLnN0cm9rZSB8fCBcImJsYWNrXCIsXHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlUHJvcHMuc3Ryb2tlV2lkdGggfHwgMVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8qIEZvciBjbG9zYWJsZSBmcmVlaGFuZCBhbmQgcG9seWdvbiAqL1xyXG4gICAgICAgICAgICBjcmVhdGVkU2hhcGUgPSBuZXcgS29udmEuTGluZSh7XHJcbiAgICAgICAgICAgICAgbmFtZTogZnJlZUhhbmRcclxuICAgICAgICAgICAgICAgID8gXCJmcmVlSGFuZFwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcImZyZWVIYW5kXCIpXHJcbiAgICAgICAgICAgICAgICA6IFwicG9seWdvblwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcInBvbHlnb25cIiksXHJcbiAgICAgICAgICAgICAgcG9pbnRzOiBwb2x5Z29uT3B0aW9ucy5wb2ludHMsXHJcbiAgICAgICAgICAgICAgZmlsbDogc2hhcGVQcm9wcy5maWxsLFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZVByb3BzLnN0cm9rZVdpZHRoIHx8IDFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcG9seWdvbk9wdGlvbnMuaW5pdCA9IHRydWU7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGFydDogdHJ1ZSxcclxuICAgICAgICAgICAgcG9seWdvbjogY3JlYXRlZFNoYXBlXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvKiBFbmQgZm9yIGZyZWVoYW5kIG1hcmtlciAqL1xyXG4gICAgICAgICAgaWYgKGZyZWVIYW5kTWFya2VyKSB7XHJcbiAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50U2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLmRyYWdnYWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBzdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgcG9seWdvbjogY3JlYXRlZFNoYXBlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLyogQ2xvc2Ugb25seSB3aGVuIHRocmVzaG9sZCBpcyBhdHRhaW5lZCBmb3IgcmVndWxhciBwb2x5Z29ucyBhbmQgZnJlZWhhbmQgKi9cclxuXHJcbiAgICAgICAgICBpZiAodGhpcy5jaGVja1RocmVzaG9sZChwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgLyogQ2xvc2UgaWYgdGhyZXNob2xkIGlzIHJlYWNoZWQgKi9cclxuICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzLnNwbGljZShcclxuICAgICAgICAgICAgICAtMlxyXG4gICAgICAgICAgICApOyAvKiBSZW1vdmUgZXhpc3RpbmcgbW91c2Ugb3ZlciBwb2ludHMgKi9cclxuICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzLnB1c2goXHJcbiAgICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzWzBdLFxyXG4gICAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50c1sxXVxyXG4gICAgICAgICAgICApOyAvKiBDbG9zZSBwb2x5Z29uIHdpdGggaW5pdGFsIHBvaW50cyAqL1xyXG4gICAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKHBvbHlnb25PcHRpb25zLnBvaW50cyk7XHJcbiAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50U2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLmNsb3NlZCh0cnVlKTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLmRyYWdnYWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBzdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgcG9seWdvbjogY3JlYXRlZFNoYXBlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMuc3BsaWNlKFxyXG4gICAgICAgICAgICAgIC0yXHJcbiAgICAgICAgICAgICk7IC8qIFJlbW92ZSBleGlzdGluZyBtb3VzZSBvdmVyIHBvaW50cyAqL1xyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMucHVzaChwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLnBvaW50cyhwb2x5Z29uT3B0aW9ucy5wb2ludHMpO1xyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludFNldCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgZHJhd1BvbHlnb246IGZ1bmN0aW9uKHBvc2l0aW9uLCBmcmVlSGFuZCkge1xyXG4gICAgICAgIGlmIChjcmVhdGVkU2hhcGUpIHtcclxuICAgICAgICAgIGlmIChmcmVlSGFuZCkge1xyXG4gICAgICAgICAgICAvKiBGcmVlaGFuZCBibG9jayAqL1xyXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMucHVzaChwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcclxuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLnBvaW50cyhwb2x5Z29uT3B0aW9ucy5wb2ludHMpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLyogUG9seWdvbiBibG9jayAqL1xyXG4gICAgICAgICAgICBpZiAocG9seWdvbk9wdGlvbnMucG9pbnRTZXQpIHtcclxuICAgICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMucHVzaChwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcclxuICAgICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludFNldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGNyZWF0ZWRTaGFwZS5wb2ludHMocG9seWdvbk9wdGlvbnMucG9pbnRzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHNbcG9seWdvbk9wdGlvbnMucG9pbnRzLmxlbmd0aCAtIDJdID1cclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLng7XHJcbiAgICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzW3BvbHlnb25PcHRpb25zLnBvaW50cy5sZW5ndGggLSAxXSA9XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi55O1xyXG4gICAgICAgICAgICAgIGNyZWF0ZWRTaGFwZS5wb2ludHMocG9seWdvbk9wdGlvbnMucG9pbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZUxpbmU6IGZ1bmN0aW9uKHBvc2l0aW9uLCB0eXBlKSB7XHJcbiAgICAgICAgaWYgKGNyZWF0ZWRTaGFwZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhcnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBsaW5lOiBjcmVhdGVkU2hhcGVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbGluZTtcclxuICAgICAgICB2YXIgc2hhcGVQcm9wcyA9IHNoYXBlVG9vbHMuZ2V0KCk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgY2FzZSBcImxpbmVcIjpcclxuICAgICAgICAgICAgbGluZSA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgICAgICBuYW1lOiBcImxpbmVTaW1wbGVcIiArIHNoYXBlSWQuZ2V0Q291bnQoXCJtYXJraW5nc1wiLCBcImxpbmVcIiksXHJcbiAgICAgICAgICAgICAgcG9pbnRzOiBbcG9zaXRpb24ueCwgcG9zaXRpb24ueV0sXHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlUHJvcHMuc3Ryb2tlV2lkdGggfHwgMSxcclxuICAgICAgICAgICAgICBzdHJva2U6IHNoYXBlUHJvcHMuc3Ryb2tlIHx8IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcInNpbmdsZUFycm93XCI6XHJcbiAgICAgICAgICAgIGxpbmUgPSBuZXcgS29udmEuQXJyb3coe1xyXG4gICAgICAgICAgICAgIG5hbWU6IFwibGluZUFycm93XCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJzaW5nbGVBcnJvd1wiKSxcclxuICAgICAgICAgICAgICBwb2ludHM6IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55XSxcclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcclxuICAgICAgICAgICAgICBzdHJva2U6IHNoYXBlUHJvcHMuc3Ryb2tlIHx8IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICBmaWxsOiBzaGFwZVByb3BzLmZpbGwgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICBwb2ludGVyTGVuZ3RoOiAxMCxcclxuICAgICAgICAgICAgICBwb2ludGVyV2lkdGg6IDEwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFwiZG91YmxlQXJyb3dcIjpcclxuICAgICAgICAgICAgbGluZSA9IG5ldyBLb252YS5BcnJvdyh7XHJcbiAgICAgICAgICAgICAgbmFtZTpcclxuICAgICAgICAgICAgICAgIFwibGluZUFycm93RG91YmxlXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJkb3VibGVBcnJvd1wiKSxcclxuICAgICAgICAgICAgICBwb2ludHM6IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55XSxcclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGVQcm9wcy5zdHJva2VXaWR0aCB8fCAxLFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgIGZpbGw6IHNoYXBlUHJvcHMuZmlsbCB8fCBcImJsYWNrXCIsXHJcbiAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHBvaW50ZXJMZW5ndGg6IDEwLFxyXG4gICAgICAgICAgICAgIHBvaW50ZXJXaWR0aDogMTAsXHJcbiAgICAgICAgICAgICAgcG9pbnRlckF0QmVnaW5uaW5nOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY3JlYXRlZFNoYXBlID0gbGluZTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3RhcnQ6IHRydWUsXHJcbiAgICAgICAgICBsaW5lOiBjcmVhdGVkU2hhcGVcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICBkcmF3TGluZTogZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoY3JlYXRlZFNoYXBlKSB7XHJcbiAgICAgICAgICB2YXIgcG9pbnRzID0gY3JlYXRlZFNoYXBlLnBvaW50cygpO1xyXG4gICAgICAgICAgcG9pbnRzWzJdID0gcG9zaXRpb24ueDtcclxuICAgICAgICAgIHBvaW50c1szXSA9IHBvc2l0aW9uLnk7XHJcbiAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKHBvaW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlQmV6aWVyTGluZTogZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoY3JlYXRlZFNoYXBlKSB7XHJcbiAgICAgICAgICB2YXIgY3JlYXRlZFBvaW50cyA9IGNyZWF0ZWRTaGFwZS5wb2ludHMoKTtcclxuXHJcbiAgICAgICAgICB2YXIgcSA9IFtcclxuICAgICAgICAgICAgKGNyZWF0ZWRQb2ludHNbMl0gLSBjcmVhdGVkUG9pbnRzWzBdKSAqIDAuNSArIGNyZWF0ZWRQb2ludHNbMF0sXHJcbiAgICAgICAgICAgIChjcmVhdGVkUG9pbnRzWzNdIC0gY3JlYXRlZFBvaW50c1sxXSkgKiAwLjUgKyBjcmVhdGVkUG9pbnRzWzFdXHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIHZhciBiMSA9IFtcclxuICAgICAgICAgICAgKGNyZWF0ZWRQb2ludHNbMl0gLSBjcmVhdGVkUG9pbnRzWzBdKSAqIDAuMjUgKyBjcmVhdGVkUG9pbnRzWzBdLFxyXG4gICAgICAgICAgICAoY3JlYXRlZFBvaW50c1szXSAtIGNyZWF0ZWRQb2ludHNbMV0pICogMC4yNSArIGNyZWF0ZWRQb2ludHNbMV1cclxuICAgICAgICAgIF07XHJcbiAgICAgICAgICB2YXIgYjIgPSBbXHJcbiAgICAgICAgICAgIChjcmVhdGVkUG9pbnRzWzJdIC0gY3JlYXRlZFBvaW50c1swXSkgKiAwLjc1ICsgY3JlYXRlZFBvaW50c1swXSxcclxuICAgICAgICAgICAgKGNyZWF0ZWRQb2ludHNbM10gLSBjcmVhdGVkUG9pbnRzWzFdKSAqIDAuNzUgKyBjcmVhdGVkUG9pbnRzWzFdXHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIGNyZWF0ZWRQb2ludHMucHVzaChxWzBdLCBxWzFdKTtcclxuXHJcbiAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKGNyZWF0ZWRQb2ludHMpO1xyXG4gICAgICAgICAgY3JlYXRlZFNoYXBlLnRlbnNpb24oMS4xKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxpbmU6IGNyZWF0ZWRTaGFwZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzaGFwZVByb3BzID0gc2hhcGVUb29scy5nZXQoKTtcclxuXHJcbiAgICAgICAgdmFyIGJlemllciA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgIG5hbWU6IFwiYmV6aWVyXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJiZXppZXJcIiksXHJcbiAgICAgICAgICBsaW5lSm9pbjogXCJyb3VuZFwiLFxyXG4gICAgICAgICAgcG9pbnRzOiBbcG9zaXRpb24ueCwgcG9zaXRpb24ueV0sXHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGVQcm9wcy5zdHJva2VXaWR0aCB8fCAxLFxyXG4gICAgICAgICAgc3Ryb2tlOiBzaGFwZVByb3BzLnN0cm9rZSB8fCBcImJsYWNrXCIsXHJcbiAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBjcmVhdGVkU2hhcGUgPSBiZXppZXI7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdGFydDogdHJ1ZSxcclxuICAgICAgICAgIGxpbmU6IGNyZWF0ZWRTaGFwZVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkcmF3QmV6aWVyTGluZTogZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoY3JlYXRlZFNoYXBlKSB7XHJcbiAgICAgICAgICB2YXIgcG9pbnRzID0gY3JlYXRlZFNoYXBlLnBvaW50cygpO1xyXG4gICAgICAgICAgcG9pbnRzWzJdID0gcG9zaXRpb24ueDtcclxuICAgICAgICAgIHBvaW50c1szXSA9IHBvc2l0aW9uLnk7XHJcbiAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKHBvaW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gdGV4dFxyXG5cclxuICAgICAgY3JlYXRlVGV4dDogZnVuY3Rpb24ocHJvcHMpIHtcclxuICAgICAgICB2YXIgdGV4dFNoYXBlID0gbmV3IEtvbnZhLlRleHQoe1xyXG4gICAgICAgICAgeDogcHJvcHMucG9zaXRpb24ueCxcclxuICAgICAgICAgIHk6IHByb3BzLnBvc2l0aW9uLnksXHJcbiAgICAgICAgICBuYW1lOiBcInRleHRcIixcclxuICAgICAgICAgIHRleHQ6IFwiUGxhY2Vob2xkZXIgdGV4dFwiLFxyXG4gICAgICAgICAgd2lkdGg6IHByb3BzLndpZHRoLFxyXG4gICAgICAgICAgZm9udFNpemU6IDE2LFxyXG4gICAgICAgICAgZm9udEZhbWlseTogXCJDYWxpYnJpXCIsXHJcbiAgICAgICAgICBmaWxsOiBcImJsYWNrXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGV4dFNoYXBlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlVGV4dEdyb3VwOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGV4dEdyb3VwID0gbmV3IEtvbnZhLkdyb3VwKHtcclxuICAgICAgICAgIG5hbWU6IFwidGV4dEdyb3VwXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJ0ZXh0XCIpLFxyXG4gICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0ZXh0R3JvdXA7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBjYWxpYnJhdG9yIGZ1bmN0aW9uXHJcbiAgICAgIGNhbGlicmF0b3I6IGZ1bmN0aW9uKHN0YWdlLCBsYXllcikge1xyXG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcclxuICAgICAgICB2YXIgaXNEb25lID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGluaXQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBsaW5lO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihwb3NpdGlvbiwgc2V0LCBraWxsKSB7XHJcbiAgICAgICAgICAvLyBraWxsbGluZyB0aGUgZnVuY3Rpb25cclxuXHJcbiAgICAgICAgICBpZiAoa2lsbCkge1xyXG4gICAgICAgICAgICBsaW5lLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIHg6IHBvc2l0aW9uLnggLyBzdGFnZS5zY2FsZSgpLngsXHJcbiAgICAgICAgICAgIHk6IHBvc2l0aW9uLnkgLyBzdGFnZS5zY2FsZSgpLnlcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaWYgKCFpc0RvbmUpIHtcclxuICAgICAgICAgICAgaWYgKGluaXQgJiYgc2V0KSB7XHJcbiAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XHJcbiAgICAgICAgICAgICAgbGluZSA9IG5ldyBLb252YS5MaW5lKHtcclxuICAgICAgICAgICAgICAgIHBvaW50czogcG9pbnRzLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogXCJncmV5XCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgZGFzaDogWzUsIDFdXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgaW5pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGxheWVyLmFkZChsaW5lKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaW5pdCkge1xyXG4gICAgICAgICAgICAgIGlmIChzZXQpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50c1syXSA9IHBvc2l0aW9uLng7XHJcbiAgICAgICAgICAgICAgICBwb2ludHNbM10gPSBwb3NpdGlvbi55O1xyXG4gICAgICAgICAgICAgICAgbGluZS5wb2ludHMocG9pbnRzKTtcclxuICAgICAgICAgICAgICAgIGlzRG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJjYWxpYnJhdGVkXCIsIGxpbmUpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludHNbMl0gPSBwb3NpdGlvbi54O1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzWzNdID0gcG9zaXRpb24ueTtcclxuICAgICAgICAgICAgICAgIGxpbmUucG9pbnRzKHBvaW50cyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsYXllci5kcmF3KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNoZWNrVGhyZXNob2xkOiBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHZhciBwcm94aW1pdHkgPSAxMDtcclxuICAgICAgICAvLyBjYWx1bGF0aW9uIHRvIGlkZW50aWZ5IHRoZSBwcm94aW1pdHkgdG8gY2xvc2UgdGhlIHBvbHlnb25cclxuICAgICAgICB2YXIgeFVwcGVyVGhyZXNob2xkID0gcG9seWdvbk9wdGlvbnMucG9pbnRzWzBdICsgcHJveGltaXR5O1xyXG4gICAgICAgIHZhciB5VXBwZXJUaHJlc2hvbGQgPSBwb2x5Z29uT3B0aW9ucy5wb2ludHNbMV0gKyBwcm94aW1pdHk7XHJcbiAgICAgICAgdmFyIHhMb3dlclRocmVzaG9sZCA9IHBvbHlnb25PcHRpb25zLnBvaW50c1swXSAtIHByb3hpbWl0eTtcclxuICAgICAgICB2YXIgeUxvd2VyVGhyZXNob2xkID0gcG9seWdvbk9wdGlvbnMucG9pbnRzWzFdIC0gcHJveGltaXR5O1xyXG4gICAgICAgIHJldHVybiB4VXBwZXJUaHJlc2hvbGQgPiBwb3NpdGlvbi54ICYmXHJcbiAgICAgICAgICB4TG93ZXJUaHJlc2hvbGQgPCBwb3NpdGlvbi54ICYmXHJcbiAgICAgICAgICAoeVVwcGVyVGhyZXNob2xkID4gcG9zaXRpb24ueSAmJiB5TG93ZXJUaHJlc2hvbGQgPCBwb3NpdGlvbi55KVxyXG4gICAgICAgICAgPyB0cnVlXHJcbiAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogRXh0cmFjdCBhbGwgc2hhcGVzICovXHJcbiAgICAgIGV4dHJhY3RBbGxTaGFwZXM6IGZ1bmN0aW9uKGxheWVyKSB7XHJcbiAgICAgICAgdmFyIGFsbFNoYXBlcyA9IGxheWVyLmZpbmQoXCJHcm91cFwiKS5yZWR1Y2UoZnVuY3Rpb24oYWNjLCB4KSB7XHJcbiAgICAgICAgICBpZiAoL3Byb2Nlc3MqLy50ZXN0KHgubmFtZSgpKSkge1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goeC5nZXRDaGlsZHJlbigpLCBmdW5jdGlvbihjaGlsZCkge1xyXG4gICAgICAgICAgICAgIGFjYy5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIH0sIFtdKTtcclxuICAgICAgICByZXR1cm4gYWxsU2hhcGVzO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2VsZWN0U2hhcGVzOiBmdW5jdGlvbihsYXllciwgcG9pbnRzKSB7XHJcbiAgICAgICAgdmFyIGFsbFNoYXBlcyA9IHRoaXMuZXh0cmFjdEFsbFNoYXBlcyhsYXllcik7XHJcblxyXG4gICAgICAgIHZhciBwMSA9IFtwb2ludHNbMF0sIHBvaW50c1sxXV07XHJcbiAgICAgICAgdmFyIHAyID0gW3BvaW50c1s0XSwgcG9pbnRzWzVdXTtcclxuXHJcbiAgICAgICAgdmFyIG1pbiA9IHtcclxuICAgICAgICAgIHg6IHBvaW50c1swXSA+IHBvaW50c1s0XSA/IHBvaW50c1s0XSA6IHBvaW50c1swXSxcclxuICAgICAgICAgIHk6IHBvaW50c1sxXSA+IHBvaW50c1s1XSA/IHBvaW50c1s1XSA6IHBvaW50c1sxXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBtYXggPSB7XHJcbiAgICAgICAgICB4OiBwb2ludHNbMF0gPCBwb2ludHNbNF0gPyBwb2ludHNbNF0gOiBwb2ludHNbMF0sXHJcbiAgICAgICAgICB5OiBwb2ludHNbMV0gPCBwb2ludHNbNV0gPyBwb2ludHNbNV0gOiBwb2ludHNbMV1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgY2hlY2tTZWxlY3Rpb24gPSB0aGlzLmNoZWNrU2VsZWN0aW9uO1xyXG4gICAgICAgIHZhciBzZWxlY3RlZFNoYXBlcyA9IGFsbFNoYXBlcy5maWx0ZXIoZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgdmFyIHNoYXBlTmFtZSA9IHgubmFtZSgpO1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAvUmVjdCovLnRlc3Qoc2hhcGVOYW1lKSB8fFxyXG4gICAgICAgICAgICAvcG9seWdvbiovLnRlc3Qoc2hhcGVOYW1lKSB8fFxyXG4gICAgICAgICAgICAvZnJlZUhhbmQqLy50ZXN0KHNoYXBlTmFtZSkgfHxcclxuICAgICAgICAgICAgL21hcmtlckZyZWVIYW5kLy50ZXN0KHNoYXBlTmFtZSlcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgcG9pbnRzID0geC5wb2ludHMoKTtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uT2Zmc2V0ID0geC5wb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC0gMjsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgLy8gaWdub3JlIHRoZSBsYXN0IHBhaXIgc2luY2UgaXQncyBzaW1pbGFyIHRvIHRoZSBmaXJzdCBwYWlyXHJcbiAgICAgICAgICAgICAgdmVydGljZXMucHVzaChbXHJcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0gKyBwb3NpdGlvbk9mZnNldC54LFxyXG4gICAgICAgICAgICAgICAgcG9pbnRzW2kgKyAxXSArIHBvc2l0aW9uT2Zmc2V0LnlcclxuICAgICAgICAgICAgICBdKTsgLy8gY2h1bmtpZnkgYW5kIG9mZnNldCBwb2ludHMgcG9pbnRzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogQ2hlY2tzIGlmIGEgc2hhcGUgaXMgc2VsZWN0ZWQgYW5kIHJldHVybnMgQm9vbGVhbiAqL1xyXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tTZWxlY3Rpb24oXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbWluOiBtaW4sXHJcbiAgICAgICAgICAgICAgICBtYXg6IG1heFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgdmVydGljZXMsXHJcbiAgICAgICAgICAgICAgXCJyZWN0YW5nbGVcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICgvbGluZSovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgICB2YXIgcG9pbnRzID0geC5wb2ludHMoKTtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uT2Zmc2V0ID0geC5wb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAvLyBpZ25vcmUgdGhlIGxhc3QgcGFpciBzaW5jZSBpdCdzIHNpbWlsYXIgdG8gdGhlIGZpcnN0IHBhaXJcclxuICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKFtcclxuICAgICAgICAgICAgICAgIHBvaW50c1tpXSArIHBvc2l0aW9uT2Zmc2V0LngsXHJcbiAgICAgICAgICAgICAgICBwb2ludHNbaSArIDFdICsgcG9zaXRpb25PZmZzZXQueVxyXG4gICAgICAgICAgICAgIF0pOyAvLyBjaHVua2lmeSBhbmQgb2Zmc2V0IHBvaW50cyBwb2ludHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBDaGVja3MgaWYgYSBzaGFwZSBpcyBzZWxlY3RlZCBhbmQgcmV0dXJucyBCb29sZWFuICovXHJcbiAgICAgICAgICAgIHJldHVybiBjaGVja1NlbGVjdGlvbihcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcclxuICAgICAgICAgICAgICAgIG1heDogbWF4XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB2ZXJ0aWNlcyxcclxuICAgICAgICAgICAgICBcInJlY3RhbmdsZVwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKC9FbGxpcHNlKi8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGVja1NlbGVjdGlvbihcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcclxuICAgICAgICAgICAgICAgIG1heDogbWF4XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB4LnBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgXCJlbGxpcHNlXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIHJldHVybiBvbmx5IG5hbWVzIG9mIHRob3NlIHNoYXBlcyAqL1xyXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFNoYXBlcztcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNoZWNrU2VsZWN0aW9uOiBmdW5jdGlvbihyYW5nZSwgcHJvcCwgdHlwZSkge1xyXG4gICAgICAgIC8qIFNlbGVjdGlvbiBsb2dpYyBmb3IgcmVjdGFuZ2xlICovXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFwicmVjdGFuZ2xlXCIpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgcHJvcFtpXVswXSA+PSByYW5nZS5taW4ueCAmJlxyXG4gICAgICAgICAgICAgIHByb3BbaV1bMF0gPD0gcmFuZ2UubWF4LnggJiYgLy8geCAtIGF4aXNcclxuICAgICAgICAgICAgICAocHJvcFtpXVsxXSA+PSByYW5nZS5taW4ueSAmJiBwcm9wW2ldWzFdIDw9IHJhbmdlLm1heC55KSAvLyB5IC0gYXhpc1xyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBTZWxlY3Rpb24gbG9naWMgZm9yIGVsbGlwc2UgKi9cclxuICAgICAgICBpZiAodHlwZSA9PT0gXCJlbGxpcHNlXCIpIHtcclxuICAgICAgICAgIC8vIENvbXBhcmluZyB3aXRoIGNlbnRlciBwb3NpdGlvbnNcclxuICAgICAgICAgIHJldHVybiBwcm9wLnggPj0gcmFuZ2UubWluLnggJiZcclxuICAgICAgICAgIHByb3AueCA8PSByYW5nZS5tYXgueCAmJiAvLyB4IC0gYXhpc1xyXG4gICAgICAgICAgICAocHJvcC55ID49IHJhbmdlLm1pbi55ICYmIHByb3AueSA8PSByYW5nZS5tYXgueSkgLy8gLWF4aXNcclxuICAgICAgICAgICAgPyB0cnVlXHJcbiAgICAgICAgICAgIDogZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwidG9vbHNWUEZhY3RvcnlcIiwgdG9vbHNWUEZhY3RvcnkpO1xyXG5cclxuICAvKiogQG5nSW5qZWN0ICovXHJcbiAgZnVuY3Rpb24gdG9vbHNWUEZhY3RvcnkoJHJvb3RTY29wZSwgZXZlbnRzVlBGYWN0b3J5KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvLyBSZXR1cm5zIGFyZWEgb2YgcG9seWdvblxyXG4gICAgICAvKiBcclxuICAgICAgICBAcGFyYW0gcG9pbnRzID0gQXJyYXksIHNjYWxlID0gTnVtYmVyXHJcbiAgICAgICAgQHJldHVybiBOdW1iZXJcclxuICAgICAgKi9cclxuICAgICAgcG9seWdvbkFyZWE6IGZ1bmN0aW9uKHBvaW50cywgc2NhbGUpIHtcclxuICAgICAgICB2YXIgZGV0ID0gMDtcclxuICAgICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICAgIHZhciBjaHVua2VkQXJyYXkgPSBbXTtcclxuICAgICAgICB2YXIgY2h1bmsgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGNodW5rLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgY2h1bmsucHVzaChwb2ludHNbaV0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2h1bmtlZEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgIHg6IGNodW5rWzBdLFxyXG4gICAgICAgICAgICAgIHk6IGNodW5rWzFdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjaHVuayA9IFtdO1xyXG4gICAgICAgICAgICBjaHVuay5wdXNoKHBvaW50c1tpXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsID0gY2h1bmtlZEFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKGNodW5rZWRBcnJheVswXSAhPSBjaHVua2VkQXJyYXlbY2h1bmtlZEFycmF5Lmxlbmd0aCAtIDFdKVxyXG4gICAgICAgICAgY2h1bmtlZEFycmF5ID0gY2h1bmtlZEFycmF5LmNvbmNhdChjaHVua2VkQXJyYXlbMF0pO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKylcclxuICAgICAgICAgIGRldCArPVxyXG4gICAgICAgICAgICBjaHVua2VkQXJyYXlbaV0ueCAqIGNodW5rZWRBcnJheVtpICsgMV0ueSAtXHJcbiAgICAgICAgICAgIGNodW5rZWRBcnJheVtpXS55ICogY2h1bmtlZEFycmF5W2kgKyAxXS54O1xyXG5cclxuICAgICAgICBpZiAoc2NhbGUpIHtcclxuICAgICAgICAgIHJlc3VsdCA9IChNYXRoLmFicyhkZXQpIC8gMikgKiBzY2FsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzdWx0ID0gTWF0aC5hYnMoZGV0KSAvIDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBOdW1iZXIucGFyc2VGbG9hdChyZXN1bHQpLnRvRml4ZWQoMik7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBhcmVhIG9mIHJlY3RhbmdsZVxyXG5cclxuICAgICAgcmVjdGFuZ2xlQXJlYTogZnVuY3Rpb24oaGVpZ2h0LCB3aWR0aCwgc2NhbGUpIHtcclxuICAgICAgICB2YXIgYXJlYSA9IGhlaWdodCAqIHdpZHRoICogc2NhbGU7XHJcbiAgICAgICAgcmV0dXJuIGFyZWE7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBSZXR1cm4gYXJlYSBvZiBlbGxpcHNlXHJcbiAgICAgIGVsbGlwc2VBcmVhOiBmdW5jdGlvbihyYWRpaSwgc2NhbGUpIHtcclxuICAgICAgICB2YXIgYXJlYSA9IE1hdGguUEkgKiByYWRpaS54ICogcmFkaWkueTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gc2NhbGUgPyBhcmVhICogc2NhbGUgOiBhcmVhO1xyXG4gICAgICAgIHJldHVybiBOdW1iZXIucGFyc2VGbG9hdChyZXN1bHQpLnRvRml4ZWQoMik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBlbGxpcHNlVHJhbnNmb21lcjogZnVuY3Rpb24oc3RhZ2UsIGxheWVyLCBlbGxpcHNlKSB7XHJcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XHJcbiAgICAgICAgdmFyIHNldCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBncm91cCA9IG5ldyBLb252YS5Hcm91cCh7XHJcbiAgICAgICAgICBuYW1lOiBcInRyYW5zZm9ybWVyc1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24ocmFkaXVzKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGxpcHNlUG9zaXRpb24gPSBlbGxpcHNlLnBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goXHJcbiAgICAgICAgICAgICAgW2VsbGlwc2VQb3NpdGlvbi54IC0gcmFkaXVzLngsIGVsbGlwc2VQb3NpdGlvbi55XSxcclxuICAgICAgICAgICAgICBbZWxsaXBzZVBvc2l0aW9uLnggKyByYWRpdXMueCwgZWxsaXBzZVBvc2l0aW9uLnldLFxyXG4gICAgICAgICAgICAgIFtlbGxpcHNlUG9zaXRpb24ueCwgZWxsaXBzZVBvc2l0aW9uLnkgKyByYWRpdXMueV0sXHJcbiAgICAgICAgICAgICAgW2VsbGlwc2VQb3NpdGlvbi54LCBlbGxpcHNlUG9zaXRpb24ueSAtIHJhZGl1cy55XVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB2YXIgaW5jID0gMDtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZlcnRpY2VzLCBmdW5jdGlvbih4LCAkaW5kZXgpIHtcclxuICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gbmV3IEtvbnZhLkNpcmNsZSh7XHJcbiAgICAgICAgICAgICAgICB4OiB4WzBdLFxyXG4gICAgICAgICAgICAgICAgeTogeFsxXSxcclxuICAgICAgICAgICAgICAgIHJhZGl1czogNSAvIGxheWVyLnNjYWxlWCgpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTpcclxuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYykudG9TdHJpbmcoKSArXHJcbiAgICAgICAgICAgICAgICAgIFwiLFwiICtcclxuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYyArIDEpLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAvKiBBc3NpZ24gbmFtZXMgYXMgY28tb3JkaW5hdGVzICovXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBcIndoaXRlXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzIC8gbGF5ZXIuc2NhbGVYKCksXHJcbiAgICAgICAgICAgICAgICBkcmFnQm91bmRGdW5jOiBmdW5jdGlvbihwb3MpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB4OiAkaW5kZXggPiAxID8gdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkueCA6IHBvcy54LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6ICRpbmRleCA8PSAxID8gdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkueSA6IHBvcy55XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgaW5jKys7XHJcbiAgICAgICAgICAgICAgdmFyIGNpcmNsZUV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKGNpcmNsZSk7XHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJkcmFnbW92ZS50cmFuc2Zvcm1lclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1JhZGl1cyA9IGVsbGlwc2UucmFkaXVzKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRWZXJ0ZXggPSBjaXJjbGUubmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzTmVnYXRpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VsZWN0ZWRWZXJ0ZXgpIHtcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcIjAsMVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlzTmVnYXRpdmUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS5wb3NpdGlvbigpLnggLSBjaXJjbGUueCgpIDwgMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLnJhZGl1cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICB4OiBNYXRoLmFicyhlbGxpcHNlLnBvc2l0aW9uKCkueCAtIGNpcmNsZS54KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgeTogcHJldmlvdXNSYWRpdXMueVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjIsM1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueChlbGxpcHNlLnBvc2l0aW9uKCkueCArIGVsbGlwc2UucmFkaXVzKCkueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei54KGVsbGlwc2UucG9zaXRpb24oKS54IC0gZWxsaXBzZS5yYWRpdXMoKS54KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiMiwzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgaXNOZWdhdGl2ZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLnBvc2l0aW9uKCkueCAtIGNpcmNsZS54KCkgPCAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsbGlwc2UucmFkaXVzKHtcclxuICAgICAgICAgICAgICAgICAgICAgIHg6IE1hdGguYWJzKGVsbGlwc2UucG9zaXRpb24oKS54IC0gY2lyY2xlLngoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICB5OiBwcmV2aW91c1JhZGl1cy55XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGdyb3VwLmNoaWxkcmVuLCBmdW5jdGlvbih6KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoei5uYW1lKCkgPT09IFwiMCwxXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05lZ2F0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei54KGVsbGlwc2UucG9zaXRpb24oKS54ICsgZWxsaXBzZS5yYWRpdXMoKS54KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB6LngoZWxsaXBzZS5wb3NpdGlvbigpLnggLSBlbGxpcHNlLnJhZGl1cygpLngpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCI0LDVcIjpcclxuICAgICAgICAgICAgICAgICAgICBpc05lZ2F0aXZlID1cclxuICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc2UucG9zaXRpb24oKS55IC0gY2lyY2xlLnkoKSA8IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS5yYWRpdXMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgeDogcHJldmlvdXNSYWRpdXMueCxcclxuICAgICAgICAgICAgICAgICAgICAgIHk6IE1hdGguYWJzKGVsbGlwc2UucG9zaXRpb24oKS55IC0gY2lyY2xlLnkoKSlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZ3JvdXAuY2hpbGRyZW4sIGZ1bmN0aW9uKHopIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI2LDdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmVnYXRpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB6LnkoZWxsaXBzZS5wb3NpdGlvbigpLnkgKyBlbGxpcHNlLnJhZGl1cygpLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShlbGxpcHNlLnBvc2l0aW9uKCkueSAtIGVsbGlwc2UucmFkaXVzKCkueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcIjYsN1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlzTmVnYXRpdmUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS5wb3NpdGlvbigpLnkgLSBjaXJjbGUueSgpIDwgMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLnJhZGl1cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICB4OiBwcmV2aW91c1JhZGl1cy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5hYnMoZWxsaXBzZS5wb3NpdGlvbigpLnkgLSBjaXJjbGUueSgpKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjQsNVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShlbGxpcHNlLnBvc2l0aW9uKCkueSArIGVsbGlwc2UucmFkaXVzKCkueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei55KGVsbGlwc2UucG9zaXRpb24oKS55IC0gZWxsaXBzZS5yYWRpdXMoKS55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsbGlwc2UuZmlyZShcInRyYW5zZm9ybUVsbGlwc2VcIik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIC8qIFNjYWxlIHRyYW5zZm9tZXIgYmFzZWQgb24gem9vbSAqL1xyXG5cclxuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcInNjYWxlT25ab29tXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJhZGl1cyg1IC8gbGF5ZXIuc2NhbGVYKCkpO1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuc3Ryb2tlV2lkdGgoMyAvIGxheWVyLnNjYWxlWCgpKTtcclxuICAgICAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJtb3ZlXCI7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgZ3JvdXAuYWRkKGNpcmNsZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbGxpcHNlLmZpcmUoXCJ0cmFuc2Zvcm1FbGxpcHNlXCIpO1xyXG5cclxuICAgICAgICAgICAgc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGF5ZXIuYWRkKGdyb3VwKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xyXG4gICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICBnZXRHcm91cDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZ3JvdXAuZGVzdHJveSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKiBDdXN0b20gdHJhbnNmb3JtZXIgZm9yIHBvbHlnb24gKi9cclxuICAgICAgY3VzdG9tVHJhbnNmb3JtZXI6IGZ1bmN0aW9uKHN0YWdlLCBsYXllciwgcG9seWdvbiwgaXNSZWN0YW5nbGUpIHtcclxuICAgICAgICAvKiBDaGFuZ2UgdHJhbnNmb3JtZXIgYmVoYXZpb3VzIGJhc2VkIG9uIGlzUmVjdGFuZ2xlIHBhcmFtZXRlciAqL1xyXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xyXG4gICAgICAgIHZhciBzZXQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgZ3JvdXAgPSBuZXcgS29udmEuR3JvdXAoe1xyXG4gICAgICAgICAgbmFtZTogXCJ0cmFuc2Zvcm1lcnNcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBwb2x5Z29uID0gcG9seWdvbjtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLy8gbWV0aG9kIHRvIHNldCB0aGUgcG9pbnRzXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHBvaW50cykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLSAyOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAvLyBpZ25vcmUgdGhlIGxhc3QgcGFpciBzaW5jZSBpdCdzIHNpbWlsYXIgdG8gdGhlIGZpcnN0IHBhaXJcclxuICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKFtwb2ludHNbaV0sIHBvaW50c1tpICsgMV1dKTsgLy8gY2h1bmtpZnkgcG9pbnRzXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIENvdW50ZXIgdG8gZ2VuZXJhdGUgY2lyY2xlIG5hbWVzIHRvIG1hcCB0aGVtIHdpdGggY28tb3JkaW5hdGVzICovXHJcbiAgICAgICAgICAgIHZhciBpbmMgPSAwO1xyXG5cclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZlcnRpY2VzLCBmdW5jdGlvbih4LCAkaW5kZXgpIHtcclxuICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gbmV3IEtvbnZhLkNpcmNsZSh7XHJcbiAgICAgICAgICAgICAgICB4OiB4WzBdLFxyXG4gICAgICAgICAgICAgICAgeTogeFsxXSxcclxuICAgICAgICAgICAgICAgIHJhZGl1czogNSAvIGxheWVyLnNjYWxlWCgpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTpcclxuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYykudG9TdHJpbmcoKSArXHJcbiAgICAgICAgICAgICAgICAgIFwiLFwiICtcclxuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYyArIDEpLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAvKiBBc3NpZ24gbmFtZXMgYXMgY28tb3JkaW5hdGVzICovXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBcIndoaXRlXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzIC8gbGF5ZXIuc2NhbGVYKCksXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBpbmMrKztcclxuXHJcbiAgICAgICAgICAgICAgLyogUmVnaXN0ZXIgZHJhZ21vdmUgZXZlbnRzIGZvciB0aGUgdHJhbnNmb3JtZXIncyB2ZXJ0ZXggKi9cclxuICAgICAgICAgICAgICB2YXIgY2lyY2xlRXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoY2lyY2xlKTtcclxuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcImRyYWdtb3ZlLnRyYW5zZm9ybWVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1JlY3RhbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgICAvKiBCaW5kIG90aGVyIHZlcnRpY2VzIGZvciByZWN0YW5nbGUgKi9cclxuICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkVmVydGV4ID0gY2lyY2xlLm5hbWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8qIEZpbmQgeCBhbmQgeSBoaW5nZXMgYmFzZWQgdXBvbiBkaWFnb25hbCBoaW5nZSAqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgc3dpdGNoIChzZWxlY3RlZFZlcnRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIwLDFcIjpcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gW2NpcmNsZS54KCksIGNpcmNsZS55KCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbMV1bMV0gPSBjaXJjbGUueSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbM11bMF0gPSBjaXJjbGUueCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGdyb3VwLmNoaWxkcmVuLCBmdW5jdGlvbih6KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHggLSBjaXJjbGUgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjYsN1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei54KGNpcmNsZS54KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHkgLSBjaXJjbGUgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjIsM1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei55KGNpcmNsZS55KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMiwzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IFtjaXJjbGUueCgpLCBjaXJjbGUueSgpXTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdWzFdID0gY2lyY2xlLnkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzJdWzBdID0gY2lyY2xlLngoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB4IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI0LDVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueChjaXJjbGUueCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB5IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCIwLDFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShjaXJjbGUueSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNCw1XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IFtjaXJjbGUueCgpLCBjaXJjbGUueSgpXTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzNdWzFdID0gY2lyY2xlLnkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzFdWzBdID0gY2lyY2xlLngoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB4IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCIyLDNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueChjaXJjbGUueCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB5IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI2LDdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShjaXJjbGUueSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNiw3XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1szXSA9IFtjaXJjbGUueCgpLCBjaXJjbGUueSgpXTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzJdWzFdID0gY2lyY2xlLnkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdWzBdID0gY2lyY2xlLngoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB4IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCIwLDFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueChjaXJjbGUueCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB5IC0gY2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI0LDVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShjaXJjbGUueSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgLyogSWdub3JlIG90aGVyIGNpcmNsZXMgZm9yIHBvbHlnb24gKi9cclxuICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGdyb3VwLmNoaWxkcmVuLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKFt4LngoKSwgeC55KCldKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gYW5ndWxhci5jb3B5KHRlbXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcG9seWdvbi5maXJlKFwidHJhbnNmb3JtUG9seWdvblwiKTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgLyogU2NhbGUgdHJhbnNmb21lciBiYXNlZCBvbiB6b29tICovXHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJzY2FsZU9uWm9vbVwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5yYWRpdXMoNSAvIGxheWVyLnNjYWxlWCgpKTtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0cm9rZVdpZHRoKDMgLyBsYXllci5zY2FsZVgoKSk7XHJcbiAgICAgICAgICAgICAgICBsYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIGNpcmNsZUV2ZW50LnJlZ2lzdGVyKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwibW92ZVwiO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGNpcmNsZUV2ZW50LnJlZ2lzdGVyKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGdyb3VwLmFkZChjaXJjbGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNldCA9IHRydWU7XHJcbiAgICAgICAgICAgIGxheWVyLmFkZChncm91cCk7XHJcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyB1cGRhdGUgdHJhbnNmb3JtZXIgcG9zaXRpb24gd2hlbiBzaGFwZSBpcyBtb3ZlZFxyXG4gICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihvZmZzZXQpIHtcclxuICAgICAgICAgICAgZ3JvdXAueChvZmZzZXQueCk7XHJcbiAgICAgICAgICAgIGdyb3VwLnkob2Zmc2V0LnkpO1xyXG4gICAgICAgICAgICBsYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0UG9pbnRzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlcnRpY2VzLnJlZHVjZShmdW5jdGlvbihhY2MsIHgsIGkpIHtcclxuICAgICAgICAgICAgICBhY2MucHVzaCh4WzBdLCB4WzFdKTtcclxuICAgICAgICAgICAgICBpZiAoaSA9PT0gdmVydGljZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW5jbHVkZSB0aGUgc3RhcnQgdmVydGV4IHR3aWNlIHRvIGNvbXBsZXRlIHRoZSBwb2x5Z29uXHJcbiAgICAgICAgICAgICAgICBhY2MucHVzaCh2ZXJ0aWNlc1swXSwgdmVydGljZXNbMV0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBbXSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0R3JvdXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ3JvdXA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qIEJlemllciBUcmFuc2Zvcm1lciAqL1xyXG5cclxuICAgICAgYmV6aWVyVHJhbnNmb3JtZXI6IGZ1bmN0aW9uKHN0YWdlLCBsYXllciwgYmV6aWVyKSB7XHJcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XHJcbiAgICAgICAgdmFyIHNldCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBncm91cCA9IG5ldyBLb252YS5Hcm91cCh7XHJcbiAgICAgICAgICBuYW1lOiBcInRyYW5zZm9ybWVyc1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGJlemllciA9IGJlemllcjtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLy8gbWV0aG9kIHRvIHNldCB0aGUgcG9pbnRzXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHBvaW50cykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goW3BvaW50c1tpXSwgcG9pbnRzW2kgKyAxXV0pOyAvLyBjaHVua2lmeSBwb2ludHNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyogQ291bnRlciB0byBnZW5lcmF0ZSBjaXJjbGUgbmFtZXMgdG8gbWFwIHRoZW0gd2l0aCBjby1vcmRpbmF0ZXMgKi9cclxuICAgICAgICAgICAgdmFyIGluYyA9IDA7XHJcblxyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godmVydGljZXMsIGZ1bmN0aW9uKHgsICRpbmRleCkge1xyXG4gICAgICAgICAgICAgIHZhciBjaXJjbGUgPSBuZXcgS29udmEuQ2lyY2xlKHtcclxuICAgICAgICAgICAgICAgIHg6IHhbMF0sXHJcbiAgICAgICAgICAgICAgICB5OiB4WzFdLFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiA1IC8gbGF5ZXIuc2NhbGVYKCksXHJcbiAgICAgICAgICAgICAgICBuYW1lOlxyXG4gICAgICAgICAgICAgICAgICAoJGluZGV4ICsgaW5jKS50b1N0cmluZygpICtcclxuICAgICAgICAgICAgICAgICAgXCIsXCIgK1xyXG4gICAgICAgICAgICAgICAgICAoJGluZGV4ICsgaW5jICsgMSkudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIC8qIEFzc2lnbiBuYW1lcyBhcyBjby1vcmRpbmF0ZXMgKi9cclxuICAgICAgICAgICAgICAgIGZpbGw6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDMgLyBsYXllci5zY2FsZVgoKSxcclxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGluYysrO1xyXG5cclxuICAgICAgICAgICAgICAvKiBSZWdpc3RlciBkcmFnbW92ZSBldmVudHMgZm9yIHRoZSB0cmFuc2Zvcm1lcidzIHZlcnRleCAqL1xyXG4gICAgICAgICAgICAgIHZhciBjaXJjbGVFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhjaXJjbGUpO1xyXG4gICAgICAgICAgICAgIGNpcmNsZUV2ZW50LnJlZ2lzdGVyKFwiZHJhZ21vdmUudHJhbnNmb3JtZXJcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goW3gueCgpLCB4LnkoKV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IGFuZ3VsYXIuY29weSh0ZW1wKTtcclxuICAgICAgICAgICAgICAgIGJlemllci5maXJlKFwidHJhbnNmb3JtQmV6aWVyXCIpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAvKiBTY2FsZSB0cmFuc2ZvbWVyIGJhc2VkIG9uIHpvb20gKi9cclxuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcInNjYWxlT25ab29tXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJhZGl1cyg1IC8gbGF5ZXIuc2NhbGVYKCkpO1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuc3Ryb2tlV2lkdGgoMyAvIGxheWVyLnNjYWxlWCgpKTtcclxuICAgICAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJtb3ZlXCI7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgZ3JvdXAuYWRkKGNpcmNsZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGF5ZXIuYWRkKGdyb3VwKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIC8vIHVwZGF0ZSB0cmFuc2Zvcm1lciBwb3NpdGlvbiB3aGVuIHNoYXBlIGlzIG1vdmVkXHJcbiAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKG9mZnNldCkge1xyXG4gICAgICAgICAgICBncm91cC54KG9mZnNldC54KTtcclxuICAgICAgICAgICAgZ3JvdXAueShvZmZzZXQueSk7XHJcbiAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRQb2ludHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmVydGljZXMucmVkdWNlKGZ1bmN0aW9uKGFjYywgeCwgaSkge1xyXG4gICAgICAgICAgICAgIGFjYy5wdXNoKHhbMF0sIHhbMV0pO1xyXG4gICAgICAgICAgICAgIGlmIChpID09PSB2ZXJ0aWNlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbmNsdWRlIHRoZSBzdGFydCB2ZXJ0ZXggdHdpY2UgdG8gY29tcGxldGUgdGhlIHBvbHlnb25cclxuICAgICAgICAgICAgICAgIGFjYy5wdXNoKHZlcnRpY2VzWzBdLCB2ZXJ0aWNlc1sxXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFtdKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRHcm91cDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gZnVuY3Rpb24gdG8gc2NhbGUgdHJhbnNmb3JtZXIgYmFzZWQgb24gem9vbVxyXG5cclxuICAgICAgc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tOiBmdW5jdGlvbihiYXNlTGF5ZXIpIHtcclxuICAgICAgICB2YXIgdHJhbnNmb3JtZXJHcm91cCA9IGJhc2VMYXllci5maW5kKFwiLnRyYW5zZm9ybWVyc1wiKTtcclxuICAgICAgICBpZiAodHJhbnNmb3JtZXJHcm91cC5sZW5ndGgpIHtcclxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0cmFuc2Zvcm1lckdyb3VwWzBdLmdldENoaWxkcmVuKCksIGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLmZpcmUoXCJzY2FsZU9uWm9vbVwiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIG1ldHJpY3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzaGFwZUluZm87XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZXRTaGFwZUluZm86IGZ1bmN0aW9uKGluZm8pIHtcclxuICAgICAgICAgICAgc2hhcGVJbmZvID0gaW5mbztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRTaGFwZUluZm86IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2hhcGVJbmZvO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjb2xvclBpY2tlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHByb3BzID0ge1xyXG4gICAgICAgICAgc3Ryb2tlOiBcImJsYWNrXCIsXHJcbiAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgZmlsbDogXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogMVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICBwcm9wcyA9IE9iamVjdC5hc3NpZ24ocHJvcHMsIG9iaik7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbihwcm9wKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wID8gcHJvcHNbcHJvcF0gOiBwcm9wcztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJfM2REYXNoYm9hcmRDdHJsXCIsIF8zZERhc2hib2FyZEN0cmwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIF8zZERhc2hib2FyZEN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgTmdNYXBcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgICAgdm0ubG9nZ2VkSW4gPSB0cnVlXHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCB0aHJvdHRsZXIgfSA9IGdsb2JhbHM7XHJcblxyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgdm0ubG9nZ2VkSW4gPSBmYWxzZVxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIl8zZHZpZXdlckN0cmxcIiwgXzNkdmlld2VyQ3RybCk7XHJcblxyXG4gICAgZnVuY3Rpb24gXzNkdmlld2VyQ3RybChcclxuICAgICAgICAkc2NvcGUsXHJcbiAgICAgICAgJHRpbWVvdXQsXHJcbiAgICAgICAgYXV0aEZhY3RvcnksXHJcbiAgICAgICAgJHN0YXRlLFxyXG4gICAgICAgIGFwaUZhY3RvcnksXHJcbiAgICAgICAgTm90aWZpY2F0aW9uLFxyXG4gICAgICAgIE5nTWFwLFxyXG4gICAgICAgIGdsb2JhbHMsXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgY29uc3QgeyBsb2dvdXQgfSA9IGdsb2JhbHM7XHJcbiAgICBcclxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG5cclxufSkoKTsiLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJiaWxsaW5nQXJjaGl2ZUN0cmxcIiwgYmlsbGluZ0FyY2hpdmVDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gYmlsbGluZ0FyY2hpdmVDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBnbG9iYWxzXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7IGxvZ291dCgpOyB9O1xyXG5cclxuXHJcbiAgICB2YXIgdXJsID0gJGxvY2F0aW9uLnBhdGgoKTtcclxuICAgIFxyXG4gICAgaWYgKHVybCA9PSAnL3BheXJvbGwnKSB7XHJcbiAgICAgICQoJy5wYXlyb2xsTWVudScpLmNzcygnZGlzcGxheScsICdibG9jayAhaW1wb3J0YW50Jyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgJCgnLnBheXJvbGxMaXN0JykuRGF0YVRhYmxlKCk7XHJcbiAgICBcclxuICAgIFxyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiY2FsY3VsYXRpb25DdHJsXCIsIGNhbGN1bGF0aW9uQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIGNhbGN1bGF0aW9uQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFsc1xyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4geyBsb2dvdXQoKTsgfTtcclxuXHJcblxyXG4gICAgJCgnLnBheXJvbGxMaXN0JykuRGF0YVRhYmxlKCk7XHJcbiAgICBcclxuICAgIFxyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJjbGllbnRzQ3RybFwiLCBjbGllbnRzQ3RybCk7XHJcblxyXG4gICAgZnVuY3Rpb24gY2xpZW50c0N0cmwoXHJcbiAgICAgICAgJHNjb3BlLFxyXG4gICAgICAgICR0aW1lb3V0LFxyXG4gICAgICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgICAgICRzdGF0ZSxcclxuICAgICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICAgIE5vdGlmaWNhdGlvbixcclxuICAgICAgICBOZ01hcCxcclxuICAgICAgICBnbG9iYWxzLFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgbG9nb3V0LGRlYm91bmNlICx1c2VyU3RvcmV9ID0gZ2xvYmFscztcclxuICAgIFxyXG4gICAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG4gICAgICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gICAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3ZtLmNsaWVudERhdGEuY2xpZW50Q29udGFjdC5kaWFsQ29kZScsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgJCgnYS5pdGVtLXNlbGVjdGVkIHNwYW4nKS5yZW1vdmVDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmUnKVxyXG4gICAgICAgICAgJCgnYS5pdGVtLXNlbGVjdGVkIHNwYW4nKS5hZGRDbGFzcygnZmFzIGZhLXRpbWVzIG1yLTMnKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLmNsaWVudHNMaXN0XCIpLkRhdGFUYWJsZSgpO1xyXG4gICAgICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAwO1xyXG5cclxuICAgICAgICB2bS5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICBcclxuICAgICAgICB2bS50b2dnbGVPYmogPSB7XHJcbiAgICAgICAgICB0b2dnbGVDbGllbnQ6IHtcclxuICAgICAgICAgICAgY2xpZW50TmFtZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBob25lTm86IGZhbHNlLFxyXG4gICAgICAgICAgICBlbWFpbDogZmFsc2UsXHJcbiAgICAgICAgICAgIHByaW1hcnlBZGQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjcmVhdGVkOiB0cnVlLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdm0uc2VhcmNoVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdm0uc29ydGNsaWVudHMgPSAodHlwZSwgcmVzb3VyY2UpID0+IHtcclxuICAgICAgICAgIC8qIEZvciB0b2dnbGluZyBhc2NlbmRpbmcgYW5kIGRlc2NlbmRpbmcgb3JkZXIgKi9cclxuICAgICAgICAgIHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0gPT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gdHJ1ZSlcclxuICAgICAgICAgICAgOiAodm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXSA9ICF2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgIC5saXN0QWxsQ2xpZW50cyh7XHJcbiAgICAgICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICBzZWFyY2g6IHZtLnNlYXJjaFRleHQsXHJcbiAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHZtLmFsbENsaWVudHMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICB2bS5jbGllbnRDb3VudCA9IHJlc3AuZGF0YS50b3RhbDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJChcIiNwYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICBpdGVtczogdm0uY2xpZW50Q291bnQsXHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zT25QYWdlOiAxMCxcclxuICAgICAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgICAgICAgIC5saXN0QWxsQ2xpZW50cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialt0eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5hbGxDbGllbnRzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZtLnNlYXJjaFRleHQgPSBcIlwiO1xyXG4gICAgICAgIGNvbnN0IHNlYXJjaERlYm91bmNlID0gZGVib3VuY2UoMjUwKTsgLyogUGFzc2luZyBpbiB0aGUgZGVib3VuY2UgcmF0ZSAqL1xyXG4gICAgICAgIHZtLnNlYXJjaENsaWVudHMgPSB0ZXh0ID0+IHtcclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBwYXNzIHRoZSBmdW5jdGlvbiB3aGljaCB5b3Ugd2FudCB0byBkZWJvdW5jZVxyXG4gICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gYXJncyAtIHBhc3MgdGhlIGFyZ3VtZW50cyBmcm9tIHRoZSB2aWV3IGFzIGFuIGFycmF5XHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIHNlYXJjaERlYm91bmNlKFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAubGlzdEFsbENsaWVudHMoe1xyXG4gICAgICAgICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgIHNlYXJjaDogdGV4dCxcclxuICAgICAgICAgICAgICAgIHNvcnQ6IFwiY3JlYXRlZFwiLFxyXG4gICAgICAgICAgICAgICAgc29ydFR5cGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB2bS5hbGxDbGllbnRzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgIHZtLmNsaWVudENvdW50ID0gcmVzcC5kYXRhLnRvdGFsO1xyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNwYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHZtLmNsaWVudENvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbENsaWVudHMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmFsbENsaWVudHMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFt0ZXh0XVxyXG4gICAgICAgICAgICAvL1t0ZXh0LCByZXNvdXJjZV1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgIC8qIEluaXRpYWxseSBzb3J0IGNsaWVudHMgaW4gZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICAgICAgICAgdm0uc29ydGNsaWVudHMoXCJjcmVhdGVkXCIsIFwidG9nZ2xlQ2xpZW50XCIpO1xyXG4gICAgICAgIHZtLmR0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgcGFnaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgaW5mbzogZmFsc2UsXHJcbiAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VhcmNoaW5nOiBmYWxzZVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBnbG9iYWxzLmdldENvdW50cnlDb2RlKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgdm0uZ2V0Q291bnRyeUNvZGUgPSByZXNwLmRhdGE7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZtLmxvYWRDb3VudHJ5Q29kZSA9ICRxdWVyeSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZ2xvYmFscy5nZXRJbmR1c3RyeSgpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIHZtLmdldEluZHVzdHJpZXMgPSByZXNwLmRhdGE7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2bS5sb2FkSW5kdXN0cnkgPSAkcXVlcnkgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3AuZGF0YSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGdsb2JhbHMuZ2V0Q3VycmVuY3koKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICB2bS5nZXRDdXJyZW5jaWVzID0gcmVzcC5kYXRhO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdm0ubG9hZEN1cnJlbmN5ID0gJHF1ZXJ5ID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwLmRhdGEpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdm0uYWRkTmV3Q2xpZW50PWZ1bmN0aW9uKHZhbGlkLGNsaWVudGRhdGEpe1xyXG4gICAgICAgICAgICB2YXIgY2xpZW50PXt9O1xyXG4gICAgICAgICAgICB2YXIgaW5kdXN0cmllcz1bXTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGE9PT11bmRlZmluZWR8fGNsaWVudGRhdGE9PT1udWxsKXtcclxuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIkNhbm5vdCBzYXZlIGVtcHR5IHJlY29yZFwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5jbGllbnROYW1lPT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBlbnRlciBuYW1lIG9mIGNsaWVudFwiKTtcclxuICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGNsaWVudC5jbGllbnROYW1lPWNsaWVudGRhdGEuY2xpZW50TmFtZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5jbGllbnRDb250YWN0PT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBlbnRlciBwaG9uZSBkZXRhaWxzXCIpO1xyXG4gICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LmNsaWVudENvbnRhY3Q9e1xyXG4gICAgICAgICAgICAgICAgICBkaWFsQ29kZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0LmRpYWxDb2RlWzBdLmRpYWxDb2RlLFxyXG4gICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0LnBob25lTnVtYmVyXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmRlc2NyaXB0aW9uIT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LmRlc2NyaXB0aW9uID0gY2xpZW50ZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS55ZWFyRm91bmRlZCE9dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIGNsaWVudC55ZWFyRm91bmRlZCA9IGNsaWVudGRhdGEueWVhckZvdW5kZWQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuY2xpZW50V2Vic2l0ZSE9dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIGNsaWVudC5jbGllbnRXZWJzaXRlID0gY2xpZW50ZGF0YS5jbGllbnRXZWJzaXRlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmVtYWlsIT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LmVtYWlsPWNsaWVudGRhdGEuZW1haWxcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5pbmR1c3RyeSE9dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIGNsaWVudGRhdGEuaW5kdXN0cnkuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgaW5kdXN0cmllcy5wdXNoKGVsZW1lbnQudHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNsaWVudC5pbmR1c3RyeT1pbmR1c3RyaWVzO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uIT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmRpYWxDb2RlKXtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJkaWFsIGNvZGUgZXhpc3RcIik7XHJcbiAgICAgICAgICAgICAgICAgIGNsaWVudC5jbGllbnRDb250YWN0UGVyc29uPXtcclxuICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5maXJzdE5hbWUsIFxyXG4gICAgICAgICAgICAgICAgICAgIG1pZGRsZU5hbWU6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5taWRkbGVOYW1lLCBcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZTpjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24ubGFzdE5hbWUsIFxyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24uZW1haWwsIFxyXG4gICAgICAgICAgICAgICAgICAgIG1vYmlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsQ29kZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmRpYWxDb2RlWzBdLmRpYWxDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLnBob25lTnVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgY2xpZW50LmNsaWVudENvbnRhY3RQZXJzb249e1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmZpcnN0TmFtZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbWlkZGxlTmFtZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLm1pZGRsZU5hbWUsIFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOmNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5sYXN0TmFtZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5lbWFpbCwgXHJcbiAgICAgICAgICAgICAgICAgICAgbW9iaWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24ucGhvbmVOdW1iZXJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmFubnVhbFJldmVudWUhPXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmFubnVhbFJldmVudWUuY3VycmVuY3lDb2RlKXtcclxuICAgICAgICAgICAgICAgICAgY2xpZW50LmFubnVhbFJldmVudWUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNsaWVudGRhdGEuYW5udWFsUmV2ZW51ZS52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGNsaWVudGRhdGEuYW5udWFsUmV2ZW51ZS5jdXJyZW5jeUNvZGVbMF0uY2NcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICBjbGllbnQuYW5udWFsUmV2ZW51ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2xpZW50ZGF0YS5hbm51YWxSZXZlbnVlLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuYWRkcmVzczIhPXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmFkZHJlc3MyLmNvdW50cnlDb2RlKXtcclxuICAgICAgICAgICAgICAgICAgY2xpZW50LmFkZHJlc3MyPXtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lMTogY2xpZW50ZGF0YS5hZGRyZXNzMi5saW5lMSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZTI6IGNsaWVudGRhdGEuYWRkcmVzczIubGluZTIsIFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUzOiBjbGllbnRkYXRhLmFkZHJlc3MyLmxpbmUzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNpdHk6IGNsaWVudGRhdGEuYWRkcmVzczIuY2l0eSwgXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogY2xpZW50ZGF0YS5hZGRyZXNzMi5wb3N0YWxDb2RlLCBcclxuICAgICAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogY2xpZW50ZGF0YS5hZGRyZXNzMi5jb3VudHJ5Q29kZVswXS5jb2RlIFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgY2xpZW50LmFkZHJlc3MyPXtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lMTogY2xpZW50ZGF0YS5hZGRyZXNzMi5saW5lMSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZTI6IGNsaWVudGRhdGEuYWRkcmVzczIubGluZTIsIFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUzOiBjbGllbnRkYXRhLmFkZHJlc3MyLmxpbmUzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNpdHk6IGNsaWVudGRhdGEuYWRkcmVzczIuY2l0eSwgXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogY2xpZW50ZGF0YS5hZGRyZXNzMi5wb3N0YWxDb2RlLCBcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5hZGRyZXNzMSE9dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuYWRkcmVzczEuY291bnRyeUNvZGUpe1xyXG4gICAgICAgICAgICAgICAgICBjbGllbnQuYWRkcmVzczE9e1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUxOiBjbGllbnRkYXRhLmFkZHJlc3MxLmxpbmUxLCBcclxuICAgICAgICAgICAgICAgICAgICBsaW5lMjogY2xpZW50ZGF0YS5hZGRyZXNzMS5saW5lMiwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZTM6IGNsaWVudGRhdGEuYWRkcmVzczEubGluZTMsXHJcbiAgICAgICAgICAgICAgICAgICAgY2l0eTogY2xpZW50ZGF0YS5hZGRyZXNzMS5jaXR5LCBcclxuICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBjbGllbnRkYXRhLmFkZHJlc3MxLnBvc3RhbENvZGUsIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlOiBjbGllbnRkYXRhLmFkZHJlc3MxLmNvdW50cnlDb2RlWzBdLmNvZGVcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgIGNsaWVudC5hZGRyZXNzMT17XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZTE6IGNsaWVudGRhdGEuYWRkcmVzczEubGluZTEsIFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUyOiBjbGllbnRkYXRhLmFkZHJlc3MxLmxpbmUyLCBcclxuICAgICAgICAgICAgICAgICAgICBsaW5lMzogY2xpZW50ZGF0YS5hZGRyZXNzMS5saW5lMyxcclxuICAgICAgICAgICAgICAgICAgICBjaXR5OiBjbGllbnRkYXRhLmFkZHJlc3MxLmNpdHksIFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IGNsaWVudGRhdGEuYWRkcmVzczEucG9zdGFsQ29kZSwgXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICBhcGlGYWN0b3J5LmNyZWF0ZUNsaWVudChjbGllbnQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+e1xyXG4gICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIklzc3VlIGhhcyBiZWVuIHNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgICAgICAgICAgdm0uY2xpZW50RGF0YT17fTtcclxuICAgICAgICAgICAgICAgICAgJCgnI2FkZENsaWVudCcpLm1vZGFsKCdoaWRlJylcclxuICAgICAgICAgICAgICAgICAgdm0uc29ydGNsaWVudHMoXCJjcmVhdGVkXCIsIFwidG9nZ2xlQ2xpZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAuY2F0Y2goZT0+e1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICB9XHJcbiAgICAgXHJcblxyXG59KSgpOyIsIigoKSA9PiB7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZShcImFwcFwiKVxyXG4gICAgLmNvbnRyb2xsZXIoXCJjb21ib01hdGVyaWFsVmlld0N0cmxcIiwgY29tYm9NYXRlcmlhbFZpZXdDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gY29tYm9NYXRlcmlhbFZpZXdDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgICRzdGF0ZVBhcmFtcyxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgVXBsb2FkXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHZtLmVkaXRGbGFnID0gZmFsc2VcclxuICAgIHZtLmNvbWJvSWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICB2bS5tVW5pdHMgPSBnbG9iYWxzLm1Vbml0cztcclxuICAgIHZtLnJlbW92ZWRGaWxlcyA9IFtdO1xyXG4gICAgdm0ubWF0ZXJpYWxUb3RhbCA9IDA7XHJcbiAgICB2bS5yb29mZXJUb3RhbCA9IDBcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gZ2V0Q29tYm9NYXREZXRhaWwoKSB7XHJcbiAgICAgIGFwaUZhY3RvcnkuZ2V0Q29tYm9NYXRlcmlhbEJ5SWQodm0uY29tYm9JZCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5jb21ib0RhdGEgPSByZXNwLmRhdGEuZGF0YTtcclxuICAgICAgICB2bS5jb21ib01tYXRyaWFsTmFtZSA9IHZtLmNvbWJvRGF0YS5uYW1lXHJcbiAgICAgICAgdm0uZGVzY3JpcHRpb24gPSB2bS5jb21ib0RhdGEuZGVzY3JpcHRpb25cclxuICAgICAgICB2bS51b20gPSB2bS5jb21ib0RhdGEudW5pdFxyXG4gICAgICAgIGNvbnNvbGUubG9nKHZtLmNvbWJvRGF0YSlcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2godm0uY29tYm9EYXRhLmNvbWJvTWF0ZXJpYWxMaXN0LCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgdm0ubWF0ZXJpYWxDb3N0ID0gaXRlbS5tYXRlcmlhbElkLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZSAqIGl0ZW0ucXVhbnRpdHk7XHJcbiAgICAgICAgICB2bS5tYXRlcmlhbFRvdGFsID0gdm0ubWF0ZXJpYWxUb3RhbCArIHZtLm1hdGVyaWFsQ29zdFxyXG4gICAgICAgICAgdm0ucm9vZmVyQ29zdCA9IGl0ZW0ubWF0ZXJpYWxJZC5jdXJyZW50UmF0ZS5yb29mZXJDb3N0LnZhbHVlICogaXRlbS5xdWFudGl0eTtcclxuICAgICAgICAgIHZtLnJvb2ZlclRvdGFsID0gdm0ucm9vZmVyVG90YWwgKyB2bS5yb29mZXJDb3N0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2codm0uY29tYm9EYXRhKTtcclxuICAgICAgICAkdGltZW91dChpbWdTbGlkZXIsIDE1MDApO1xyXG4gICAgICB9KS5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXRDb21ib01hdERldGFpbCgpXHJcblxyXG4gICAgdm0ucmVtb3ZlSW1nID0gKGltZykgPT4ge1xyXG4gICAgICB2bS5yZW1vdmVkRmlsZXMucHVzaCh2bS5tYXRyaWFsRGF0YS5maWxlc1tpbWddLl9pZClcclxuICAgICAgdm0ubWF0cmlhbERhdGEuZmlsZXMuc3BsaWNlKGltZywgMSlcclxuICAgIH1cclxuXHJcbiAgICB2bS5lZGl0Q29tYm9NYXRlcmlhbExpc3QgPSAoaXRlbSkgPT4ge1xyXG4gICAgICB2bS5tYXRlcmlhbExpc3QgPSB2bS5jb21ib0RhdGEuY29tYm9NYXRlcmlhbExpc3RbaXRlbV1cclxuICAgICAgdm0ubWF0ZXJpYWxRdHkgPSB2bS5tYXRlcmlhbExpc3QucXVhbnRpdHlcclxuICAgICAgdm0uc2VsZWN0ZWRNYXRlcmlhbENvc3QgPSB2bS5tYXRlcmlhbFF0eSAqIHZtLm1hdGVyaWFsTGlzdC5tYXRlcmlhbElkLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZVxyXG4gICAgICB2bS5zZWxlY3RlZE1hdGVyaWFsUm9vZmVyQ29zdCA9IHZtLm1hdGVyaWFsUXR5ICogdm0ubWF0ZXJpYWxMaXN0Lm1hdGVyaWFsSWQuY3VycmVudFJhdGUucm9vZmVyQ29zdC52YWx1ZVxyXG4gICAgICBpZiAodm0ubWF0ZXJpYWxMaXN0LnBlcmNlbnRhZ2VBZGRpdGlvbnMubGVuZ3RoICE9IDAgJiYgdm0ubWF0ZXJpYWxMaXN0LnBlcmNlbnRhZ2VBZGRpdGlvbnMubGVuZ3RoICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZtLnBlcmNlbnRhZ2VBZGRpdGlvbiA9IHZtLm1hdGVyaWFsTGlzdC5wZXJjZW50YWdlQWRkaXRpb25zXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdm0ucGVyY2VudGFnZUFkZGl0aW9uID0gW11cclxuICAgICAgfVxyXG4gICAgICB2bS5tYXRlcmlhbEluZGV4ID0gaXRlbVxyXG4gICAgICAkKCcjZWRpdENvbWJvTWF0ZXJpYWwnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICBpZihpdGVtID09ICduZXcnKSB7XHJcbiAgICAgICAgJCgnI2VkaXRDb21ib01hdGVyaWFsIC5tb2RhbC1oZWFkZXIgaDUnKS50ZXh0KCdBZGQgQ29tYm8gTWF0ZXJpYWwgRGV0YWlscycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJyNlZGl0Q29tYm9NYXRlcmlhbCAubW9kYWwtaGVhZGVyIGg1JykudGV4dCgnVXBkYXRlIENvbWJvIE1hdGVyaWFsIERldGFpbHMnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZtLmFkZFBlcmNlbnRhZ2VWYWx1ZSA9ICgpID0+IHtcclxuICAgICAgdm0ucGVyY2VudGFnZUFkZGl0aW9uLnB1c2goe1xyXG4gICAgICAgIHBlcmNlbnRhZ2VUeXBlOiBcIlwiLFxyXG4gICAgICAgIHZhbHVlOiBcIlwiXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZtLnJlbW92ZVBlcmNlbnRhZ2VBZGRpdGlvbiA9IGluZGV4ID0+IHtcclxuICAgICAgdm0ucGVyY2VudGFnZUFkZGl0aW9uLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmZpbGVVcGRhdGVkID0gKGZpbGVzLCBldmVudCkgPT4ge1xyXG4gICAgICBsZXQgZmlsZU9iaiA9IGV2ZW50LnRhcmdldC5maWxlcztcclxuICAgICAgdm0uZmlsZU5hbWVzID0gT2JqZWN0LmtleXMoZmlsZU9iaikubWFwKHggPT4gZmlsZU9ialt4XS5uYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZWRpdENvbWJvTWF0ZXJpYWwgPSAodmFsKSA9PiB7XHJcbiAgICAgIGlmICh2YWwgPT0gMSkgeyAvLyBlZGl0IE1hdGVyaWFsXHJcbiAgICAgICAgdm0uZWRpdEZsYWcgPSB0cnVlXHJcbiAgICAgICAgJCgnLm1hdGVyaWFsRGV0YWlsIHRleHRhcmVhLCAubWF0ZXJpYWxEZXRhaWwgaW5wdXQsIC5tYXRlcmlhbERldGFpbCBzZWxlY3QnKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHZtLmNvbWJvRGF0YS5jb21ib01hdGVyaWFsTGlzdClcclxuICAgICAgfSBlbHNlIGlmICh2YWwgPT0gMikge1xyXG4gICAgICAgICQoJy5tYXRlcmlhbERldGFpbCB0ZXh0YXJlYSwgLm1hdGVyaWFsRGV0YWlsIGlucHV0LCAubWF0ZXJpYWxEZXRhaWwgc2VsZWN0JykuYXR0cignZGlzYWJsZWQnLCB0cnVlKVxyXG4gICAgICAgIHZtLmVkaXRGbGFnID0gZmFsc2VcclxuXHJcbiAgICAgICAgdmFyIGNvbWJvTGlzdERhdGEgPSB7XHJcbiAgICAgICAgICBjb21ib0xpc3RBcnJheTogdm0uY29tYm9EYXRhLmNvbWJvTWF0ZXJpYWxMaXN0XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGNvbWJvTWF0ZXJpYWxEYXRhID0ge1xyXG4gICAgICAgICAgbmFtZTogdm0uY29tYm9NbWF0cmlhbE5hbWUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdm0uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICB1bml0OiB2bS51b20sXHJcbiAgICAgICAgICAvLyByZW1vdmVkRmlsZXM6ICRzY29wZS5yZW1vdmVkRmlsZXMsXHJcbiAgICAgICAgICBmaWxlczogdm0uaW5wdXRGaWxlc1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc29sZS5sb2coY29tYm9MaXN0RGF0YSlcclxuXHJcbiAgICAgICAgYXBpRmFjdG9yeS51cGRhdGVDb21ib01hdGVyaWFsTGlzdCh2bS5jb21ib0RhdGEuX2lkLCBjb21ib0xpc3REYXRhKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XHJcblxyXG4gICAgICAgICAgYXBpRmFjdG9yeS51cGRhdGVDb21ib01hdGVyaWFsKHZtLmNvbWJvRGF0YS5faWQsIGNvbWJvTWF0ZXJpYWxEYXRhKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBnZXRDb21ib01hdERldGFpbCgpXHJcbiAgICAgICAgICAgIHZtLmZpbGVOYW1lcyA9IFtdXHJcbiAgICAgICAgICAgICR0aW1lb3V0KGltZ1NsaWRlciwgMTAwMCk7XHJcbiAgICAgICAgICB9KS5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSkuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gdmFyIGNvbWJvTWF0ZXJpYWxEYXRhID0ge1xyXG4gICAgICAgIC8vICAgbmFtZTogJHNjb3BlLnJhdGVBbmFseXNpc09CSi5uYW1lLFxyXG4gICAgICAgIC8vICAgZGVzY3JpcHRpb246ICRzY29wZS5yYXRlQW5hbHlzaXNPQkouZGVzY3JpcHRpb24sXHJcbiAgICAgICAgLy8gICB1bml0U3ltYm9sOiAkc2NvcGUucmF0ZUFuYWx5c2lzT0JKLnVuaXRTeW1ib2wsXHJcbiAgICAgICAgLy8gICByZW1vdmVkRmlsZXM6ICRzY29wZS5yZW1vdmVkRmlsZXMsXHJcbiAgICAgICAgLy8gICBmaWxlczogdm0ubmV3RmlsZXNcclxuICAgICAgICAvLyB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdm0udXBkYXRlQ29tYm8gPSAoaXRlbSwgZGF0YSkgPT4ge1xyXG4gICAgICB2bS5jb21ib0RhdGEuY29tYm9NYXRlcmlhbExpc3RbaXRlbV0ucXVhbnRpdHkgPSB2bS5tYXRlcmlhbFF0eVxyXG4gICAgICB2bS5jb21ib0RhdGEuY29tYm9NYXRlcmlhbExpc3RbaXRlbV0ucGVyY2VudGFnZUFkZGl0aW9ucyA9IGRhdGFcclxuICAgICAgY29uc29sZS5sb2codm0uY29tYm9EYXRhLmNvbWJvTWF0ZXJpYWxMaXN0W2l0ZW1dLnBlcmNlbnRhZ2VBZGRpdGlvbnMpXHJcbiAgICAgICQoJyNlZGl0Q29tYm9NYXRlcmlhbCcpLm1vZGFsKCdoaWRlJylcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbWdTbGlkZXIoKSB7XHJcbiAgICAgICQoXCIjY29tYm9DYXJvdXNlbFwiKS5mbGV4c2xpZGVyKHtcclxuICAgICAgICBhbmltYXRpb246IFwic2xpZGVcIixcclxuICAgICAgICBjb250cm9sTmF2OiBmYWxzZSxcclxuICAgICAgICBhbmltYXRpb25Mb29wOiBmYWxzZSxcclxuICAgICAgICBzbGlkZXNob3c6IGZhbHNlLFxyXG4gICAgICAgIGl0ZW1XaWR0aDogNzUsXHJcbiAgICAgICAgaXRlbU1hcmdpbjogNSxcclxuICAgICAgICBhc05hdkZvcjogXCIjY29tYm9TbGlkZXJcIlxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoXCIjY29tYm9TbGlkZXJcIikuZmxleHNsaWRlcih7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBcInNsaWRlXCIsXHJcbiAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0aW9uTG9vcDogZmFsc2UsXHJcbiAgICAgICAgc2xpZGVzaG93OiBmYWxzZSxcclxuICAgICAgICBzeW5jOiBcIiNjb21ib0Nhcm91c2VsXCJcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJjcmVhdGVQcm9qZWN0Q3RybFwiLCBjcmVhdGVQcm9qZWN0Q3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBOZ01hcCxcclxuICAgIGdsb2JhbHNcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgbGV0IHZtID0gdGhpcztcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGxvZ291dCxcclxuICAgICAgdXNlclN0b3JlLFxyXG4gICAgICBjb21wYW55U3RvcmVcclxuICAgIH0gPSBnbG9iYWxzO1xyXG5cclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1ByaXZpbGVnZShcInByb2plY3RcIiwgXCJjcmVhdGVQcm9qZWN0XCIpKSB7XHJcbiAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zXCIpO1xyXG4gICAgICAkc3RhdGUuZ28oXCJkYXNoYm9hcmRcIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZtLmNsaWVudHMgPSBbXTtcclxuICAgIC8vIGFwaUZhY3RvcnkubGlzdEFsbENsaWVudHMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgLy8gICB2bS5jbGllbnRzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAvLyB9KTtcclxuXHJcbiAgICAkc2NvcGUuJHdhdGNoKFwidm0ucHJvamVjdERhdGEuY2xpZW50XCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAkKFwiYS5pdGVtLXNlbGVjdGVkIHNwYW5cIikucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiKTtcclxuICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLmFkZENsYXNzKFwiZmFzIGZhLXRpbWVzIG1yLTNcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsQ2xpZW50cygpLFxyXG4gICAgICAgIGFwaUZhY3RvcnkuZ2V0SGllcmFyY2h5VGVtcGxhdGUoKVxyXG4gICAgICBdKVxyXG4gICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5jbGllbnRzID0gcmVzcFswXS5kYXRhLmxpc3Q7XHJcbiAgICAgICAgdm0udGVtcGxhdGVMaXN0ID0gcmVzcFsxXS5kYXRhLmRhdGE7XHJcbiAgICAgICAgbGV0IHNhbXBsZVRlbXBsYXRlID0gdm0udGVtcGxhdGVMaXN0LmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGl0ZW0uX2lkID09IFwiNWI4OTEwZmJkZDZmYTgxYTIwYmZlNzQ1XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB2bS5maWxlbWFuYWdlclRlbXBsYXRlID0gXCI1Yjg5MTBmYmRkNmZhODFhMjBiZmU3NDVcIjtcclxuXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdm0uZ21hcCA9IHtcclxuICAgICAgdXJsOiBcImh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9QUl6YVN5QTNNSUEtbUtXcV82MHExSzB6T0hndXJheFQtMVFQeE5VJmxpYnJhcmllcz1wbGFjZXNcIixcclxuICAgICAgbWFya2VyczogW10sXHJcbiAgICAgIHN0eWxlczogW10sXHJcbiAgICAgIGNlbnRlcjogXCI0MSwtODdcIixcclxuICAgICAgem9vbTogM1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5wcm9qZWN0RGF0YSA9IHtcclxuICAgICAgYWRkcmVzczoge31cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnNlbGVjdDJPcHRpb25zID0ge1xyXG4gICAgICBhbGxvd0NsZWFyOiB0cnVlXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnBsYWNlTWFya2VyID0gZnVuY3Rpb24gKG1hcCkge1xyXG4gICAgICBjb25zdCBwbGFjZURhdGEgPSB0aGlzLmdldFBsYWNlKCkuZ2VvbWV0cnkubG9jYXRpb247XHJcbiAgICAgIHZtLmdtYXAubWFya2VycyA9IFtcclxuICAgICAgICBbcGxhY2VEYXRhLmxhdCgpLCBwbGFjZURhdGEubG5nKCldXHJcbiAgICAgIF07XHJcbiAgICAgIHZtLmdtYXAuem9vbSA9IDE1O1xyXG4gICAgICB2bS5nbWFwLmNlbnRlciA9IGAke3BsYWNlRGF0YS5sYXQoKX0sJHtwbGFjZURhdGEubG5nKCl9YDtcclxuICAgICAgdm0ucHJvamVjdERhdGEuYWRkcmVzcy5sb2MgPSB7XHJcbiAgICAgICAgY29vcmRpbmF0ZXM6IFtwbGFjZURhdGEubGF0KCksIHBsYWNlRGF0YS5sbmcoKV1cclxuICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uYWRkUHJvamVjdCA9IGZvcm1EYXRhID0+IHtcclxuICAgICAgZm9ybURhdGEuY2xpZW50ID0gZm9ybURhdGEuY2xpZW50Ll9pZDtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5jcmVhdGVQcm9qZWN0KGZvcm1EYXRhKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJQcm9qZWN0IGhhcyBiZWVuIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG5cclxuICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHJlc3AuZGF0YS5faWQsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlSWQ6IHJlc3AuZGF0YS5faWQgJiZcclxuICAgICAgICAgICAgICAodm0uZmlsZW1hbmFnZXJUZW1wbGF0ZSAmJiB2bS5maWxlbWFuYWdlclRlbXBsYXRlICE9IFwiZmFsc2VcIikgP1xyXG4gICAgICAgICAgICAgIHZtLmZpbGVtYW5hZ2VyVGVtcGxhdGUgOiBcIjViODkxMGZiZGQ2ZmE4MWEyMGJmZTc0NVwiXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAubG9hZEhpZXJhcmNoeVRyZWUocGF5bG9hZClcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvamVjdGlkXCIsIHJlc3AuZGF0YS5faWQpO1xyXG4gICAgICAgICAgJHN0YXRlLmdvKFwiZGFzaGJvYXJkXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0udXBkYXRlTWFya2VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBsZXQgcG9zID0gdGhpcy5nZXRQb3NpdGlvbigpO1xyXG4gICAgICB2bS5wcm9qZWN0RGF0YS5hZGRyZXNzLmxvYyA9IHtcclxuICAgICAgICBjb29yZGluYXRlczogW3Bvcy5sYXQoKSwgcG9zLmxuZygpXVxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBOZ01hcC5nZXRNYXAoKS50aGVuKG1hcCA9PiB7XHJcbiAgICAgIHZtLm1hcCA9IG1hcDtcclxuICAgICAgbWFwLnNldE9wdGlvbnMoe1xyXG4gICAgICAgIHN0eWxlczogdm0uZ21hcC5zdHlsZXMsXHJcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZSxcclxuICAgICAgICB6b29tQ29udHJvbDogdHJ1ZSxcclxuICAgICAgICB6b29tOiAxLFxyXG4gICAgICAgIGNlbnRlcjoge1xyXG4gICAgICAgICAgbGF0OiAwLFxyXG4gICAgICAgICAgbG5nOiAwXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFzc2lnblRlbXBsYXRlID0gKCkgPT4ge1xyXG4gICAgICB2bS5maWxlbWFuYWdlclRlbXBsYXRlID0gdm0uc2VsZWN0ZWRUZW1wbGF0ZS5faWQ7XHJcbiAgICAgICQoJyNhc3NpZ25UZW1wbGF0ZU1vZGFsJykubW9kYWwoJ2hpZGUnKVxyXG4gICAgfVxyXG4gIH1cclxufSkoKTsiLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJkYXNoYm9hcmRDdHJsXCIsIGRhc2hib2FyZEN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBkYXNoYm9hcmRDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgICR3aW5kb3csXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgIGdsb2JhbHMsXHJcbiAgICBOZ01hcFxyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgdm0ubG9nZ2VkSW4gPSB0cnVlO1xyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgbG9nb3V0LFxyXG4gICAgICB1c2VyU3RvcmUsXHJcbiAgICAgIGNvbXBhbnlTdG9yZSxcclxuICAgICAgcHJvamVjdFN0b3JlLFxyXG4gICAgICB0aHJvdHRsZXJcclxuICAgIH0gPSBnbG9iYWxzO1xyXG5cclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHZtLmxvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZtLmxvYWRlciA9IGZhbHNlO1xyXG5cclxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gICAgdm0uY2xpZW50VXJsID1cclxuICAgICAgXCJodHRwczovL3Jlcy5jbG91ZGluYXJ5LmNvbS9ka3RuaG1zangvaW1hZ2UvdXBsb2FkL3YxNDg2MTI5MjM0L2RlZmF1bHQvY29tcGFueS5wbmdcIjtcclxuICAgIHZtLmdtYXAgPSB7XHJcbiAgICAgIHVybDpcclxuICAgICAgICBcImh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9QUl6YVN5QTNNSUEtbUtXcV82MHExSzB6T0hndXJheFQtMVFQeE5VXCIsXHJcbiAgICAgIHN0eWxlczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMjEyMTIxXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLmljb25cIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib2ZmXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LnN0cm9rZVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzIxMjEyMVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcImFkbWluaXN0cmF0aXZlXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcImFkbWluaXN0cmF0aXZlLmNvdW50cnlcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM5ZTllOWVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZS5sYW5kX3BhcmNlbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvZmZcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZS5sb2NhbGl0eVwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiI2JkYmRiZFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaVwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5wYXJrXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzE4MTgxOFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5wYXJrXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNjE2MTYxXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicG9pLnBhcmtcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LnN0cm9rZVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzFiMWIxYlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWRcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMyYzJjMmNcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjOGE4YThhXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5hcnRlcmlhbFwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMzNzM3MzdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkLmhpZ2h3YXlcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjM2MzYzNjXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5oaWdod2F5LmNvbnRyb2xsZWRfYWNjZXNzXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzRlNGU0ZVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQubG9jYWxcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM2MTYxNjFcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJ0cmFuc2l0XCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNzU3NTc1XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwid2F0ZXJcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMDAwMDAwXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwid2F0ZXJcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMzZDNkM2RcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG4gICAgICBdLFxyXG4gICAgICBtYXJrZXJzOiBbXVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRNYXJrZXJzKHByb2plY3RMaXN0KSB7XHJcbiAgICAgIGxldCBteExhdCA9IDAsXHJcbiAgICAgICAgbXhMbmcgPSAwLFxyXG4gICAgICAgIG1uTGF0ID0gMCxcclxuICAgICAgICBtbkxuZyA9IDAsXHJcbiAgICAgICAgbWFya2VycyA9IFtdO1xyXG4gICAgICBwcm9qZWN0TGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGlmIChlbGVtZW50LmFkZHJlc3MpIHtcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRyZXNzLmxvYy5jb29yZGluYXRlc1swXSAhPSAwIHx8XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkcmVzcy5sb2MuY29vcmRpbmF0ZXNbMV0gIT0gMFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHZhciBtcmtyID0ge1xyXG4gICAgICAgICAgICAgIGlkOiBlbGVtZW50Ll9pZCxcclxuICAgICAgICAgICAgICBsYXRpdHVkZTogZWxlbWVudC5hZGRyZXNzLmxvYy5jb29yZGluYXRlc1sxXSxcclxuICAgICAgICAgICAgICBsb25naXR1ZGU6IGVsZW1lbnQuYWRkcmVzcy5sb2MuY29vcmRpbmF0ZXNbMF1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbXhMYXQgPSBteExhdCA+IG1ya3IubGF0aXR1ZGUgPyBtcmtyLmxhdGl0dWRlIDogbXhMYXQ7XHJcbiAgICAgICAgICAgIG1uTGF0ID0gbW5MYXQgPCBtcmtyLmxhdGl0dWRlID8gbXJrci5sYXRpdHVkZSA6IG1uTGF0O1xyXG4gICAgICAgICAgICBteExuZyA9IG14TG5nID4gbXJrci5sb25naXR1ZGUgPyBtcmtyLmxvbmdpdHVkZSA6IG14TG5nO1xyXG4gICAgICAgICAgICBtbkxuZyA9IG1uTG5nIDwgbXJrci5sb25naXR1ZGUgPyBtcmtyLmxvbmdpdHVkZSA6IG1uTG5nO1xyXG4gICAgICAgICAgICBtYXJrZXJzLnB1c2goW21ya3IubGF0aXR1ZGUsIG1ya3IubG9uZ2l0dWRlXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIG1hcmtlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyogR2V0IGFsbCBkYXNoYm9hcmQgZGF0YSAqL1xyXG5cclxuICAgIFByb21pc2UuYWxsKFtcclxuICAgICAgYXBpRmFjdG9yeS5nZXRDb21wYW55QnlJZCh2bS51c2VyRGF0YS5jb21wYW55SWQpLFxyXG4gICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxQcm9qZWN0cygpLFxyXG4gICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxDbGllbnRzKClcclxuICAgIF0pXHJcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIC8qIEFkZCBjb21wYW55RGF0YSB0byBzdG9yZSAqL1xyXG4gICAgICAgIGNvbXBhbnlTdG9yZS5zZXQoZGF0YVswXS5kYXRhKTtcclxuICAgICAgICAvKiBBZGQgbWFya2VycyBmcm9tIHByb2plY3QgZGF0YSAqL1xyXG4gICAgICAgIHZtLmdtYXAubWFya2VycyA9IGFkZE1hcmtlcnMoZGF0YVsxXS5kYXRhLmxpc3QpO1xyXG4gICAgICAgIHZtLmRhc2hib2FyZERhdGEgPSB7XHJcbiAgICAgICAgICBjb21wYW55OiBkYXRhWzBdLmRhdGEsXHJcbiAgICAgICAgICBwcm9qZWN0czogZGF0YVsxXS5kYXRhLmxpc3QsXHJcbiAgICAgICAgICBjbGllbnRzOiBkYXRhWzJdLmRhdGEubGlzdFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgTmdNYXAuZ2V0TWFwKCkudGhlbihtYXAgPT4ge1xyXG4gICAgICBtYXAuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgc3R5bGVzOiB2bS5nbWFwLnN0eWxlcyxcclxuICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0cnVlLFxyXG4gICAgICAgIHpvb206IDEsXHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICBsYXQ6IDAsXHJcbiAgICAgICAgICBsbmc6IDBcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyogUHJvamVjdCBwaWNrZXIgbG9hZCBmdW5jdGlvbmFsaXR5ICovXHJcblxyXG4gICAgbGV0IGVuYWJsZWQgPSB0cnVlLFxyXG4gICAgICBjaHVua1NpemUgPSA1O1xyXG4gICAgdm0ucHJvamVjdFNlYXJjaCA9IFwiXCI7XHJcbiAgICB2bS5lbmFibGVMYXp5TG9hZCA9IGZhbHNlO1xyXG4gICAgdm0uc29ydFBhcmFtcyA9IHtcclxuICAgICAgZmllbGQ6IFwiY3JlYXRlZFwiLFxyXG4gICAgICB0eXBlOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5wcm9qZWN0TmFtZSA9IFwiUFJPSkVDVFwiO1xyXG5cclxuICAgIC8qIEdldCBib29rbWFya2VkIHByb2plY3QgTGlzdCAqL1xyXG4gICAgJHNjb3BlLmdldEJvb2ttYXJrZWRQcm9qZWN0ID0gKCkgPT4ge1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmdldEJvb2ttYXJrcygpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5ib29rbWFya2VkUHJvamVjdCA9IHJlc3AuZGF0YS5ib29rbWFya3M7XHJcbiAgICAgICAgICB2bS5ib29rbWFya2VkUHJvamVjdExpc3QgPSBhbmd1bGFyLmNvcHkodm0uYm9va21hcmtlZFByb2plY3QpO1xyXG4gICAgICAgICAgdm0uYm9va21hcmtlZFByb2plY3RMaXN0LnB1c2goe1xyXG4gICAgICAgICAgICBfaWQ6IFwib3RoZXJzXCIsXHJcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBcIkFsbCBQcm9qZWN0IExpc3RcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAvLyB2bS5ib29rbWFya2VkUHJvamVjdExpc3QudW5zaGlmdCh7XHJcbiAgICAgICAgICAvLyAgIF9pZDogXCJOQVwiLFxyXG4gICAgICAgICAgLy8gICBwcm9qZWN0TmFtZTogXCJTZWxlY3QgYSBwcm9qZWN0XCJcclxuICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgLy8gdm0ucHJvamVjdCA9IHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdFswXTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgICRzY29wZS5nZXRCb29rbWFya2VkUHJvamVjdCgpO1xyXG5cclxuICAgIHZtLmxvYWRQcm9qZWN0RmlsZXMgPSBpZCA9PiB7XHJcbiAgICAgIGxldCBsaW1pdCA9IDU7XHJcbiAgICAgIGFwaUZhY3Rvcnkuc2hvd1Byb2plY3RGaWxlcyhpZCwgbGltaXQpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0ucHJvamVjdEZpbGVzID0gcmVzcC5kYXRhLmRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZtLmJvb2ttYXJrRmxhZyA9IGZhbHNlO1xyXG4gICAgLyogY2hvb3NlIHByb2plY3QgZnJvbSBib29rbWFya2VkIHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0uc2VsZWN0ZWRQcm9qZWN0ID0gcHJvamVjdCA9PiB7XHJcbiAgICAgIGlmIChwcm9qZWN0Ll9pZCA9PSBcIm90aGVyc1wiKSB7XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLmxpc3RBbGxQcm9qZWN0cygpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgdm0ucHJvamVjdFBpY2tlckRhdGEgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgJChcIiNjaG9vc2VQcm9qZWN0XCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdm0uYm9va21hcmtGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLmJvb2ttYXJrZWRQcm9qZWN0LCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICBpZiAoeC5faWQgPT0gcHJvamVjdC5faWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh2bS5ib29rbWFya0ZsYWcgPSB0cnVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2bS5wcm9qZWN0TmFtZSA9IHByb2plY3QucHJvamVjdE5hbWU7XHJcbiAgICAgICAgcHJvamVjdFN0b3JlLnNldChwcm9qZWN0KTtcclxuICAgICAgICB2bS5sb2FkUHJvamVjdEZpbGVzKHByb2plY3QuX2lkKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKiBDaG9vc2UgcHJvamVjdCBmb3JtIGFsbCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLmNob29zZVByb2plY3QgPSBwcm9qZWN0ID0+IHtcclxuICAgICAgdmFyIGluZGV4ID0gdm0uYm9va21hcmtlZFByb2plY3RMaXN0LmZpbmRJbmRleChmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgcmV0dXJuIHguX2lkID09IFwib3RoZXJzXCI7XHJcbiAgICAgIH0pO1xyXG4gICAgICB2bS5ib29rbWFya2VkUHJvamVjdExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgbGV0IGFscmVhZHlFeGlzdCA9IHRydWU7XHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5ib29rbWFya2VkUHJvamVjdCwgZnVuY3Rpb24oeCkge1xyXG4gICAgICAgIGlmICh4Ll9pZCA9PSBwcm9qZWN0Ll9pZCkge1xyXG4gICAgICAgICAgYWxyZWFkeUV4aXN0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKGFscmVhZHlFeGlzdCkge1xyXG4gICAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC5wdXNoKHByb2plY3QpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2bS5ib29rbWFya2VkUHJvamVjdExpc3QucHVzaCh7XHJcbiAgICAgICAgX2lkOiBcIm90aGVyc1wiLFxyXG4gICAgICAgIHByb2plY3ROYW1lOiBcIkFsbCBQcm9qZWN0IExpc3RcIlxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZtLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gICAgICB2bS5wcm9qZWN0TmFtZSA9IHByb2plY3QucHJvamVjdE5hbWU7XHJcbiAgICAgIHZtLmJvb2ttYXJrRmxhZyA9IGZhbHNlO1xyXG4gICAgICBwcm9qZWN0U3RvcmUuc2V0KHByb2plY3QpO1xyXG5cclxuICAgICAgJChcIiNjaG9vc2VQcm9qZWN0XCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiY3VycmVudFByb2plY3RcIikpIHtcclxuICAgICAgbGV0IGN1cnJlbnRQcm9qZWN0ID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJjdXJyZW50UHJvamVjdFwiKTtcclxuICAgICAgdm0ucHJvamVjdCA9IGN1cnJlbnRQcm9qZWN0O1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyh2bS5wcm9qZWN0LCBcInZtLnByb2plY3RcIilcclxuICAgICAgdm0ucHJvamVjdE5hbWUgPSBjdXJyZW50UHJvamVjdC5wcm9qZWN0TmFtZTtcclxuICAgICAgdm0ubG9hZFByb2plY3RGaWxlcyh2bS5wcm9qZWN0Ll9pZCk7XHJcblxyXG4gICAgICBsZXQgYWxyZWFkeUJvb2ttYXJrZWQgPSBmYWxzZTtcclxuICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLmJvb2ttYXJrZWRQcm9qZWN0LCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgaWYgKHguX2lkID09IGN1cnJlbnRQcm9qZWN0Ll9pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIChhbHJlYWR5Qm9va21hcmtlZCA9IHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIWFscmVhZHlCb29rbWFya2VkKSB7XHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgaW5kZXggPSB2bS5ib29rbWFya2VkUHJvamVjdExpc3QuZmluZEluZGV4KGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHguX2lkID09IFwib3RoZXJzXCI7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgdm0uYm9va21hcmtlZFByb2plY3RMaXN0LnB1c2goY3VycmVudFByb2plY3QpO1xyXG4gICAgICAgICAgdm0uYm9va21hcmtlZFByb2plY3RMaXN0LnB1c2goe1xyXG4gICAgICAgICAgICBfaWQ6IFwib3RoZXJzXCIsXHJcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBcIkFsbCBQcm9qZWN0IExpc3RcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgMTUwMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBFdmVudCBoYW5kbGVyIHRvIHJlc2V0IGFkZCBtYXRlcmlhbCBtb2RhbCAqL1xyXG4gICAgJChcIiNjaG9vc2VQcm9qZWN0XCIpLm9uKFwiaGlkZS5icy5tb2RhbFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgdm0uZW5hYmxlTGF6eUxvYWQgPSBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZtLmNsb3NlUHJvamVjdFBpY2tlciA9ICgpID0+IHtcclxuICAgICAgJChcIiNjaG9vc2VQcm9qZWN0XCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgdm0ucHJvamVjdCA9IG51bGw7XHJcbiAgICAgIHByb2plY3RTdG9yZS5zZXQoXCJcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmNoZWNrQm9va21hcmsgPSBkYXRhID0+IHtcclxuICAgICAgbGV0IGJvb2ttYXJrID0gdHJ1ZTtcclxuICAgICAgbGV0IGFscmVhZHlCb29rbWFya2VkID0gZmFsc2U7XHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5ib29rbWFya2VkUHJvamVjdCwgZnVuY3Rpb24oeCkge1xyXG4gICAgICAgIGlmICh4Ll9pZCA9PSBkYXRhLl9pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIChhbHJlYWR5Qm9va21hcmtlZCA9IHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChhbHJlYWR5Qm9va21hcmtlZCkge1xyXG4gICAgICAgIGJvb2ttYXJrID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYm9va21hcmsgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmJvb2tNYXJrUHJvamVjdChwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkLCBib29rbWFyaylcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIGlmIChib29rbWFyaykge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIlByb2plY3Qgc3VjY2Vzc2Z1bGx5IGJvb2ttYXJrZWRcIik7XHJcbiAgICAgICAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0LnB1c2goZGF0YSk7XHJcbiAgICAgICAgICAgIHZtLmJvb2ttYXJrRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcclxuICAgICAgICAgICAgICBcIlByb2plY3Qgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQgZnJvbSBib29rbWFyayBsaXN0XCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uYm9va21hcmtlZFByb2plY3QuZmluZEluZGV4KGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4geC5faWQgPT0gZGF0YS5faWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2bS5ib29rbWFya2VkUHJvamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB2bS5ib29rbWFya0ZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uYWRkTW9yZSA9ICgpID0+IHtcclxuICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICBlbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICBjaHVua1NpemUgKz0gNTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAubGlzdEFsbFByb2plY3RzKHtcclxuICAgICAgICAgICAgc2VhcmNoOiB2bS5wcm9qZWN0U2VhcmNoLFxyXG4gICAgICAgICAgICBjaHVuazogY2h1bmtTaXplLFxyXG4gICAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgICBzb3J0OiB2bS5zb3J0UGFyYW1zLmZpZWxkLFxyXG4gICAgICAgICAgICBzb3J0VHlwZTogdm0uc29ydFBhcmFtcy50eXBlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIHZtLnByb2plY3RQaWNrZXJEYXRhID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIEZ1bmN0aW9uIHRvIHNlYXJjaCBwcm9qZWN0cyAqL1xyXG4gICAgdm0uc2VhcmNoUHJvamVjdHMgPSB0ZXh0ID0+IHtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5saXN0QWxsUHJvamVjdHMoe1xyXG4gICAgICAgICAgc2VhcmNoOiB2bS5wcm9qZWN0U2VhcmNoLFxyXG4gICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcclxuICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICBzb3J0OiB2bS5zb3J0UGFyYW1zLmZpZWxkLFxyXG4gICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5wcm9qZWN0UGlja2VyRGF0YSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIEZ1bmN0aW9uIHRvIHNvcnQgcHJvamVjdHMgKi9cclxuICAgIHZtLnNvcnQgPSBmaWVsZCA9PiB7XHJcbiAgICAgIGlmICh2bS5zb3J0UGFyYW1zLmZpZWxkID09PSBmaWVsZCkge1xyXG4gICAgICAgIHZtLnNvcnRQYXJhbXMudHlwZSA9ICF2bS5zb3J0UGFyYW1zLnR5cGU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdm0uc29ydFBhcmFtcy5maWVsZCA9IGZpZWxkO1xyXG4gICAgICAgIHZtLnNvcnRQYXJhbXMudHlwZSA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAubGlzdEFsbFByb2plY3RzKHtcclxuICAgICAgICAgIHNlYXJjaDogdm0ucHJvamVjdFNlYXJjaCxcclxuICAgICAgICAgIGNodW5rOiBjaHVua1NpemUsXHJcbiAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgc29ydDogdm0uc29ydFBhcmFtcy5maWVsZCxcclxuICAgICAgICAgIHNvcnRUeXBlOiB2bS5zb3J0UGFyYW1zLnR5cGVcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0ucHJvamVjdFBpY2tlckRhdGEgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUucmVkaXJlY3RUbzNEID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVkaWVjdGlvbiBjYWxsZWRcIik7XHJcblxyXG4gICAgICBhcGlGYWN0b3J5LmdldDNEUGFnZSgpLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVzcG9uc2U6XCIsIHJlc3BvbnNlKTtcclxuICAgICAgICAvLyBpZiAocmVzcG9uc2UuZGF0YSA9PSBcInRydWVcIikge1xyXG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXCJjb25zb2xlIHdoZW4gcmVzcG9uc2UgdHJ1ZVwiLHJlc3BvbnNlKTtcclxuICAgICAgICAvLyAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaHR0cHM6Ly9jbG91ZGVzLTNkLmNvbVwiO1xyXG4gICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImNvbnNvbGUgd2hlbiByZXNwb25zZSBmYWxzZVwiLHJlc3BvbnNlKTtcclxuICAgICAgICAvLyAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaHR0cHM6Ly9jbG91ZGVzLTNkLmNvbVwiO1xyXG5cclxuICAgICAgICAvLyB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5nb1RvRmlsZU1hbmFnZXIgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicHJvamVjdFwiLCBwcm9qZWN0U3RvcmUuZ2V0KCkpO1xyXG4gICAgICBpZiAocHJvamVjdFN0b3JlLmdldCgpKSB7XHJcbiAgICAgICAgJHN0YXRlLmdvKFwiZmlsZU1hbmFnZXJcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLndhcm5pbmcoXCJQbGVhc2Ugc2VsZWN0IGEgcHJvamVjdFwiKTtcclxuICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBzY3JvbGxUb3A6ICQoXCIucHJvamVjdFwiKS5vZmZzZXQoKS50b3BcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICA1MDAsXHJcbiAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJChcIiNzZWxlY3RQcm9qZWN0XCIpXHJcbiAgICAgICAgICAgICAgLmZvY3VzKClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJibGlua1wiKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgJChcIiNzZWxlY3RQcm9qZWN0XCIpLnJlbW92ZUNsYXNzKFwiYmxpbmtcIik7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyogUm9vZiBwbGFuIGZ1bmN0aW9uYWxpdGllcyAqL1xyXG5cclxuICAgIHZtLnBsYW5QaWNrZXJQbGFucyA9IFtdO1xyXG4gICAgdm0ucm9vdEZvbGRlcnMgPSBbXTtcclxuXHJcbiAgICB2bS5vcGVuUGxhblBpY2tlciA9ICgpID0+IHtcclxuICAgICAgaWYgKCFwcm9qZWN0U3RvcmUuZ2V0KCkpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24ud2FybmluZyhcIk5vIHByb2plY3Qgc2VsZWN0ZWRcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0UHJvamVjdFJvb2ZQbGFucyhwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgbGV0IHJvb2ZQbGFucyA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJyb29mUGxhblByb2plY3RcIiwgcHJvamVjdFN0b3JlLmdldCgpLl9pZCk7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcInJvb2ZQbGFuc1wiLCByb29mUGxhbnMpO1xyXG4gICAgICAgICAgdm0ucGxhblBpY2tlclBsYW5zID0gcm9vZlBsYW5zO1xyXG4gICAgICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmdldEhpZXJhcmNoeShwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKVxyXG5cclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLnNob3dUcmVlID0gdHJ1ZTtcclxuICAgICAgICAgIHZtLnJvb3RGb2xkZXJzID0gcmVzcC5kYXRhLmRhdGEuaGllcmFyY2hpZXM7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uY2hvb3NlUGxhbiA9IHBsYW4gPT4ge1xyXG4gICAgICAkKFwiI2Nob29zZVJvb2ZNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwic2VsZWN0ZWRQbGFuXCIsIHBsYW4pO1xyXG4gICAgICAkc3RhdGUuZ28oXCJ2aXN1YWxQbGFubmVyXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5hbGxNb2RhbENsb3NlID0gKCkgPT4ge1xyXG4gICAgICAkKFwiI2Nob29zZUZpbGUsICNzZWxlY3RGaWxlQ2FudmFzLCAjc2VsZWN0RmlsZSwgI2Nob29zZVJvb2ZNb2RhbFwiKS5tb2RhbChcclxuICAgICAgICBcImhpZGVcIlxyXG4gICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5maWxlQ2hvb3NlID0gKCkgPT4ge1xyXG4gICAgICB2bS5waWNrZXJGb2xkZXJzID0gYW5ndWxhci5jb3B5KHZtLnJvb3RGb2xkZXJzKTtcclxuICAgICAgJChcIiNjaG9vc2VGaWxlXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgJChcIiNjaG9vc2VGaWxlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgJChcIiNjaG9vc2VGaWxlIC5tb2RhbC1kaWFsb2dcIikuY3NzKHtcclxuICAgICAgICBcIi13ZWJraXQtYm94LXNoYWRvd1wiOiBcIjBweCAwcHggNDdweCA2cHggcmdiYSgwLCAwLCAwLCAwLjc1KVwiLFxyXG4gICAgICAgIFwiLW1vei1ib3gtc2hhZG93XCI6IFwiMHB4IDBweCA0N3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuNzUpXCIsXHJcbiAgICAgICAgXCJib3gtc2hhZG93XCI6IFwiMHB4IDBweCA0N3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuNzUpXCJcclxuICAgICAgfSk7XHJcbiAgICAgICQoXCIucm9vdEZvbGRlclwiKS5zaG93KCk7XHJcbiAgICAgICQoXCIuY2hpbGRGb2xkZXJcIikuaGlkZSgpO1xyXG4gICAgICB2bS5tb3ZldG8gPSBcIm1vdmUgVG9cIjtcclxuICAgICAgJHNjb3BlLmZvbGRlck5hbWUgPSBcIlJvb3QgRm9sZGVyXCI7XHJcbiAgICAgIGlmICgkc2NvcGUuZm9sZGVyTmFtZSA9PSBcIlJvb3QgRm9sZGVyXCIpIHtcclxuICAgICAgICAkc2NvcGUuYmFja0J0blZpZXcgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRzY29wZS5iYWNrQnRuVmlldyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLiRvbihcImxvYWRlclwiLCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICB2bS5sb2FkZXIgPSBkYXRhO1xyXG4gICAgICBpZiAodm0ubG9hZGVyKSB7XHJcbiAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJtb2RhbC1vcGVuXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibW9kYWwtb3BlblwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkc2NvcGUuJG9uKFwic2VsZWN0ZWRSb29mUGxhbkRvY1wiLCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICB2bS5zZWxlY3RlZEFzc2V0Rm9yUGxhbiA9IGRhdGE7XHJcblxyXG4gICAgICB2bS5yb29mcGxhbkJyZWFkQ3J1bWIgPVxyXG4gICAgICAgIGRhdGEuYnJlYWRDcnVtYnMucmVkdWNlKChhY2MsIHgpID0+IHtcclxuICAgICAgICAgIGFjYyArPSBgJHt4Lm5hbWV9ID4gYDtcclxuICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwgXCJcIikgKyBkYXRhLmFzc2V0TmFtZTtcclxuXHJcbiAgICAgIGlmICgvY2xvdWRpbmFyeS8udGVzdChkYXRhLnNlY3VyZV91cmwpKSB7XHJcbiAgICAgICAgdm0uZmlsZUFycmF5ID0gZ2xvYmFscy5leHRyYWN0UGFnZXNGcm9tUGRmKGRhdGEuc2VjdXJlX3VybCwgZGF0YS5wYWdlcyk7XHJcbiAgICAgICAgdm0ubG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikuY3NzKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcclxuICAgICAgICAkKFwiI3NlbGVjdEZpbGVcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICQoXCIjc2VsZWN0RmlsZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgdm0ucGRmRmlsZXMgPSBhbmd1bGFyLmNvcHkodm0uZmlsZUFycmF5KTtcclxuICAgICAgICBjb25zb2xlLmxvZyh2bS5maWxlQXJyYXkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChkYXRhLnBsYW5Eb2N1bWVudCkge1xyXG4gICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHZtLnBkZlBhZ2VzRGF0YSA9IHZtLnBkZkZpbGVzID0gZGF0YS5wbGFuSW1hZ2VzLm1hcCgoeCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgIHBhZ2VObzogaSxcclxuICAgICAgICAgICAgICB0aXRsZTogYHRpdGxlXyR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgICAgICAgIHVybDogeCxcclxuICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiXCJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB2bS5sb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLmNzcyhcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAkKFwiI3NlbGVjdEZpbGVcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgJChcIiNzZWxlY3RGaWxlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZ2xvYmFscy5jcmVhdGVQYWdlc0Zyb21QZGYoZGF0YSkudGhlbihwYWdlcyA9PiB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2bS5wZGZQYWdlc0RhdGEgPSBwYWdlcztcclxuICAgICAgICAgICAgdm0ucGRmRmlsZXMgPSBwYWdlcztcclxuICAgICAgICAgICAgdm0ubG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLmNzcyhcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgICQoXCIjc2VsZWN0RmlsZUNhbnZhc1wiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgICAgICQoXCIjc2VsZWN0RmlsZUNhbnZhc1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdm0uaGlkZVNlbGVjdEZpbGUgPSgpPT4ge1xyXG4gICAgICAkKFwiI2Nob29zZVJvb2ZNb2RhbFwiKS5jc3MoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcclxuICAgICAgJCgnI3NlbGVjdEZpbGUnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpXHJcbiAgICB9XHJcbiAgICB2bS5zZWxlY3RlZEZpbGVMaXN0ID0gKHZhbCwgdHlwZSwgYXNzZXQpID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSBcInN1Ym1pdFwiKSB7XHJcbiAgICAgICAgJChcIiNjaG9vc2VGaWxlLCAjc2VsZWN0RmlsZSwgI3NlbGVjdEZpbGVDYW52YXNcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikuY3NzKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XHJcbiAgICAgICAgdm0uc2VsZWN0ZWRGaWxlcyA9IFtdO1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5wZGZGaWxlcywgeCA9PiB7XHJcbiAgICAgICAgICBpZiAoeC5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICB2bS5zZWxlY3RlZEZpbGVzLnB1c2goeCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IDEpIHtcclxuICAgICAgICAgIGxldCBlbmRwb2ludCA9XHJcbiAgICAgICAgICAgICFhc3NldC5wbGFuRG9jdW1lbnQgJiYgL2Nsb3VkaW5hcnkvLnRlc3QoYXNzZXQuc2VjdXJlX3VybClcclxuICAgICAgICAgICAgICA/IFwiYWRkUHJvamVjdFJvb2ZQbGFuXCJcclxuICAgICAgICAgICAgICA6IFwiYWRkUm9vZlBsYW5zRnJvbUFzc2V0XCI7XHJcbiAgICAgICAgICAvKiBDbG91ZGluYXJ5IHBsYW5zICovXHJcbiAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgYXNzZXRJZDogYXNzZXQuX2lkLFxyXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RTdG9yZS5nZXQoKS5faWQsXHJcbiAgICAgICAgICAgIHBhZ2VzOiB2bS5zZWxlY3RlZEZpbGVzXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGFwaUZhY3RvcnlbZW5kcG9pbnRdKHBheWxvYWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAuZ2V0UHJvamVjdFJvb2ZQbGFucyhwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCByb29mUGxhbnMgPSByZXNwLmRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJyb29mUGxhblByb2plY3RcIixcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwicm9vZlBsYW5zXCIsIHJvb2ZQbGFucyk7XHJcbiAgICAgICAgICAgICAgICAgIHZtLnBsYW5QaWNrZXJQbGFucyA9IHJvb2ZQbGFucztcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8qIFMzIHBsYW5zICovXHJcbiAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgYXNzZXRJZDogYXNzZXQuX2lkLFxyXG4gICAgICAgICAgICBwZGZVcmw6IGFzc2V0LnNlY3VyZV91cmwsXHJcbiAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdFN0b3JlLmdldCgpLl9pZCxcclxuICAgICAgICAgICAgcGFnZXM6IHZtLnNlbGVjdGVkRmlsZXMucmVkdWNlKChhY2MsIHgpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHgudGl0bGUsXHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogeC5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgIHBhZ2VObzogeC5wYWdlTm9cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGFjYy5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgW10pXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAuZ2VuZXJhdGVSb29mUGxhbnMocGF5bG9hZClcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgIC5nZXRQcm9qZWN0Um9vZlBsYW5zKHByb2plY3RTdG9yZS5nZXQoKS5faWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgbGV0IHJvb2ZQbGFucyA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcclxuICAgICAgICAgICAgICAgICAgICBcInJvb2ZQbGFuUHJvamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RTdG9yZS5nZXQoKS5faWRcclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJyb29mUGxhbnNcIiwgcm9vZlBsYW5zKTtcclxuICAgICAgICAgICAgICAgICAgdm0ucGxhblBpY2tlclBsYW5zID0gcm9vZlBsYW5zO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodmFsID09IFwiY2xvc2VcIikge1xyXG4gICAgICAgICQoXCIjY2hvb3NlRmlsZSwgI3NlbGVjdEZpbGUsICNzZWxlY3RGaWxlQ2FudmFzXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLmNzcyhcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJlbXBsb3llZXNDdHJsXCIsIGVtcGxveWVlc0N0cmwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGVtcGxveWVlc0N0cmwoXHJcbiAgICAgICAgJHNjb3BlLFxyXG4gICAgICAgICR0aW1lb3V0LFxyXG4gICAgICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgICAgICRzdGF0ZSxcclxuICAgICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICAgIE5vdGlmaWNhdGlvbixcclxuICAgICAgICBOZ01hcCxcclxuICAgICAgICBnbG9iYWxzLFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgbG9nb3V0IH0gPSBnbG9iYWxzO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBcclxuXHJcbn0pKCk7IiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiZXF1aXBtZW50Q3RybFwiLCBlcXVpcG1lbnRDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gZXF1aXBtZW50Q3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFscyxcclxuICAgIFVwbG9hZFxyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgICQoXCIucGF5cm9sbE1lbnVcIikuaGlkZSgpO1xyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG5cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG5cclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgICQoXCIubWF0ZXJpYWxMaXN0XCIpLkRhdGFUYWJsZSgpO1xyXG4gICAgYXBpRmFjdG9yeVxyXG4gICAgICAubGlzdEFsbEVxdWlwbWVudHMoKVxyXG4gICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5lcXVpcG1lbnQgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAvKiBEYXRhIHRhYmxlIHNldHVwICoqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgdm0uZHRPcHRpb25zID0ge1xyXG4gICAgICBwYWdpbmc6IGZhbHNlLFxyXG4gICAgICBpbmZvOiBmYWxzZSxcclxuICAgICAgb3JkZXJpbmc6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgJChcIi5lcXVpcG1lbnRMaXN0XCIpLkRhdGFUYWJsZSgpO1xyXG5cclxuICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAwO1xyXG5cclxuICAgIHZtLmN1cnJlbnRQYWdlID0gMTtcclxuXHJcbiAgICB2bS50b2dnbGVPYmogPSB7XHJcbiAgICAgIHN5c3RlbVRhZzogdHJ1ZSxcclxuICAgICAgbWF0ZXJpYWxDb3N0OiBmYWxzZSxcclxuICAgICAgcm9vZmVyQ29zdDogZmFsc2UsXHJcbiAgICAgIGNyZWF0ZWRBdDogZmFsc2UsXHJcbiAgICAgIG5hbWU6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgdm0uc2VhcmNoVGV4dCA9IFwiXCI7XHJcbiAgICB2bS5zb3J0RXF1aXBtZW50ID0gdHlwZSA9PiB7XHJcbiAgICAgIC8qIEZvciB0b2dnbGluZyBhc2NlbmRpbmcgYW5kIGRlc2NlbmRpbmcgb3JkZXIgKi9cclxuICAgICAgdm0udG9nZ2xlT2JqW3R5cGVdID09PSB1bmRlZmluZWRcclxuICAgICAgICA/ICh2bS50b2dnbGVPYmpbdHlwZV0gPSB0cnVlKVxyXG4gICAgICAgIDogKHZtLnRvZ2dsZU9ialt0eXBlXSA9ICF2bS50b2dnbGVPYmpbdHlwZV0pO1xyXG5cclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5saXN0QWxsRXF1aXBtZW50cyh7XHJcbiAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgIHNlYXJjaDogdm0uc2VhcmNoVGV4dCxcclxuICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbdHlwZV1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uZXF1aXBtZW50ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICB2bS5lcXVpcG1lbnRDb3VudCA9IHJlc3AuZGF0YS50b3RhbDtcclxuICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgJChcIiNlcXVpcG1lbnRQYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICAgIGl0ZW1zOiB2bS5lcXVpcG1lbnRDb3VudCxcclxuICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXHJcbiAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgICBocmVmVGV4dFByZWZpeDogXCIjXCIsXHJcbiAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgICAgLmxpc3RBbGxFcXVpcG1lbnRzKHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBzb3J0OiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbdHlwZV1cclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uZXF1aXBtZW50ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnNlYXJjaEVxdWlwbWVudCA9IHRleHQgPT4ge1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmxpc3RBbGxFcXVpcG1lbnRzKHtcclxuICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICBzZWFyY2g6IHRleHQsXHJcbiAgICAgICAgICBzb3J0OiBcImNyZWF0ZWREYXRlXCIsXHJcbiAgICAgICAgICBzb3J0VHlwZTogZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uZXF1aXBtZW50ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICB2bS5lcXVpcG1lbnRDb3VudCA9IHJlc3AuZGF0YS50b3RhbDtcclxuICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgJChcIiNlcXVpcG1lbnRQYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICAgIGl0ZW1zOiB2bS5lcXVpcG1lbnRDb3VudCxcclxuICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXHJcbiAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgICBocmVmVGV4dFByZWZpeDogXCIjXCIsXHJcbiAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgICAgLmxpc3RBbGxFcXVpcG1lbnRzKHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBzb3J0OiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbdHlwZV1cclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uZXF1aXBtZW50ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIEluaXRpYWxseSBnZXR0aW5nIHRoZSB2YWx1ZXMgb2YgbWF0ZXJpYWwgYW5kIGNvbWJvIG1hdGVyaWFscyAqL1xyXG4gICAgdm0uc29ydEVxdWlwbWVudChcImNyZWF0ZWRBdFwiKTtcclxuICAgIC8qIEVuZCBvZiAgRGF0YSB0YWJsZSBzZXR1cCAqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgIC8qIEFkZCBtYXRlcmlhbCBmdW5jdGlvbmFsaXR5ICovXHJcblxyXG4gICAgdm0uYWRkTWF0ZXJpYWwgPSB7XHJcbiAgICAgIGNvbnZlcnNpb25GYWN0b3I6IDFcclxuICAgIH07XHJcblxyXG4gICAgdm0udGFiU2V0dGluZ3MgPSB7XHJcbiAgICAgIGRpc2FibGU6IHRydWVcclxuICAgIH07XHJcblxyXG4gICAgYXBpRmFjdG9yeVxyXG4gICAgICAuZ2V0Q29tcGFueUJ5SWQodm0udXNlckRhdGEuY29tcGFueUlkKVxyXG4gICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5jb21wYW55RGF0YSA9IHJlc3AuZGF0YTtcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSA9IHZtLmNvbXBhbnlEYXRhLmN1cnJlbnRDdXJyZW5jeS5jdXJyZW5jeUNvZGU7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB2bS5zaG93Q29udmVyc2lvblJhdGUgPSAoZnJvbSwgdG8pID0+IHtcclxuICAgICAgbGV0IGN1cnJlbmN5RGF0YSA9IHtcclxuICAgICAgICBmcm9tLFxyXG4gICAgICAgIHRvXHJcbiAgICAgIH07XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuc2hvd0NvbnZlcnNpb25SYXRlKGN1cnJlbmN5RGF0YSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3IgPSByZXNwLmRhdGEuY29udmVyc2lvbkZhY3RvcjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5tVW5pdHMgPSBnbG9iYWxzLm1Vbml0cztcclxuXHJcbiAgICBnbG9iYWxzLmdldEN1cnJlbmN5KCkudGhlbihyZXNwID0+IHtcclxuICAgICAgdm0uY3VycmVuY2llcyA9IHJlc3AuZGF0YTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZtLnRhYlN0eWxlID0gKCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxOYW1lICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUgIT09IFwiIFwiXHJcbiAgICAgICkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsVW5pdCAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbFVuaXQgIT09IFwiIFwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5ICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3kgIT09IFwiXCJcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvciAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvciAhPT0gXCJcIlxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gaS5mYVwiKS5hdHRyKFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDsgY29sb3I6ICMzY2JkYWFcIlxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgJChcInVpYi10YWItaGVhZGluZy5pbmZvIC5udW1iZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICQoXCIuYnRuLXN1Y2Nlc3MubmV4dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyBpLmZhXCIpLmF0dHIoXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlXCIsXHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgY29sb3I6ICMzY2JkYWFcIlxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgJChcInVpYi10YWItaGVhZGluZy5pbmZvIC5udW1iZXJcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICQoXCIuYnRuLXN1Y2Nlc3MubmV4dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyBpLmZhXCIpLmF0dHIoXHJcbiAgICAgICAgICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICAgICAgICAgIFwiZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyBjb2xvcjogIzNjYmRhYVwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLnNob3coKTtcclxuICAgICAgICAgICAgJChcIi5idG4tc3VjY2Vzcy5uZXh0XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJChcInVpYi10YWItaGVhZGluZy5pbmZvIGkuZmFcIikuYXR0cihcclxuICAgICAgICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICAgICAgICBcImRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgY29sb3I6ICMzY2JkYWFcIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLnNob3coKTtcclxuICAgICAgICAgICQoXCIuYnRuLXN1Y2Nlc3MubmV4dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyBpLmZhXCIpLmF0dHIoXHJcbiAgICAgICAgICBcInN0eWxlXCIsXHJcbiAgICAgICAgICBcImRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgY29sb3I6ICMzY2JkYWFcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgJChcInVpYi10YWItaGVhZGluZy5pbmZvIC5udW1iZXJcIikuc2hvdygpO1xyXG4gICAgICAgICQoXCIuYnRuLXN1Y2Nlc3MubmV4dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0uYWRkTWF0ZXJpYWxOZXh0ID0gKCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxOYW1lID09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSA9PSBcIiBcIlxyXG4gICAgICApIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgbWF0ZXJpYWwgbmFtZVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbFVuaXQgPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxVbml0ID09IFwiIFwiXHJcbiAgICAgICkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgbWF0ZXJpYWwgVW5pdFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSA9PSB1bmRlZmluZWQgfHxcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSA9PSBcIiBcIlxyXG4gICAgICApIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IEN1cnJlbmN5XCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLmFjdGl2ZUp1c3RpZmllZCA9IDE7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmNoYW5nZUNvc3QgPSAoY29zdCwgY29udmVyc2lvblJhdGUpID0+IHtcclxuICAgICAgcmV0dXJuIGNvc3QgKiBjb252ZXJzaW9uUmF0ZTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uYWRkTWF0ZXJpYWxEZXRhaWxzID0gKCkgPT4ge1xyXG4gICAgICB2YXIgZm9ybURhdGEgPSB7XHJcbiAgICAgICAgbmFtZTogdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxOYW1lLFxyXG4gICAgICAgIHVuaXQ6IHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsVW5pdCxcclxuICAgICAgICBlcXVpcG1lbnRDb3N0czoge1xyXG4gICAgICAgICAgdmFsdWU6IHZtLmNoYW5nZUNvc3QoXHJcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmVxdWlwbWVudENvc3RWYWx1ZSxcclxuICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvclxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcm9vZmVyQ29zdDoge1xyXG4gICAgICAgICAgdmFsdWU6IHZtLmNoYW5nZUNvc3QoXHJcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLnJvb2ZlckNvc3RWYWx1ZSxcclxuICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvclxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZmlsZXM6IHZtLmlucHV0RmlsZXNcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuY3JlYXRlRXF1aXBtZW50KGZvcm1EYXRhKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgJChcIiNhZGRFcXVpcG1lbnRzXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIHZtLnNvcnRFcXVpcG1lbnQoXCJjcmVhdGVkQXRcIik7XHJcblxyXG4gICAgICAgICAgdm0uYWRkTWF0ZXJpYWwgPSB7XHJcbiAgICAgICAgICAgIGNvbnZlcnNpb25GYWN0b3I6IDFcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJmaWxlTWFuYWdlckN0cmxcIiwgZmlsZU1hbmFnZXJDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gZmlsZU1hbmFnZXJDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJGh0dHAsXHJcbiAgICAkd2luZG93LFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgZmlsZU1hbmFnZXJGYWN0b3J5LFxyXG4gICAgdXBsb2FkRmFjdG9yeVxyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBsb2dvdXQsXHJcbiAgICAgIHVzZXJTdG9yZSxcclxuICAgICAgcHJvamVjdFN0b3JlLFxyXG4gICAgICBnZW5lcmljU3RvcmUsXHJcbiAgICAgIGJyZWFrY3J1bWJTdG9yZVxyXG4gICAgfSA9IGdsb2JhbHM7XHJcbiAgICBjb25zdCB7IGNsaXBCb2FyZCB9ID0gZmlsZU1hbmFnZXJGYWN0b3J5O1xyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgYXBpRmFjdG9yeVxyXG4gICAgICAubGlzdEFsbFByb2plY3RzKClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0ucHJvamVjdExpc3QgPSByZXNwLmRhdGE7XHJcbiAgICAgICAgLyogSW5pdGlhbGx5IGxvYWQgdGhlIGZpcnN0IHByb2plY3QgYXMgZGVmYXVsdCAqL1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUHJvamVjdCA9IHByb2plY3RTdG9yZS5nZXQoKTtcclxuXHJcbiAgICAgICAgdm0uc2VsZWN0ZWRQcm9qZWN0ID0gc2VsZWN0ZWRQcm9qZWN0Ll9pZDtcclxuXHJcbiAgICAgICAgdm0uZ2V0UHJpbWFyeUZvbGRlcnMoc2VsZWN0ZWRQcm9qZWN0KTtcclxuICAgICAgICAvKiBTZXQgYmFja3VwIGZvbGRlcnMgKi9cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB2bS5yb290Rm9sZGVycyA9IFtdO1xyXG5cclxuICAgIHZtLmJhY2t1cEZvbGRlcnMgPSBwcm9qZWN0U3RvcmUuZ2V0KCkuYmFja3VwRm9sZGVycztcclxuXHJcbiAgICB2bS53aW5kb3dJdGVtcyA9IHtcclxuICAgICAgZm9sZGVyRGF0YTogXCJcIixcclxuICAgICAgZm9sZGVyczogW10sXHJcbiAgICAgIGZpbGVzOiBbXVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5yZXNvbHZlQXNzZXRJY29uID0gYXNzZXRPYmogPT4ge1xyXG4gICAgICBsZXQgYXNzZXRGb3JtYXQgPSBhc3NldE9iai5mb3JtYXQudHJpbSgpLFxyXG4gICAgICAgIGljb247XHJcblxyXG4gICAgICBpZiAoL2pwKmcvLnRlc3QoYXNzZXRGb3JtYXQpKSB7XHJcbiAgICAgICAgaWNvbiA9IFwianBnXCI7XHJcbiAgICAgIH0gZWxzZSBpZiAoL3BuZy8udGVzdChhc3NldEZvcm1hdCkpIHtcclxuICAgICAgICBpY29uID0gXCJwbmdcIjtcclxuICAgICAgfSBlbHNlIGlmICgvcGRmLy50ZXN0KGFzc2V0Rm9ybWF0KSkge1xyXG4gICAgICAgIGljb24gPSBcInBkZlwiO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpY29uO1xyXG4gICAgfTtcclxuICAgIHZtLnNob3dUcmVlID0gZmFsc2U7XHJcbiAgICB2bS5nZXRQcmltYXJ5Rm9sZGVycyA9IChzZWxlY3RlZFByb2plY3QsIGxpc3QpID0+IHtcclxuICAgICAgaWYgKGxpc3QpIHtcclxuICAgICAgICAvKiBGaWx0ZXJpbmcgdGhyb3VnaCB0aGUgbGlzdCBvZiBwcm9qIGlmIHBhcmFtIGlzIGEgc3RyaW5nICovXHJcbiAgICAgICAgcHJvamVjdFN0b3JlLnNldChcclxuICAgICAgICAgIGxpc3QuZmlsdGVyKHggPT4ge1xyXG4gICAgICAgICAgICBpZiAoeC5faWQgPT09IHNlbGVjdGVkUHJvamVjdCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH0pWzBdXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwcm9qZWN0U3RvcmUuc2V0KHNlbGVjdGVkUHJvamVjdCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZtLmJhY2t1cEZvbGRlcnMgPSBwcm9qZWN0U3RvcmUuZ2V0KCkuYmFja3VwRm9sZGVycztcclxuXHJcbiAgICAgIFByb21pc2UuYWxsKFtcclxuICAgICAgICBhcGlGYWN0b3J5LmdldEhpZXJhcmNoeShwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKSxcclxuICAgICAgICBhcGlGYWN0b3J5LnZpZXdQcm9qZWN0QXNzZXRzKHByb2plY3RTdG9yZS5nZXQoKS5faWQpXHJcbiAgICAgIF0pXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5zaG93VHJlZSA9IHRydWU7XHJcbiAgICAgICAgICB2bS5yb290Rm9sZGVycyA9IHJlc3BbMF0uZGF0YS5kYXRhLmhpZXJhcmNoaWVzO1xyXG4gICAgICAgICAgdm0ucHJvamVjdEZpbGVzID0gcmVzcFsxXS5kYXRhLmRhdGE7XHJcbiAgICAgICAgICB2bS5sb2FkRmlsZXNUb0F1dG9Db21wbGV0ZSA9ICRxdWVyeSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZSh2bS5wcm9qZWN0RmlsZXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gdm0uc2VsZWN0ZWRQcm9qZWN0ID0gXCI1YWZkNDUyMGQwOGQ0YjM4NTlmZTliZDZcIjtcclxuICAgIC8vIHZtLmdldFByaW1hcnlGb2xkZXJzKHZtLnNlbGVjdGVkUHJvamVjdCk7XHJcblxyXG4gICAgdm0uZ2V0Rm9sZGVyID0gaWQgPT4ge1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmdldEhpZXJhcmNoeUNoaWxkcmVuKGlkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBTdG9yaW5nIHRoZSBmaWxlIHBhdGggaW4gYSBzdG9yZSBkdWUgdG8gbGltaXRhdGlvbnMgaW4gdGhlIHBsdWdpbiAqL1xyXG5cclxuICAgIGNvbnN0IGZpbGVEZXN0aW5hdGlvbiA9IGdlbmVyaWNTdG9yZSgpO1xyXG5cclxuICAgIHZtLnRyZWVPcHRpb25zID0ge1xyXG4gICAgICBhY2NlcHQ6IGZ1bmN0aW9uKHNvdXJjZSwgZGVzdCwgZGVzdEluZGV4KSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZS5maWxlKSB7XHJcbiAgICAgICAgICBmaWxlRGVzdGluYXRpb24uc3RvcmUoZGVzdCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9LFxyXG4gICAgICBkcmFnU3RvcDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBsZXQgeyBzb3VyY2UsIGRlc3QgfSA9IGV2ZW50O1xyXG4gICAgICAgIC8qIEV4Y2x1c2l2ZSBmb3IgZmlsZXMgKi9cclxuICAgICAgICBpZiAoc291cmNlLm5vZGVTY29wZS5maWxlKSB7XHJcbiAgICAgICAgICAvKiBTdGVwIDE6ICBHZXQgdGhlIGRlc3QgdmFsdWUgZnJvbSB0aGUgZXh0ZXJuYWwgc3RvcmUgYW5kIGFwcGVuZCB0byBkZXN0ICovXHJcbiAgICAgICAgICBsZXQgZGVzdGluYXRpb24gPSBmaWxlRGVzdGluYXRpb24uZ2V0KCk7XHJcbiAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uLiRub2RlU2NvcGUpIHtcclxuICAgICAgICAgICAgLyogUmV0dXJuIGZvciBpbnZhbGlkIGRyYWdzICovXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICBhc3NldElkOiBzb3VyY2Uubm9kZVNjb3BlLmZpbGUuX2lkLFxyXG4gICAgICAgICAgICBzb3VyY2VJZDogc291cmNlLm5vZGVTY29wZS4kcGFyZW50LiRub2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBkZXN0SWQ6IGRlc3RpbmF0aW9uLiRub2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgLyogU3RlcCAyOiBTeW5jIHdpdGggYmFja2VuZCBidXQgZG9uJ3Qgd2FpdCBmb3IgdGhlIHJlc3BvbnNlICAqL1xyXG4gICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAubW92ZUFzc2V0cyhwYXlsb2FkKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKGRlc3RpbmF0aW9uLiRub2RlU2NvcGUuJG1vZGVsVmFsdWUuZmlsZXMpIHtcclxuICAgICAgICAgICAgZGVzdGluYXRpb24uJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5maWxlcy5wdXNoKFxyXG4gICAgICAgICAgICAgIHNvdXJjZS5ub2RlU2NvcGUuZmlsZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGVzdGluYXRpb24uJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5maWxlcyA9IFtzb3VyY2Uubm9kZVNjb3BlLmZpbGVdO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8qIFN0ZXAgMzogUmVtb3ZlIHRoZSBmaWxlIGZyb20gdGhlIHNvdXJjZSBmb2xkZXIgKi9cclxuICAgICAgICAgIHNvdXJjZS5ub2RlU2NvcGUuJHBhcmVudC4kbm9kZVNjb3BlLiRtb2RlbFZhbHVlLmZpbGVzID0gc291cmNlLm5vZGVTY29wZS4kcGFyZW50LiRub2RlU2NvcGUuJG1vZGVsVmFsdWUuZmlsZXMuZmlsdGVyKFxyXG4gICAgICAgICAgICB4ID0+IHguX2lkICE9PSBzb3VyY2Uubm9kZVNjb3BlLmZpbGUuX2lkXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZHJvcHBlZDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBsZXQgeyBzb3VyY2UsIGRlc3QgfSA9IGV2ZW50O1xyXG4gICAgICAgIGxldCBwYXlsb2FkO1xyXG5cclxuICAgICAgICAvKiBGb3IgbW92aW5nIGZvbGRlcnMgKi9cclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgZGVzdC5ub2Rlc1Njb3BlLiRub2RlU2NvcGUgPT09IG51bGwgJiZcclxuICAgICAgICAgIHNvdXJjZS5ub2RlU2NvcGUuJHBhcmVudE5vZGVTY29wZSA9PT0gbnVsbFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLyogSWdub3JlIHNhbWUgbGV2ZWwgZHJhZ3MgKi9cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgZGVzdC5ub2Rlc1Njb3BlLiRub2RlU2NvcGUgPT09IG51bGwgJiZcclxuICAgICAgICAgIHNvdXJjZS5ub2RlU2NvcGUuJHBhcmVudE5vZGVTY29wZSAhPT0gbnVsbFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLyogRHJhZ2dpbmcgdG8gcm9vdCAqL1xyXG4gICAgICAgICAgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgdHlwZTogMSxcclxuICAgICAgICAgICAgaGllcmFyY2h5SWQ6IHNvdXJjZS5ub2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBwYXJlbnRJZDogc291cmNlLm5vZGVTY29wZS4kcGFyZW50Tm9kZVNjb3BlLiRtb2RlbFZhbHVlLl9pZCxcclxuICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICBkZXN0Lm5vZGVzU2NvcGUuJG5vZGVTY29wZSAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgc291cmNlLm5vZGVTY29wZS4kcGFyZW50Tm9kZVNjb3BlID09PSBudWxsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAvKiBEcmFnZ2luZyBmcm9tIHJvb3QgKi9cclxuICAgICAgICAgIHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IDIsXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeUlkOiBzb3VyY2Uubm9kZVNjb3BlLiRtb2RlbFZhbHVlLl9pZCxcclxuICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkLFxyXG4gICAgICAgICAgICBkZXN0SWQ6IGRlc3Qubm9kZXNTY29wZS4kbm9kZVNjb3BlLiRtb2RlbFZhbHVlLl9pZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLyogRHJhZ2dpbmcgYmV0d2VlbiBzdWIgZm9sZGVycyAqL1xyXG4gICAgICAgICAgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgdHlwZTogMyxcclxuICAgICAgICAgICAgaGllcmFyY2h5SWQ6IHNvdXJjZS5ub2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBwYXJlbnRJZDogc291cmNlLm5vZGVTY29wZS4kcGFyZW50Tm9kZVNjb3BlLiRtb2RlbFZhbHVlLl9pZCxcclxuICAgICAgICAgICAgZGVzdElkOiBkZXN0Lm5vZGVzU2NvcGUuJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5faWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAuZHJhZ01vdmVOb2RlcyhwYXlsb2FkKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgcm9vdEZvbGRlclN0b3JlID0gZ2VuZXJpY1N0b3JlKCk7XHJcblxyXG4gICAgdm0uc2V0Um9vdEZvbGRlciA9IG9iaiA9PiB7XHJcbiAgICAgIHJvb3RGb2xkZXJTdG9yZS5zdG9yZShvYmopO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBhZGQgbW9kYWwgc2V0dGluZ3MgKi9cclxuICAgIHZtLmFkZE1vZGFsQWN0aXZlVGFiID0gMDtcclxuICAgICQoXCIjYWRkTW9kYWxcIikub24oXCJoaWRlLmJzLm1vZGFsXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2bS5maWxlTmFtZXMgPSBbXTtcclxuICAgICAgdm0uYWRkTW9kYWxBY3RpdmVUYWIgPSAwO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdm0uYWRkUHJpbWFyeUZvbGRlciA9IChuYW1lLCBwcm9qZWN0SWQpID0+IHtcclxuICAgICAgbGV0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBpc1BhcmVudDogdHJ1ZSxcclxuICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZFxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBub2RlT2JqID0gcm9vdEZvbGRlclN0b3JlLmdldCgpO1xyXG4gICAgICAkKFwiI2FkZE1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5hZGRIaWVyYXJjaHkocGF5bG9hZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIG5vZGVPYmouJG5vZGVzU2NvcGUuJG1vZGVsVmFsdWUucHVzaChyZXNwLmRhdGEuZGF0YSk7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInJvb3Rmb2xkZXJcIiwgcm9vdEZvbGRlclN0b3JlLmdldCgpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5vcGVuQWRkTW9kYWwgPSAoc291cmNlLCBvYmopID0+IHtcclxuICAgICAgdm0uYWRkTW9kYWxTb3VyY2UgPSBzb3VyY2U7XHJcbiAgICAgIHZtLm5vZGVPYmogPSBvYmo7XHJcbiAgICAgICQoXCIjYWRkTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zaG93TG9hZGVyID0gZmFsc2U7XHJcblxyXG4gICAgdm0udG9nZ2xlRm9sZGVyID0gKGZvbGRlciwgaWNvbiwgbm9kZSkgPT4ge1xyXG4gICAgICBpZiAoZm9sZGVyLiRtb2RlbFZhbHVlLmJhY2t1cCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhmb2xkZXIuJHRyZWVTY29wZS4kZWxlbWVudFswXSlcclxuICAgICAgLy8gY29uc29sZS5sb2coJChmb2xkZXIuJGVsZW1lbnRbMF0pLmZpbmQoJy5yb3cgLmZpbGUtbGlzdGluZycpWzBdLmFkZENsYXNzKCdiZy1kYXJrJykpXHJcbiAgICAgICQoZm9sZGVyLiR0cmVlU2NvcGUuJGVsZW1lbnRbMF0pXHJcbiAgICAgICAgLmZpbmQoXCIuZm9sZGVyLW9wZW5cIilcclxuICAgICAgICAucmVtb3ZlQ2xhc3MoXCJmb2xkZXItb3BlblwiKTtcclxuICAgICAgJChmb2xkZXIuJGVsZW1lbnRbMF0pXHJcbiAgICAgICAgLmZpbmQoXCIucm93XCIpXHJcbiAgICAgICAgLmZpcnN0KClcclxuICAgICAgICAuYWRkQ2xhc3MoXCJmb2xkZXItb3BlblwiKTtcclxuXHJcbiAgICAgIHZtLnNob3dMb2FkZXIgPSB0cnVlO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLnZpZXdIaWVyYXJjaHkoZm9sZGVyLiRtb2RlbFZhbHVlLl9pZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIC8qIEFwcGVuZCBmaWxlcyB0byB0aGUgZm9sZGVyICovXHJcbiAgICAgICAgICB2bS53aW5kb3dJdGVtcyA9IHtcclxuICAgICAgICAgICAgZm9sZGVyRGF0YTogZm9sZGVyLFxyXG4gICAgICAgICAgICBmb2xkZXJzOiBmb2xkZXIuJG1vZGVsVmFsdWUuY2hpbGRyZW4sXHJcbiAgICAgICAgICAgIGZpbGVzOiByZXNwLmRhdGEuZmlsZXNcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uYnJlYWRDcnVtYkxpc3QgPSByZXNwLmRhdGEuYnJlYWRjcnVtYnM7XHJcbiAgICAgICAgICB2bS5zaG93TG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgICBmb2xkZXIuJG1vZGVsVmFsdWUuZmlsZXMgPSByZXNwLmRhdGEuZmlsZXM7XHJcbiAgICAgICAgICBuYXZpZ2F0aW9uU3RhY2sucHVzaChmb2xkZXIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIGlmIChmb2xkZXIuY29sbGFwc2VkKSB7XHJcbiAgICAgICAgZm9sZGVyLnRvZ2dsZSgpO1xyXG4gICAgICB9IGVsc2UgaWYgKGljb24pIHtcclxuICAgICAgICBuYXZpZ2F0aW9uU3RhY2sucHVzaChmb2xkZXIpO1xyXG4gICAgICAgIC8vIGZvbGRlci50b2dnbGUoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBuYXZpZ2F0aW9uU3RhY2sgPSBmaWxlTWFuYWdlckZhY3RvcnkubmF2aWdhdGlvblN0YWNrKCk7XHJcblxyXG4gICAgdm0ubmF2aWdhdGUgPSBmb3J3YXJkID0+IHtcclxuICAgICAgbGV0IGZvbGRlciA9IGZvcndhcmRcclxuICAgICAgICA/IG5hdmlnYXRpb25TdGFjay5mb3J3YXJkKClcclxuICAgICAgICA6IG5hdmlnYXRpb25TdGFjay5iYWNrd2FyZCgpO1xyXG5cclxuICAgICAgLy8gaWYgKGZvbGRlciA/IChmb2xkZXIuY29sbGFwc2VkID8gdHJ1ZSA6IGZhbHNlKSA6IGZhbHNlKSB7XHJcbiAgICAgIGlmIChmb2xkZXIpIHtcclxuICAgICAgICB2bS5zaG93TG9hZGVyID0gdHJ1ZTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAudmlld0hpZXJhcmNoeShmb2xkZXIuJG1vZGVsVmFsdWUuX2lkKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIC8qIEFwcGVuZCBmaWxlcyB0byB0aGUgZm9sZGVyICovXHJcbiAgICAgICAgICAgIHZtLndpbmRvd0l0ZW1zID0ge1xyXG4gICAgICAgICAgICAgIGZvbGRlckRhdGE6IGZvbGRlcixcclxuICAgICAgICAgICAgICBmb2xkZXJzOiBmb2xkZXIuJG1vZGVsVmFsdWUuY2hpbGRyZW4sXHJcbiAgICAgICAgICAgICAgZmlsZXM6IHJlc3AuZGF0YS5maWxlc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2bS5zaG93TG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvbGRlci4kbW9kZWxWYWx1ZS5maWxlcyA9IHJlc3AuZGF0YS5maWxlcztcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0ub3BlbkZvbGRlciA9IGlkID0+IHtcclxuICAgICAgLyogR2V0IHRoZSBub2RlIG9iaiBmcm9tIHRoZSB3aW5kb3cgaXRlbSBvYmogKi9cclxuICAgICAgbGV0IGZvbGRlckRhdGEgPSB2bS53aW5kb3dJdGVtcy5mb2xkZXJEYXRhXHJcbiAgICAgICAgLmNoaWxkTm9kZXMoKVxyXG4gICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHguJG1vZGVsVmFsdWUuX2lkID09PSBpZCkge1xyXG4gICAgICAgICAgICBhY2MgPSB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LCBudWxsKTtcclxuXHJcbiAgICAgIHZtLnNob3dMb2FkZXIgPSB0cnVlO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLnZpZXdIaWVyYXJjaHkoaWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBuYXZpZ2F0aW9uU3RhY2sucHVzaChmb2xkZXJEYXRhKTtcclxuICAgICAgICAgIC8qIEFwcGVuZCBmaWxlcyB0byB0aGUgZm9sZGVyICovXHJcbiAgICAgICAgICB2bS53aW5kb3dJdGVtcyA9IHtcclxuICAgICAgICAgICAgZm9sZGVyRGF0YTogZm9sZGVyRGF0YSxcclxuICAgICAgICAgICAgZm9sZGVyczogcmVzcC5kYXRhLmZvbGRlcnMsXHJcbiAgICAgICAgICAgIGZpbGVzOiByZXNwLmRhdGEuZmlsZXNcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2bS5icmVhZENydW1iTGlzdCA9IHJlc3AuZGF0YS5icmVhZGNydW1icztcclxuICAgICAgICAgIHZtLnNob3dMb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5hZGRGb2xkZXIgPSAobmFtZSwgZm9sZGVyKSA9PiB7XHJcbiAgICAgICQoXCIjYWRkTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGlzUGFyZW50OiBmYWxzZSxcclxuICAgICAgICBwYXJlbnQ6IGZvbGRlclxyXG4gICAgICB9O1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmFkZEhpZXJhcmNoeShwYXlsb2FkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgZm9sZGVyLmNoaWxkcmVuLnB1c2gocmVzcC5kYXRhLmRhdGEpO1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZEZpbGVUb0hpZXJhcmNoeSA9IChhc3NldHMsIGZvbGRlcikgPT4ge1xyXG4gICAgICAkKFwiI2FkZE1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgY29uc3QgYXNzZXRJZCA9IGFzc2V0cy5tYXAoeCA9PiB4Ll9pZCk7XHJcbiAgICAgIGNvbnN0IGhpZXJhcmNoeUlkID0gZm9sZGVyLl9pZDtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5hZGRGaWxlVG9IaWVyYXJjaHkoe1xyXG4gICAgICAgICAgYXNzZXRJZCxcclxuICAgICAgICAgIGhpZXJhcmNoeUlkXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmRlbGV0ZUZpbGUgPSAoaWQsIGZvbGRlckRhdGEpID0+IHtcclxuICAgICAgJChcIiNmaWxlVmlld1wiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZGVsZXRlQXNzZXRzKHtcclxuICAgICAgICAgIGFzc2V0SWQ6IGlkXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLnNob3dMb2FkZXIgPSB0cnVlO1xyXG4gICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAudmlld0hpZXJhcmNoeShmb2xkZXJEYXRhLiRtb2RlbFZhbHVlLl9pZClcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgLyogQXBwZW5kIGZpbGVzIHRvIHRoZSBmb2xkZXIgKi9cclxuICAgICAgICAgICAgICB2bS53aW5kb3dJdGVtcyA9IHtcclxuICAgICAgICAgICAgICAgIGZvbGRlckRhdGE6IGZvbGRlckRhdGEsXHJcbiAgICAgICAgICAgICAgICBmb2xkZXJzOiBmb2xkZXJEYXRhLiRtb2RlbFZhbHVlLmNoaWxkcmVuLFxyXG4gICAgICAgICAgICAgICAgZmlsZXM6IHJlc3AuZGF0YS5maWxlc1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgdm0uc2hvd0xvYWRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGZvbGRlckRhdGEuJG1vZGVsVmFsdWUuZmlsZXMgPSByZXNwLmRhdGEuZmlsZXM7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyogRmlsZSAgIGhhbmRsaW5nICovXHJcbiAgICB2bS51cGxvYWRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgdm0uY29tcGxldGVkQWxsID0gZmFsc2U7XHJcblxyXG4gICAgdm0uZmlsZVVwZGF0ZWQgPSAoZmlsZXMsIGV2ZW50KSA9PiB7XHJcbiAgICAgIC8qIFJlZnJlc2ggdXBsb2FkIHN0YXRlcyB3aXRoIG5ldyBmaWxlcyAqL1xyXG4gICAgICBsZXQgZmlsZU9iaiA9IGV2ZW50LnRhcmdldC5maWxlcztcclxuICAgICAgdm0udXBsb2FkU3RhdGUgPSBmYWxzZTtcclxuICAgICAgdm0uY29tcGxldGVkQWxsID0gZmFsc2U7XHJcblxyXG4gICAgICB2bS5maWxlTmFtZXMgPSBPYmplY3Qua2V5cyhmaWxlT2JqKS5tYXAoeCA9PiB7XHJcbiAgICAgICAgbGV0IHZhbCA9IGZpbGVPYmpbeF07XHJcbiAgICAgICAgdmFsLnByb2dyZXNzID0gMDtcclxuICAgICAgICB2YWwuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB2YWwuY29tcGxldGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFsLmFib3J0ZWQgPSBmYWxzZTtcclxuICAgICAgICB2YWwucGxhbiA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZtLnRvZ2dsZVVwbG9hZFZpZXdNYXhpbWl6ZSA9IHZhbCA9PiB7XHJcbiAgICAgIHZtLnVwbG9hZFZpZXdNYXhpbWl6ZSA9ICF2YWw7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIENhcHR1cmUgcmVsb2FkIGFuZCBiYWNrIGV2ZW50cyAqL1xyXG5cclxuICAgIC8vIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIC8vICAgLy8gdm0udXBsb2FkU3RhdGUgJiZcclxuICAgIC8vICAgcmV0dXJuIChmdW5jdGlvbigpIHtcclxuICAgIC8vICAgICBpZiAod2luZG93LmNvbmZpcm0oXCJBcmUgeW91IHN1cmU/IEZpbGUgdXBsb2FkIHdpbGwgYmUgYWJvcnRlZFwiKSkge1xyXG4gICAgLy8gICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSkoKTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLyogTWFpbiB1cGxvYWQgZnVuY3Rpb25hbGl0eSAqL1xyXG5cclxuICAgIHZtLnByZVVwbG9hZCA9IChmaWxlcywgZm9sZGVyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGZpbGVzKTtcclxuICAgICAgJChcIiNhZGRNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGZpbGVNYW5hZ2VyRmFjdG9yeVxyXG4gICAgICAgIC5jaGVja0R1cGxpY2F0ZUZpbGVzKGZpbGVzLCBmb2xkZXIuX2lkKVxyXG4gICAgICAgIC50aGVuKHByb2Nlc3NlZCA9PiB7XHJcbiAgICAgICAgICBpZiAocHJvY2Vzc2VkLmR1cGxpY2F0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZtLnByZVVwbG9hZEZpbGVzID0gcHJvY2Vzc2VkO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh2bS5wcmVVcGxvYWRGaWxlcyk7XHJcbiAgICAgICAgICAgICQoXCIjdmVyc2lvbmluZ01vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2Nlc3NlZCk7XHJcbiAgICAgICAgICAgIHZtLnVwbG9hZEZpbGUocHJvY2Vzc2VkLCBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkLCBmb2xkZXIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnByb2Nlc3NEdXBsaWNhdGVGaWxlTmFtZSA9IGZpbGUgPT4ge1xyXG4gICAgICBpZiAoZmlsZS5hY3Rpb24gPT09IFwidmVyc2lvblwiKSB7XHJcbiAgICAgICAgZmlsZS5hc3NldE5hbWUgPSBmaWxlTWFuYWdlckZhY3RvcnkuZ2VuZXJhdGVWZXJzaW9uKGZpbGUubmFtZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmlsZS5hc3NldE5hbWUgPSBmaWxlLm5hbWU7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0udXBsb2FkRmlsZSA9IChmaWxlcywgcHJvamVjdElkLCBmb2xkZXIpID0+IHtcclxuICAgICAgLyogVmFsaWRhdGUgZHVwbGljYXRlIGZpbGVzICovXHJcbiAgICAgIGlmIChmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tOYW1lQ2hhbmdlKGZpbGVzLmR1cGxpY2F0ZXMpKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLndhcm5pbmcoXCJGaWxlIG5hbWVzIGNhbid0IGJlIHRoZSBzYW1lXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvKiBDb2xsYXRlIGZpbGVzICovXHJcbiAgICAgICQoXCIjdmVyc2lvbmluZ01vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgZmlsZXMgPSBbLi4uZmlsZXMuZHVwbGljYXRlcywgLi4uZmlsZXMudXBsb2FkRmlsZXNdO1xyXG4gICAgICB2bS51cGxvYWRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICQoXCIjYWRkTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICB2bS51cGxvYWRWaWV3RmlsZXMgPSBmaWxlTWFuYWdlckZhY3Rvcnkuc3BsaXREZXN0aW5hdGlvbihmaWxlcyk7XHJcbiAgICAgIC8qIENhdGVnb3JpemUgZmlsZXMgKi9cclxuICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnVwbG9hZFZpZXdGaWxlcy5zMywgeCA9PiB7XHJcbiAgICAgICAgLyogQXR0YWNoIGV2ZW50cyBhbmQgcHJvcHMgdG8gZmlsZU9iaiBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgdmlldyAqL1xyXG4gICAgICAgIGxldCB1cGxvYWRIYW5kbGVyID0gZXZhcG9yYXRlID0+IHtcclxuICAgICAgICAgIC8qIHVwbG9hZCB0byBzMyBpZiB2YWx1ZSBpcyBsZXNzIHRoYW4gMyAqL1xyXG4gICAgICAgICAgeC5wYXVzZSA9IHVwbG9hZEZhY3RvcnkucGF1c2UuYmluZChldmFwb3JhdGUsIHgpO1xyXG4gICAgICAgICAgeC5yZXN1bWUgPSB1cGxvYWRGYWN0b3J5LnJlc3VtZS5iaW5kKGV2YXBvcmF0ZSwgeCk7XHJcbiAgICAgICAgICB4LmFib3J0ID0gdXBsb2FkRmFjdG9yeS5hYm9ydC5iaW5kKGV2YXBvcmF0ZSwgeCk7XHJcbiAgICAgICAgICBsZXQgYWRkQ29uZmlnID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB4Lm5hbWUsXHJcbiAgICAgICAgICAgIGZpbGU6IHgsXHJcbiAgICAgICAgICAgIHByb2dyZXNzOiAocCwgc3RhdHMpID0+IHtcclxuICAgICAgICAgICAgICAvKiBBV1MgcHJvZ3Jlc3MgcGVyY2VudGFnZSBmYWxscyBiYWNrIHNvbWV0aW1lcyBkdWUgdG8gbWlzc2luZyBmcmFnbWVudGF0aW9uLiBcclxuICAgICAgICAgICAgICBVcGRhdGUgcHJvZ3Jlc3MgdmFsdWUgb25seSB3aGVuIGl0J3MgaGlnaGVyIHRoYW4gdGhlIHByZXZpb3VzIHZhbHVlICovXHJcbiAgICAgICAgICAgICAgeC5wcm9ncmVzcyA9XHJcbiAgICAgICAgICAgICAgICB4LnByb2dyZXNzID4gTWF0aC5yb3VuZChwICogMTAwKVxyXG4gICAgICAgICAgICAgICAgICA/IHgucHJvZ3Jlc3NcclxuICAgICAgICAgICAgICAgICAgOiBNYXRoLnJvdW5kKHAgKiAxMDApO1xyXG4gICAgICAgICAgICAgIC8qIENoZWNrIGNvbXBsZXRpb24gKi9cclxuICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgICAgdm0udXBsb2FkVmlld0ZpbGVzXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb21wbGV0ZTogKF94aHIsIGF3c0tleSkgPT4ge1xyXG4gICAgICAgICAgICAgIHguY29tcGxldGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcGxldGUhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGV2YXBvcmF0ZS5hZGQoYWRkQ29uZmlnKS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbihhd3NPYmplY3RLZXkpIHtcclxuICAgICAgICAgICAgICAvKiBTdWNjZXNzIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBmaWxlTWFuYWdlckZhY3RvcnkucmVzb2x2ZURlc3RUeXBlKHgpLFxyXG4gICAgICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkLFxyXG4gICAgICAgICAgICAgICAgZm9sZGVySWQ6IGZvbGRlci5faWQsXHJcbiAgICAgICAgICAgICAgICBhc3NldERhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgYXNzZXROYW1lOiB4LmFzc2V0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgYnVja2V0OiBcIjNkZmlsZXNkYXRhXCIsXHJcbiAgICAgICAgICAgICAgICAgIGtleTogYHRlc3QvJHt4Lm5hbWV9YCxcclxuICAgICAgICAgICAgICAgICAgbWltZXR5cGU6IHgudHlwZSxcclxuICAgICAgICAgICAgICAgICAgYnl0ZXM6IHguc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgcGxhbkRvY3VtZW50OiB4LnBsYW5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgIC5uZXdGaWxlVXBsb2FkKHBheWxvYWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlci5maWxlcy5wdXNoKHJlc3AuZGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkZpbGUgc3VjY2Vzc2Z1bGx5IHVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlsZSBzdWNjZXNzZnVsbHkgdXBsb2FkZWQgdG86XCIsIGF3c09iamVjdEtleSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgICAgICAgICAgIC8qIEZhaWx1cmUgYmxvY2sgKi9cclxuICAgICAgICAgICAgICB4LmFib3J0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIC8qIENoZWNrIGNvbXBsZXRpb24gKi9cclxuICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgICAgdm0udXBsb2FkVmlld0ZpbGVzXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlsZSBkaWQgbm90IHVwbG9hZCBzdWNlc3NmdWxseTpcIiwgcmVhc29uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB1cGxvYWRGYWN0b3J5LnN0YXJ0KHVwbG9hZEhhbmRsZXIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICh2bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeS5sZW5ndGgpIHtcclxuICAgICAgICBsZXQgY2xvdWRpbmFyeVBheWxvYWQgPSB7XHJcbiAgICAgICAgICBmaWxlczogdm0udXBsb2FkVmlld0ZpbGVzLmNsb3VkaW5hcnksXHJcbiAgICAgICAgICAvKiBTZW5kIGFzc2V0IG5hbWVzIHNlcGFyYXRlbHkgKi9cclxuICAgICAgICAgIGFzc2V0TmFtZXM6IHZtLnVwbG9hZFZpZXdGaWxlcy5jbG91ZGluYXJ5Lm1hcCh4ID0+IHguYXNzZXROYW1lKSxcclxuICAgICAgICAgIHByb2plY3RJZCxcclxuICAgICAgICAgIGhpZXJhcmNoeUlkOiBmb2xkZXIuX2lkXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLnVwbG9hZEZpbGVJbkZpbGVNYW5hZ2VyKGNsb3VkaW5hcnlQYXlsb2FkKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIHZtLnVwbG9hZFZpZXdGaWxlcy5jbG91ZGluYXJ5ID0gdm0udXBsb2FkVmlld0ZpbGVzLmNsb3VkaW5hcnkubWFwKFxyXG4gICAgICAgICAgICAgIHggPT4ge1xyXG4gICAgICAgICAgICAgICAgeC5jb21wbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXHJcbiAgICAgICAgICAgIHZtLmNvbXBsZXRlZEFsbCA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5jaGVja1VwbG9hZENvbXBsZXRpb24oXHJcbiAgICAgICAgICAgICAgdm0udXBsb2FkVmlld0ZpbGVzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIC8qIFJlZnJlc2ggdmlldyB3aXRoIHNjb3BlID4gYXBwbHkgKi9cclxuICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZm9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgcmVzcC5kYXRhLmRhdGEuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgICAgIGZvbGRlci5maWxlcy5wdXNoKHgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmNsb3NlVXBsb2FkVmlldyA9ICgpID0+IHtcclxuICAgICAgdm0udXBsb2FkU3RhdGUgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZmlsZVZpZXcgPSBmaWxlID0+IHtcclxuICAgICAgJChcIiNmaWxlVmlld1wiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgIHZtLnByZXZpZXdEYXRhID0gZmlsZTtcclxuICAgICAgdm0ucHJldmlld0RhdGEuY3VzdG9tVXJsID1cclxuICAgICAgICBmaWxlLmZvcm1hdCA9PT0gXCJwZGZcIlxyXG4gICAgICAgICAgPyBmaWxlLnNlY3VyZV91cmwucmVwbGFjZSgvXFwucGRmLywgXCIucG5nXCIpXHJcbiAgICAgICAgICA6IGZpbGUuc2VjdXJlX3VybDtcclxuICAgIH07XHJcblxyXG4gICAgLyogVG9nZ2xpbmcgZWRpdCAqL1xyXG5cclxuICAgIHZtLmVkaXRFbmFibGVkID0gZmFsc2U7XHJcbiAgICB2bS50b2dnbGVFZGl0ID0gYm9vbCA9PiB7XHJcbiAgICAgIHZtLmVkaXRFbmFibGVkID0gYm9vbDtcclxuICAgIH07XHJcblxyXG4gICAgLyogQ29udGV4dCBtZW51IGZ1bmN0aW9uYWxpdHkgKi9cclxuICAgICRzY29wZS5iYWNrQnRuVmlldyA9IGZhbHNlO1xyXG4gICAgdm0uY29udGV4dE1lbnVPcHRpb25zID0ge1xyXG4gICAgICBleHBsb3JlcjogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRleHQ6IFwiUGFzdGUgaXRlbShzKVwiLFxyXG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRpdGVtU2NvcGUsICRldmVudCwgbW9kZWxWYWx1ZSwgdGV4dCwgJGxpKSB7XHJcbiAgICAgICAgICAgIGlmICh2bS53aW5kb3dJdGVtcy5mb2xkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgY2xpcEJvYXJkXHJcbiAgICAgICAgICAgICAgICAucGFzdGUodm0ud2luZG93SXRlbXMuZm9sZGVyRGF0YS4kbW9kZWxWYWx1ZS5faWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKHJlc3ApIHtcclxuICAgICAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAgICAgICAudmlld0hpZXJhcmNoeSh2bS53aW5kb3dJdGVtcy5mb2xkZXJEYXRhLiRtb2RlbFZhbHVlLl9pZClcclxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBBcHBlbmQgZmlsZXMgdG8gdGhlIGZvbGRlciAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS53aW5kb3dJdGVtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJEYXRhOiB2bS53aW5kb3dJdGVtcy5mb2xkZXJEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlcnM6IHJlc3AuZGF0YS5mb2xkZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzOiByZXNwLmRhdGEuZmlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLndhcm5pbmcoXCJDYW5ub3QgcGFzdGUgZmlsZSBpbiByb290IGxvY2F0aW9uXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdLFxyXG4gICAgICBmaWxlOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGV4dDogXCJDb3B5XCIsXHJcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGl0ZW1TY29wZSwgJGV2ZW50LCBtb2RlbFZhbHVlLCB0ZXh0LCAkbGkpIHtcclxuICAgICAgICAgICAgY2xpcEJvYXJkLmNvcHkoJGl0ZW1TY29wZS5maWxlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRleHQ6IFwiQ3V0XCIsXHJcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGl0ZW1TY29wZSwgJGV2ZW50LCBtb2RlbFZhbHVlLCB0ZXh0LCAkbGkpIHtcclxuICAgICAgICAgICAgY2xpcEJvYXJkLmN1dChcclxuICAgICAgICAgICAgICAkaXRlbVNjb3BlLmZpbGUsXHJcbiAgICAgICAgICAgICAgdm0ud2luZG93SXRlbXMuZm9sZGVyRGF0YS4kbW9kZWxWYWx1ZS5faWRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRleHQ6IFwiTW92ZSB0b1wiLFxyXG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRpdGVtU2NvcGUpIHtcclxuICAgICAgICAgICAgdm0ucGRmb25seSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2bS5waWNrZXJGb2xkZXJzID0gYW5ndWxhci5jb3B5KHZtLnJvb3RGb2xkZXJzKTtcclxuICAgICAgICAgICAgdm0ubW92ZVRvU291cmNlRmlsZSA9ICRpdGVtU2NvcGUuZmlsZTtcclxuICAgICAgICAgICAgJChcIiNtb3ZlVG9cIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAkKFwiLnJvb3RGb2xkZXJcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAkKFwiLmNoaWxkRm9sZGVyXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgdm0ubW92ZXRvID0gXCJtb3ZlIFRvXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5mb2xkZXJOYW1lID0gXCJSb290IEZvbGRlclwiO1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmZvbGRlck5hbWUgPT0gXCJSb290IEZvbGRlclwiKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuYmFja0J0blZpZXcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfTtcclxuICAgIHZtLmNoaWxkRm9sZGVyVmlldyA9IHZhbCA9PiB7XHJcbiAgICAgIHZtLmNoaWxkRm9sZGVycyA9IHZhbC5jaGlsZHJlbjtcclxuICAgICAgdm0ubW92ZXRvID0gdmFsLm5hbWU7XHJcbiAgICAgICQoXCIucm9vdEZvbGRlclwiKS5oaWRlKCk7XHJcbiAgICAgICQoXCIuY2hpbGRGb2xkZXJcIikuc2hvdygpO1xyXG4gICAgfTtcclxuICAgICRzY29wZS5iYWNrQnRuVmlldyA9IGZhbHNlO1xyXG4gICAgaWYgKCRzY29wZS5mb2xkZXJOYW1lID09IFwiUm9vdCBGb2xkZXJcIikge1xyXG4gICAgICAkc2NvcGUuYmFja0J0blZpZXcgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyogSGllcmFyY2h5IHRlbXBsYXRlICovXHJcbiAgICB2bS5zYXZlSGllcmFyY2h5VHJlZSA9IG5hbWUgPT4ge1xyXG4gICAgICBpZiAoIW5hbWUpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgdGVtcGxhdGUgbmFtZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiI3NhdmVUZW1wbGF0ZU1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgIG5hbWU6IG5hbWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5zYXZlSGllcmFyY2h5VHJlZShwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkLCBkYXRhKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY29uc29sZS5sb2coZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0uc2VsZWN0ZWRUZW1wbGF0ZSA9IFwiXCI7XHJcblxyXG4gICAgLy8gZ2V0SGllcmFyY2h5VGVtcGxhdGVcclxuXHJcbiAgICBhcGlGYWN0b3J5XHJcbiAgICAgIC5nZXRIaWVyYXJjaHlUZW1wbGF0ZSgpXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLnRlbXBsYXRlTGlzdCA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHZtLmFzc2lnblRlbXBsYXRlID0gKCkgPT4ge1xyXG4gICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RTdG9yZS5nZXQoKS5faWQsXHJcbiAgICAgICAgdGVtcGxhdGVJZDogdm0uc2VsZWN0ZWRUZW1wbGF0ZS5faWRcclxuICAgICAgfTtcclxuICAgICAgJChcIiNhc3NpZ25UZW1wbGF0ZU1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5jaGFuZ2VQcm9qZWN0VGVtcGxhdGUoZGF0YSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIHZtLmdldFByaW1hcnlGb2xkZXJzKHByb2plY3RTdG9yZS5nZXQoKSk7XHJcbiAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgIC5nZXRQcm9qZWN0QnlJZChwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICBwcm9qZWN0U3RvcmUuc2V0KHJlc3AuZGF0YSk7XHJcbiAgICAgICAgICAgICAgdm0uYmFja3VwRm9sZGVycyA9IHByb2plY3RTdG9yZS5nZXQoKS5iYWNrdXBGb2xkZXJzO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnNob3dCYWNrdXBGaWxlcyA9IGZhbHNlO1xyXG4gICAgdm0uc2hvd1JlY2VudEZpbGVzID0gZmFsc2U7XHJcblxyXG4gICAgdm0udG9nZ2xlQm9va21hcmtzID0gKHZhbCwga2V5KSA9PiB7XHJcbiAgICAgIHZtW2tleV0gPSAhdmFsO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5sb2FkUHJvamVjdEZpbGVzID0gaWQgPT4ge1xyXG4gICAgICBsZXQgbGltaXQgPSA1O1xyXG4gICAgICBhcGlGYWN0b3J5LnNob3dQcm9qZWN0RmlsZXMoaWQsIGxpbWl0KS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICB2bS5wcm9qZWN0RmlsZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZtLmxvYWRQcm9qZWN0RmlsZXMocHJvamVjdFN0b3JlLmdldCgpLl9pZCk7XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImlzc3VlRGV0YWlsQ3RybFwiLCBpc3N1ZURldGFpbEN0cmwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGlzc3VlRGV0YWlsQ3RybChcclxuICAgICAgICAkc2NvcGUsXHJcbiAgICAgICAgJHRpbWVvdXQsXHJcbiAgICAgICAgYXV0aEZhY3RvcnksXHJcbiAgICAgICAgJHN0YXRlLFxyXG4gICAgICAgICRzdGF0ZVBhcmFtcyxcclxuICAgICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICAgIE5vdGlmaWNhdGlvbixcclxuICAgICAgICBOZ01hcCxcclxuICAgICAgICBnbG9iYWxzLFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2VcclxuICAgICAgICAvL0ZpbGVTYXZlclxyXG4gICAgICApIHtcclxuXHJcbiAgICAgICAgbGV0IHZtID0gdGhpcztcclxuICAgICAgICBjb25zdCB7IGxvZ291dCx1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICAgICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG5cclxuICBcclxuICAgICAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdm0uaXNzdWVJZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuXHJcbiAgICAgICAgICBcclxuICAgICAgICAgICRzY29wZS5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgICAkc2NvcGUuaXRlbXNQZXJQYWdlID0gMztcclxuICAgICAgICAgIFxyXG5cclxuICAgICAgICAgIHZtLmdldElzc3VlRGV0YWlsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgLmdldElzc3VlQnlJZCh2bS5pc3N1ZUlkKVxyXG4gICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm0uaXNzdWVEYXRhID0gcmVzcC5kYXRhO1xyXG4gICAgICAgICAgICAgICB2bS50b3RhbEl0ZW1zID0gdm0uaXNzdWVEYXRhLmNvbW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgJHNjb3BlLkFycmF5Q29tbWVudHM9dm0uaXNzdWVEYXRhLmNvbW1lbnRzLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgJHNjb3BlLkFycmF5QWN0aXZpdGllcz12bS5pc3N1ZURhdGEuaXNzdWVBY3Rpdml0eS5yZXZlcnNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdm0uYWxsQ29tbWVudHMgPSAkc2NvcGUuQXJyYXlDb21tZW50cy5zbGljZSgwLDMpO1xyXG4gICAgICAgICAgICAgICAgdm0uYWxsQWN0aXZpdGllcz0kc2NvcGUuQXJyYXlBY3Rpdml0aWVzLnNsaWNlKDAsNik7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3BhZ2luYXRpb25cIikucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zOiB2bS50b3RhbEl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICBpdGVtc09uUGFnZTogJHNjb3BlLml0ZW1zUGVyUGFnZSxcclxuICAgICAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2luZ0RhdGEocGFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJChcIiNwYWdpbmF0aW9uQWN0aXZpdHlcIikucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zOiB2bS5pc3N1ZURhdGEuaXNzdWVBY3Rpdml0eS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zT25QYWdlOiA3LFxyXG4gICAgICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICAgICAgICBocmVmVGV4dFByZWZpeDogXCIjXCIsXHJcbiAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZpdHlQYWdpbmdEYXRhKHBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICBcclxuICAgICAgICAgXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFBhZ2luZ0RhdGEocGFnZSkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICB2YXIgcGFnZWREYXRhID0gdm0uaXNzdWVEYXRhLmNvbW1lbnRzLnNsaWNlKFxyXG4gICAgICAgICAgICAgICAgKHBhZ2UgLSAxKSAqICAkc2NvcGUuaXRlbXNQZXJQYWdlLFxyXG4gICAgICAgICAgICAgICAgcGFnZSAqICRzY29wZS5pdGVtc1BlclBhZ2VcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIHZtLmFsbENvbW1lbnRzID0gcGFnZWREYXRhO1xyXG4gICAgICAgICAgICAgIC8qKnRvIHJlZnJlc2ggdGhlIGNvbW1lbnRzIHdoZW4gcGFnZSBjbGljayB1c2UgJGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0QWN0aXZpdHlQYWdpbmdEYXRhKHBhZ2UpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgdmFyIHBhZ2VkRGF0YSA9IHZtLmlzc3VlRGF0YS5pc3N1ZUFjdGl2aXR5LnNsaWNlKFxyXG4gICAgICAgICAgICAgICAgKHBhZ2UgLSAxKSAqICA3LFxyXG4gICAgICAgICAgICAgICAgcGFnZSAqIDdcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIHZtLmFsbEFjdGl2aXRpZXMgPSBwYWdlZERhdGE7XHJcbiAgICAgICAgICAgICAgLyoqdG8gcmVmcmVzaCB0aGUgY29tbWVudHMgd2hlbiBwYWdlIGNsaWNrIHVzZSAkYXBwbHkgKi9cclxuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdm0uZ2V0SXNzdWVEZXRhaWwoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgXHJcbiAgICAgIC8vQWRkIGNvbW1lbnRzLi4uLlxyXG4gICAgICB2bS5wb3N0Q29tbWVudCA9IGZ1bmN0aW9uKGNvbW1lbnQpe1xyXG4gICAgICAgaWYoY29tbWVudD09dW5kZWZpbmVkKXtcclxuICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGFkZCBjb21tZW50LlwiKTtcclxuICAgICAgIH1lbHNle1xyXG4gICAgICAgICB2YXIgY29tbWVudG9iaj17XCJjb21tZW50XCI6Y29tbWVudH1cclxuICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAucG9zdENvbW1lbnRGb3JJc3N1ZSh2bS5pc3N1ZUlkLGNvbW1lbnRvYmopXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3A9PntcclxuICAgICAgICAgICAgICB2bS5nZXRJc3N1ZURldGFpbCgpO1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiQ29tbWVudCBhZGRlZCBzdWNjZXNzZnVsbHkuLlwiKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZT0+e1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIkNvdWxkbid0IHVwZGF0ZSBjb21tZW50XCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgJHNjb3BlLmNoYW5nZUNvbXBsZXRpb25TdGF0dXMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIGFsZXJ0KFwiY29tcGxldGlvblwiKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vZG93bmxvYWQgYXR0YWNobWVudCBmaWxlXHJcbiAgICAgICRzY29wZS5kb3duTG9hZEF0dGFjaG1lbnQgPSBmdW5jdGlvbihkb2NzKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImRvY3NcIixkb2NzKTtcclxuICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkb2NzLnNlY3VyZV91cmxdLCB7dHlwZTogZG9jcy5taW1ldHlwZX0pO1xyXG4gICAgICAgIC8vRmlsZVNhdmVyLnNhdmVBcyhibG9iLCAnZG9jcy5vcmlnaW9uYWwnKTtcclxuICAgICAgIFxyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgJHNjb3BlLnJlT3Blbklzc3VlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAvL3ZhciBUZW1wT2JqZWN0PXtcImNvbXBsZXRpb25TdGF0dXNcIjpPUEVOfVxyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAucmVPcGVuSXNzdWVTdGF0dXNVcGRhdGUodm0uaXNzdWVJZClcclxuICAgICAgICAgICAudGhlbihyZXNwPT57XHJcbiAgICAgICAgICAgICB2bS5nZXRJc3N1ZURldGFpbCgpO1xyXG4gICAgICAgICAgICAgJChcIiNjb25maXJtbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJJc3N1ZSBzdGF0dXMgaXMgbm93IG9wZW5cIik7XHJcbiAgICAgICAgICAgfSkuY2F0Y2goZT0+e1xyXG4gICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiY291bGQgbm90IHVwZGF0ZSBTdGF0dXNcIik7XHJcbiAgICAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLm1hcmtJc3N1ZUFzQ29tcGxldGUgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgIH1cclxuICAgIH0pKCk7XHJcblxyXG4gICIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImlzc3Vlc0N0cmxcIiwgaXNzdWVzQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIGlzc3Vlc0N0cmwoXHJcbiAgICAgICRzY29wZSxcclxuICAgICAgJHJvb3RTY29wZSxcclxuICAgICAgJHRpbWVvdXQsXHJcbiAgICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgICAkc3RhdGUsXHJcbiAgICAgICRxLFxyXG4gICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICBOb3RpZmljYXRpb24sXHJcbiAgICAgIGdsb2JhbHMsXHJcbiAgICAgIGZpbGVNYW5hZ2VyRmFjdG9yeSxcclxuICAgICAgVXBsb2FkLFxyXG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgICB1cGxvYWRGYWN0b3J5XHJcbiAgICApIHtcclxuICAgICAgbGV0IHZtID0gdGhpcztcclxuICAgICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSxkZWJvdW5jZSB9ID0gZ2xvYmFscztcclxuICAgICAgJHNjb3BlLlVwbG9hZGVkRmlsZXM9W107XHJcbiAgICAgIHZtLmlzc3VlRGF0YSA9IHt9O1xyXG4gICAgICAkc2NvcGUuaXNzdWVNb2RlbD17fTtcclxuICAgICAgJHNjb3BlLmZpbGU7XHJcbiAgICAgICRzY29wZS5jb21tZW50PVwiXCI7XHJcbiAgICAgICRzY29wZS5pbnB1dEZpbGVzID0gW107XHJcbiAgICAgICRzY29wZS5vcGVuRWRpdD1mYWxzZTtcclxuICAgICAgJHNjb3BlLmZpbGVzVG9SZW1vdmU9W107XHJcbiAgICAgICRzY29wZS5pc1NlbGVjdGVkQnRuPWZhbHNlO1xyXG4gICAgICAkc2NvcGUudXBkYXRlZm9ybT1mYWxzZTtcclxuICAgICAgJHNjb3BlLlVuZG9BcnJheT1bXTtcclxuICAgICAgJHNjb3BlLnJlZG9BcnJheT1bXTtcclxuICAgICAgdm0ucGxhblRvTWFyaz1bXTtcclxuICAgICAgdm0uTG9jYWxJbWdzPVtdO1xyXG4gICAgIC8vIGNvbnN0IHsgbG9nb3V0IH0gPSBnbG9iYWxzO1xyXG4gICAgICAkc2NvcGUuc2VhcmNoaW5nVGV4dD0gZmFsc2U7XHJcbiAgICAgICRzY29wZS5vcGVuRmlsbENvbG9yPWZhbHNlO1xyXG4gICAgICAvL2NvbG9yIHBpY2tlciB2YXJpYWJsZXNcclxuICAgICAgJHNjb3BlLmNvbG9ycGljayA9IFwiIzAwMDBmZlwiO1xyXG4gICAgICAkc2NvcGUuY29sb3JXZWxsO1xyXG4gICAgICAkc2NvcGUuZmlsbFdlbGw7XHJcbiAgICAgICRzY29wZS5maWxsQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgICAkc2NvcGUudGV4dEZvcm09ZmFsc2U7XHJcbiAgICAgIHZtLmVycm9ySW1hZ2U9XCJhc3NldHMvaW1hZ2VzL2VuZHVzZXJpc3N1ZS5wbmdcIjtcclxuICAgICAkc2NvcGUuYnRuTWFya2VyPVwiLi4vYXNzZXRzL2ltYWdlcy9ncHMucG5nXCI7XHJcbiAgICAgJHNjb3BlLmJ0bkNpcmNsZT1cIi4uL2Fzc2V0cy9pbWFnZXMvY2lyY2xlLXNoYXBlLW91dGxpbmUucG5nXCI7XHJcbiAgICAgJHNjb3BlLmJ0bkxpbmU9XCIuLi9hc3NldHMvaW1hZ2VzL2xpbmVpY29uLnBuZ1wiO1xyXG4gICAgICRzY29wZS5idG5UZXh0PVwiLi4vYXNzZXRzL2ltYWdlcy90ZXh0LW9wdGlvbi1pbnRlcmZhY2Utc3ltYm9sLnBuZ1wiO1xyXG4gXHJcbiAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG5cclxuICAgICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgIGxvZ291dCgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgIC8qIERhdGEgdGFibGUgc2V0dXAgKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICQoXCIuaXNzdWVzTGlzdFwiKS5EYXRhVGFibGUoKTtcclxuICAgICAgJHNjb3BlLmFjdGl2ZUp1c3RpZmllZCA9IDA7XHJcblxyXG4gICAgICB2bS5jdXJyZW50UGFnZSA9IDE7XHJcbiAgXHJcbiAgICAgIHZtLnRvZ2dsZU9iaiA9IHtcclxuICAgICAgICB0b2dnbGVJc3N1ZToge1xyXG4gICAgICAgICAgc3lzdGVtVGFnOiBmYWxzZSxcclxuICAgICAgICAgIHRpdGxlOiBmYWxzZSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBmYWxzZSxcclxuICAgICAgICAgIHByb2plY3ROYW1lOiBmYWxzZSxcclxuICAgICAgICAgIGNyZWF0ZWQ6IHRydWUsXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICB2bS5zZWFyY2hUZXh0ID0gXCJcIjtcclxuICAgICAgdm0uc29ydGlzc3VlcyA9ICh0eXBlLCByZXNvdXJjZSkgPT4ge1xyXG4gICAgICAgIC8qIEZvciB0b2dnbGluZyBhc2NlbmRpbmcgYW5kIGRlc2NlbmRpbmcgb3JkZXIgKi9cclxuICAgICAgICB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID09PSB1bmRlZmluZWRcclxuICAgICAgICAgID8gKHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0gPSB0cnVlKVxyXG4gICAgICAgICAgOiAodm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXSA9ICF2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdKTtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5saXN0QWxsSXNzdWVzKHtcclxuICAgICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICBzb3J0OiB0eXBlLFxyXG4gICAgICAgICAgICBzZWFyY2g6IHZtLnNlYXJjaFRleHQsXHJcbiAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIC8vIHZtW3Jlc291cmNlXT0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgIC8vIHZtW3Jlc291cmNlICsgXCJDb3VudFwiXSA9IHJlc3AuZGF0YS50b3RhbDtcclxuICAgICAgICAgICAgdm0uYWxsSXNzdWVzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgIHZtLmlzc3VlQ291bnQgPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoaW5nVGV4dD0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgJChcIiNwYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6IHZtLmlzc3VlQ291bnQsXHJcbiAgICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXHJcbiAgICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgICAgICAubGlzdEFsbElzc3Vlcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbdHlwZV1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdm0uYWxsSXNzdWVzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHNlYXJjaERlYm91bmNlID0gZGVib3VuY2UoMjUwKTsgLyogUGFzc2luZyBpbiB0aGUgZGVib3VuY2UgcmF0ZSAqL1xyXG4gIHZtLnNlYXJjaElzc3VlcyA9IHRleHQgPT4ge1xyXG4gICAgIC8qKlxyXG4gICAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBwYXNzIHRoZSBmdW5jdGlvbiB3aGljaCB5b3Ugd2FudCB0byBkZWJvdW5jZVxyXG4gICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gYXJncyAtIHBhc3MgdGhlIGFyZ3VtZW50cyBmcm9tIHRoZSB2aWV3IGFzIGFuIGFycmF5XHJcbiAgICAgICAgICAgKi9cclxuICBzZWFyY2hEZWJvdW5jZShcclxuICAgICgpID0+IHtcclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgIHNlYXJjaDogdGV4dCxcclxuICAgICAgICBzb3J0OiBcImNyZWF0ZWRcIixcclxuICAgICAgICBzb3J0VHlwZTogZmFsc2VcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcblxyXG4gICAgICAgIHZtLmFsbElzc3VlcyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgIHZtLmlzc3VlQ291bnQgPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgIFxyXG4gICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICRzY29wZS5zZWFyY2hpbmdUZXh0PSB0cnVlO1xyXG4gICAgICAgICAgJChcIiNwYWdpbmdcIikucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGl0ZW1zOiB2bS5pc3N1ZUNvdW50LFxyXG4gICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXHJcbiAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXHJcbiAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAubGlzdEFsbElzc3Vlcyh7XHJcbiAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgdm0uYWxsSXNzdWVzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBbdGV4dF1cclxuICAgXHJcbiAgKTtcclxuICB9O1xyXG5cclxuICAgLyogSW5pdGlhbGx5IHNvcnQgaXNzdWUgaW4gZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICB2bS5zb3J0aXNzdWVzKFwiY3JlYXRlZFwiLCBcInRvZ2dsZUlzc3VlXCIpO1xyXG5cclxuICAgdm0uZHRPcHRpb25zID0ge1xyXG4gICAgIHBhZ2luZzogZmFsc2UsXHJcbiAgICAgaW5mbzogZmFsc2UsXHJcbiAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgIHNlYXJjaGluZzogZmFsc2VcclxuICAgfTtcclxuXHJcbiAgIC8qIEVuZCBvZiAgRGF0YSB0YWJsZSBzZXR1cCAqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIFxyXG4gICAgICAkc2NvcGUuaXNzdWVDYXRlZ29yeSA9IFsnU2FmZXR5JywgJ1F1YWxpdHknLCAnSXNzdWUnXTtcclxuICAgIFxyXG5cclxuICAgICAgYXBpRmFjdG9yeS5saXN0QWxsVXNlcnMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLmFsbFVzZXJzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgIFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnkubGlzdEFsbFJvb2ZlcnMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLmFsbFJvb2ZlcnMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgYXBpRmFjdG9yeS5saXN0QWxsUHJvamVjdHMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLmFsbFByb2plY3RzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgYXBpRmFjdG9yeS5nZXRJc3N1ZXNMaXN0KCkudGhlbihyZXNwID0+IHtcclxuICAgICAgIHZtLmxpc3RPZklzc3VlID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgXHJcbiAgICAgICB9KTtcclxuICAgICAgIFxyXG4gICAgICAgLy9yZWFkaW5nIGZpbGUgaW1hZ2VzXHJcbiAgICAgICRzY29wZS5yZWFkSW1nID0gZnVuY3Rpb24oZmlsZUltZyl7XHJcbiAgICAgICAgdmFyIG91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdibGFoJyk7XHJcbiAgICAgICAgb3V0cHV0LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZUltZyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICAkc2NvcGUuYWRkRmlsZSA9IGZ1bmN0aW9uKGZpbGUsY29tbWVudCl7XHJcbiAgICAgXHJcbiAgICAgIC8vICBpZihmaWxlLnR5cGU9PSdpbWFnZS9wbmcnfHxmaWxlLnR5cGU9PSdpbWFnZS9qcGcnfHxmaWxlLnR5cGU9PSdpbWFnZS9qcGVnJyl7XHJcbiAgICAgIC8vICAgdmFyIFNSQyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgIC8vICAgJHNjb3BlLmlucHV0RmlsZXMucHVzaCh7ZmlsZTpmaWxlLGNvbW1lbnQ6Y29tbWVudCxzb3VyY2U6U1JDfSk7XHJcblxyXG4gICAgICAvLyAgfWVsc2V7XHJcbiAgICAgICAgJHNjb3BlLmlucHV0RmlsZXMucHVzaCh7ZmlsZTpmaWxlLGNvbW1lbnQ6Y29tbWVudCxzb3VyY2U6XCJOU1wifSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpbnB1dDpcIiwkc2NvcGUuaW5wdXRGaWxlcyk7XHJcbiAgICAgICAvL31cclxuICAgICAgLy8gIHZhciBTUkMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAvLyAgY29uc29sZS5sb2coXCJTUkNcIixTUkMpO1xyXG4gICAgICAvLyAgICRzY29wZS5pbnB1dEZpbGVzLnB1c2goe2ZpbGU6ZmlsZSxjb21tZW50OmNvbW1lbnQsc291cmNlOlNSQ30pO1xyXG4gICAgICAgXHJcbiAgICAgIC8vICAgY29uc29sZS5sb2coJHNjb3BlLmlucHV0RmlsZXMpO1xyXG4gICAgICAvLyAgICRzY29wZS5maWxlPScnO1xyXG4gICAgICAvLyAgICRzY29wZS5jb21tZW50PScnO1xyXG4gICAgICAgLy8gJChcIiNjb21tZW50ZGl2XCIpLmhpZGUoKTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAkc2NvcGUuZGVsZXRlSW1nID0gZnVuY3Rpb24oaW5kZXgsYXJyYXkpe1xyXG4gICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLmZpbGVVcEV2ZW50ID0gZnVuY3Rpb24oZmlsZSl7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICRzY29wZS50aHVtYm5haWw9XCJcIjtcclxuICAgICAgICAgY29uc29sZS5sb2coXCJmaWxlIGV2ZW50XCIsZmlsZSk7XHJcbiAgICAgICAgaWYoZmlsZSE9PW51bGwpe1xyXG4gICAgICAgICAgaWYoZmlsZS5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgIGZpbGUuZm9yRWFjaChvbmVmaWxlPT57XHJcbiAgICAgICAgICAgICAgaWYob25lZmlsZS50eXBlPT0naW1hZ2UvcG5nJ3x8b25lZmlsZS50eXBlPT0naW1hZ2UvanBnJ3x8b25lZmlsZS50eXBlPT0naW1hZ2UvanBlZycpe1xyXG4gICAgICAgICAgICAgICAgdmFyIFNSQyA9IFVSTC5jcmVhdGVPYmplY3RVUkwob25lZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGh1bWJuYWlsPVNSQ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBlbHNlIGlmKG9uZWZpbGUudHlwZT09J2FwcGxpY2F0aW9uL3BkZicpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRodW1ibmFpbD0nYXNzZXRzL2ltYWdlcy9maWxlX2ljb24vcGRmaWNvbi5qcGcnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2UgaWYob25lZmlsZS50eXBlPT0nYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS50aHVtYm5haWw9J2Fzc2V0cy9pbWFnZXMvZmlsZV9pY29uL21zd29yZC5wbmcnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2UgaWYob25lZmlsZS50eXBlPT0nYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJ3x8b25lZmlsZS50eXBlPT0nYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS50aHVtYm5haWw9J2Fzc2V0cy9pbWFnZXMvZmlsZV9pY29uL2V4Y2VsLmpwZydcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgZWxzZSBpZihvbmVmaWxlLnR5cGU9PSdhcHBsaWNhdGlvbi94LXppcC1jb21wcmVzc2VkJyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGh1bWJuYWlsPSdhc3NldHMvaW1hZ2VzL2ZpbGVfaWNvbi96aXAucG5nJ1xyXG4gICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRodW1ibmFpbD0nYXNzZXRzL2ltYWdlcy9maWxlX2ljb24vYW55dHlwZS5qcGcnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICRzY29wZS5pbnB1dEZpbGVzLnB1c2goe2ZpbGU6b25lZmlsZSxpbWFnZTokc2NvcGUudGh1bWJuYWlsfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgIFxyXG4gICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oaW5kZXgsYXJyYXksY29tZW50KXtcclxuICAgICAgICAgYXJyYXlbaW5kZXhdLmNvbW1lbnQ9Y29tZW50O1xyXG4gICAgICAgIFxyXG4gICAgICB9XHJcblxyXG4gICAgICB2bS5maWxlczNVcGRhdGU9ZnVuY3Rpb24oYXJyYXkpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW4gczMgZnVuY3Rpb25cIik7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGFycmF5LCB4ID0+IHtcclxuICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTMyBGSUxFIEZPUkVBQ0ggTUV0aG9kIGFzIGFycmF5IGlzIG5vdCBudWxsXCIpO1xyXG4gICAgICAgICAgLyogQXR0YWNoIGV2ZW50cyBhbmQgcHJvcHMgdG8gZmlsZU9iaiBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgdmlldyAqL1xyXG4gICAgICAgICAgbGV0IHVwbG9hZEhhbmRsZXIgPSBldmFwb3JhdGUgPT4ge1xyXG4gICAgICAgICAgICAvKiB1cGxvYWQgdG8gczMgaWYgdmFsdWUgaXMgbGVzcyB0aGFuIDMgKi9cclxuICAgICAgICAgICAgeC5maWxlLnBhdXNlID0gdXBsb2FkRmFjdG9yeS5wYXVzZS5iaW5kKGV2YXBvcmF0ZSwgeCk7XHJcbiAgICAgICAgICAgIHguZmlsZS5yZXN1bWUgPSB1cGxvYWRGYWN0b3J5LnJlc3VtZS5iaW5kKGV2YXBvcmF0ZSwgeCk7XHJcbiAgICAgICAgICAgIHguZmlsZS5hYm9ydCA9IHVwbG9hZEZhY3RvcnkuYWJvcnQuYmluZChldmFwb3JhdGUsIHgpO1xyXG4gICAgICAgICAgICBsZXQgYWRkQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IHguZmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgIGZpbGU6IHguZmlsZSxcclxuICAgICAgICAgICAgICBwcm9ncmVzczogKHAsIHN0YXRzKSA9PiB7XHJcbiAgICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKHApO1xyXG4gICAgICAgICAgICAgICAgLyogQVdTIHByb2dyZXNzIHBlcmNlbnRhZ2UgZmFsbHMgYmFjayBzb21ldGltZXMgZHVlIHRvIG1pc3NpbmcgZnJhZ21lbnRhdGlvbi4gXHJcbiAgICAgICAgICAgICAgICBVcGRhdGUgcHJvZ3Jlc3MgdmFsdWUgb25seSB3aGVuIGl0J3MgaGlnaGVyIHRoYW4gdGhlIHByZXZpb3VzIHZhbHVlICovXHJcbiAgICAgICAgICAgICAgICB4LmZpbGUucHJvZ3Jlc3MgPVxyXG4gICAgICAgICAgICAgICAgICB4LmZpbGUucHJvZ3Jlc3MgPiBNYXRoLnJvdW5kKHAgKiAxMDApXHJcbiAgICAgICAgICAgICAgICAgICAgPyB4LmZpbGUucHJvZ3Jlc3NcclxuICAgICAgICAgICAgICAgICAgICA6IE1hdGgucm91bmQocCAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXHJcbiAgICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgICAgICB2bS51cGxvYWRWaWV3RmlsZXNcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXHJcbiAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgY29tcGxldGU6IChfeGhyLCBhd3NLZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIHguZmlsZS5jb21wbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcGxldGUhXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICBcclxuICAgICAgICAgICAgZXZhcG9yYXRlLmFkZChhZGRDb25maWcpLnRoZW4oXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24oYXdzT2JqZWN0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAvKiBTdWNjZXNzIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4KTtcclxuICAgICAgICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICB0eXBlOiBmaWxlTWFuYWdlckZhY3RvcnkucmVzb2x2ZURlc3RUeXBlKHguZmlsZSksXHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICBhc3NldERhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NldE5hbWU6IHguZmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0ZGVzY3JpcHRpb246eC5jb21tZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1Y2tldDogXCIzZGZpbGVzZGF0YVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleTogYHRlc3QvJHt4LmZpbGUubmFtZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbWV0eXBlOiB4LmZpbGUudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBieXRlczogeC5maWxlLnNpemVcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgICAgLm5ld0lzc3VlczNGaWxlVXBsb2FkKHBheWxvYWQpXHJcbiAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcInJlc3BvbnNlIGZyb20gczM6XCIscmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICBpdGVtUHJvY2Vzc2VkKys7XHJcbiAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXBsb2FkZWRGaWxlcy5wdXNoKHJlc3ApO1xyXG4gICAgICAgICAgICAgICAgICAgaWYoaXRlbVByb2Nlc3NlZD09PXZtLnVwbG9hZFZpZXdGaWxlcy5zMy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gJHNjb3BlLlVwbG9hZGVkRmlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJyZXNwb25zZSBmcm9tIHMzXCI7XHJcbiAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkZpbGUgc3VjY2Vzc2Z1bGx5IHVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkZpbGUgc3VjY2Vzc2Z1bGx5IHVwbG9hZGVkIHRvOlwiLCBhd3NPYmplY3RLZXkpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBGYWlsdXJlIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgICB4LmFib3J0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLyogQ2hlY2sgY29tcGxldGlvbiAqL1xyXG4gICAgICAgICAgICAgICAgdm0uY29tcGxldGVkQWxsID0gZmlsZU1hbmFnZXJGYWN0b3J5LmNoZWNrVXBsb2FkQ29tcGxldGlvbihcclxuICAgICAgICAgICAgICAgICAgdm0udXBsb2FkVmlld0ZpbGVzXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJGaWxlIGRpZCBub3QgdXBsb2FkIHN1Y2Vzc2Z1bGx5OlwiLCByZWFzb24pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH07XHJcbiAgXHJcbiAgICAgICAgICB1cGxvYWRGYWN0b3J5LnN0YXJ0KHVwbG9hZEhhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdm0uZmlsZXNjbG91ZGluYXJ5VXBkYXRlPWZ1bmN0aW9uKGFycmF5KXtcclxuICAgICAgICBpZiAoYXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAkc2NvcGUuY2xvdWRpbmFyeVBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIGZpbGVzOiBhcnJheSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgXHJcbiAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmlzc3VlSW1hZ2UoJHNjb3BlLmNsb3VkaW5hcnlQYXlsb2FkKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlc3BvbnNlIG9mIGNsb3VkaW5hcnk6IFwiLCByZXNwKTtcclxuICAgICAgICAgICAgICAvLyB2bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeSA9IHZtLnVwbG9hZFZpZXdGaWxlcy5jbG91ZGluYXJ5Lm1hcChcclxuICAgICAgICAgICAgICAvLyAgIHggPT4ge1xyXG4gICAgICAgICAgICAgIC8vICAgICB4LmNvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgLy8gICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgICAgIC8vICk7XHJcbiAgICAgICAgICAgICAgLyogQ2hlY2sgY29tcGxldGlvbiAqL1xyXG4gICAgICAgICAgICAgIHZtLmNvbXBsZXRlZEFsbCA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5jaGVja1VwbG9hZENvbXBsZXRpb24oXHJcbiAgICAgICAgICAgICAgICB2bS51cGxvYWRWaWV3RmlsZXNcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIC8qIFJlZnJlc2ggdmlldyB3aXRoIHNjb3BlID4gYXBwbHkgKi9cclxuICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBcInJlc3BvbnNlIGZyb20gY2xvdWRpbmFyeVwiO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJObyBmaWxlIGZvdW5kIHRvIHNhdmUgbiBjbG91ZGluYXJ5XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIHZtLnNhdmVJc3N1ZURldGFpbD1mdW5jdGlvbihpc3N1ZURhdGEpe1xyXG4gICAgICAgIHZhciBpc3N1ZU9iamVjdCA9IHt9O1xyXG4gICAgICAgIGlzc3VlT2JqZWN0LnRpdGxlID0gIGlzc3VlRGF0YS50aXRsZTtcclxuICAgICAgICBpc3N1ZU9iamVjdC5kZXNjcmlwdGlvbiA9ICBpc3N1ZURhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgaXNzdWVPYmplY3QucHJvamVjdCA9ICBpc3N1ZURhdGEucHJvamVjdC5faWQ7XHJcbiAgICAgICAgaXNzdWVPYmplY3QuaXNzdWVDYXRlZ29yeSA9ICBpc3N1ZURhdGEuY2F0ZWdvcnk7XHJcbiAgICAgICAgaXNzdWVPYmplY3Qub3duZXJJZCA9IGlzc3VlRGF0YS5yb29mZXIuX2lkO1xyXG4gICAgICAgIGlzc3VlT2JqZWN0LmRlYWRMaW5lID0gaXNzdWVEYXRhLmRlYWRMaW5lO1xyXG4gICAgICAgIGlmKGlzc3VlT2JqZWN0LmRlcGVuZGVuY3lPbil7XHJcbiAgICAgICAgIGlzc3VlT2JqZWN0LmRlcGVuZGVuY3lPbj1pc3N1ZURhdGEuZGVwZW5kZW5jeU9uLl9pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaXNzdWVPYmplY3QuYXNzaWduZWRUbz1pc3N1ZURhdGEuYXNzaWduZWRUby5faWQ7XHJcbiAgICAgICAgaXNzdWVPYmplY3QuaXNzdWVTdGF0dXM9aXNzdWVEYXRhLmlzc3VlU3RhdHVzO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaXNzdWVPYmo6XCIsaXNzdWVEYXRhKTtcclxuICAgICAgXHJcbiAgXHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLmNyZWF0ZUlzc3VlKGlzc3VlT2JqZWN0KVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiSXNzdWUgaGFzIGJlZW4gc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgICAkc2NvcGUuaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlZm9ybT1mYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vICQoJyNpc3N1ZV9tb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgIC8vICQoJyNpc3N1ZV9tYXJrZXInKS5tb2RhbCgpO1xyXG4gICAgICAgICAgICB2bS5zb3J0aXNzdWVzKFwiY3JlYXRlZFwiLCBcInRvZ2dsZUlzc3VlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcDtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAgLy9mdW4xXHJcbiAgICAgICBmdW5jdGlvbiBmMSgpe1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhcImYxXCIpO1xyXG4gICAgICAgIGFwaUZhY3RvcnkuZ2V0SXNzdWVzTGlzdCgpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5saXN0T2ZJc3N1ZTEgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZjFcIiwgdm0ubGlzdE9mSXNzdWUxKTtcclxuICAgICAgICAgICByZXR1cm4gdm0ubGlzdE9mSXNzdWUxIDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgfVxyXG4gICAgICAgLy9mdW4yXHJcbiAgICAgICBmdW5jdGlvbiBmMigpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZjJcIik7XHJcblxyXG4gICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbFJvb2ZlcnMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0ubGlzdE9mUm9vZmVyczEgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZjJcIiwgdm0ubGlzdE9mUm9vZmVyczEpO1xyXG5cclxuICAgICAgICAgIHJldHVybiB2bS5saXN0T2ZSb29mZXJzMSA7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgIH1cclxuICAgICAgIC8vZnVuIDNcclxuICAgICAgIGZ1bmN0aW9uIGYzKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJmM1wiKTtcclxuXHJcbiAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsUHJvamVjdHMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0ubGlzdE9mUHJvamVjdHMxID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImYzXCIsIHZtLmxpc3RPZlByb2plY3RzMSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHZtLmxpc3RPZlByb2plY3RzMSA7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgIHZtLkFERElTU1VFID0gZnVuY3Rpb24oaXNzdWVEYXRhKXtcclxuICAgICAgICAvLyRzY29wZS5maWxlc0FycmF5PSRzY29wZS5pbnB1dEZpbGVzO1xyXG4gICAgICAgIC8vdm0udXBsb2FkVmlld0ZpbGVzID0gZmlsZU1hbmFnZXJGYWN0b3J5LnNwbGl0RmlsZURlc3QoJHNjb3BlLmZpbGVzQXJyYXkpO1xyXG4gICAgICAgICQoXCIjaXNzdWVfbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICQoXCIjaXNzdWVfbWFya2VyXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgIC8vIHZhciBwcm9qZWN0SUQ9aXNzdWVEYXRhLnByb2plY3QuX2lkO1xyXG5cclxuICAgICAgIFxyXG5cclxuICAgICAgICAgIFxyXG4gICAgICAgICBcclxuXHJcbiAgICAgIH07XHJcbiAgICAgIHZtLmxvY2FsRmlsZXM9W107XHJcbiAgICAgICRzY29wZS5nZXRGaWxlc0Zyb21Mb2NhbCA9IGZ1bmN0aW9uKGZpbGVzKXtcclxuICAgICAgIGNvbnNvbGUubG9nKFwibG9jYWwgZmlsZXM6IFwiLGZpbGVzKTtcclxuICAgICAgICBpZihmaWxlcyl7XHJcbiAgICAgICAgICBmaWxlcy5mb3JFYWNoKG9uZWZpbGU9PntcclxuICAgICAgICAgICAgdmFyIFNSQyA9IFVSTC5jcmVhdGVPYmplY3RVUkwob25lZmlsZSk7XHJcbiAgICAgICAgICAgIHZtLnBsYW5Ub01hcmsucHVzaCh7dXJsOlNSQ30pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWZ0ZXIgc3JjIGNhbGxlZFwiKTtcclxuICAgICAgICAkKFwiI2lzc3VlX21hcmtlclwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgdmFyIGZpcnN0Q2FudmFzSW1nPXZtLnBsYW5Ub01hcmsuc2xpY2UoLTEpO1xyXG4gICAgICAgICAkKFwiI3NsaWRlQ2FudmFzXCIpLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIixcInVybChcIitmaXJzdENhbnZhc0ltZ1swXS51cmwrXCIpXCIpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAvLyAgJChcIiNsb2NhbGZpbGVzbW9kZWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJObyBGaWxlcyBzZWxlY3RlZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vICQoXCIjaXNzdWVfbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIC8vICQoXCIjaXNzdWVfbWFya2VyXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgXHJcbiAgICAgICQoIFwiI2lzc3VlX21hcmtlclwiKS5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAvLyBhbGVydChcImxvY2FscG9wdXBcIik7XHJcbiAgICAgIFxyXG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmVEYXRhKCdicy5tb2RhbCcpO1xyXG4gICAgICAgICAgaWYoJCgnI2Nob29zZUlzc3VlUm9vZk1vZGFsJykuaXMoJzp2aXNpYmxlJykpe1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJNb2RhbCBpcyBvcGVuXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJNb2RhbCBpcyBjbG9zZWRcIik7XHJcbiAgICAgICAgICAgICQodGhpcykubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgXHJcbiAgICAgICBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkc2NvcGUuZ2V0SW1hZ2VzSW5DYXJvc2VsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgcHJvamVjdElEPSc1OGViOWQyZWM5MjFkNjcwMzY3ODc4MzInO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0UHJvamVjdFJvb2ZQbGFucyhwcm9qZWN0SUQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAvLyQoXCIjaXNzdWVfbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgbGV0IFByb2plY3RQbGFucyA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICAgICAgdm0ucGxhblBpY2tlclBsYW5zID0gUHJvamVjdFBsYW5zO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJwbGFucGlja2VyOiBcIix2bS5wbGFuUGlja2VyUGxhbnMpO1xyXG4gICAgICAgICAgJChcIiNpc3N1ZV9tYXJrZXJcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgJChcIiNjaG9vc2VJc3N1ZVJvb2ZNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgIH1cclxuIFxyXG4gICAgICB2bS5jaG9vc2VQbGFuRGF0YSA9IGZ1bmN0aW9uKHBsYW4pe1xyXG4gICAgICAgICB2bS5wbGFuVG9NYXJrLnB1c2gocGxhbi5hc3NldE9iaik7XHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKHZtLnBsYW5Ub01hcmspO1xyXG4gICAgICB9XHJcbiAgICAgIC8vVGVzdCBwYW5cclxuICAgICAgdm0uY2hvb3NlUGxhbkRhdGExID0gZnVuY3Rpb24ocGxhbil7XHJcbiAgICAgICAgdm0ucGxhblRvTWFyay5wdXNoKHBsYW4pO1xyXG4gICAgICAgLy8gIGNvbnNvbGUubG9nKHZtLnBsYW5Ub01hcmspO1xyXG4gICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5hZGRUb0RldGFpbHMgPSBmdW5jdGlvbihpbWdhcnJheSl7XHJcbiAgICAgICAgJChcIiNjaG9vc2VJc3N1ZVJvb2ZNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgJChcIiNpc3N1ZV9tYXJrZXJcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgY29uc29sZS5sb2coXCJ2bS5wbGFuIHRvIG1yazpcIiwgdm0ucGxhblRvTWFyayk7XHJcblxyXG5cclxuICAgICAgICB2YXIgZmlyc3RDYW52YXNJbWc9aW1nYXJyYXkuc2xpY2UoLTEpO1xyXG4gICAgICAgICQoXCIjc2xpZGVDYW52YXNcIikuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLFwidXJsKFwiK2ZpcnN0Q2FudmFzSW1nWzBdLnVybCtcIilcIik7XHJcbiAgICAgICBcclxuICAgICAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFxyXG5cclxuICAgICAgLy90ZXN0IGdldCBkZXRhaWxzXHJcbiAgICAgICRzY29wZS5hZGRUb0RldGFpbHMxID0gZnVuY3Rpb24oaW1nYXJyYXkpe1xyXG4gICAgICAgICQoXCIjbG9jYWxmaWxlc21vZGVsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAkKFwiI2lzc3VlX21hcmtlclwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICBcclxuICAgICAgICB2YXIgZmlyc3RDYW52YXNJbWc9aW1nYXJyYXkuc2xpY2UoLTEpO1xyXG4gICAgICAgICAkKFwiI3NsaWRlQ2FudmFzXCIpLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIixcInVybChcIitmaXJzdENhbnZhc0ltZ1swXS51cmwrXCIpXCIpO1xyXG4gICAgICAgXHJcbiAgICAgIFxyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUuZ2V0RGV0YWlsID0gZnVuY3Rpb24oaXNzdWUpe1xyXG4gICAgICAgICQoJyNpc3N1ZWRldGFpbCcpLm1vZGFsKCk7XHJcbiAgICAgICAgJHNjb3BlLmlzc3VlTW9kZWwgPSBpc3N1ZTtcclxuICAgICAgICBcclxuICAgICAgICAkc2NvcGUuVGl0bGU9ICAkc2NvcGUuaXNzdWVNb2RlbC50aXRsZTtcclxuICAgICAgICAkc2NvcGUuRGVzY3JpcHRpb249ICRzY29wZS5pc3N1ZU1vZGVsLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS5EZWFkTGluZURhdGUgPW5ldyBEYXRlKCRzY29wZS5pc3N1ZU1vZGVsLmRlYWRMaW5lKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYWRsaW5lXCIpLmRlZmF1bHRWYWx1ZSA9JHNjb3BlLkRlYWRMaW5lRGF0ZTtcclxuICAgICAgICAkc2NvcGUuZGF5ID0gJHNjb3BlLkRlYWRMaW5lRGF0ZS5nZXREYXRlKCktMTtcclxuICAgICAgIFxyXG4gICAgICAgICRzY29wZS5tb250aCA9ICRzY29wZS5EZWFkTGluZURhdGUuZ2V0TW9udGgoKSsxO1xyXG4gICAgICAgXHJcbiAgICAgICAgJHNjb3BlLnllYXIgPSAkc2NvcGUuRGVhZExpbmVEYXRlLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gICAgICAgICRzY29wZS5kZWFkTGluZURhdGUgPSAgJHNjb3BlLm1vbnRoK1wiL1wiKyRzY29wZS5kYXkrXCIvXCIrICRzY29wZS55ZWFyO1xyXG4gICAgICAgXHJcbiAgICAgICBcclxuICAgICAgICAkc2NvcGUuU3RhdHVzID0gJHNjb3BlLmlzc3VlTW9kZWwuaXNzdWVTdGF0dXM7XHJcbiAgICAgICAgXHJcbiAgICAgICBcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgJHNjb3BlLmFkZEZpbGVUb1VwZGF0ZSA9IGZ1bmN0aW9uKGZpbGUsY29tbWVudCl7XHJcbiAgICAgICAgJHNjb3BlLmlucHV0RmlsZXMucHVzaCh7ZmlsZTpmaWxlLGNvbW1lbnQ6Y29tbWVudH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5pbnB1dEZpbGVzKTtcclxuICAgICAgICAkc2NvcGUuZmlsZT0nJztcclxuICAgICAgICAkc2NvcGUuY29tbWVudD0nJztcclxuICAgICAgfVxyXG4gICAgIFxyXG5cclxuICAgICAgJHNjb3BlLnVwZGF0ZVJlcXVlc3QgPSBmdW5jdGlvbih1cGRhdGVvYmope1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidG8gdXBkYXRlIGRhdGFcIix1cGRhdGVvYmopO1xyXG4gICAgICAgXHJcbiAgICAgICAgJHNjb3BlLnVwZGF0ZWZvcm0gPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS5vcGVuRWRpdD1mYWxzZTtcclxuICAgICAgICBcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLnJlbW92ZUZpbGVzID0gZnVuY3Rpb24oaW5kZXgsYXJyYXksaW1hZ2VJZCl7XHJcbiAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInJlbW92aW5nIGZpbGVzXCIsXCJpbmRleFwiLGluZGV4LFwiaW1hZ2VJZFwiLGltYWdlSWQpO1xyXG4gICAgICAgICRzY29wZS5maWxlc1RvUmVtb3ZlLnB1c2goaW1hZ2VJZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyZW1vdmluZyBmaWxlc1wiLCRzY29wZS5maWxlc1RvUmVtb3ZlKTtcclxuICAgICAgfVxyXG4gICAgICB2bS5jbG9zZVVwZHRlTW9kZWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS51cGRhdGVmb3JtPWZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICRzY29wZS5vcGVuRWRpdERhdGUgPSBmdW5jdGlvbigpe1xyXG4gICBcclxuICAgICAgICRzY29wZS5vcGVuRWRpdD10cnVlO1xyXG4gICAgIH1cclxuICAgICAkc2NvcGUuY2xvc2VFZGl0RGF0ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgXHJcbiAgICAgICRzY29wZS5vcGVuRWRpdD1mYWxzZTtcclxuICAgICB9XHJcblxyXG4gICAgICB2bS51cGRhdGVJc3N1ZURldGFpbHMgPSBmb3JtRGF0YSA9PiB7XHJcbiAgICAgICBcclxuICAgICAgICB2YXIgaXNzdWVPYmplY3Q9e307XHJcbiAgICAgICAgaWYodm0udXBkYXRlSXNzdWU9PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInVwZGF0ZSBpc3N1ZSBpcyB1bmRlZmluZWRcIik7XHJcbiAgICAgICAgICBpc3N1ZU9iamVjdC5UaXRsZSA9ICAkc2NvcGUuaXNzdWVNb2RlbC50aXRsZTtcclxuICAgICAgICAgIGlzc3VlT2JqZWN0LmRlc2NyaXB0aW9uID0gJHNjb3BlLmlzc3VlTW9kZWwuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICBpc3N1ZU9iamVjdC5kZWFkTGluZT0kc2NvcGUuaXNzdWVNb2RlbC5kZWFkTGluZTtcclxuICAgICAgICAgIGlzc3VlT2JqZWN0Lmlzc3VlU3RhdHVzPSRzY29wZS5pc3N1ZU1vZGVsLmlzc3VlU3RhdHVzO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGUgaXN1dWUgaXMgbm90IHVuZGZpbmVkIHNvIGluIGVzbGUgY2FzZVwiKTtcclxuICAgICAgICAgIGlmKHZtLnVwZGF0ZUlzc3VlLnRpdGxlPT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBpc3N1ZU9iamVjdC5UaXRsZSA9ICAkc2NvcGUuaXNzdWVNb2RlbC50aXRsZTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgaXNzdWVPYmplY3QuVGl0bGUgPSAgdm0udXBkYXRlSXNzdWUudGl0bGU7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGlmKHZtLnVwZGF0ZUlzc3VlLmRlc2NyaXB0aW9uPT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBpc3N1ZU9iamVjdC5kZXNjcmlwdGlvbiA9ICRzY29wZS5pc3N1ZU1vZGVsLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBpc3N1ZU9iamVjdC5kZXNjcmlwdGlvbiA9IHZtLnVwZGF0ZUlzc3VlLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgICBpZih2bS51cGRhdGVJc3N1ZS5kZWFkTGluZT09dW5kZWZpbmVkKXtcclxuXHJcbiAgICAgICAgICAgIGlzc3VlT2JqZWN0LmRlYWRMaW5lPSRzY29wZS5pc3N1ZU1vZGVsLmRlYWRMaW5lO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgaXNzdWVPYmplY3QuZGVhZExpbmU9dm0udXBkYXRlSXNzdWUuZGVhZExpbmU7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGlmKHZtLnVwZGF0ZUlzc3VlLmlzc3VlU3RhdHVzPT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBpc3N1ZU9iamVjdC5pc3N1ZVN0YXR1cz0kc2NvcGUuaXNzdWVNb2RlbC5pc3N1ZVN0YXR1cztcclxuICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgaXNzdWVPYmplY3QuaXNzdWVTdGF0dXM9dm0udXBkYXRlSXNzdWUuaXNzdWVTdGF0dXM7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZigkc2NvcGUuaW5wdXRGaWxlcy5sZW5ndGg+MCl7XHJcbiAgICAgICAgICBpc3N1ZU9iamVjdC5maWxlcyA9ICRzY29wZS5pbnB1dEZpbGVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZigkc2NvcGUuZmlsZXNUb1JlbW92ZS5sZW5ndGg+MCl7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImZpbGVzIHRvIHJlbW92ZVwiLCRzY29wZS5maWxlc1RvUmVtb3ZlKTtcclxuICAgICAgICAgIGlzc3VlT2JqZWN0LnJlbW92ZWRGaWxlcyA9ICRzY29wZS5maWxlc1RvUmVtb3ZlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIklTVVVFT0JKRUNUXCIsIGlzc3VlT2JqZWN0KTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLnVwZGF0ZUlzc3VlKGlzc3VlT2JqZWN0LCRzY29wZS5pc3N1ZU1vZGVsLl9pZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiSXNzdWUgaGFzIGJlZW4gdXBkYXRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAkc2NvcGUuaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgJHNjb3BlLmZpbGVzVG9SZW1vdmU9W107XHJcbiAgICAgICAgICAkc2NvcGUudXBkYXRlZm9ybT1mYWxzZTtcclxuICAgICAgICAgICQoJyNpc3N1ZWRldGFpbCcpLm1vZGFsKCdoaWRlJylcclxuICAgICAgICAgIHZtLnNvcnRpc3N1ZXMoXCJjcmVhdGVkXCIsIFwidG9nZ2xlSXNzdWVcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICRzY29wZS5pbnB1dEZpbGVzID0gW107XHJcbiAgICAgICAgICAkc2NvcGUuZmlsZXNUb1JlbW92ZT1bXTtcclxuICAgICAgICAgICRzY29wZS51cGRhdGVmb3JtPWZhbHNlO1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICBcclxuICAgICAgfVxyXG5cclxuICAgICBcclxuICAgICAgJHNjb3BlLmltYWdlVGVtcFVybD1cIi4uL2Fzc2V0cy9pbWFnZXMvcm9vZnRlc3RpbWFnZXMvaW1hZ2UxLmpwZ1wiO1xyXG4gICAgICAkc2NvcGUucm9vZnRlc3REZW1vPWZ1bmN0aW9uKHN0cmluZyl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzdHJpbmdcIixzdHJpbmcpO1xyXG4gICAgICAgICRzY29wZS5pbWFnZVRlbXBVcmw9XCIuLlwiK3N0cmluZztcclxuICAgICAgIFxyXG4gICAgICB9XHJcblxyXG4gICAgICBcclxuXHJcbiAgICAgICRzY29wZS5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xpZGVDYW52YXMnKTtcclxuICAgICQoIFwiI2lzc3VlX21hcmtlclwiKS5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xyXG4gICBcclxuICAgICAkKFwiI2Nhcm91c2VsbGlzdFwiKS5mbGV4c2xpZGVyKHtcclxuICAgICAgYW5pbWF0aW9uOiBcInNsaWRlXCIsXHJcbiAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxyXG4gICAgICBhbmltYXRpb25Mb29wOiBmYWxzZSxcclxuICAgICAgc2xpZGVzaG93OiBmYWxzZSxcclxuICAgICAgaXRlbVdpZHRoOiAyMDAsXHJcbiAgICAgIGl0ZW1NYXJnaW46IDMsXHJcbiAgICAgXHJcbiAgICB9KTtcclxuICAgIC8vJHNjb3BlLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbGlkZUNhbnZhcycpO1xyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICBcclxuICAgICRzY29wZS5vcGVuU2xpZGVySW1hZ2UgPWZ1bmN0aW9uKHVybCxpbmRleCl7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidXJsOiBcIix1cmwpO1xyXG4gICAgICQoXCIjc2xpZGVDYW52YXNcIikuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLFwidXJsKFwiK3VybCtcIilcIik7XHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICAvL0NBTlZBUyBNRVRIT0RTIEVWRU5UU1xyXG4gICAgJHNjb3BlLmlzTGluZT1mYWxzZTtcclxuICAgICRzY29wZS5pc0NpcmNsZT1mYWxzZTtcclxuICAgICRzY29wZS5pc01hcmtlcj1mYWxzZTtcclxuICAgICRzY29wZS5pc1RleHQ9ZmFsc2U7XHJcbiAgIFxyXG4gICAgJHNjb3BlLmRyYXdMaW5lT25DYW52YXMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAkc2NvcGUub3BlbkZpbGxDb2xvcj1mYWxzZTtcclxuICAgICAgJHNjb3BlLnNuYXBzaG90O1xyXG4gICAgICAkc2NvcGUudGV4dEZvcm09ZmFsc2U7XHJcbiAgICAgICRzY29wZS5kcmFnZ2luZz1mYWxzZTtcclxuICAgICAgJHNjb3BlLmRyYWdTdGFydExvY2F0aW9uO1xyXG4gICAgICAkKCcjZ3BzYnRuJykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiI0QzRDNEM1wiKTtcclxuXHJcbiAgICAgICRzY29wZS5idG5NYXJrZXI9XCIuLi9hc3NldHMvaW1hZ2VzL2dwcy5wbmdcIjtcclxuICAgICAgJHNjb3BlLmJ0bkNpcmNsZT1cIi4uL2Fzc2V0cy9pbWFnZXMvY2lyY2xlLXNoYXBlLW91dGxpbmUucG5nXCI7XHJcbiAgICAgICRzY29wZS5idG5MaW5lPVwiLi4vYXNzZXRzL2ltYWdlcy9saW5ld2hpdGUucG5nXCI7XHJcbiAgICAgICRzY29wZS5idG5UZXh0PVwiLi4vYXNzZXRzL2ltYWdlcy90ZXh0LW9wdGlvbi1pbnRlcmZhY2Utc3ltYm9sLnBuZ1wiO1xyXG5cclxuXHJcbiAgICAgICQoJyN0eHRidG4nKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCIjRDNEM0QzXCIpO1xyXG4gICAgICAgJCgnI2NpcmNsZWJ0bicpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcIiNEM0QzRDNcIik7XHJcbiAgICAgICAkKCcjbGluZWJ1dHRvbicpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcIiMwMDlBQ0RcIik7XHJcbiAgICAgICRzY29wZS5jb250ZXh0PSRzY29wZS5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIFxyXG4gICAgICAkc2NvcGUucmVjdCA9ICRzY29wZS5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGlmKCRzY29wZS5pc0NpcmNsZT09dHJ1ZXx8JHNjb3BlLmlzTWFya2VyPT10cnVlfHwkc2NvcGUuaXNUZXh0PT10cnVlKXtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsZHJhZ1N0YXJ0KTtcclxuICAgICAgICAkc2NvcGUuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsZHJhZyk7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJyxkcmFnU3RvcCk7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLE1hcmtXcml0ZSk7XHJcbiAgICAgICAgJHNjb3BlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLFRleHRXcml0ZSk7XHJcblxyXG4gICAgfVxyXG4gICAgICAkc2NvcGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsZHJhZ1N0YXJ0TGluZSk7XHJcbiAgICAgICRzY29wZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxkcmFnTGluZSk7XHJcbiAgICAgICRzY29wZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsZHJhZ1N0b3BMaW5lKTtcclxuXHJcbiAgICB9XHJcbiAgIFxyXG5cclxuICAgIC8vTGluZSBGdW5jdGlvbnNcclxuICAgIGZ1bmN0aW9uIGRyYWdTdGFydExpbmUoZSl7XHJcbiAgICAgICRzY29wZS5pc0xpbmU9dHJ1ZTtcclxuICAgICAgJHNjb3BlLmRyYWdnaW5nPXRydWU7XHJcbiAgICAgICAgdmFyIHg9IE1hdGguZmxvb3IoICggZS5jbGllbnRYIC0gJHNjb3BlLnJlY3QubGVmdCApIC8gKCAkc2NvcGUucmVjdC5yaWdodCAtICRzY29wZS5yZWN0LmxlZnQgKSAqICRzY29wZS5jYW52YXMud2lkdGggKSxcclxuICAgICAgICAgeT1NYXRoLmZsb29yKCAoIGUuY2xpZW50WSAtICRzY29wZS5yZWN0LnRvcCApIC8gKCAkc2NvcGUucmVjdC5ib3R0b20gLSAkc2NvcGUucmVjdC50b3AgKSAqICRzY29wZS5jYW52YXMuaGVpZ2h0IClcclxuICAgICAgICAkc2NvcGUuZHJhZ1N0YXJ0TG9jYXRpb249IHsnWCc6eCwnWSc6eX07XHJcbiAgICAgICAgJHNjb3BlLnNuYXBzaG90PSRzY29wZS5jb250ZXh0LmdldEltYWdlRGF0YSgwLDAsJHNjb3BlLmNhbnZhcy53aWR0aCwkc2NvcGUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgXHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBkcmFnTGluZShlKXtcclxuICAgICAgdmFyIHBvc2l0aW9uO1xyXG4gICAgICB2YXIgeD1NYXRoLmZsb29yKCAoIGUuY2xpZW50WCAtICRzY29wZS5yZWN0LmxlZnQgKSAvICggJHNjb3BlLnJlY3QucmlnaHQgLSAkc2NvcGUucmVjdC5sZWZ0ICkgKiAkc2NvcGUuY2FudmFzLndpZHRoICksXHJcbiAgICAgIHk9TWF0aC5mbG9vciggKCBlLmNsaWVudFkgLSAkc2NvcGUucmVjdC50b3AgKSAvICggJHNjb3BlLnJlY3QuYm90dG9tIC0gJHNjb3BlLnJlY3QudG9wICkgKiAkc2NvcGUuY2FudmFzLmhlaWdodCApXHJcbiAgICAgIGlmKCRzY29wZS5kcmFnZ2luZz09PXRydWUpe1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0LnB1dEltYWdlRGF0YSgkc2NvcGUuc25hcHNob3QsMCwwKTtcclxuICAgICAgICBwb3NpdGlvbj17J1gnOngsJ1knOnl9O1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0Lm1vdmVUbygkc2NvcGUuZHJhZ1N0YXJ0TG9jYXRpb24uWCwkc2NvcGUuZHJhZ1N0YXJ0TG9jYXRpb24uWSk7XHJcbiAgICAgICAgJHNjb3BlLmNvbnRleHQubGluZVRvKHBvc2l0aW9uLlgscG9zaXRpb24uWSk7XHJcbiAgICAgICAgJHNjb3BlLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSAkc2NvcGUuY29sb3JwaWNrO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0LmxpbmVXaWR0aD0yO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0LmxpbmVDYXA9J3JvdW5kJztcclxuICAgICAgICAkc2NvcGUuY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZHJhZ1N0b3BMaW5lKGUpe1xyXG4gICAgICAgICRzY29wZS5kcmFnZ2luZz1mYWxzZTtcclxuICAgICAgICAkc2NvcGUuY29udGV4dC5wdXRJbWFnZURhdGEoJHNjb3BlLnNuYXBzaG90LDAsMCk7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uO1xyXG4gICAgICAgIHZhciB4PU1hdGguZmxvb3IoICggZS5jbGllbnRYIC0gJHNjb3BlLnJlY3QubGVmdCApIC8gKCAkc2NvcGUucmVjdC5yaWdodCAtICRzY29wZS5yZWN0LmxlZnQgKSAqICRzY29wZS5jYW52YXMud2lkdGggKSxcclxuICAgICAgICB5PU1hdGguZmxvb3IoICggZS5jbGllbnRZIC0gJHNjb3BlLnJlY3QudG9wICkgLyAoICRzY29wZS5yZWN0LmJvdHRvbSAtICRzY29wZS5yZWN0LnRvcCApICogJHNjb3BlLmNhbnZhcy5oZWlnaHQgKVxyXG4gICAgICAgIHBvc2l0aW9uPXsnWCc6eCwnWSc6eX07XHJcbiAgICAgICAvLyBjb25zb2xlLmxvZyhcImRyYWcgbG9jYXRpb25cIixwb3NpdGlvbi5YLHBvc2l0aW9uLlkpO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0Lm1vdmVUbygkc2NvcGUuZHJhZ1N0YXJ0TG9jYXRpb24uWCwkc2NvcGUuZHJhZ1N0YXJ0TG9jYXRpb24uWSk7XHJcbiAgICAgICAgJHNjb3BlLmNvbnRleHQubGluZVRvKHBvc2l0aW9uLlgscG9zaXRpb24uWSk7XHJcbiAgICAgICAgJHNjb3BlLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSAkc2NvcGUuY29sb3JwaWNrO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0LmxpbmVXaWR0aD0yO1xyXG4gICAgICAgICRzY29wZS5jb250ZXh0LmxpbmVDYXA9J3JvdW5kJztcclxuICAgICAgICAkc2NvcGUuY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgIHZhciBpbWFnZURhdGEgPSAkc2NvcGUuY29udGV4dC5nZXRJbWFnZURhdGEoMCwwLCRzY29wZS5jYW52YXMud2lkdGgsJHNjb3BlLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgJHNjb3BlLlVuZG9BcnJheS5wdXNoKGltYWdlRGF0YSk7XHJcbiAgICAgICBjb25zb2xlLmxvZyhcInVuZG9BcnJheTogXCIsJHNjb3BlLlVuZG9BcnJheSk7XHJcbiAgICAgICBcclxuICAgIH1cclxuXHJcbiAgIFxyXG5cclxuICAgIFxyXG5cclxuICAgICRzY29wZS5VbmRvRHJhd2luZyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKCRzY29wZS5VbmRvQXJyYXkubGVuZ3RoPjApe1xyXG4gICAgICAgICB2YXIgdW5kb0N0eCA9ICRzY29wZS5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgdW5kb0N0eC5jbGVhclJlY3QoMCwwLCRzY29wZS5jYW52YXMud2lkdGgsJHNjb3BlLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICB2YXIgaW1nZGF0YT0kc2NvcGUuVW5kb0FycmF5LnBvcCgpO1xyXG4gICAgICAgICAkc2NvcGUucmVkb0FycmF5LnB1c2goaW1nZGF0YSk7XHJcbiAgICAgICBcclxuICAgICAgICAgJHNjb3BlLlVuZG9BcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICB1bmRvQ3R4LnB1dEltYWdlRGF0YShlbGVtZW50LDAsMCk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAgXHJcbiAgICAkc2NvcGUuUmVkb0RyYXdpbmcgPSBmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgdW5kb0N0eCA9ICRzY29wZS5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgaWYoJHNjb3BlLnJlZG9BcnJheS5sZW5ndGg+MCl7XHJcbiAgICAgICAgdmFyIHJlZG8gPSAkc2NvcGUucmVkb0FycmF5LnBvcCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHVuZG9DdHgucHV0SW1hZ2VEYXRhKHJlZG8sMCwwKTtcclxuICAgICAgIFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdm0uc2F2ZU1hcmtJbmZvPWZ1bmN0aW9uKCl7XHJcbiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmsnKTtcclxuICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAnTWludHlQYXBlci5wbmcnKTtcclxuICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsICRzY29wZS5jYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLnJlcGxhY2UoXCJpbWFnZS9wbmdcIiwgXCJpbWFnZS9vY3RldC1zdHJlYW1cIikpO1xyXG4gIGxpbmsuY2xpY2soKTtcclxuICAgIC8vICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAvLyAgdmFyIGR0PSAkc2NvcGUuY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcclxuICAgIC8vICAgY29uc29sZS5sb2coXCJ2bS5JTUdTVE9SRSBpbiBwbmc6IFwiLGR0KTtcclxuICAgIC8vICAgdXJsdG9GaWxlKGR0LCAnaGVsbG8ucG5nJywgJ2ltYWdlL3BuZycpXHJcbiAgICAvLyAudGhlbihmdW5jdGlvbihmaWxlKXtcclxuICAgIC8vICAgdm0uSU1HU1RPUkUgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgLy8gICBjb25zb2xlLmxvZyhcIkZJTEUgU1JDOiBcIix2bS5JTUdTVE9SRSk7XHJcbiAgICAgIC8vICAgYXBpRmFjdG9yeS5wb3N0TWFya0ltZyhmaWxlKS50aGVuKHJlc3A9PntcclxuICAgICAgLy8gICAgY29uc29sZS5sb2cocmVzcCk7XHJcbiAgICAgIC8vICAgIGNvbnNvbGUubG9nKFwiQ09OVkVSVEVEIEZJTEU6IFwiLGZpbGUpO1xyXG4gICAgICAvLyB9KVxyXG4gIC8vIH0pXHJcbiAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgLy9yZXR1cm4gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIEZpbGUgaW5zdGFuY2VcclxuICBmdW5jdGlvbiB1cmx0b0ZpbGUodXJsLCBmaWxlbmFtZSwgbWltZVR5cGUpe1xyXG4gIHJldHVybiAoZmV0Y2godXJsKVxyXG4gICAgICAudGhlbihmdW5jdGlvbihyZXMpe3JldHVybiByZXMuYXJyYXlCdWZmZXIoKTt9KVxyXG4gICAgICAudGhlbihmdW5jdGlvbihidWYpe3JldHVybiBuZXcgRmlsZShbYnVmXSwgZmlsZW5hbWUsIHt0eXBlOm1pbWVUeXBlfSk7fSlcclxuICApO1xyXG59XHJcbiAgICBcclxuXHJcbiAgfVxyXG59KSgpOyIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIm1hdGVyaWFsQ3RybFwiLCBtYXRlcmlhbEN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBtYXRlcmlhbEN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICBOZ01hcCxcclxuICAgIFVwbG9hZFxyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSwgZGVib3VuY2UgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcblxyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgJChcIi5wYXlyb2xsTWVudVwiKS5oaWRlKCk7XHJcblxyXG4gICAgLyogRGF0YSB0YWJsZSBzZXR1cCAqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHZtLmR0T3B0aW9ucyA9IHtcclxuICAgICAgcmV0cmlldmU6IHRydWUsXHJcbiAgICAgIHBhZ2luZzogZmFsc2UsXHJcbiAgICAgIGluZm86IGZhbHNlLFxyXG4gICAgICBvcmRlcmluZzogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLy8gJChcIi5tYXRlcmlhbExpc3RcIikuRGF0YVRhYmxlKCk7XHJcblxyXG4gICAgLyogU2V0dGluZyB1cCBpbnZlbnRvcnkgc3RhdGUgKi9cclxuICAgIGNvbnN0IGludmVudG9yeVN0YXRlID0gZ2xvYmFscy5pbnZlbnRvcnlTdGF0ZSgpO1xyXG4gICAgdm0uYWN0aXZlVGFiID0gaW52ZW50b3J5U3RhdGUuZ2V0KCkudGFiO1xyXG4gICAgJHNjb3BlLmFjdGl2ZUp1c3RpZmllZCA9IDA7XHJcbiAgICB2bS5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICBcclxuICAgICRzY29wZS4kd2F0Y2goXHJcbiAgICAgIFwidm0uYWN0aXZlVGFiXCIsXHJcbiAgICAgIHRhYiA9PiB7XHJcbiAgICAgICAgaW52ZW50b3J5U3RhdGUuc2V0VGFiKHRhYik7XHJcbiAgICAgIH0sXHJcbiAgICAgIHRydWVcclxuICAgICk7XHJcblxyXG4gICAgdm0udG9nZ2xlT2JqID0ge1xyXG4gICAgICBtYXRlcmlhbDoge1xyXG4gICAgICAgIHN5c3RlbVRhZzogdHJ1ZSxcclxuICAgICAgICBtYXRlcmlhbENvc3Q6IGZhbHNlLFxyXG4gICAgICAgIHJvb2ZlckNvc3Q6IGZhbHNlLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcclxuICAgICAgICBuYW1lOiBmYWxzZVxyXG4gICAgICB9LFxyXG4gICAgICBjb21ibzoge1xyXG4gICAgICAgIHN5c3RlbVRhZzogdHJ1ZSxcclxuICAgICAgICBtYXRlcmlhbENvc3Q6IGZhbHNlLFxyXG4gICAgICAgIHJvb2ZlckNvc3Q6IGZhbHNlLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcclxuICAgICAgICBuYW1lOiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnNlYXJjaFRleHQgPSBpbnZlbnRvcnlTdGF0ZS5nZXQoKS5zZWFyY2hUZXh0O1xyXG5cclxuICAgICRzY29wZS4kd2F0Y2goXHJcbiAgICAgIFwidm0uc2VhcmNoVGV4dFwiLFxyXG4gICAgICB0ZXh0ID0+IHtcclxuICAgICAgICBpbnZlbnRvcnlTdGF0ZS50ZXh0KHRleHQpO1xyXG4gICAgICB9LFxyXG4gICAgICB0cnVlXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICAvKiAkKCcuYXZhaWxfb3B0aW9uIGxpJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgdHh0ID0gJCh0aGlzKS50ZXh0KCk7XHJcbiAgICAgIHZhciB2YWwgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoKS5zaWJsaW5ncygnLnNlbGVjdGJveCcpLnRleHQodmFsKTtcclxuICAgIH0pICovXHJcbiAgICB2bS51bml0U2VsZWN0ID0gKGRhdGEpID0+IHtcclxuICAgICAgdm0uc2VsZWN0ZWRVbml0ID0gZGF0YS5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHZtLnNvcnRNYXRlcmlhbHMgPSAodHlwZSwgcmVzb3VyY2UpID0+IHtcclxuICAgICAgLyogRm9yIHRvZ2dsaW5nIGFzY2VuZGluZyBhbmQgZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICAgICB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID09PSB1bmRlZmluZWRcclxuICAgICAgICA/ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gdHJ1ZSlcclxuICAgICAgICA6ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gIXZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0pO1xyXG4gICAgICBsZXQgYXBpTmFtZSA9XHJcbiAgICAgICAgcmVzb3VyY2UgPT09IFwibWF0ZXJpYWxcIiA/IFwibGlzdEFsbE1hdGVyaWFsc1wiIDogXCJsaXN0QWxsQ29tYm9NYXRlcmlhbHNcIjtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnlbYXBpTmFtZV0oe1xyXG4gICAgICAgIHBhZ2U6IGludmVudG9yeVN0YXRlLmdldCgpLnBhZ2VbcmVzb3VyY2VdLFxyXG4gICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICBzb3J0OiB0eXBlLFxyXG4gICAgICAgIHNlYXJjaDogdm0uc2VhcmNoVGV4dCxcclxuICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm1bcmVzb3VyY2VdID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICB2bVtyZXNvdXJjZSArIFwiQ291bnRcIl0gPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICQoXCIjXCIgKyByZXNvdXJjZSArIFwiUGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcclxuICAgICAgICAgICAgICBpdGVtczogdm1bcmVzb3VyY2UgKyBcIkNvdW50XCJdLFxyXG4gICAgICAgICAgICAgIGl0ZW1zT25QYWdlOiAxMCxcclxuICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IGludmVudG9yeVN0YXRlLmdldCgpLnBhZ2VbcmVzb3VyY2VdLFxyXG4gICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGludmVudG9yeVN0YXRlLnNldFBhZ2UocmVzb3VyY2UsIHBhZ2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlbYXBpTmFtZV0oe1xyXG4gICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2bVtyZXNvdXJjZV0gPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc2VhcmNoRGVib3VuY2UgPSBkZWJvdW5jZSgyNTApOyAvKiBQYXNzaW5nIGluIHRoZSBkZWJvdW5jZSByYXRlICovXHJcbiAgICB2bS5zZWFyY2hNYXRlcmlhbHMgPSAodGV4dCwgcmVzb3VyY2UpID0+IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gcGFzcyB0aGUgZnVuY3Rpb24gd2hpY2ggeW91IHdhbnQgdG8gZGVib3VuY2VcclxuICAgICAgICogQHBhcmFtIHtBcnJheX0gYXJncyAtIHBhc3MgdGhlIGFyZ3VtZW50cyBmcm9tIHRoZSB2aWV3IGFzIGFuIGFycmF5XHJcbiAgICAgICAqL1xyXG4gICAgICBzZWFyY2hEZWJvdW5jZShcclxuICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICBsZXQgYXBpTmFtZSA9XHJcbiAgICAgICAgICAgIHJlc291cmNlID09PSBcIm1hdGVyaWFsXCJcclxuICAgICAgICAgICAgICA/IFwibGlzdEFsbE1hdGVyaWFsc1wiXHJcbiAgICAgICAgICAgICAgOiBcImxpc3RBbGxDb21ib01hdGVyaWFsc1wiO1xyXG5cclxuICAgICAgICAgIGFwaUZhY3RvcnlbYXBpTmFtZV0oe1xyXG4gICAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgIHNlYXJjaDogdGV4dCxcclxuICAgICAgICAgICAgc29ydDogXCJjcmVhdGVkRGF0ZVwiLFxyXG4gICAgICAgICAgICBzb3J0VHlwZTogZmFsc2VcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIHZtW3Jlc291cmNlXSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgIHZtW3Jlc291cmNlICsgXCJDb3VudFwiXSA9IHJlc3AuZGF0YS50b3RhbDtcclxuICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgcmVzb3VyY2UgKyBcIlBhZ2luYXRpb25cIikucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zOiB2bVtyZXNvdXJjZSArIFwiQ291bnRcIl0sXHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zT25QYWdlOiAxMCxcclxuICAgICAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlbYXBpTmFtZV0oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0ubWF0ZXJpYWxzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFt0ZXh0LCByZXNvdXJjZV1cclxuICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgLyogSW5pdGlhbGx5IGdldHRpbmcgdGhlIHZhbHVlcyBvZiBtYXRlcmlhbCBhbmQgY29tYm8gbWF0ZXJpYWxzICovXHJcbiAgICB2bS5zb3J0TWF0ZXJpYWxzKFwiY3JlYXRlZEF0XCIsIFwibWF0ZXJpYWxcIik7XHJcbiAgICB2bS5zb3J0TWF0ZXJpYWxzKFwiY3JlYXRlZEF0XCIsIFwiY29tYm9cIik7XHJcbiAgICAvKiBFbmQgb2YgIERhdGEgdGFibGUgc2V0dXAgKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAvKiBBZGQgbWF0ZXJpYWwgZnVuY3Rpb25hbGl0eSAqL1xyXG4gICAgdm0uYWRkTWF0ZXJpYWwgPSB7IGNvbnZlcnNpb25GYWN0b3I6IDEgfTtcclxuICAgIHZtLnRhYlNldHRpbmdzID0geyBkaXNhYmxlOiB0cnVlIH07XHJcbiAgICBhcGlGYWN0b3J5XHJcbiAgICAgIC5nZXRDb21wYW55QnlJZCh2bS51c2VyRGF0YS5jb21wYW55SWQpXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLmNvbXBhbnlEYXRhID0gcmVzcC5kYXRhO1xyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5ID0gdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICRzY29wZS4kd2F0Y2goXCJ2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeVwiLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAkKFwiYS5pdGVtLXNlbGVjdGVkIHNwYW5cIikucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiKTtcclxuICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLmFkZENsYXNzKFwiZmFzIGZhLXRpbWVzIG1yLTNcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS5zaG93Q29udmVyc2lvblJhdGUgPSAoZnJvbSwgdG8pID0+IHtcclxuICAgICAgJChcIi5sb2FkZXJcIikuc2hvdygpO1xyXG4gICAgICBsZXQgY3VycmVuY3lEYXRhID0ge1xyXG4gICAgICAgIGZyb20sXHJcbiAgICAgICAgdG9cclxuICAgICAgfTtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5zaG93Q29udmVyc2lvblJhdGUoY3VycmVuY3lEYXRhKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvciA9IHJlc3AuZGF0YS5jb252ZXJzaW9uRmFjdG9yO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQoXCIubG9hZGVyXCIpLmhpZGUoKTtcclxuICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0udGFiU3R5bGUgPSB2YWwgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgKHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUgIT09IFwiXCIpIHx8XHJcbiAgICAgICAgKHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgdm0uYWRkQ29tYm9NYXRlcmlhbEZvcm0ubmFtZSAhPT0gXCJcIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgKHZtLmFkZE1hdGVyaWFsLm1hdHJpYWxVbml0ICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0cmlhbFVuaXQgIT09IFwiIFwiKSB8fFxyXG4gICAgICAgICAgKHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLnVuaXRTeW1ib2wgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICB2bS5hZGRDb21ib01hdGVyaWFsRm9ybS51bml0U3ltYm9sICE9PSBcIiBcIilcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgKHZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5ICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSAhPT0gXCJcIikgfHxcclxuICAgICAgICAgICAgKHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICB2bS5hZGRDb21ib01hdGVyaWFsRm9ybS5kZXNjcmlwdGlvbiAhPT0gXCIgXCIpXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICh2bS5hZGRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3IgIT09IFwiXCIpIHx8XHJcbiAgICAgICAgICAgICAgKHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgIHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLmRlc2NyaXB0aW9uICE9PSBcIiBcIilcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgJChcInVpYi10YWItaGVhZGluZy5pbmZvIGkuZmFcIikuYXR0cihcclxuICAgICAgICAgICAgICAgIFwic3R5bGVcIixcclxuICAgICAgICAgICAgICAgIFwiZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7IGNvbG9yOiAjM2NiZGFhXCJcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gaS5mYVwiKS5hdHRyKFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IGNvbG9yOiAjM2NiZGFhXCJcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gaS5mYVwiKS5hdHRyKFxyXG4gICAgICAgICAgICAgIFwic3R5bGVcIixcclxuICAgICAgICAgICAgICBcImRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgY29sb3I6ICMzY2JkYWFcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gLm51bWJlclwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoXCIuYnRuLXN1Y2Nlc3MubmV4dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyBpLmZhXCIpLmF0dHIoXHJcbiAgICAgICAgICAgIFwic3R5bGVcIixcclxuICAgICAgICAgICAgXCJkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IGNvbG9yOiAjM2NiZGFhXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gLm51bWJlclwiKS5zaG93KCk7XHJcbiAgICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwidWliLXRhYi1oZWFkaW5nLmluZm8gaS5mYVwiKS5hdHRyKFxyXG4gICAgICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICAgICAgXCJkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IGNvbG9yOiAjM2NiZGFhXCJcclxuICAgICAgICApO1xyXG4gICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLnNob3coKTtcclxuICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZE1hdGVyaWFsTmV4dCA9ICgpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSA9PSB1bmRlZmluZWQgfHxcclxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUgPT0gXCIgXCJcclxuICAgICAgKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGVudGVyIG1hdGVyaWFsIG5hbWVcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0cmlhbFVuaXQgPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0cmlhbFVuaXQgPT0gXCJcIlxyXG4gICAgICApIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IG1hdGVyaWFsIFVuaXRcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3kgPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3kgPT0gXCIgXCJcclxuICAgICAgKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCBDdXJyZW5jeVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAxO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5jaGFuZ2VDb3N0ID0gKGNvc3QsIGNvbnZlcnNpb25SYXRlKSA9PiB7XHJcbiAgICAgIHJldHVybiBjb3N0ICogY29udmVyc2lvblJhdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZE1hdGVyaWFsRGV0YWlscyA9ICgpID0+IHtcclxuICAgICAgdmFyIGZvcm1EYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSxcclxuICAgICAgICB1bml0OiB2bS5hZGRNYXRlcmlhbC5tYXRyaWFsVW5pdCxcclxuICAgICAgICBtYXRlcmlhbENvc3Q6IHtcclxuICAgICAgICAgIHZhbHVlOiB2bS5jaGFuZ2VDb3N0KFxyXG4gICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbENvc3RWYWx1ZSxcclxuICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvclxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcm9vZmVyQ29zdDoge1xyXG4gICAgICAgICAgdmFsdWU6IHZtLmNoYW5nZUNvc3QoXHJcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLnJvb2ZlckNvc3RWYWx1ZSxcclxuICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvclxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZmlsZXM6IHZtLmlucHV0RmlsZXNcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuY3JlYXRlTWF0ZXJpYWxzKGZvcm1EYXRhKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgJHNjb3BlLnRhYiA9IDE7XHJcbiAgICAgICAgICAkKFwiI2FkZE1hdGVyaWFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuXHJcbiAgICAgICAgICAvKiBTZXR0aW5nIGJlbG93IHByb3AgdHJ1ZSB0byBmb3JjZSBkZWNlbmRpbmcgb3JkZXIgb24gbWF0ZXJpYWwgYWRkIGluc3RlYWQgb2YgdG9nZ2xpbmcgc3RhdGVzICovXHJcbiAgICAgICAgICB2bS50b2dnbGVPYmoubWF0ZXJpYWwuY3JlYXRlZEF0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICB2bS5zb3J0TWF0ZXJpYWxzKFwiY3JlYXRlZEF0XCIsIFwibWF0ZXJpYWxcIik7XHJcblxyXG4gICAgICAgICAgdm0uYWRkTWF0ZXJpYWwgPSB7XHJcbiAgICAgICAgICAgIGNvbnZlcnNpb25GYWN0b3I6IDFcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZ2V0TWF0ZXJpYWxCeUlkID0gaWQgPT4ge1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmdldE1hdGVyaWFsQnlJZChpZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIEV2ZW50IGhhbmRsZXIgdG8gcmVzZXQgYWRkIG1hdGVyaWFsIG1vZGFsICovXHJcbiAgICAkKFwiI2FkZE1hdGVyaWFsXCIpLm9uKFwiaGlkZS5icy5tb2RhbFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgJHNjb3BlLmFjdGl2ZUp1c3RpZmllZCA9IDA7XHJcbiAgICAgIHZtLmFkZE1hdGVyaWFsID0ge1xyXG4gICAgICAgIGNvbnZlcnNpb25GYWN0b3I6IDFcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qIEFkZCBDb21ibyBNYXRlcmlhbCAqL1xyXG4gICAgdm0uY29tYm9NYXRlcmlhbExpc3QgPSBbXTtcclxuICAgIHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtID0ge307XHJcbiAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24gPSBbXTtcclxuICAgIHZtLmFkZENvbWJvTWF0ZXJpYWxOZXh0ID0gdmFsID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSAwKSB7XHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICRzY29wZS5jb21ib0FjdGl2ZUp1c3RpZmllZCA9IHZhbDtcclxuICAgICAgfSBlbHNlIGlmICh2YWwgPT0gMSkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLm5hbWUgPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICB2bS5hZGRDb21ib01hdGVyaWFsRm9ybS5uYW1lID09IFwiIFwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgbWF0ZXJpYWwgbmFtZVwiKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLnVuaXRTeW1ib2wgPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICB2bS5hZGRDb21ib01hdGVyaWFsRm9ybS51bml0U3ltYm9sID09IFwiXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgbWF0ZXJpYWwgVW5pdFwiKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLmRlc2NyaXB0aW9uID09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgdm0uYWRkQ29tYm9NYXRlcmlhbEZvcm0uZGVzY3JpcHRpb24gPT0gXCIgXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgQ3VycmVuY3lcIik7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5jb21ib0FjdGl2ZUp1c3RpZmllZCA9IHZhbDtcclxuICAgICAgfSBlbHNlIGlmICh2YWwgPT0gMikge1xyXG4gICAgICAgIGlmICh2bS5jb21ib01hdGVyaWFsTGlzdC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGFkZCBDb21iaW5hdGlvbiBsaXN0XCIpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2bS5Ub3RhbE1DID0gMDtcclxuICAgICAgICAgIHZtLlRvdGFsUkMgPSAwO1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLmNvbWJvTWF0ZXJpYWxMaXN0LCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICB2bS5Ub3RhbE1DID1cclxuICAgICAgICAgICAgICBwYXJzZUZsb2F0KHZtLlRvdGFsTUMpICsgcGFyc2VGbG9hdCh2YWx1ZS5tYXRlcmlhbENvc3QpO1xyXG4gICAgICAgICAgICB2bS5Ub3RhbFJDID0gcGFyc2VGbG9hdCh2bS5Ub3RhbFJDKSArIHBhcnNlRmxvYXQodmFsdWUucm9vZmVyQ29zdCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHZtLlRvdGFsTUMgPSBwYXJzZUZsb2F0KE1hdGgucm91bmQodm0uVG90YWxNQyAqIDEwMCkgLyAxMDApO1xyXG4gICAgICAgICAgdm0uVG90YWxSQyA9IHBhcnNlRmxvYXQoTWF0aC5yb3VuZCh2bS5Ub3RhbFJDICogMTAwKSAvIDEwMCk7XHJcbiAgICAgICAgICAkc2NvcGUuY29tYm9BY3RpdmVKdXN0aWZpZWQgPSB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIGdldCBhbGwgbWF0ZXJpYWwgTGlzdCAqL1xyXG4gICAgdm0ubVVuaXRzID0gZ2xvYmFscy5tVW5pdHM7XHJcbiAgICBnbG9iYWxzLmdldEN1cnJlbmN5KCkudGhlbihyZXNwID0+IHtcclxuICAgICAgdm0uY3VycmVuY2llcyA9IHJlc3AuZGF0YTtcclxuICAgICAgdm0ubG9hZEN1cnJlbmNpZXMgPSAkcXVlcnkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICByZXNvbHZlKHJlc3AuZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiBhcGlGYWN0b3J5XHJcbiAgICAgIC5saXN0QWxsTWF0ZXJpYWxzKClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uYWxsbWF0ZXJpbGFMaXN0ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7ICovXHJcblxyXG4gICAgdm0uY29tYm9MaXN0ID0ge1xyXG4gICAgICBxdWFudGl0eTogMSxcclxuICAgICAgbWF0ZXJpYWxDb3N0OiAwLFxyXG4gICAgICByb29mZXJDb3N0OiAwXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmdldE1hdGVyaWFsSW5mbyA9IG1hdGVyaWFsSW5mbyA9PiB7XHJcbiAgICAgIHZtLmNvbWJvTGlzdC5tYXRlcmlhbENvc3QgPSBwYXJzZUZsb2F0KFxyXG4gICAgICAgIE1hdGgucm91bmQoXHJcbiAgICAgICAgICB2bS5jb21ib0xpc3QucXVhbnRpdHkgKlxyXG4gICAgICAgICAgICBtYXRlcmlhbEluZm8uY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlICpcclxuICAgICAgICAgICAgMTAwXHJcbiAgICAgICAgKSAvIDEwMFxyXG4gICAgICApO1xyXG4gICAgICB2bS5jb21ib0xpc3Qucm9vZmVyQ29zdCA9IHBhcnNlRmxvYXQoXHJcbiAgICAgICAgTWF0aC5yb3VuZChcclxuICAgICAgICAgIHZtLmNvbWJvTGlzdC5xdWFudGl0eSAqXHJcbiAgICAgICAgICAgIG1hdGVyaWFsSW5mby5jdXJyZW50UmF0ZS5yb29mZXJDb3N0LnZhbHVlICpcclxuICAgICAgICAgICAgMTAwXHJcbiAgICAgICAgKSAvIDEwMFxyXG4gICAgICApO1xyXG4gICAgICB2bS50YWJTdHlsZSgpO1xyXG4gICAgICAkKFwiYS5pdGVtLXNlbGVjdGVkIHNwYW5cIikucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiKTtcclxuICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLmFkZENsYXNzKFwiZmFzIGZhLXRpbWVzIG1yLTNcIik7XHJcbiAgICB9O1xyXG4gICAgdm0uUXR5Q2hhbmdlID0gKHZhbCwgbWF0ZXJpYWwpID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSBcIlwiIHx8IHZhbCA9PSAwKSB7XHJcbiAgICAgICAgdm0uY29tYm9MaXN0LnF1YW50aXR5ID0gMTtcclxuICAgICAgICB2YWwgPSAxO1xyXG4gICAgICAgIHZtLmNvbWJvTGlzdC5tYXRlcmlhbENvc3QgPSBwYXJzZUZsb2F0KFxyXG4gICAgICAgICAgTWF0aC5yb3VuZCh2YWwgKiBtYXRlcmlhbC5jdXJyZW50UmF0ZS5tYXRlcmlhbENvc3QudmFsdWUgKiAxMDApIC8gMTAwXHJcbiAgICAgICAgKTtcclxuICAgICAgICB2bS5jb21ib0xpc3Qucm9vZmVyQ29zdCA9IHBhcnNlRmxvYXQoXHJcbiAgICAgICAgICBNYXRoLnJvdW5kKHZhbCAqIG1hdGVyaWFsLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWUgKiAxMDApIC8gMTAwXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2bS5jb21ib0xpc3QubWF0ZXJpYWxDb3N0ID0gcGFyc2VGbG9hdChcclxuICAgICAgICAgIE1hdGgucm91bmQodmFsICogbWF0ZXJpYWwuY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlICogMTAwKSAvIDEwMFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdm0uY29tYm9MaXN0LnJvb2ZlckNvc3QgPSBwYXJzZUZsb2F0KFxyXG4gICAgICAgICAgTWF0aC5yb3VuZCh2YWwgKiBtYXRlcmlhbC5jdXJyZW50UmF0ZS5yb29mZXJDb3N0LnZhbHVlICogMTAwKSAvIDEwMFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgdm0udGFiU3R5bGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uYWRkUGVyY2VudGFnZVZhbHVlID0gKCkgPT4ge1xyXG4gICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24ucHVzaCh7XHJcbiAgICAgICAgcGVyY2VudGFnZVR5cGU6IFwiXCIsXHJcbiAgICAgICAgcGVyY2VudGFnZVZhbHVlOiBcIlwiXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZtLnJlbW92ZVBlcmNlbnRhZ2VBZGRpdGlvbiA9IGluZGV4ID0+IHtcclxuICAgICAgdm0ucGVyY2VudGFnZUFkZGl0aW9uLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLm1hdGVyaWFsQ29tYmluYXRpb24gPSBkYXRhID0+IHtcclxuICAgICAgaWYgKGRhdGEgIT0gXCJcIikge1xyXG4gICAgICAgIHZtLmNvbWJvTWF0ZXJpYWxMaXN0LnB1c2goe1xyXG4gICAgICAgICAgbWF0ZXJpYWxJZDogZGF0YS5faWQsXHJcbiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICBxdWFudGl0eTogdm0uY29tYm9MaXN0LnF1YW50aXR5LFxyXG4gICAgICAgICAgbWF0ZXJpYWxDb3N0OiB2bS5jb21ib0xpc3QubWF0ZXJpYWxDb3N0LFxyXG4gICAgICAgICAgcm9vZmVyQ29zdDogdm0uY29tYm9MaXN0LnJvb2ZlckNvc3QsXHJcbiAgICAgICAgICBwZXJjZW50YWdlQWRkaXRpb25zOiB2bS5wZXJjZW50YWdlQWRkaXRpb25cclxuICAgICAgICB9KTtcclxuICAgICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24gPSBbXTtcclxuICAgICAgICB2bS5jb21ib0xpc3QgPSB7XHJcbiAgICAgICAgICBxdWFudGl0eTogMSxcclxuICAgICAgICAgIG1hdGVyaWFsQ29zdDogMCxcclxuICAgICAgICAgIHJvb2ZlckNvc3Q6IDBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2bS5hZGRDb21ib01hdGVyaWFsRm9ybS5jb21ib01hdGVyaWFsID0gXCJcIjtcclxuICAgICAgICAkKFwiLnNlbGVjdDItY2hvaWNlIC5zZWxlY3QyLWNob3NlblwiKS50ZXh0KFwiXCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmZpbGVVcGRhdGVkID0gKGZpbGVzLCBldmVudCkgPT4ge1xyXG4gICAgICBsZXQgZmlsZU9iaiA9IGV2ZW50LnRhcmdldC5maWxlcztcclxuICAgICAgdm0uZmlsZU5hbWVzID0gT2JqZWN0LmtleXMoZmlsZU9iaikubWFwKHggPT4gZmlsZU9ialt4XS5uYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uY3JlYXRlQ29tYm9NYXRlcmlhbExpc3QgPSAoKSA9PiB7XHJcbiAgICAgIHZhciBjbUxpc3QgPSBbXTtcclxuXHJcbiAgICAgIHZtLmNvbWJvTWF0ZXJpYWxMaXN0LmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgdmFyIHBlckFkZGl0aW9ucyA9IHt9O1xyXG4gICAgICAgIGlmICh4LnBlcmNlbnRhZ2VBZGRpdGlvbnMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICB4LnBlcmNlbnRhZ2VBZGRpdGlvbnMuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgcGVyQWRkaXRpb25zW3gucGVyY2VudGFnZVR5cGVdID0gTnVtYmVyKHgucGVyY2VudGFnZVZhbHVlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjbUxpc3QucHVzaCh7XHJcbiAgICAgICAgICBtYXRlcmlhbElkOiB4Lm1hdGVyaWFsSWQsXHJcbiAgICAgICAgICBxdWFudGl0eTogeC5xdWFudGl0eSxcclxuICAgICAgICAgIHBlcmNlbnRhZ2VBZGRpdGlvbnM6IHBlckFkZGl0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLm5hbWUsXHJcbiAgICAgICAgdW5pdDogdm0uYWRkQ29tYm9NYXRlcmlhbEZvcm0udW5pdFN5bWJvbCxcclxuICAgICAgICBjb21ib01hdGVyaWFsTGlzdDogY21MaXN0LFxyXG4gICAgICAgIGZpbGVzOiB2bS5pbnB1dEZpbGVzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmdldFN5c3RlbVRhZygpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2YXIgc3lzdGVtVGFnID0geyBzeXN0ZW1UYWc6IHJlc3AuZGF0YS5jb21ib1RhZyB9O1xyXG4gICAgICAgICAgYW5ndWxhci5leHRlbmQoZGF0YSwgc3lzdGVtVGFnKTtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmNyZWF0ZUNvbWJvTWF0ZXJpYWwoZGF0YSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICQoXCIjYWRkQ29tYm9NYXRlcmlhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoZS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnJlbW92ZU1hdGVyaWwgPSBpdGVtID0+IHtcclxuICAgICAgdm0uY29tYm9NYXRlcmlhbExpc3Quc3BsaWNlKGl0ZW0sIDEpO1xyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIm1hdGVyaWFsVmlld0N0cmxcIiwgbWF0ZXJpYWxWaWV3Q3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIG1hdGVyaWFsVmlld0N0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgJHN0YXRlUGFyYW1zLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBVcGxvYWRcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLm1hdGVyaWFsSWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICB2bS5tVW5pdHMgPSBnbG9iYWxzLm1Vbml0cztcclxuICAgIHZtLmVkaXRGbGFnID0gZmFsc2U7XHJcbiAgICB2bS5yZW1vdmVkRmlsZXMgPSBbXTtcclxuICAgICRzY29wZS5nZXRNYXREZXRhaWwgPSAoKSA9PiB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0TWF0ZXJpYWxCeUlkKHZtLm1hdGVyaWFsSWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5tYXRyaWFsRGF0YSA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgIHZtLm1hdHJpYWxOYW1lID0gdm0ubWF0cmlhbERhdGEubmFtZTtcclxuICAgICAgICAgIHZtLm1hdHJpYWxVbml0ID0gdm0ubWF0cmlhbERhdGEudW5pdDtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHZtLm1hdHJpYWxEYXRhKVxyXG4gICAgICAgICAgdm0ubWF0cmlhbENvc3QgPSBOdW1iZXIoXHJcbiAgICAgICAgICAgIHZtLm1hdHJpYWxEYXRhLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZVxyXG4gICAgICAgICAgKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgdm0ubWF0cmlhbEN1cnJlbmN5Q29kZSA9XHJcbiAgICAgICAgICAgIHZtLm1hdHJpYWxEYXRhLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC5jdXJyZW5jeUNvZGU7XHJcbiAgICAgICAgICB2bS5tYXRyaWFsUm9vZmVyQ29zdCA9IE51bWJlcihcclxuICAgICAgICAgICAgdm0ubWF0cmlhbERhdGEuY3VycmVudFJhdGUucm9vZmVyQ29zdC52YWx1ZVxyXG4gICAgICAgICAgKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgdm0ubWF0cmlhbFJvb2ZlckN1cnJlbmN5Q29kZSA9XHJcbiAgICAgICAgICAgIHZtLm1hdHJpYWxEYXRhLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QuY3VycmVuY3lDb2RlO1xyXG4gICAgICAgICAgdm0ubWF0cmlhbENyZWF0ZWRCeSA9IHZtLm1hdHJpYWxEYXRhLnByb3ZpZGVyRGF0YS51cGRhdGVkQnkubmFtZTtcclxuICAgICAgICAgIHZtLm1hdHJpYWxDcmVhdGVkQXQgPSB2bS5tYXRyaWFsRGF0YS5jcmVhdGVkQXQ7XHJcbiAgICAgICAgICB2bS5tYXRyaWFsVXBkYXRlZEF0ID0gdm0ubWF0cmlhbERhdGEuY3JlYXRlZEF0O1xyXG4gICAgICAgICAgJHNjb3BlLmdyYXlfYm94ID0gW1xyXG4gICAgICAgICAgICB7ICdpbWcnOiAnL2Fzc2V0cy9pbWFnZXMvVW5pdC1JY29uLnBuZycsICd0aXRsZSc6ICdVbml0JywgJ3ZhbHVlJzogdm0ubWF0cmlhbFVuaXQgfSxcclxuICAgICAgICAgICAgeyAnaW1nJzogJy9hc3NldHMvaW1hZ2VzL0RvbGxhci1JY29uLnBuZycsICd0aXRsZSc6ICdNYXRlcmlhbCBDb3N0JywgJ3ZhbHVlJzogdm0ubWF0cmlhbENvc3QsICdjdXJyZW5jeUNvZGUnOiB2bS5tYXRyaWFsQ3VycmVuY3lDb2RlIH0sXHJcbiAgICAgICAgICAgIHsgJ2ltZyc6ICcvYXNzZXRzL2ltYWdlcy9Eb2xsYXItSWNvbi5wbmcnLCAndGl0bGUnOiAnUm9vZmVyIENvc3QnLCAndmFsdWUnOiB2bS5tYXRyaWFsUm9vZmVyQ29zdCwgJ2N1cnJlbmN5Q29kZSc6IHZtLm1hdHJpYWxSb29mZXJDdXJyZW5jeUNvZGUgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAkc2NvcGUuZ2V0TWF0RGV0YWlsKCk7XHJcblxyXG4gICAgdm0ucmVtb3ZlSW1nID0gaW1nID0+IHtcclxuICAgICAgdm0ucmVtb3ZlZEZpbGVzLnB1c2godm0ubWF0cmlhbERhdGEuZmlsZXNbaW1nXS5faWQpO1xyXG4gICAgICB2bS5tYXRyaWFsRGF0YS5maWxlcy5zcGxpY2UoaW1nLCAxKTtcclxuICAgIH07XHJcbiAgICB2bS5lZGl0TWF0ZXJpYWwgPSB2YWwgPT4ge1xyXG4gICAgICBpZiAodmFsID09IDEpIHtcclxuICAgICAgICAvLyBlZGl0IE1hdGVyaWFsXHJcbiAgICAgICAgdm0uZWRpdEZsYWcgPSB0cnVlO1xyXG4gICAgICAgICQoXCIubWF0ZXJpYWxEZXRhaWwgaW5wdXQsIC5tYXRlcmlhbERldGFpbCBzZWxlY3RcIikuYXR0cihcclxuICAgICAgICAgIFwiZGlzYWJsZWRcIixcclxuICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIGlmICh2YWwgPT0gMikge1xyXG4gICAgICAgIC8vIHVwZGF0ZSBNYXRlcmlhbFxyXG4gICAgICAgIHZtLmVkaXRGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgJChcIi5tYXRlcmlhbERldGFpbCBpbnB1dCwgLm1hdGVyaWFsRGV0YWlsIHNlbGVjdFwiKS5hdHRyKFxyXG4gICAgICAgICAgXCJkaXNhYmxlZFwiLFxyXG4gICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmFyIG1hdGVyaWFsdXBkYXRlZGF0YSA9IHtcclxuICAgICAgICAgIG5hbWU6IHZtLm1hdHJpYWxOYW1lLFxyXG4gICAgICAgICAgdW5pdDogdm0ubWF0cmlhbFVuaXQsXHJcbiAgICAgICAgICByZW1vdmVkRmlsZXM6IHZtLnJlbW92ZWRGaWxlcyxcclxuICAgICAgICAgIGN1cnJlbnRSYXRlOiB7XHJcbiAgICAgICAgICAgIG1hdGVyaWFsQ29zdDoge1xyXG4gICAgICAgICAgICAgIHZhbHVlOiB2bS5tYXRyaWFsQ29zdCxcclxuICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IHZtLm1hdHJpYWxDdXJyZW5jeUNvZGUgLy8kc2NvcGUuY2hlY2tOdWxsKCRzY29wZS5tYXRlcmlhbE9iai5tYXRlcmlhbENvc3RjdXJyZW5jeUNvZGUpW1wiY2NcIl1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcm9vZmVyQ29zdDoge1xyXG4gICAgICAgICAgICAgIHZhbHVlOiB2bS5tYXRyaWFsUm9vZmVyQ29zdCxcclxuICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IHZtLm1hdHJpYWxSb29mZXJDdXJyZW5jeUNvZGUgLy8kc2NvcGUuY2hlY2tOdWxsKCRzY29wZS5tYXRlcmlhbE9iai5yb29mZXJDb3N0Y3VycmVuY3lDb2RlKVtcImNjXCJdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmaWxlOiB2bS5pbnB1dEZpbGVzXHJcbiAgICAgICAgfTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAudXBkYXRlTWF0ZXJpYWxCeUlkKHZtLm1hdGVyaWFsSWQsIG1hdGVyaWFsdXBkYXRlZGF0YSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICRzY29wZS5nZXRNYXREZXRhaWwoKTtcclxuICAgICAgICAgICAgdm0uZmlsZU5hbWVzPVtdXHJcbiAgICAgICAgICAgICR0aW1lb3V0KGltZ1NsaWRlciwgMTAwMCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmZpbGVVcGRhdGVkID0gKGZpbGVzLCBldmVudCkgPT4ge1xyXG4gICAgICBsZXQgZmlsZU9iaiA9IGV2ZW50LnRhcmdldC5maWxlcztcclxuICAgICAgdm0uZmlsZU5hbWVzID0gT2JqZWN0LmtleXMoZmlsZU9iaikubWFwKHggPT4gZmlsZU9ialt4XS5uYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW1nU2xpZGVyKCkge1xyXG4gICAgICAkKFwiI2Nhcm91c2VsXCIpLmZsZXhzbGlkZXIoe1xyXG4gICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxyXG4gICAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxyXG4gICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXHJcbiAgICAgICAgaXRlbVdpZHRoOiA3NSxcclxuICAgICAgICBpdGVtTWFyZ2luOiA1LFxyXG4gICAgICAgIGFzTmF2Rm9yOiBcIiNzbGlkZXJcIlxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoXCIjc2xpZGVyXCIpLmZsZXhzbGlkZXIoe1xyXG4gICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxyXG4gICAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxyXG4gICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXHJcbiAgICAgICAgc3luYzogXCIjY2Fyb3VzZWxcIlxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUubWF0X2hlYWRlcnMgPSBbXHJcbiAgICAgIHsgbWF0X2hlYWQ6ICdTLiBOby4nIH0sXHJcbiAgICAgIHsgbWF0X2hlYWQ6ICdEYXRlJyB9LFxyXG4gICAgICB7IG1hdF9oZWFkOiAnTWF0ZXJpYWwgQ29zdCcgfSxcclxuICAgICAgeyBtYXRfaGVhZDogJ1dvcmtlciBDb3N0JyB9XHJcbiAgICBdXHJcbiAgICAkc2NvcGUubWF0X2l0ZW1zID0gW1xyXG4gICAgICB7IHNfbm86ICcxJywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9LFxyXG4gICAgICB7IHNfbm86ICcyJywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9LFxyXG4gICAgICB7IHNfbm86ICczJywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9LFxyXG4gICAgICB7IHNfbm86ICc0JywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9LFxyXG4gICAgICB7IHNfbm86ICc1JywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9LFxyXG4gICAgICB7IHNfbm86ICc2JywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9LFxyXG4gICAgICB7IHNfbm86ICc3JywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9LFxyXG4gICAgICB7IHNfbm86ICc4JywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9LFxyXG4gICAgICB7IHNfbm86ICc5JywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9LFxyXG4gICAgICB7IHNfbm86ICcxMCcsIGRhdGU6ICdTZXAgMjUsIDIwMTgnLCBtX2Nvc3Q6ICcyMDAgREtLJywgd19jb3N0OiAnMjAwIERLSycgfSxcclxuICAgICAgeyBzX25vOiAnMTEnLCBkYXRlOiAnU2VwIDI1LCAyMDE4JywgbV9jb3N0OiAnMjAwIERLSycsIHdfY29zdDogJzIwMCBES0snIH0sXHJcbiAgICAgIHsgc19ubzogJzEyJywgZGF0ZTogJ1NlcCAyNSwgMjAxOCcsIG1fY29zdDogJzIwMCBES0snLCB3X2Nvc3Q6ICcyMDAgREtLJyB9XHJcbiAgICBdXHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJwYXlyb2xsQ3RybFwiLCBwYXlyb2xsQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIHBheXJvbGxDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBnbG9iYWxzXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7IGxvZ291dCgpOyB9O1xyXG5cclxuXHJcbiAgICB2YXIgdXJsID0gJGxvY2F0aW9uLnBhdGgoKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICAkKCcucGF5cm9sbE1lbnUnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2sgIWltcG9ydGFudCcpO1xyXG4gICAgXHJcbiAgICAkKCcucGF5cm9sbExpc3QnKS5EYXRhVGFibGUoKTtcclxuICAgIFxyXG4gICAgXHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJwcmVMb2dpbkN0cmxcIiwgcHJlTG9naW5DdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gcHJlTG9naW5DdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIE5nTWFwXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIGNvbnN0IHsgcHJvZ3Jlc3MsIGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgdm0ubG9nZ2VkSW4gPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgJHN0YXRlLmdvKFwiZGFzaGJvYXJkXCIpO1xyXG4gICAgICB2bS5sb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBHb29nbGUgbWFwIGNvbmZpZyAqL1xyXG5cclxuICAgIHZtLmdtYXAgPSB7XHJcbiAgICAgIHVybDpcclxuICAgICAgICBcImh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9QUl6YVN5QTNNSUEtbUtXcV82MHExSzB6T0hndXJheFQtMVFQeE5VXCIsXHJcbiAgICAgIHN0eWxlczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMjEyMTIxXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLmljb25cIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib2ZmXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LnN0cm9rZVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzIxMjEyMVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcImFkbWluaXN0cmF0aXZlXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcImFkbWluaXN0cmF0aXZlLmNvdW50cnlcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM5ZTllOWVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZS5sYW5kX3BhcmNlbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvZmZcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZS5sb2NhbGl0eVwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiI2JkYmRiZFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaVwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5wYXJrXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzE4MTgxOFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5wYXJrXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNjE2MTYxXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicG9pLnBhcmtcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LnN0cm9rZVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzFiMWIxYlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWRcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMyYzJjMmNcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjOGE4YThhXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5hcnRlcmlhbFwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMzNzM3MzdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkLmhpZ2h3YXlcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjM2MzYzNjXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5oaWdod2F5LmNvbnRyb2xsZWRfYWNjZXNzXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzRlNGU0ZVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQubG9jYWxcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM2MTYxNjFcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJ0cmFuc2l0XCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNzU3NTc1XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwid2F0ZXJcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMDAwMDAwXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwid2F0ZXJcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMzZDNkM2RcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG4gICAgICBdLFxyXG4gICAgICBtYXJrZXJzOiBbWzI4LjcwNDEsIDc3LjEwMjVdLCBbMTMuMDgyNywgODAuMjcwN11dXHJcbiAgICB9O1xyXG5cclxuICAgIE5nTWFwLmdldE1hcCgpLnRoZW4obWFwID0+IHtcclxuICAgICAgbWFwLnNldE9wdGlvbnMoe1xyXG4gICAgICAgIHN0eWxlczogdm0uZ21hcC5zdHlsZXMsXHJcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZSxcclxuICAgICAgICB6b29tOiAyLFxyXG4gICAgICAgIGNlbnRlcjoge1xyXG4gICAgICAgICAgbGF0OiAyOC43MDQxLFxyXG4gICAgICAgICAgbG5nOiA3Ny4xMDI1XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qIExvZ2luICovXHJcbiAgICAvLyAkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAoaXNWYWxpZCkge1xyXG4gICAgLy8gICBpZiAoaXNWYWxpZCkge1xyXG4gICAgLy8gICAgIGFsZXJ0KClcclxuICAgIC8vICAgICB2YXIgZm9ybURhdGEgPSB7XHJcbiAgICAvLyAgICAgICBlbWFpbDogJHNjb3BlLnVzZXJuYW1lLFxyXG4gICAgLy8gICAgICAgcGFzc3dvcmQ6ICRzY29wZS5wYXNzd29yZFxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSlcclxuICAgIC8vICAgICBhcGlGYWN0b3J5XHJcbiAgICAvLyAgICAgICAubG9naW4oZm9ybURhdGEpXHJcbiAgICAvLyAgICAgICAudGhlbihyZXNwID0+IHsgfSlcclxuICAgIC8vICAgICAgIC5jYXRjaChlcnIgPT4geyB9KTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gICAgdm0ucmVnc2l0ZXJNb2RhbCA9ICgpID0+IHtcclxuICAgICAgJChcIiNsb2dpbk1vZGFsLCAjZm9yZ290UGFzc01vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgJChcIiNyZWdpc3Rlck1vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgIH07XHJcbiAgICB2bS5sb2dpbk1vZGFsID0gKCkgPT4ge1xyXG4gICAgICAkKFwiI3JlZ2lzdGVyTW9kYWwsICNmb3Jnb3RQYXNzTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAkKFwiI2xvZ2luTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgfTtcclxuICAgIHZtLmZvcmdvdFBhc3NNb2RhbCA9ICgpID0+IHtcclxuICAgICAgJChcIiNsb2dpbk1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgJChcIiNmb3Jnb3RQYXNzTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5sb2dpbiA9IChpc1ZhbGlkLCBmb3JtRGF0YSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSk7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAubG9naW4oZm9ybURhdGEpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAkKFwiI2xvZ2luTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJtb2RhbC1vcGVuXCIpO1xyXG4gICAgICAgICAgJChcIi5tb2RhbC1iYWNrZHJvcFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImFjY2Vzcy10b2tlblwiLCByZXNwLmRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgdXNlclN0b3JlLnNldChyZXNwLmRhdGEudXNlcik7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oXCJkYXNoYm9hcmRcIik7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkxvZ2luIHN1Y2Nlc3NcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlcnIuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZm9yZ290UGFzcyA9IChpc1ZhbGlkLCBmb3JtRGF0YSkgPT4ge1xyXG4gICAgICBpZiAoZm9ybURhdGEgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwicGxlYXNlIFZhbGlkIG1haWwgSWRcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBmb3JtRGF0YTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAuZm9yZ290UGFzc3dvcmQoZGF0YSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAkKFwiI2ZvcmdvdFBhc3NNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlcnIuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnJlZ2lzdGVyID0gKGlzVmFsaWQsIGZvcm1EYXRhKSA9PiB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAucmVnaXN0cmF0aW9uKGZvcm1EYXRhKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgJChcIiNyZWdpc3Rlck1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgJChcIiNyZWdpc3Rlck1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlcnIuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uc3Vic2NyaWJlID0gZW1haWwgPT4ge1xyXG4gICAgICBsZXQgZW1haWxSZWdleCA9IC9eXFx3KyhbXFwuLV0/XFx3KykqQFxcdysoW1xcLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC87XHJcbiAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGVtYWlsKSkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIkludmFsaWQgZW1haWxcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuc3Vic2NyaWJlKHsgZW1haWw6IGVtYWlsIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5zdWJzY3JpYmVFbWFpbCA9IFwiXCI7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlcnIuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG4gIChmdW5jdGlvbigkKSB7XHJcbiAgICAkKHdpbmRvdykub24oXCJsb2FkXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAkKFwiI3JlZ2lzdGVyTW9kYWwgLm1vZGFsLWJvZHlcIikubUN1c3RvbVNjcm9sbGJhcih7XHJcbiAgICAgICAgc2V0SGVpZ2h0OiAzNDAsXHJcbiAgICAgICAgdGhlbWU6IFwibWluaW1hbC1kYXJrXCJcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwicHJvamVjdEN0cmxcIiwgcHJvamVjdEN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBwcm9qZWN0Q3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFscyxcclxuICAgIE5nTWFwXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG5cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuXHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG5cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG5cclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmxpc3RBbGxQcm9qZWN0cygpXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInJlcG9ydERldGFpbEN0cmxcIiwgcmVwb3J0RGV0YWlsQ3RybCk7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVwb3J0RGV0YWlsQ3RybChcclxuICAgICAgICAkc2NvcGUsXHJcbiAgICAgICAgJHRpbWVvdXQsXHJcbiAgICAgICAgYXV0aEZhY3RvcnksXHJcbiAgICAgICAgJHN0YXRlLFxyXG4gICAgICAgIGFwaUZhY3RvcnksXHJcbiAgICAgICAgTm90aWZpY2F0aW9uLFxyXG4gICAgICAgIE5nTWFwLFxyXG4gICAgICAgIGdsb2JhbHMsXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHZtID0gdGhpcztcclxuICAgICAgICAkc2NvcGUuaW1hZ2UxPVwiLi4vYXNzZXRzL2ltYWdlcy9yZXBvcnRpbWdzL3JlcC5qcGdcIjtcclxuICAgICAgICAkc2NvcGUuaW1hZ2UyPVwiLi4vYXNzZXRzL2ltYWdlcy9yZXBvcnRpbWdzL2ZpbGUuanBnXCI7XHJcbiAgICAgICAgY29uc3QgeyBsb2dvdXQgfSA9IGdsb2JhbHM7XHJcbiAgICAgICAgJHNjb3BlLnJlcG9ydE9iaj17fTtcclxuICAgICAgICAkc2NvcGUuc2h3Q29tbWVudFNlY3Rpb249ZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlPXt9O1xyXG4gICAgICAgICRzY29wZS5pc3N1ZVRvQWRkPVtdO1xyXG4gICAgICAgICRzY29wZS5tb2RlbHMgPSB7XHJcbiAgICAgICAgICBzZWxlY3RlZDogbnVsbCxcclxuICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuZXhwb3J0VG9QZGYgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgaW1nLnNyYz1cIi4uL2Fzc2V0cy9pbWFnZXMvcmVwb3J0aW1ncy9yZXAuanBnXCI7XHJcbiAgICAgICAgICB2YXIgaW1nMSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgaW1nMS5zcmM9XCIuLi9hc3NldHMvaW1hZ2VzL3JlcG9ydGltZ3MvZmlsZS5qcGdcIjtcclxuICAgICAgICB2YXIgZG9jID0gbmV3IGpzUERGKCdwJyk7XHJcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7ICdiYWNrZ3JvdW5kJzogJyNmZmYnIH07XHJcbiAgICAgICAgZG9jLmFkZEltYWdlKGltZywgJ3BuZycsIDE1LCAyMCwgOTAsIDkwKTtcclxuICAgICAgICBkb2MuYWRkSW1hZ2UoaW1nMSwncG5nJywxMTAsMjAsOTAsOTApO1xyXG4gICAgICBcclxuICAgICAgZG9jLmF1dG9UYWJsZSh7XHJcbiAgICAgICAgaHRtbDogJyNzdGF0aWN0YWJsZScsXHJcbiAgICAgICAgXHJcbiAgICAgICAgbWFyZ2luOiB7dG9wOiAxMjB9LFxyXG4gICAgICAgIHBhZ2VCcmVhazogJ2F1dG8nLCAvLyAnYXV0bycsICdhdm9pZCcgb3IgJ2Fsd2F5cydcclxuICAgICAgICB0YWJsZVdpZHRoOiAnYXV0bycsIC8vICdhdXRvJywgJ3dyYXAnIG9yIGEgbnVtYmVyLFxyXG4gICAgICAgIHNob3dIZWFkZXI6ICdldmVyeVBhZ2UnLCAvLyAnZXZlcnlQYWdlJywgJ2ZpcnN0UGFnZScsICduZXZlcicsIFxyXG4gICAgICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jLnNldEZvbnRTaXplKDI1KTtcclxuICAgICAgICBkb2MudGV4dCgyMCwgMTUwLCAnQ29tbWVudHMnKTtcclxuICAgICAgICBkb2Muc2V0Rm9udFNpemUoMTApO1xyXG4gICAgICAgIGRvYy5zZXRGb250KFwiaGVsdmV0aWNhXCIpO1xyXG4gICAgICAgXHJcbiAgICAgICAgZG9jLnRleHQoMjAsIDE2MCwgJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvcicpO1xyXG4gICAgICAgIGRvYy50ZXh0KDIwLDE3MCwnaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS4gVXQgZW5pbSBhZCBtaW5pbSB2ZW5pYW0sIHF1aXMgbm9zdHJ1ZCBleGVyY2l0YXRpb24gdWxsYW1jbycpO1xyXG4gICAgICAgIC8vIGRvYy5hZGRIVE1MKCQoJyNwZGZpZDEnKVswXSwxNSwxNSwgb3B0aW9ucywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZG9jLnRleHQoMjAsMTgwLCcgbGFib3JpcyBuaXNpIHV0IGFsaXF1aXAgZXggZWEgY29tbW9kbyBjb25zZXF1YXQuJyk7XHJcbiAgICAgICAgLy8gICBkb2MuYXV0b1RhYmxlKHtcclxuICAgICAgICAvLyAgICAgaGVhZDogW1snTmFtZScsICdFbWFpbCcsICdDb3VudHJ5J11dLFxyXG4gICAgICAgIC8vICAgICBib2R5OiBbXHJcbiAgICAgICAgLy8gICAgICAgICBbJ0RhdmlkJywgJ2RhdmlkQGV4YW1wbGUuY29tJywgJ1N3ZWRlbiddLFxyXG4gICAgICAgIC8vICAgICAgICAgWydDYXN0aWxsZScsICdjYXN0aWxsZUBleGFtcGxlLmNvbScsICdOb3J3YXknXSxcclxuICAgICAgICAvLyAgICAgICAgIC8vIC4uLlxyXG4gICAgICAgIC8vICAgICBdXHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICBkb2Muc2F2ZShcImNvbHVtbjgucGRmXCIpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgXHJcbiAgICAgICAgICAvLyB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICAgIC8vICAgcGFnZXNwbGl0OiB0cnVlIC8vaW5jbHVkZSB0aGlzIGluIHlvdXIgY29kZVxyXG4gICAgICAgICAgLy8gfTtcclxuICAgICAgICAgIC8vIHZhciBkb2MgPSBuZXcganNQREYoJ3AnLCAncHQnLCAnYTQnKVxyXG4gICAgICAgICAgLy8gZG9jLmFkZEhUTUwoJCgnI3BkZmlkJyksb3B0aW9ucywge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIC8vICAgJ2JhY2tncm91bmQnOiAnI2ZmZicsXHJcbiAgICAgICAgICAvLyB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIC8vICAgZG9jLnNhdmUoJ3NhbXBsZS1maWxlLnBkZicpO1xyXG4gICAgICAgICAgLy8gfSk7XHJcbiAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogUHJvamVjdCBwaWNrZXIgbG9hZCBmdW5jdGlvbmFsaXR5ICovXHJcblxyXG4gICAgICAgICAgICBsZXQgZW5hYmxlZCA9IHRydWUsXHJcbiAgICAgICAgICAgIGNodW5rU2l6ZSA9IDU7XHJcbiAgICAgICAgICAgIHZtLmlzc3VlU2VhcmNoID0gXCJcIjtcclxuICAgICAgICAgICAgdm0uZW5hYmxlTGF6eUxvYWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdm0uc29ydFBhcmFtcyA9IHtcclxuICAgICAgICAgICAgZmllbGQ6IFwiY3JlYXRlZFwiLFxyXG4gICAgICAgICAgICB0eXBlOiBmYWxzZVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gJHNjb3BlLm9wZW5SZXBvcnRQaWNrID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyAgIHZtLmVuYWJsZUxhenlMb2FkID0gdHJ1ZTtcclxuICAgICAgICAvLyAgIGFwaUZhY3RvcnlcclxuICAgICAgICAvLyAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgIC8vICAgICAgIHNlYXJjaDogdm0uaXNzdWVTZWFyY2gsXHJcbiAgICAgICAgLy8gICAgICAgY2h1bms6IGNodW5rU2l6ZSxcclxuICAgICAgICAvLyAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgIC8vICAgICAgIHNvcnQ6IHZtLnNvcnRQYXJhbXMuZmllbGQsXHJcbiAgICAgICAgLy8gICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAvLyAgICAgICB2bS5pc3N1ZVBpY2tlckRhdGEgPSByZXNwLmRhdGEubGlzdDtcclxuICAgIFxyXG4gICAgICAgIC8vICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgIC8vIE9wZW4gaW4gdGhlIG5leHQgZXZlbnQgbG9vcFxyXG4gICAgICAgIC8vICAgICAgICAgJChcIiNjaG9vc2VJc3N1ZU1vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICAvLyAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgIFxyXG4gICAgICAgICRzY29wZS5vcGVuUmVwb3J0UGlja2VyID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBcclxuICAgICAgICAgIHZtLmVuYWJsZUxhenlMb2FkID0gdHJ1ZTtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgICAgICAgIHNlYXJjaDogdm0uaXNzdWVTZWFyY2gsXHJcbiAgICAgICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcclxuICAgICAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgICAgIHNvcnQ6IHZtLnNvcnRQYXJhbXMuZmllbGQsXHJcbiAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHZtLmlzc3VlUGlja2VyRGF0YT1bXTtcclxuICAgICAgICAgICAgICBpZigkc2NvcGUuaXNzdWVUb0FkZC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNzdWVUb0FkZC5mb3JFYWNoKGVsZW1lbnQ9PntcclxuICAgICAgICAgICAgICAgIHJlc3AuZGF0YS5saXN0LmZvckVhY2goKHJlc2RhdGEsaW5kZXgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5faWQ9PXJlc2RhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVzcC5kYXRhLmxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFsc2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBPcGVuIGluIHRoZSBuZXh0IGV2ZW50IGxvb3BcclxuICAgICAgICAgICAgICAgIHZtLmlzc3VlUGlja2VyRGF0YSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgJChcIiNsaXN0aXNzdWVzbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgJChcIiNjaG9vc2VJc3N1ZU1vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5FZGl0TW9kZT1mYWxzZTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJChcIiNjaG9vc2VJc3N1ZU1vZGFsXCIpLm9uKFwiaGlkZS5icy5tb2RhbFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZtLmVuYWJsZUxhenlMb2FkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZtLmNsb3NlSXNzdWVQaWNrZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAkKFwiI2Nob29zZUlzc3VlTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgdm0uaXNzdWVTZWFyY2ggPSBcIlwiO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5hZGRNb3JlID0gKCkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJjYWxsaW5nIGFkZCBtb3JlXCIpO1xyXG4gICAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgIGNodW5rU2l6ZSArPSA1O1xyXG4gICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoOiB2bS5pc3N1ZVNlYXJjaCxcclxuICAgICAgICAgICAgICAgIGNodW5rOiBjaHVua1NpemUsXHJcbiAgICAgICAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgICAgICAgc29ydDogdm0uc29ydFBhcmFtcy5maWVsZCxcclxuICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS5zb3J0UGFyYW1zLnR5cGVcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIHZtLmlzc3VlUGlja2VyRGF0YSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgdm0uaXNzdWVQaWNrZXJEYXRhPVtdO1xyXG4gICAgICAgICAgICAgIGlmKCRzY29wZS5pc3N1ZVRvQWRkLmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNzdWVUb0FkZC5mb3JFYWNoKGVsZW1lbnQ9PntcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICByZXNwLmRhdGEubGlzdC5mb3JFYWNoKChyZXNkYXRhLGluZGV4KT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuX2lkPT1yZXNkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXNwLmRhdGEubGlzdC5zcGxpY2UoaW5kZXgsMSlcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIE9wZW4gaW4gdGhlIG5leHQgZXZlbnQgbG9vcFxyXG4gICAgICAgICAgICAgICAgdm0uaXNzdWVQaWNrZXJEYXRhID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgIC8qIEZ1bmN0aW9uIHRvIHNlYXJjaCBwcm9qZWN0cyAqL1xyXG4gICAgdm0uc2VhcmNoSXNzdWVzID0gdGV4dCA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwic2VyY2h0ZXh0XCIsIHRleHQpO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgICAgc2VhcmNoOiB2bS5pc3N1ZVNlYXJjaCxcclxuICAgICAgICAgIGNodW5rOiBjaHVua1NpemUsXHJcbiAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgc29ydDogdm0uc29ydFBhcmFtcy5maWVsZCxcclxuICAgICAgICAgIHNvcnRUeXBlOiB2bS5zb3J0UGFyYW1zLnR5cGVcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uaXNzdWVQaWNrZXJEYXRhID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgIH07XHJcblxyXG5cclxuICAgICAgIC8vQWRkIHJlbWFyayBidXR0b24gaW4gcmVwb3J0LXJlbWFya3MgcGFnZSBmb3JtXHJcbiAgICAgICAkc2NvcGUucmVtYXJrRGF0YT1bXTtcclxuICAgICAgICRzY29wZS5hZGRSZW1hcmsgPSBmdW5jdGlvbih0aXRsZSx2YWx1ZSl7XHJcbiAgICAgICAgaWYodGl0bGUhPXVuZGVmaW5lZHx8dmFsdWUhPXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAkc2NvcGUucmVtYXJrRGF0YS5wdXNoKHtUaXRsZTp0aXRsZSwgVmFsdWU6dmFsdWV9KTtcclxuICAgICAgICAgICQoJyNyZW1hcmt0aXRsZScpLnZhbChcIlwiKTtcclxuICAgICAgICAgICQoJyNyZW1hcmt2YWx1ZScpLnZhbChcIlwiKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgIH0sXHJcblxyXG4gICAgICAgdm0uY2hvb3NlSXNzdWVzID0gZnVuY3Rpb24oaXNzdWUsaW5kZXgsYXJyYXkpe1xyXG4gICAgICAgIC8vJHNjb3BlLmN1cnJlbnRSZXBvcnQ9e307XHJcbiAgICAgICAgIGlmKGlzc3VlKXtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaVNTVUVcIixpc3N1ZSk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImluZGV4XCIsaW5kZXgpO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJBUlJBWVwiLGFycmF5KTtcclxuICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAkc2NvcGUuaXNzdWVUb0FkZC5wdXNoKGlzc3VlKTtcclxuICAgICAgICAgICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAkKFwiI2xpc3Rpc3N1ZXNtb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJObyBzZWxlY3Rpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgfVxyXG5cclxuICAgICAgICBcclxuICAgICAgIHZtLmFkZFRvTGlzdElzc3VlUGlja2VyID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAkKFwiI2Nob29zZUlzc3VlTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICQoXCIjbGlzdGlzc3Vlc21vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAkc2NvcGUuc2VuZElzc3VlVG9QZGYgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICQoXCIjbGlzdGlzc3Vlc21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAkc2NvcGUuc2h3Q29tbWVudFNlY3Rpb249dHJ1ZTtcclxuICAgICAgIH1cclxuICAgICAgLy8gdm0uY2hvb3NlSXNzdWVzID0gZnVuY3Rpb24oaXNzdWUpe1xyXG4gICAgICAvLyAgICRzY29wZS5jdXJyZW50UmVwb3J0PXt9O1xyXG4gICAgICAvLyAgIGlmKGlzc3VlKXtcclxuICAgICAgLy8gICAgIHZhciBwYXJlbnRFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLnBhbmVsJyApICk7XHJcbiAgICAgIC8vICAgICB2YXIgdG9iZUNsb25lZEVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcuY2hpbGQnICkgKTtcclxuICAgICAgLy8gICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kKHRvYmVDbG9uZWRFbGVtZW50LmNsb25lKCkpO1xyXG4gICAgICAvLyAgICAgJHNjb3BlLmlzc3VlVG9BZGQucHVzaChpc3N1ZSk7XHJcbiAgICAgIC8vICAgIC8vICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIC8vICAgIGlmKCRzY29wZS5pc3N1ZVRvQWRkLmxlbmd0aD49MCl7XHJcbiAgICAgIC8vICAgICAkc2NvcGUuaXNzdWVUb0FkZC5mb3JFYWNoKG9uZWlzc3VlID0+IHtcclxuICAgICAgLy8gICAgICAgaWYoXy5pc0VxdWFsKG9uZWlzc3VlLCBpc3N1ZSkpe1xyXG4gICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiZXF1YWxcIik7XHJcbiAgICAgIC8vICAgICAgICAgJHNjb3BlLmN1cnJlbnRSZXBvcnQ9aXNzdWU7XHJcbiAgICAgIC8vICAgICAgIH1lbHNle1xyXG4gICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwibm90IGVxdWFsXCIpO1xyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgIC8vICAgICB9KTtcclxuICAgICAgLy8gICAgfVxyXG4gICAgICAgICBcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vICAgZWxzZXtcclxuICAgICAgLy8gICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIk5vIHNlbGVjdGlvblwiKTtcclxuICAgICAgLy8gICB9XHJcbiAgICAgICAgXHJcbiAgICAgIC8vICB9XHJcbiAgICAvL0xvYWQgTW9kYWxzXHJcbiAgICAgICRzY29wZS5jb3ZlclBhZ2VNb2RhbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJChcIiNjb3ZlcnBhZ2Vtb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLmFib3V0VXNNb2RhbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJChcIiNhYm91dHVzbW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5wcm9qZWN0TWV0YU1vZGFsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAkKFwiI3Byb2plY3RtZXRhbW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5yZXBvcnRyZW1hcmtNb2RhbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJChcIiNyZXBvcnRyZW1hcmttb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgIH1cclxuICAgICAgLy9uZXcgaXNzdWUgbGlzdGluZyBtb2RlbFxyXG4gICAgICAkc2NvcGUubGlzdElzc3VlTW9kZWxDbGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJChcIiNsaXN0aXNzdWVzbW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL3NldCBvYmplY3QgZm9yIG1vZGFsc1xyXG4gICAgICAkc2NvcGUuc2V0UmVwb3J0T2JqID0gZnVuY3Rpb24ob2JqZWN0KXtcclxuICAgICAgICBjb25zb2xlLmxvZyhvYmplY3QpO1xyXG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS50aXRsZSA9IG9iamVjdC50aXRsZTtcclxuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUuZGVzY3JpcHRpb24gPSBvYmplY3QuZGVzY3JpcHRpb247XHJcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLmNvbXBhbnlOYW1lID0gb2JqZWN0LmNvbXBhbnlOYW1lO1xyXG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5lbWFpbCA9IG9iamVjdC5lbWFpbDtcclxuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUud2Vic2l0ZSA9IG9iamVjdC53ZWJzaXRlO1xyXG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5waG9uZSA9IG9iamVjdC5waG9uZTtcclxuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUucHJvamVjdE5hbWUgPSBvYmplY3QucHJvamVjdE5hbWU7XHJcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLnNlcmlhbE5vID0gb2JqZWN0LnNlcmlhbE5vO1xyXG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5lbnRlcnByaXNlID0gb2JqZWN0LmVudGVycHJpc2U7XHJcbiAgICAgICAgaWYoJHNjb3BlLmlzc3VlVG9BZGQubGVuZ3RoPjApe1xyXG4gICAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLmlzc3VlVG9BZGQgPSAkc2NvcGUuaXNzdWVUb0FkZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoJHNjb3BlLnJlbWFya0RhdGEubGVuZ3RoPjApe1xyXG4gICAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLnJlbWFya0RhdGE9JHNjb3BlLnJlbWFya0RhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5hdXRob3JOYW1lPW9iamVjdC5hdXRob3JOYW1lO1xyXG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5yZW1hcmtEYXRlPW9iamVjdC5yZW1hcmtEYXRlO1xyXG5cclxuICAgICAgICAkKFwiI2NvdmVycGFnZW1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAkKFwiI2Fib3V0dXNtb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgJChcIiNwcm9qZWN0bWV0YW1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAkKFwiI3JlcG9ydHJlbWFya21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAkKFwiI2Nob29zZUlzc3VlTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpOyBcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLkVkaXRNb2RlPWZhbHNlO1xyXG4gICAgICAkc2NvcGUuRWRpdElzc3VlRGF0YT1mdW5jdGlvbigpe1xyXG4gICAgICAgICRzY29wZS5FZGl0TW9kZT10cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUucmVtb3ZlRnJvbUlzc3VlTGlzdD1mdW5jdGlvbihpbmRleCxhcnJheSl7XHJcbiAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuaXNzdWVUb0FkZCk7IFxyXG4gICAgICB9XHJcbiAgICAgXHJcbiAgICAgXHJcbiAgICAgXHJcbiAgICB9XHJcbn0pKCk7IiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJyZXBvcnRzQ3RybFwiLCByZXBvcnRzQ3RybCk7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVwb3J0c0N0cmwoXHJcbiAgICAgICAgJHNjb3BlLFxyXG4gICAgICAgICR0aW1lb3V0LFxyXG4gICAgICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgICAgICRzdGF0ZSxcclxuICAgICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICAgIE5vdGlmaWNhdGlvbixcclxuICAgICAgICBOZ01hcCxcclxuICAgICAgICBnbG9iYWxzLFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICAgXHJcbiAgICAgICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5jdXJyZW50VXNlciA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwidXNlckRhdGFcIilcclxuICAgICAgICBcclxuICAgICAgICAkc2NvcGUucmVwb3J0Q2F0ZWdvcnkgPSBbJ2lzc3VlUmVwb3J0JywgJ3NhZmV0eVJlcG9ydCcsICdxYVJlcG9ydCddO1xyXG4gICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbFVzZXJzKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLmFsbEFkbWluVXNlcnMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmxpc3RBbGxQcm9qZWN0cygpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5wcm9qZWN0TGlzdCA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgIC8qIEluaXRpYWxseSBsb2FkIHRoZSBmaXJzdCBwcm9qZWN0IGFzIGRlZmF1bHQgKi9cclxuICAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIChmdW5jdGlvbigkKSB7XHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICQoXCIjcmVwb3J0TW9kYWwgLm1vZGFsLWJvZHlcIikubUN1c3RvbVNjcm9sbGJhcih7XHJcbiAgICAgICAgICAgIHNldEhlaWdodDogMzQwLFxyXG4gICAgICAgICAgICB0aGVtZTogXCJtaW5pbWFsLWRhcmtcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxufSkoKTsiLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJyZXBvcnRzTGlzdGluZ0N0cmxcIiwgcmVwb3J0c0xpc3RpbmdDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gcmVwb3J0c0xpc3RpbmdDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBnbG9iYWxzXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7IGxvZ291dCgpOyB9O1xyXG5cclxuXHJcbiAgICB2YXIgdXJsID0gJGxvY2F0aW9uLnBhdGgoKTtcclxuICAgIFxyXG4gICAgaWYgKHVybCA9PSAnL3BheXJvbGwnKSB7XHJcbiAgICAgICQoJy5wYXlyb2xsTWVudScpLmNzcygnZGlzcGxheScsICdibG9jayAhaW1wb3J0YW50Jyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgJCgnLnBheXJvbGxMaXN0JykuRGF0YVRhYmxlKCk7XHJcbiAgICBcclxuICAgIFxyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwic2V0UGFzc3dvcmRDdHJsXCIsIHNldFBhc3N3b3JkQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIHNldFBhc3N3b3JkQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFsc1xyXG4gICkge1xyXG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgY29uc3QgeyB0b2tlbiB9ID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xyXG5cclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmlzVG9rZW5WYWxpZCh7IHRva2VuIH0pXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YSk7XHJcbiAgICAgICAgaWYgKHJlc3AuZGF0YS50b2tlblZhbGlkKSB7XHJcbiAgICAgICAgICB2bS51c2VyID0gcmVzcC5kYXRhLnVzZXI7XHJcbiAgICAgICAgICAkKFwiLmZvcmdvdFBhc3NNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQoXCIudG9rZW5JbnZhbGlkXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdm0ucmVzZXRQYXNzID0gKGlzVmFsaWQsIGRhdGEpID0+IHtcclxuICAgICAgJChcIi5mb3Jnb3RQYXNzTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBpZiAodm0ucmVzZXRQYXNzLnBhc3N3b3JkID09PSB2bS5yZXNldFBhc3MuY19wYXNzd29yZCkge1xyXG4gICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgcGFzc3dvcmQ6IHZtLnJlc2V0UGFzcy5wYXNzd29yZCxcclxuICAgICAgICAgIHVzZXI6IHZtLnVzZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5zZXRQYXNzd29yZChkYXRhKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKFwicHJlTG9naW5cIik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBhc3N3b3JkIE1pc21hdGNoLCBQbGVhc2UgZW50ZXIgc2FtZSBwYXNzd29yZFwiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZtLmJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICQoXCIudG9rZW5JbnZhbGlkXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICRzdGF0ZS5nbyhcInByZUxvZ2luXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJzZXR0aW5nQ3RybFwiLCBzZXR0aW5nQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIHNldHRpbmdDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgIGFwaUZhY3RvcnksXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgVXBsb2FkXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG5cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCBjb21wYW55U3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICBpZiAoY29tcGFueVN0b3JlLmdldCgpKSB7XHJcbiAgICAgIHZtLmNvbXBhbnlEYXRhID0gY29tcGFueVN0b3JlLmdldCgpO1xyXG4gICAgICB2bS5wcml2aWxlZ2VzID0gdm0uY29tcGFueURhdGEucHJpdmlsZWdlcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0Q29tcGFueUJ5SWQodm0udXNlckRhdGEuY29tcGFueUlkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uY29tcGFueURhdGEgPSByZXNwLmRhdGE7XHJcbiAgICAgICAgICB2bS5wcml2aWxlZ2VzID0gdm0uY29tcGFueURhdGEucHJpdmlsZWdlcztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHZtLnN1Ym1pdFJvbGVTZXR0aW5ncyA9IGZvcm1EYXRhID0+IHtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC51cGRhdGVSb2xlQmFzZWRBY2Nlc3MoZm9ybURhdGEpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBjb21wYW55U3RvcmUucmVmZXRjaCh2bS51c2VyRGF0YS5jb21wYW55SWQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZ29Ub0Rhc2hib2FyZCA9ICgpID0+IHtcclxuICAgICAgJHN0YXRlLmdvKFwiZGFzaGJvYXJkXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwic3ViY29udHJhY3RvckN0cmxcIiwgc3ViY29udHJhY3RvckN0cmwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHN1YmNvbnRyYWN0b3JDdHJsKFxyXG4gICAgICAgICRzY29wZSxcclxuICAgICAgICAkdGltZW91dCxcclxuICAgICAgICBhdXRoRmFjdG9yeSxcclxuICAgICAgICAkc3RhdGUsXHJcbiAgICAgICAgYXBpRmFjdG9yeSxcclxuICAgICAgICBOb3RpZmljYXRpb24sXHJcbiAgICAgICAgTmdNYXAsXHJcbiAgICAgICAgZ2xvYmFscyxcclxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgICApIHtcclxuICAgICAgICBsZXQgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICB2bS5zZWxlY3RlZE1hdGVyaWFscz1bXTtcclxuICAgICAgICB2bS5tZW1iZXJzMj1bXTtcclxuICAgICAgICBjb25zdCB7IGxvZ291dCxkZWJvdW5jZSwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvKipHZXQgYWxsIHN1cHBsaWVyc2RhdGEgKi9cclxuICAgICAgICAgIHZtLmdldFN1YmNvbnRyYWN0b3JzID0gKHR5cGUpID0+IHtcclxuICAgICAgICAgICAgLyogRm9yIHRvZ2dsaW5nIGFzY2VuZGluZyBhbmQgZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAuZ2V0QWxsU3ViY29udHJhY3RvcnMoe1xyXG4gICAgICAgICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAgIC8vIHNlYXJjaDogdm0uc2VhcmNoVGV4dCxcclxuICAgICAgICAgICAgICAgLy8gc29ydFR5cGU6IHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV1cclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gdm1bcmVzb3VyY2VdPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICAgIC8vIHZtW3Jlc291cmNlICsgXCJDb3VudFwiXSA9IHJlc3AuZGF0YS50b3RhbDtcclxuICAgICAgICAgICAgICAgIHZtLmFsbFN1YmNvbnRyYWN0b3IgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICAgIHZtLnN1YmNvbnRyYWN0b3JzQ291bnQgPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1cHBsaWVycyBhcmU6XCIsdm0uYWxsU3ViY29udHJhY3Rvcik7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLnNlYXJjaGluZ1RleHQ9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAkKFwiI3BhZ2luYXRpb25cIikucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHZtLnN1YmNvbnRyYWN0b3JzQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldEFsbFN1YmNvbnRyYWN0b3JzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzb3J0OiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbdHlwZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uYWxsU3ViY29udHJhY3RvciA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIC8qIEluaXRpYWxseSBzb3J0IGlzc3VlIGluIGRlc2NlbmRpbmcgb3JkZXIgKi9cclxuICAgICAgICAgdm0uZ2V0U3ViY29udHJhY3RvcnMoXCJjcmVhdGVkXCIpO1xyXG5cclxuICAgICAgICAgLy9uZXh0IGFuZCBwcmV2aW91cyBidXR0b24gZnVuY3Rpb25zXHJcbiAgICAgICAgIHZtLmFkZFN1YmNvbnRyYWN0b3JOZXh0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgaWYoJCgnI2hvbWUnKS5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImhvbWVcIik7XHJcbiAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAkKCcjcHJvZmlsZS10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICB9ZWxzZSBpZigkKCcjcHJvZmlsZS10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInByb2ZpbGVcIik7XHJcbiAgICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoJyNjb250YWN0LXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgICQoJyNjb250YWN0JykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgIFxyXG4gICAgICAgIH07XHJcbiAgICAgICBcclxuXHJcbiAgICAgICAgdm0uYWRkU3ViY29udHJhY3RvclByZXZpb3VzPSgpPT57XHJcbiAgICAgICAgICBpZigkKCcjcHJvZmlsZS10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImhvbWVcIik7XHJcbiAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgJCgnI2hvbWUnKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgJCgnI2hvbWUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIH1lbHNlIGlmKCQoJyNjb250YWN0LXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcclxuICAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJCgnI3Byb2ZpbGUtdGFiJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoJyNjb250YWN0JykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvL2RlbGV0ZSBtYXRlcmlhbCBmcm9tIGxpc3RcclxuICAgICAgICAkc2NvcGUuZGVsZXRlTWF0ZXJpYWwgPSBmdW5jdGlvbihpbmRleCxhcnJheSl7XHJcbiAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAkc2NvcGUuZGVsZXRlU3RhZmYgPSBmdW5jdGlvbihpbmRleCxhcnJheSl7XHJcbiAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqSW5zZXJ0IGZ1bmN0aW9ucyAqL1xyXG4gICAgICAgICAvKipJbnNlcnQgU3VwcGxpZXIgZnVuY3Rpb25zICovXHJcbiAgICAgICAgICRzY29wZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIChmaWxlcykge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZihmaWxlc1swXSA9PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgICAgICRzY29wZS5GSUxFSU1HID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlc1swXSk7XHJcbiAgICAgICAgICAkc2NvcGUuZmlsZUV4dCA9IGZpbGVzWzBdLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdsb2JhbHMuZ2V0Q291bnRyeUNvZGUoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uZ2V0Q291bnRyeUNvZGUgPSByZXNwLmRhdGE7XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgdm0ubG9hZENvdW50cnlDb2RlID0gJHF1ZXJ5ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICByZXNvbHZlKHJlc3AuZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsTWF0ZXJpYWxzKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLmFsbE1hdGVyaWFscyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsID0gZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICB2bS5zZWxlY3RlZE1hdGVyaWFscy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdm0uYWRkTWVtYmVyID0gZnVuY3Rpb24obmFtZSl7XHJcbiAgICAgICAgICB2bS5tZW1iZXJzMi5wdXNoKG5hbWUpO1xyXG4gICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAkc2NvcGUuY3JlYXRlU3ViY29udHJhY3RvciA9IGZ1bmN0aW9uKHN1YmNvbnRyYWN0b3Ipe1xyXG4gICAgICAgICAgc3ViY29udHJhY3Rvci5zdXBwbGllcz1bXTtzdWJjb250cmFjdG9yLnN0YWZmPVtdO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJzdWJjb250cmFjdG9yXCIsc3ViY29udHJhY3Rvcik7XHJcbiAgICAgICAgICBpZih2bS5zZWxlY3RlZE1hdGVyaWFscy5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgIHZtLnNlbGVjdGVkTWF0ZXJpYWxzLmZvckVhY2goZWxlbWVudD0+e1xyXG4gICAgICAgICAgICAgIHN1YmNvbnRyYWN0b3Iuc3VwcGxpZXMucHVzaChlbGVtZW50Ll9pZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYodm0ubWVtYmVyczIubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICB2bS5tZW1iZXJzMi5mb3JFYWNoKGVsZW1lbnQ9PntcclxuICAgICAgICAgICAgICBzdWJjb250cmFjdG9yLnN0YWZmLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJzdWJjb250cmFjdG9yXCIsc3ViY29udHJhY3Rvcik7XHJcbiAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAuY3JlYXRlTmV3U3ViY29udHJhY3RvcihzdWJjb250cmFjdG9yKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiU3ViLWNvbnRyYWN0b3IgaGFzIGJlZW4gc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgICB2bS5zdXBwbGllcj17fTtcclxuICAgICAgICAgICAgdm0uc2VsZWN0ZWRNYXRlcmlhbHM9W107XHJcbiAgICAgICAgICAgIHZtLm1hbWJlcnMyPVtdO1xyXG4gICAgICAgICAgICAkc2NvcGUuaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICBzdWJjb250cmFjdG9yLnN1cHBsaWVzPVtdO1xyXG4gICAgICAgICAgICBzdWJjb250cmFjdG9yLnN0YWZmPVtdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJCgnI3N1Yi1jb250cmFjdG9yX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgdm0uZ2V0U3ViY29udHJhY3RvcnMoXCJjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIC8vIHZtLnN1cHBsaWVyPXt9O1xyXG4gICAgICAgICAgICAvLyB2bS5zZWxlY3RlZE1hdGVyaWFscz1bXTtcclxuICAgICAgICAgICAgLy8gdm0ubWFtYmVyczI9W107XHJcbiAgICAgICAgICAgIC8vICRzY29wZS5pbnB1dEZpbGVzID0gW107XHJcbiAgICAgICAgICAgIC8vIHN1cHBsaWVyLnN1cHBsaWVzPVtdO1xyXG4gICAgICAgICAgICAvLyBzdXBwbGllci5zdGFmZj1bXTtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmNvbnRyYWN0cz1bXHJcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxyXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcclxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXHJcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxyXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcclxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ31cclxuICAgICAgICBdXHJcbiAgICB9XHJcblxyXG4gICAgfSkoKTsiLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInN1YmNvbnRyYWN0b3JEZXRhaWxDdHJsXCIsIHN1YmNvbnRyYWN0b3JEZXRhaWxDdHJsKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzdWJjb250cmFjdG9yRGV0YWlsQ3RybChcclxuICAgICAgICAkc2NvcGUsXHJcbiAgICAgICAgJHRpbWVvdXQsXHJcbiAgICAgICAgYXV0aEZhY3RvcnksXHJcbiAgICAgICAgJHN0YXRlLFxyXG4gICAgICAgICRzdGF0ZVBhcmFtcyxcclxuICAgICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICAgIE5vdGlmaWNhdGlvbixcclxuICAgICAgICBOZ01hcCxcclxuICAgICAgICBnbG9iYWxzLFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgbG9nb3V0LHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcblxyXG4gIFxyXG4gICAgICAgICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2bS5zdWJjb250cmFjdG9ySWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgICAgICAkc2NvcGUuZ2V0U3ViY29udHJhY3RvckRldGFpbCA9ICgpID0+IHtcclxuICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgIC5nZXRTdWJjb250cmFjdG9yQnlJZCh2bS5zdWJjb250cmFjdG9ySWQpXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJjb250cmFjdG9yRGF0YSA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5nZXRTdWJjb250cmFjdG9yRGV0YWlsKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9KSgpOyIsIigoKSA9PiB7XHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwic3VwcGxpZXJDdHJsXCIsIHN1cHBsaWVyQ3RybCk7XHJcblxyXG4gICAgZnVuY3Rpb24gc3VwcGxpZXJDdHJsKFxyXG4gICAgICAkc2NvcGUsXHJcbiAgICAgICRyb290U2NvcGUsXHJcbiAgICAgICR0aW1lb3V0LFxyXG4gICAgICBhdXRoRmFjdG9yeSxcclxuICAgICAgJHN0YXRlLFxyXG4gICAgICBhcGlGYWN0b3J5LFxyXG4gICAgICBOb3RpZmljYXRpb24sXHJcbiAgICAgIGdsb2JhbHMsXHJcbiAgICAgIGZpbGVNYW5hZ2VyRmFjdG9yeSxcclxuICAgICAgVXBsb2FkLFxyXG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgICApIHtcclxuICAgICAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLnNlbGVjdGVkTWF0ZXJpYWxzPVtdO1xyXG4gICAgICAgIHZtLm1lbWJlcnMyPVtdO1xyXG4gICAgICAgIGNvbnN0IHsgbG9nb3V0LGRlYm91bmNlLCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICAgICAgJHNjb3BlLmFjdGl2ZUp1c3RpZmllZCA9IDA7XHJcbiAgICAgXHJcbiAgICAgICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKkdldCBhbGwgc3VwcGxpZXJzZGF0YSAqL1xyXG4gICAgICAgIHZtLmdldFN1cHBsaWVycyA9ICh0eXBlKSA9PiB7XHJcbiAgICAgICAgICAvKiBGb3IgdG9nZ2xpbmcgYXNjZW5kaW5nIGFuZCBkZXNjZW5kaW5nIG9yZGVyICovXHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgIC5nZXRBbGxTdXBwbGllcnMoe1xyXG4gICAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAvLyBzZWFyY2g6IHZtLnNlYXJjaFRleHQsXHJcbiAgICAgICAgICAgICAvLyBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAvLyB2bVtyZXNvdXJjZV09IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgIC8vIHZtW3Jlc291cmNlICsgXCJDb3VudFwiXSA9IHJlc3AuZGF0YS50b3RhbDtcclxuICAgICAgICAgICAgICB2bS5hbGxTdXBwbGllcnMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICB2bS5zdXBwaWVyc0NvdW50ID0gcmVzcC5kYXRhLnRvdGFsO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VwcGxpZXJzIGFyZTpcIix2bS5hbGxTdXBwbGllcnMpO1xyXG4gICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgLy8gJHNjb3BlLnNlYXJjaGluZ1RleHQ9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJChcIiNwYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICBpdGVtczogdm0uc3VwcGllcnNDb3VudCxcclxuICAgICAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxyXG4gICAgICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICAgICAgICBocmVmVGV4dFByZWZpeDogXCIjXCIsXHJcbiAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgICAgICAgLmdldEFsbFN1cHBsaWVycyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29ydFR5cGU6IHZtLnRvZ2dsZU9ialt0eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5hbGxTdXBwbGllcnMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyogSW5pdGlhbGx5IHNvcnQgaXNzdWUgaW4gZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICAgICAgdm0uZ2V0U3VwcGxpZXJzKFwiY3JlYXRlZFwiKTtcclxuXHJcbiAgICAgICAgLyoqSW5zZXJ0IFN1cHBsaWVyIGZ1bmN0aW9ucyAqL1xyXG4gICAgICAgICRzY29wZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIChmaWxlcykge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZihmaWxlc1swXSA9PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgICAgICRzY29wZS5GSUxFSU1HID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlc1swXSk7XHJcbiAgICAgICAgICAkc2NvcGUuZmlsZUV4dCA9IGZpbGVzWzBdLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdsb2JhbHMuZ2V0Q291bnRyeUNvZGUoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uZ2V0Q291bnRyeUNvZGUgPSByZXNwLmRhdGE7XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgdm0ubG9hZENvdW50cnlDb2RlID0gJHF1ZXJ5ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICByZXNvbHZlKHJlc3AuZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsTWF0ZXJpYWxzKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLmFsbE1hdGVyaWFscyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsID0gZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICB2bS5zZWxlY3RlZE1hdGVyaWFscy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdm0uYWRkTWVtYmVyID0gZnVuY3Rpb24obmFtZSl7XHJcbiAgICAgICAgICB2bS5tZW1iZXJzMi5wdXNoKG5hbWUpO1xyXG4gICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgXHJcblxyXG4gICAgICAgIHZtLmFkZFN1cHBsaWVyTmV4dCA9ICgpID0+IHtcclxuICAgICAgICAgIGlmKCQoJyNob21lJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJob21lXCIpO1xyXG4gICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUtdGFiJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgJCgnI2hvbWUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgJCgnI2hvbWUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfWVsc2UgaWYoJCgnI3Byb2ZpbGUtdGFiJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9maWxlXCIpO1xyXG4gICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKCcjY29udGFjdC10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoJyNjb250YWN0JykuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAkKCcjY29udGFjdCcpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2bS5hZGRTdXBwbGllclByZXZpb3VzPSgpPT57XHJcbiAgICAgICAgICBpZigkKCcjcHJvZmlsZS10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImhvbWVcIik7XHJcbiAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgJCgnI2hvbWUnKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgJCgnI2hvbWUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIH1lbHNlIGlmKCQoJyNjb250YWN0LXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcclxuICAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJCgnI3Byb2ZpbGUtdGFiJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoJyNjb250YWN0JykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgIC8vZGVsZXRlIG1hdGVyaWFsIGZyb20gbGlzdFxyXG4gICAgICAgICAkc2NvcGUuZGVsZXRlTWF0ZXJpYWwgPSBmdW5jdGlvbihpbmRleCxhcnJheSl7XHJcbiAgICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgICRzY29wZS5kZWxldGVTdGFmZiA9IGZ1bmN0aW9uKGluZGV4LGFycmF5KXtcclxuICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmNyZWF0ZVN1cHBsaWVyID0gZnVuY3Rpb24oc3VwcGxpZXIpe1xyXG4gICAgICAgICAgc3VwcGxpZXIuc3VwcGxpZXM9W107c3VwcGxpZXIuc3RhZmY9W107XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInN1cHBsaWVyXCIsc3VwcGxpZXIpO1xyXG4gICAgICAgICAgaWYodm0uc2VsZWN0ZWRNYXRlcmlhbHMubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICB2bS5zZWxlY3RlZE1hdGVyaWFscy5mb3JFYWNoKGVsZW1lbnQ9PntcclxuICAgICAgICAgICAgICBzdXBwbGllci5zdXBwbGllcy5wdXNoKGVsZW1lbnQuX2lkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZih2bS5tZW1iZXJzMi5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgIHZtLm1lbWJlcnMyLmZvckVhY2goZWxlbWVudD0+e1xyXG4gICAgICAgICAgICAgIHN1cHBsaWVyLnN0YWZmLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJzdXBwbGllclwiLHN1cHBsaWVyKTtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5jcmVhdGVOZXdTdXBwbGllcihzdXBwbGllcilcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIlN1cHBsaWVyIGhhcyBiZWVuIHNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgICAgdm0uc3VwcGxpZXI9e307XHJcbiAgICAgICAgICAgIHZtLnNlbGVjdGVkTWF0ZXJpYWxzPVtdO1xyXG4gICAgICAgICAgICB2bS5tYW1iZXJzMj1bXTtcclxuICAgICAgICAgICAgJHNjb3BlLmlucHV0RmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgc3VwcGxpZXIuc3VwcGxpZXM9W107XHJcbiAgICAgICAgICAgIHN1cHBsaWVyLnN0YWZmPVtdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJCgnI3N1cHBsaWVyX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgdm0uZ2V0U3VwcGxpZXJzKFwiY3JlYXRlZFwiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAvLyB2bS5zdXBwbGllcj17fTtcclxuICAgICAgICAgICAgLy8gdm0uc2VsZWN0ZWRNYXRlcmlhbHM9W107XHJcbiAgICAgICAgICAgIC8vIHZtLm1hbWJlcnMyPVtdO1xyXG4gICAgICAgICAgICAvLyAkc2NvcGUuaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICAvLyBzdXBwbGllci5zdXBwbGllcz1bXTtcclxuICAgICAgICAgICAgLy8gc3VwcGxpZXIuc3RhZmY9W107XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5jb250cmFjdHM9W1xyXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcclxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXHJcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxyXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcclxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXHJcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9XHJcbiAgICAgICAgXVxyXG4gICAgfVxyXG5cclxuICAgIH0pKCk7IiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJzdXBwbGllckRldGFpbEN0cmxcIiwgc3VwcGxpZXJEZXRhaWxDdHJsKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzdXBwbGllckRldGFpbEN0cmwoXHJcbiAgICAgICAgJHNjb3BlLFxyXG4gICAgICAgICR0aW1lb3V0LFxyXG4gICAgICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgICAgICRzdGF0ZSxcclxuICAgICAgICAkc3RhdGVQYXJhbXMsXHJcbiAgICAgICAgYXBpRmFjdG9yeSxcclxuICAgICAgICBOb3RpZmljYXRpb24sXHJcbiAgICAgICAgTmdNYXAsXHJcbiAgICAgICAgZ2xvYmFscyxcclxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgICApIHtcclxuICAgICAgICBsZXQgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBjb25zdCB7IGxvZ291dCx1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICAgICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG5cclxuICBcclxuICAgICAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdm0uc3VwcGxpZXJJZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgICAgICAgICRzY29wZS5nZXRTdXBwbGllckRldGFpbCA9ICgpID0+IHtcclxuICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgIC5nZXRTdXBwbGllckJ5SWQodm0uc3VwcGxpZXJJZClcclxuICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHZtLnN1cHBsaWVyRGF0YSA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5nZXRTdXBwbGllckRldGFpbCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSkoKTsiLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJ2aXN1YWxQbGFubmVyQ3RybFwiLCB2aXN1YWxQbGFubmVyQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIHZpc3VhbFBsYW5uZXJDdHJsKFxyXG4gICAgJHNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkbG9jYXRpb24sXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgY29tbW9uVlBGYWN0b3J5LFxyXG4gICAgdG9vbHNWUEZhY3RvcnksXHJcbiAgICBzaGFwZXNWUEZhY3RvcnksXHJcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgZXZlbnRzVlBGYWN0b3J5LFxyXG4gICAgbGF5ZXJzVlBGYWN0b3J5XHJcbiAgKSB7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG5cclxuICAgIC8qIERyYWcgYW5kIGRyb3AgKi9cclxuICAgIC8vIGRyYWdFbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlkaXZcIikpO1xyXG4gICAgJChcIi5kcmFnX2VsZW1lbnRcIikubW91c2Vkb3duKGZ1bmN0aW9uKCkge1xyXG4gICAgICBkcmFnRWxlbWVudChcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgLmNsb3Nlc3QoXCJkaXZcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiKVxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyYWdFbGVtZW50KGVsbW50LCBlKSB7XHJcbiAgICAgIHZhciBwb3MxID0gMCxcclxuICAgICAgICBwb3MyID0gMCxcclxuICAgICAgICBwb3MzID0gMCxcclxuICAgICAgICBwb3M0ID0gMDtcclxuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsbW50LmlkICsgXCJoZWFkZXJcIikpIHtcclxuICAgICAgICAvKiBpZiBwcmVzZW50LCB0aGUgaGVhZGVyIGlzIHdoZXJlIHlvdSBtb3ZlIHRoZSBESVYgZnJvbToqL1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICAgICAgZWxtbnQuaWQgKyBcImhlYWRlclwiXHJcbiAgICAgICAgKS5vbm1vdXNlZG93biA9IGRyYWdNb3VzZURvd247XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLyogb3RoZXJ3aXNlLCBtb3ZlIHRoZSBESVYgZnJvbSBhbnl3aGVyZSBpbnNpZGUgdGhlIERJVjoqL1xyXG4gICAgICAgIGVsbW50Lm9ubW91c2Vkb3duID0gZHJhZ01vdXNlRG93bjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gZHJhZ01vdXNlRG93bihlKSB7XHJcbiAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAvLyBnZXQgdGhlIG1vdXNlIGN1cnNvciBwb3NpdGlvbiBhdCBzdGFydHVwOlxyXG4gICAgICAgIHBvczMgPSBlLmNsaWVudFg7XHJcbiAgICAgICAgcG9zNCA9IGUuY2xpZW50WTtcclxuICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBjbG9zZURyYWdFbGVtZW50O1xyXG4gICAgICAgIC8vIGNhbGwgYSBmdW5jdGlvbiB3aGVuZXZlciB0aGUgY3Vyc29yIG1vdmVzOlxyXG4gICAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZWxlbWVudERyYWc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGVsZW1lbnREcmFnKGUpIHtcclxuICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbjpcclxuICAgICAgICBwb3MxID0gcG9zMyAtIGUuY2xpZW50WDtcclxuICAgICAgICBwb3MyID0gcG9zNCAtIGUuY2xpZW50WTtcclxuICAgICAgICBwb3MzID0gZS5jbGllbnRYO1xyXG4gICAgICAgIHBvczQgPSBlLmNsaWVudFk7XHJcbiAgICAgICAgLy8gc2V0IHRoZSBlbGVtZW50J3MgbmV3IHBvc2l0aW9uOlxyXG4gICAgICAgIGVsbW50LnN0eWxlLnRvcCA9IGVsbW50Lm9mZnNldFRvcCAtIHBvczIgKyBcInB4XCI7XHJcbiAgICAgICAgZWxtbnQuc3R5bGUubGVmdCA9IGVsbW50Lm9mZnNldExlZnQgLSBwb3MxICsgXCJweFwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjbG9zZURyYWdFbGVtZW50KCkge1xyXG4gICAgICAgIC8qIHN0b3AgbW92aW5nIHdoZW4gbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkOiovXHJcbiAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcclxuICAgICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBkcmFnIGFuZCBkcm9wIC1lbmQgKi9cclxuXHJcbiAgICAvKiBBdXRob3JpemUgdXNlciAqL1xyXG4gICAgdmFyIHVzZXJQcmVzZW50ID0gYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCk7XHJcbiAgICBpZiAoIXVzZXJQcmVzZW50KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgY29udGVudEVsZW1lbnQ6ICcjdmlzdWFsUGxhbm5lckRpYWxvZycsXHJcbiAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogZmFsc2UsXHJcbiAgICAgICAgZXNjYXBlVG9DbG9zZTogZmFsc2VcclxuICAgICAgfSk7ICovXHJcblxyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIC8vIFdhaXQgZm9yIHRoZSBkb2N1bWVudCB0byBsb2FkIGJlZm9yZSBzZXR0aW5nIHVwIHRoZSBjYW52YXMgc3RhZ2VcclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFxyXG4gICAgICAgIFByZWxvYWQgZnVuY3Rpb25hbGl0eVxyXG4gICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHZtLmhpZGVJbml0TW9kYWwgPSBmYWxzZTtcclxuXHJcbiAgICB2bS5yb29mUGxhbnMgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcInJvb2ZQbGFuc1wiKTtcclxuXHJcbiAgICB2bS5zZWxlY3RQbGFuID0gZnVuY3Rpb24ocGxhbikge1xyXG4gICAgICB2bS5zZWxlY3RlZFBsYW4gPSBwbGFuLl9pZDtcclxuICAgICAgbG9hZFBsYW5uZXIocGxhbik7XHJcbiAgICAgIHZtLmhpZGVJbml0TW9kYWwgPSB0cnVlO1xyXG4gICAgfTtcclxuICAgIHZtLnNlbGVjdFBsYW4obG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJzZWxlY3RlZFBsYW5cIikpO1xyXG4gICAgLy8gdm0uY2hvb3NlUGxhbiA9IGZ1bmN0aW9uKHBsYW5JZCkge1xyXG4gICAgLy8gICB2YXIgcGxhbiA9IHZtLnJvb2ZQbGFucy5maWx0ZXIoZnVuY3Rpb24oeCkge1xyXG4gICAgLy8gICAgIHJldHVybiB4Ll9pZCA9PT0gcGxhbklkO1xyXG4gICAgLy8gICB9KVswXTtcclxuICAgIC8vICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgLy8gICB2bS5zZWxlY3RQbGFuKHBsYW4pO1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvLyB2bS5jaG9vc2VQbGFuKGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwic2VsZWN0ZWRQbGFuXCIpKTtcclxuXHJcbiAgICB2bS5jbG9zZVZpc3VhbFBsYW5uZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAkc3RhdGUuZ28oXCJkYXNoYm9hcmRcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFxyXG4gICAgICAgRW5kIG9mIFByZWxvYWQgZnVuY3Rpb25hbGl0eVxyXG4gICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkUGxhbm5lcihyb29mUGxhbikge1xyXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcclxuICAgICAgICAgIEVzc2VudGlhbCB2YXJzXHJcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgIC8qIEhlbHBlciB2YXJzICovXHJcblxyXG4gICAgICB2YXIgbG9hZEZyb21Kc29uID0gcm9vZlBsYW4ucGxhbm5lckRhdGFcclxuICAgICAgICA/IHJvb2ZQbGFuLnBsYW5uZXJEYXRhLmluaXRpYWxpemVkXHJcbiAgICAgICAgICA/IHRydWVcclxuICAgICAgICAgIDogZmFsc2VcclxuICAgICAgICA6IGZhbHNlO1xyXG5cclxuICAgICAgLyogRXhwb3NlIHNoYXBlIHNlbGVjdGlvbiBtZXRob2RkcyAqL1xyXG5cclxuICAgICAgdmFyIHNlbGVjdGVkU2hhcGUgPSBjb21tb25WUEZhY3Rvcnkuc2VsZWN0ZWRTaGFwZSgpO1xyXG5cclxuICAgICAgLyogQ29sb3IgcGlja2VyIGNvbmZpZyAqL1xyXG5cclxuICAgICAgdmFyIGNvbG9yUGlja2VyID0gdG9vbHNWUEZhY3RvcnkuY29sb3JQaWNrZXIoKTtcclxuICAgICAgLyogbWFrZSB0aGlzIG9iamVjdCBhdmFpbGFibGUgdG8gc2hhcGUgZmFjdG9yeSBzbyBpdCBjYW4gZmV0Y2ggdGhlIHByb3BzICovXHJcbiAgICAgIHNoYXBlc1ZQRmFjdG9yeS5nZXRTaGFwZVRvb2xzKGNvbG9yUGlja2VyKTtcclxuXHJcbiAgICAgIHZtLnNoYXBlUHJvcHMgPSB7XHJcbiAgICAgICAgY29sb3JUeXBlOiBcInN0cm9rZUNvbG9yXCIsXHJcbiAgICAgICAgc3Ryb2tlQ29sb3I6IFwicmdiYSgwICwwICwgMCAsIDEpXCIsXHJcbiAgICAgICAgZmlsbENvbG9yOiBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC41NylcIixcclxuICAgICAgICBzdHJva2VXaWR0aDogMVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogQ29sb3IgUGlja2VyIE9wdGlvbnMgKi9cclxuXHJcbiAgICAgIHZtLmNwT3B0aW9ucyA9IHtcclxuICAgICAgICBzd2F0Y2g6IHRydWUsXHJcbiAgICAgICAgaW5wdXRDbGFzczogXCJoLTMwXCIsXHJcbiAgICAgICAgZm9ybWF0OiBcInJnYlwiLFxyXG4gICAgICAgIGNhc2U6IFwibG93ZXJcIixcclxuICAgICAgICBhbHBoYTogdHJ1ZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogQ29sb3IgUGlja2VyIEV2ZW50cyAqL1xyXG4gICAgICB2bS5jcEV2ZW50cyA9IHtcclxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24oYXBpLCBjb2xvciwgJGV2ZW50KSB7XHJcbiAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICBvYmouc3Ryb2tlID0gdm0uc2hhcGVQcm9wcy5zdHJva2VDb2xvcjtcclxuICAgICAgICAgIG9iai5maWxsID0gdm0uc2hhcGVQcm9wcy5maWxsQ29sb3I7XHJcbiAgICAgICAgICBjb2xvclBpY2tlci5zZXQob2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBib3VuZCB0byBuZyBjaGFuZ2Ugb2YgdGhlIHNsaWRlciAqL1xyXG4gICAgICB2bS5jaGFuZ2VTdHJva2VXaWR0aCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbG9yUGlja2VyLnNldCh7XHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogdm0uc2hhcGVQcm9wcy5zdHJva2VXaWR0aFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogRW5kIG9mIGNvbG9yIHBpY2tlciBjb25maWcgKi9cclxuXHJcbiAgICAgIC8qIENyZWF0aW5nIHRoZSBzdGFnZSAqL1xyXG5cclxuICAgICAgdmFyIHN0YWdlID0gY29tbW9uVlBGYWN0b3J5LmNyZWF0ZVN0YWdlKFxyXG4gICAgICAgIFwic3RhZ2VcIixcclxuICAgICAgICB7XHJcbiAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcclxuICAgICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcm9vZlBsYW4ucGxhbm5lckRhdGFcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8qIENoZWNrIGlmIHJvb2ZQbGFucyBoYXMgZXhpc3RpbmcgZHJhd2luZ3MgKi9cclxuXHJcbiAgICAgIHZhciBzdGFnZUV2ZW50cyA9IGV2ZW50c1ZQRmFjdG9yeS5zdGFnZUV2ZW50cyhzdGFnZSk7XHJcblxyXG4gICAgICBzdGFnZUV2ZW50cy5yZWdpc3RlcihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvKiByZWdpc3RlciBtb3VzZSBtb3ZlIGV2ZW50IGZvciBzdGFnZSAqL1xyXG4gICAgICAgIHZtLnBvaW50ZXJQb3NpdGlvbiA9IHtcclxuICAgICAgICAgIHg6IHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLngsXHJcbiAgICAgICAgICB5OiBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS55XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLyogSW5pdGlhbGl6aW5nIGRyYXcgc3RhdGUgKi9cclxuXHJcbiAgICAgIHZhciBkcmF3U3RhdGUgPSBjb21tb25WUEZhY3RvcnkuZHJhd1N0YXRlKCk7XHJcblxyXG4gICAgICAkc2NvcGUuJG9uKFwiZHJhd1N0YXRlQ2hhbmdlXCIsIGZ1bmN0aW9uKGUsIGRyYXdTdGF0ZXMpIHtcclxuICAgICAgICB2bS5jdXJyZW50RHJhd1N0YXRlID0gZHJhd1N0YXRlcztcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvKiBDcmVhdGluZyB0aGUgYmFzZSBsYXllciAqL1xyXG4gICAgICB2YXIgYmFzZUxheWVyID0gbG9hZEZyb21Kc29uXHJcbiAgICAgICAgPyBzdGFnZS5nZXRDaGlsZHJlbigpWzBdXHJcbiAgICAgICAgOiBsYXllcnNWUEZhY3RvcnkuY3JlYXRlTGF5ZXIoc3RhZ2UpO1xyXG5cclxuICAgICAgdmFyIHByb2Nlc3NTdG9yZSA9IGxheWVyc1ZQRmFjdG9yeS5pbml0aWF0ZVByb2Nlc3Moc3RhZ2UsIGJhc2VMYXllcik7XHJcblxyXG4gICAgICB2YXIgc2VsZWN0aW9uU3RvcmUgPSBjb21tb25WUEZhY3Rvcnkuc2VsZWN0aW9uU3RvcmUoKTtcclxuXHJcbiAgICAgIC8qIEluaXRpYWxpemluZyB0cmFuc2Zvcm1lciBzdG9yZSBmb3Igc2hhcGVzICovXHJcblxyXG4gICAgICB2YXIgdHJhbnNmb3JtZXJTdG9yZSA9IGNvbW1vblZQRmFjdG9yeS50cmFuc2Zvcm1lcnMoYmFzZUxheWVyKTtcclxuXHJcbiAgICAgIC8qIEFkZGluZyByb29mIHBsYW4gaW1hZ2UgdG8gdGhlIGJhc2UgbGF5ZXIgKi9cclxuXHJcbiAgICAgIC8qICBJbml0aWFsaXppbmcgY2FsaWJyYXRvciAqL1xyXG5cclxuICAgICAgdmFyIGNhbGlicmF0b3IgPSBzaGFwZXNWUEZhY3RvcnkuY2FsaWJyYXRvcihzdGFnZSwgYmFzZUxheWVyKTtcclxuXHJcbiAgICAgIHZhciBjYWxpYnJhdGlvblN0YXRlID0gY29tbW9uVlBGYWN0b3J5LmNhbGlicmF0aW9uU3RhdGUoKTtcclxuXHJcbiAgICAgIC8qIEluaXRpYWxpemluZyBtZXRyaWMgZnVuY3Rpb24gKi9cclxuXHJcbiAgICAgIHZhciBtZXRyaWNzID0gdG9vbHNWUEZhY3RvcnkubWV0cmljcygpO1xyXG5cclxuICAgICAgdm0uc2hvd1BhbmVsID0gZmFsc2U7XHJcbiAgICAgIHZtLnpvb21MZXZlbCA9IDEwMDtcclxuICAgICAgdm0uc2hhcGVJbmZvO1xyXG5cclxuICAgICAgLyogU2V0dGluZyB1cCB0aGUgY2FsaWJyYXRpb24gYW5kIGxheWVycyB2YWx1ZSB0byBiaW5kIGl0IGluIHRoZSB2aWV3ICovXHJcbiAgICAgIGlmIChsb2FkRnJvbUpzb24pIHtcclxuICAgICAgICBpZiAocm9vZlBsYW4ucGxhbm5lckRhdGEgJiYgcm9vZlBsYW4ucGxhbm5lckRhdGEuY2FsaWJyYXRpb24pIHtcclxuICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuc2V0KHJvb2ZQbGFuLnBsYW5uZXJEYXRhLmNhbGlicmF0aW9uKTtcclxuICAgICAgICAgIC8qIExvYWQgUHJvY2VzcyBpZiBhdmFpbGFibGUgKi9cclxuICAgICAgICAgIHZhciBsb2FkZWRQcm9jZXNzZXMgPSBzdGFnZVxyXG4gICAgICAgICAgICAuZ2V0Q2hpbGRyZW4oKVswXVxyXG4gICAgICAgICAgICAuZ2V0Q2hpbGRyZW4oKVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gL3Byb2Nlc3MqLy50ZXN0KHgubmFtZSgpKSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpZiAobG9hZGVkUHJvY2Vzc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmxvYWRQcm9jZXNzZXMobG9hZGVkUHJvY2Vzc2VzKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5jcmVhdGVQcm9jZXNzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocm9vZlBsYW4ucGxhbm5lckRhdGEgJiYgcm9vZlBsYW4ucGxhbm5lckRhdGEuY291bnREYXRhKSB7XHJcbiAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkubG9hZFNoYXBlSWQocm9vZlBsYW4ucGxhbm5lckRhdGEuY291bnREYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJvY2Vzc1N0b3JlLmNyZWF0ZVByb2Nlc3MoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogQmluZGluZyBjYWxpYnJhdGlvbiBkYXRhIHRvIHZpZXcgKi9cclxuICAgICAgdm0uY2FsaWJyYXRpb25EYXRhID0gY2FsaWJyYXRpb25TdGF0ZS5nZXQoKTtcclxuXHJcbiAgICAgIHZtLmZvcm1hdENhbGlicmF0aW9uID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbC50b0ZpeGVkKDMpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogQmluZGluZyBwcm9jZXNzIGRhdGEgdG8gdmlldyAqL1xyXG4gICAgICB2bS5wcm9jZXNzZXMgPSBwcm9jZXNzU3RvcmUuZ2V0UHJvY2Vzc2VzKCk7XHJcblxyXG4gICAgICAvKiBJbml0aWFsaXppbmcgYXNzb2NpYXRpb25zIG1vZHVsZSAqL1xyXG5cclxuICAgICAgdm0uYXNzb2NpYXRpb25zID0gY29tbW9uVlBGYWN0b3J5LmFzc29jaWF0aW9ucygpO1xyXG5cclxuICAgICAgLyogSW5pdGlhbGl6aW5nIHJvb2YgcGxhbiBpbWFnZSAqL1xyXG5cclxuICAgICAgdmFyIGltYWdlT2JqID0gbmV3IEltYWdlKCk7XHJcbiAgICAgIGltYWdlT2JqLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcclxuXHJcbiAgICAgIGlmIChyb29mUGxhbi5wbGFubmVyRGF0YSAmJiByb29mUGxhbi5wbGFubmVyRGF0YS5qc29uU3RyaW5nKSB7XHJcbiAgICAgICAgaW1hZ2VPYmouc3JjID0gcm9vZlBsYW4uYXNzZXRPYmoudXJsO1xyXG4gICAgICAgIGltYWdlT2JqLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGltYWdlQ29udGFpbmVyID0gYmFzZUxheWVyLmdldChcIiNiZ0ltYWdlXCIpWzBdO1xyXG4gICAgICAgICAgaW1hZ2VDb250YWluZXIuaW1hZ2UoaW1hZ2VPYmopO1xyXG5cclxuICAgICAgICAgIHZtLmltYWdlUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHg6IE1hdGgucm91bmQoaW1hZ2VDb250YWluZXIud2lkdGgoKSksXHJcbiAgICAgICAgICAgIHk6IE1hdGgucm91bmQoaW1hZ2VDb250YWluZXIuaGVpZ2h0KCkpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgc3RhZ2UuZHJhdygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW1hZ2VPYmouc3JjID0gcm9vZlBsYW4uYXNzZXRPYmoudXJsO1xyXG5cclxuICAgICAgICBpbWFnZU9iai5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIC8qIFNldHRpbmcgaW1hZ2UgcHJvcHMgKi9cclxuICAgICAgICAgIHZhciBpbWFnZUhlaWdodCA9IE1hdGgucm91bmQoc3RhZ2UuaGVpZ2h0KCkgLSA3NSk7XHJcbiAgICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBpbWFnZU9iai5oZWlnaHQgLyBpbWFnZUhlaWdodDtcclxuICAgICAgICAgIHZhciBpbWFnZVdpZHRoID0gTWF0aC5yb3VuZChpbWFnZU9iai53aWR0aCAvIGFzcGVjdFJhdGlvKTtcclxuXHJcbiAgICAgICAgICB2bS5pbWFnZVByb3BzID0ge1xyXG4gICAgICAgICAgICB4OiBpbWFnZVdpZHRoLFxyXG4gICAgICAgICAgICB5OiBpbWFnZUhlaWdodFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2YXIgYmdJbWFnZSA9IG5ldyBLb252YS5JbWFnZSh7XHJcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZU9iaixcclxuICAgICAgICAgICAgbmFtZTogXCJiZ0ltYWdlXCIsXHJcbiAgICAgICAgICAgIGlkOiBcImJnSW1hZ2VcIixcclxuICAgICAgICAgICAgaGVpZ2h0OiBpbWFnZUhlaWdodCxcclxuICAgICAgICAgICAgc2hhZG93T2Zmc2V0WDogMSxcclxuICAgICAgICAgICAgc2hhZG93T2Zmc2V0WTogMSxcclxuICAgICAgICAgICAgc2hhZG93T3BhY2l0eTogMC41LFxyXG4gICAgICAgICAgICB4OiBzdGFnZS53aWR0aCgpIC8gMiAtIGltYWdlV2lkdGggLyAyLFxyXG4gICAgICAgICAgICAvKiBDZW50ZXJpbmcgdGhlIGltYWdlIG9uIHRoZSBzdGFnZSAqL1xyXG4gICAgICAgICAgICB5OiAyMCxcclxuICAgICAgICAgICAgd2lkdGg6IGltYWdlV2lkdGhcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGJnSW1hZ2Uub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vIGFkZCB0aGUgc2hhcGUgdG8gdGhlIGxheWVyXHJcbiAgICAgICAgICBiYXNlTGF5ZXIuYWRkKGJnSW1hZ2UpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIC8vIG1vdmUgQkcgbGF5ZXIgdG8gYm90dG9tXHJcbiAgICAgICAgICBiYXNlTGF5ZXIubW92ZVRvQm90dG9tKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogSW5pdGlhdGluZyBhY3Rpb24gc3RhdGVzIGZvciB1bmRvIGFuZCByZWRvICovXHJcbiAgICAgIHZhciBhY3Rpb25TdGF0ZXMgPSBjb21tb25WUEZhY3RvcnkuYWN0aW9uU3RhdGVzKCk7XHJcblxyXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcclxuICAgICAgICAgIEVuZCBvZiBlc3NlbnRpYWwgdmFyc1xyXG4gICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogXHJcbiAgICAgICAgICBSZWdpc3RlcmluZyBldmVudHMgXHJcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgIHZhciB3aW5kb3dFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS53aW5kb3dFdmVudHMod2luZG93KTtcclxuICAgICAgd2luZG93RXZlbnQucmVnaXN0ZXIoc3RhZ2UpO1xyXG4gICAgICB2bS5oaXN0b3J5UG9zID0ge1xyXG4gICAgICAgIHg6IHVuZGVmaW5lZCxcclxuICAgICAgICB5OiB1bmRlZmluZWRcclxuICAgICAgfTtcclxuICAgICAgLyogRXZlbnQgbGlzdGVuZXIgZm9yIHpvb20gZnVuY3Rpb25hbGl0eSAqL1xyXG5cclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIHNjYWxlQnkgPSAxLjE1O1xyXG5cclxuICAgICAgICAvKiBEaXNhYmxlIHNjcm9sbCBvbmx5IG9uIHZpc3VhbCBwbGFubmVyIHN0YXRlICovXHJcbiAgICAgICAgJHN0YXRlLiRjdXJyZW50Lm5hbWUgPT09IFwidmlzdWFsUGxhbm5lclwiICYmXHJcbiAgICAgICAgICAvKiBBbHNvIGFsbG93IHNjcm9sbCBpbnNpZGUgcG9wLXVwcyAqL1xyXG4gICAgICAgICAgIS9tb2RhbC1vcGVuLy50ZXN0KFxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0uY2xhc3NOYW1lXHJcbiAgICAgICAgICApICYmXHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIC8qIENlbnRlciBwb3NpdGlvbiAqL1xyXG5cclxuICAgICAgICB2YXIgY2VudGVyWSA9IE1hdGgucm91bmQoc3RhZ2UuaGVpZ2h0KCkgLyAyKSxcclxuICAgICAgICAgIGNlbnRlclggPSBNYXRoLnJvdW5kKHN0YWdlLndpZHRoKCkgLyAyKTtcclxuXHJcbiAgICAgICAgaWYgKGUuY3RybEtleSkge1xyXG4gICAgICAgICAgdmFyIG9sZFNjYWxlID0gYmFzZUxheWVyLnNjYWxlWCgpO1xyXG4gICAgICAgICAgdmFyIG1vdXNlUG9pbnRUbyA9IHtcclxuICAgICAgICAgICAgeDpcclxuICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS54IC8gb2xkU2NhbGUgLVxyXG4gICAgICAgICAgICAgIGJhc2VMYXllci54KCkgLyBvbGRTY2FsZSxcclxuICAgICAgICAgICAgeTpcclxuICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS55IC8gb2xkU2NhbGUgLSBiYXNlTGF5ZXIueSgpIC8gb2xkU2NhbGVcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdmFyIG5ld1NjYWxlID0gZS5kZWx0YVkgPCAwID8gb2xkU2NhbGUgKiBzY2FsZUJ5IDogb2xkU2NhbGUgLyBzY2FsZUJ5O1xyXG4gICAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcclxuICAgICAgICAgICAgeDogbmV3U2NhbGUsXHJcbiAgICAgICAgICAgIHk6IG5ld1NjYWxlXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB2YXIgbmV3UG9zID0ge1xyXG4gICAgICAgICAgICB4OlxyXG4gICAgICAgICAgICAgIC0obW91c2VQb2ludFRvLnggLSBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS54IC8gbmV3U2NhbGUpICpcclxuICAgICAgICAgICAgICBuZXdTY2FsZSxcclxuICAgICAgICAgICAgeTpcclxuICAgICAgICAgICAgICAtKG1vdXNlUG9pbnRUby55IC0gc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCkueSAvIG5ld1NjYWxlKSAqXHJcbiAgICAgICAgICAgICAgbmV3U2NhbGVcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLyogQ2hhbmdlIGltYWdlIHJlc29sdXRpb24gd2l0aCBzY2FsZSAqL1xyXG4gICAgICAgICAgdmFyIGltYWdlUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHk6IE1hdGgucm91bmQoYmFzZUxheWVyLmZpbmQoXCIjYmdJbWFnZVwiKVswXS5oZWlnaHQoKSAqIG5ld1NjYWxlKSxcclxuICAgICAgICAgICAgeDogTWF0aC5yb3VuZChiYXNlTGF5ZXIuZmluZChcIiNiZ0ltYWdlXCIpWzBdLndpZHRoKCkgKiBuZXdTY2FsZSlcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2bS5pbWFnZVByb3BzID0gaW1hZ2VQcm9wcztcclxuXHJcbiAgICAgICAgICB2bS56b29tTGV2ZWwgPSBNYXRoLnJvdW5kKGJhc2VMYXllci5zY2FsZSgpLnggKiAxMDApO1xyXG4gICAgICAgICAgdG9vbHNWUEZhY3Rvcnkuc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tKGJhc2VMYXllcik7XHJcblxyXG4gICAgICAgICAgLy8gYWRkaW5nIHpvb20gbGV2ZWwgZm9yIGRpc3BsYXlcclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5wb3NpdGlvbihuZXdQb3MpO1xyXG4gICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSBcIkNBTlZBU1wiKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuY2FuY2VsRHJhd2luZygpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvKiBab29tIHVzaW5nIGJ1dHRvbiAqL1xyXG5cclxuICAgICAgdm0uem9vbUJ1dHRvbiA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICAvLyAwIC0gaW4gLCAxIC0gb3V0XHJcblxyXG4gICAgICAgIHZhciBjZW50ZXJZID0gTWF0aC5yb3VuZChzdGFnZS5oZWlnaHQoKSAvIDIpLFxyXG4gICAgICAgICAgY2VudGVyWCA9IE1hdGgucm91bmQoc3RhZ2Uud2lkdGgoKSAvIDIpO1xyXG4gICAgICAgIHZhciBzY2FsZUJ5ID0gMS4xNTtcclxuICAgICAgICB2YXIgb2xkU2NhbGUgPSBiYXNlTGF5ZXIuc2NhbGVYKCk7XHJcbiAgICAgICAgdmFyIG1vdXNlUG9pbnRUbyA9IHtcclxuICAgICAgICAgIHg6IGNlbnRlclggLyBvbGRTY2FsZSAtIGJhc2VMYXllci54KCkgLyBvbGRTY2FsZSxcclxuICAgICAgICAgIHk6IGNlbnRlclkgLyBvbGRTY2FsZSAtIGJhc2VMYXllci55KCkgLyBvbGRTY2FsZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIG5ld1NjYWxlID0gdHlwZSA+IDAgPyBvbGRTY2FsZSAqIHNjYWxlQnkgOiBvbGRTY2FsZSAvIHNjYWxlQnk7XHJcbiAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcclxuICAgICAgICAgIHg6IG5ld1NjYWxlLFxyXG4gICAgICAgICAgeTogbmV3U2NhbGVcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgbmV3UG9zID0ge1xyXG4gICAgICAgICAgeDogLShtb3VzZVBvaW50VG8ueCAtIGNlbnRlclggLyBuZXdTY2FsZSkgKiBuZXdTY2FsZSxcclxuICAgICAgICAgIHk6IC0obW91c2VQb2ludFRvLnkgLSBjZW50ZXJZIC8gbmV3U2NhbGUpICogbmV3U2NhbGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKiBDaGFuZ2UgaW1hZ2UgcmVzb2x1dGlvbiB3aXRoIHNjYWxlICovXHJcbiAgICAgICAgdmFyIGltYWdlUHJvcHMgPSB7XHJcbiAgICAgICAgICB5OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0uaGVpZ2h0KCkgKiBuZXdTY2FsZSksXHJcbiAgICAgICAgICB4OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0ud2lkdGgoKSAqIG5ld1NjYWxlKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdm0uaW1hZ2VQcm9wcyA9IGltYWdlUHJvcHM7XHJcbiAgICAgICAgdG9vbHNWUEZhY3Rvcnkuc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tKGJhc2VMYXllcik7XHJcbiAgICAgICAgdm0uem9vbUxldmVsID0gTWF0aC5yb3VuZChiYXNlTGF5ZXIuc2NhbGUoKS54ICogMTAwKTtcclxuXHJcbiAgICAgICAgYmFzZUxheWVyLnBvc2l0aW9uKG5ld1Bvcyk7XHJcbiAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS56b29tU2xpZGVyID0gZnVuY3Rpb24ocGVyY2VudGFnZSkge1xyXG4gICAgICAgIHZhciBjZW50ZXJZID0gTWF0aC5yb3VuZChzdGFnZS5oZWlnaHQoKSAvIDIpLFxyXG4gICAgICAgICAgY2VudGVyWCA9IE1hdGgucm91bmQoc3RhZ2Uud2lkdGgoKSAvIDIpO1xyXG5cclxuICAgICAgICB2YXIgb2xkU2NhbGUgPSBiYXNlTGF5ZXIuc2NhbGVYKCk7XHJcbiAgICAgICAgdmFyIG1vdXNlUG9pbnRUbyA9IHtcclxuICAgICAgICAgIHg6IGNlbnRlclggLyBvbGRTY2FsZSAtIGJhc2VMYXllci54KCkgLyBvbGRTY2FsZSxcclxuICAgICAgICAgIHk6IGNlbnRlclkgLyBvbGRTY2FsZSAtIGJhc2VMYXllci55KCkgLyBvbGRTY2FsZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBuZXdTY2FsZSA9IHBlcmNlbnRhZ2UgLyAxMDA7XHJcbiAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcclxuICAgICAgICAgIHg6IG5ld1NjYWxlLFxyXG4gICAgICAgICAgeTogbmV3U2NhbGVcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgbmV3UG9zID0ge1xyXG4gICAgICAgICAgeDogLShtb3VzZVBvaW50VG8ueCAtIGNlbnRlclggLyBuZXdTY2FsZSkgKiBuZXdTY2FsZSxcclxuICAgICAgICAgIHk6IC0obW91c2VQb2ludFRvLnkgLSBjZW50ZXJZIC8gbmV3U2NhbGUpICogbmV3U2NhbGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKiBDaGFuZ2UgaW1hZ2UgcmVzb2x1dGlvbiB3aXRoIHNjYWxlICovXHJcbiAgICAgICAgdmFyIGltYWdlUHJvcHMgPSB7XHJcbiAgICAgICAgICB5OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0uaGVpZ2h0KCkgKiBuZXdTY2FsZSksXHJcbiAgICAgICAgICB4OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0ud2lkdGgoKSAqIG5ld1NjYWxlKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdm0uaW1hZ2VQcm9wcyA9IGltYWdlUHJvcHM7XHJcbiAgICAgICAgdG9vbHNWUEZhY3Rvcnkuc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tKGJhc2VMYXllcik7XHJcbiAgICAgICAgdm0uem9vbUxldmVsID0gTWF0aC5yb3VuZChiYXNlTGF5ZXIuc2NhbGUoKS54ICogMTAwKTtcclxuXHJcbiAgICAgICAgYmFzZUxheWVyLnBvc2l0aW9uKG5ld1Bvcyk7XHJcbiAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBmdW5jdGlvbiB0byByZXNldCB6b29tICovXHJcblxyXG4gICAgICB2bS5yZXNldFpvb20gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2bS56b29tTGV2ZWwgPSAxMDA7XHJcbiAgICAgICAgYmFzZUxheWVyLnBvc2l0aW9uKHtcclxuICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICB5OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcclxuICAgICAgICAgIHg6IDEsXHJcbiAgICAgICAgICB5OiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgYmFzZUxheWVyRXZlbnQgPSBldmVudHNWUEZhY3RvcnkubGF5ZXJFdmVudHMoYmFzZUxheWVyKTtcclxuXHJcbiAgICAgIC8qIERlZmF1bHQgYmFzZWxheWVyIGNsaWNrIGV2ZW50ICovXHJcbiAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT09IFwiSW1hZ2VcIikge1xyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICAgIHZtLmNsb3NlSW5mb1dpZGdldCgpO1xyXG4gICAgICAgICAgdm0uY2xvc2VUZXh0SW5mb1dpZGdldCgpO1xyXG4gICAgICAgICAgc2VsZWN0ZWRTaGFwZS5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvKiBFdmVudCB3cmFwcGVycyAqL1xyXG5cclxuICAgICAgZnVuY3Rpb24gcmVjdGFuZ2xlRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBzaGFwZVR5cGUsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgcmVjdGFuZ2xlRXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoXHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZVxyXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBzaGFwZSAqL1xyXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xyXG4gICAgICAgICAgLyogRG8gbm90IGNyZWF0ZSBwcm9jZXNzIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUgZnJvbSBqc29uICovXHJcbiAgICAgICAgICB2YXIgY3VycmVudFByb2Nlc3MgPSBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnNoYXBlKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBpbml0aWF0aW5nIGN1c3RvbSB0cmFuc2Zvcm1lcnMgKi9cclxuICAgICAgICB2YXIgY3VzdG9tVHJhbnNmb3JtZXIgPSB0b29sc1ZQRmFjdG9yeS5jdXN0b21UcmFuc2Zvcm1lcihcclxuICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgYmFzZUxheWVyLFxyXG4gICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGUsXHJcbiAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci5zZXQoc2hhcGVPYmplY3Quc2hhcGUucG9pbnRzKCkpO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGN1c3RvbVRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xyXG5cclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgUmVnaXN0ZXJpbmcgYSBkcmFnbW92ZSBtZXRob2QgdG8gYmluZCBkcmFnbW92ZSBhbmQgY2xpY2sgZXZlbnQgdG8gdGhlIGN1c3RvbSB0cmFuc2Zvcm1lclxyXG4gICAgICAgICAgKi9cclxuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcImRyYWdtb3ZlLlwiICsgc2hhcGVUeXBlLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xyXG4gICAgICAgICAgICB4OiBzaGFwZU9iamVjdC5zaGFwZS54KCksXHJcbiAgICAgICAgICAgIHk6IHNoYXBlT2JqZWN0LnNoYXBlLnkoKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIFxyXG4gICAgICAgICAgICBSZWdpc3RlcmluZyBjdXN0b20gdHJhbnNmb3JtZXIgZXZlbnQgdG8gdGhlIGNyZWF0ZWQgcG9seWdvblxyXG4gICAgICAgICAgKi9cclxuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybVBvbHlnb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcblxyXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xyXG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5wb2x5Z29uQXJlYShzaGFwZU9iamVjdC5zaGFwZS5wb2ludHMoKSwgc2NhbGUpLFxyXG4gICAgICAgICAgICB1bml0OiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnVuaXRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcclxuXHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZS5wb2ludHMoY3VzdG9tVHJhbnNmb3JtZXIuZ2V0UG9pbnRzKCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBFbmFibGUgdHJhbnNmb3JtZXIgb24gc2VsZWN0ICovXHJcbiAgICAgICAgcmVjdGFuZ2xlRXZlbnQucmVnaXN0ZXIoXCJjbGljay5cIiArIHNoYXBlVHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZS5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqZWN0LnNoYXBlKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xyXG4gICAgICAgICAgICB4OiBzaGFwZU9iamVjdC5zaGFwZS54KCksXHJcbiAgICAgICAgICAgIHk6IHNoYXBlT2JqZWN0LnNoYXBlLnkoKVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdm0ub3BlbkluZm9XaWRnZXQoKTtcclxuICAgICAgICAgIHZhciBzY2FsZSA9XHJcbiAgICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWUgPT09IDBcclxuICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgIDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZTtcclxuXHJcbiAgICAgICAgICBtZXRyaWNzLnNldFNoYXBlSW5mbyh7XHJcbiAgICAgICAgICAgIGFyZWE6IHRvb2xzVlBGYWN0b3J5LnBvbHlnb25BcmVhKHNoYXBlT2JqZWN0LnNoYXBlLnBvaW50cygpLCBzY2FsZSksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xyXG4gICAgICAgICAgdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmFkZChjdXN0b21UcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIFxyXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHZhciBtb3ZlbWVudCA9IGNvbW1vblZQRmFjdG9yeS5tb3ZlbWVudCgpO1xyXG5cclxuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5cIiArIHNoYXBlVHlwZSwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxyXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRQb3NpdGlvbigpXHJcbiAgICAgICAgICApOyAvKiBHcmFiYmluZyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbW92ZW1lbnQgKi9cclxuICAgICAgICB9KTtcclxuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcImRyYWdlbmQuXCIgKyBzaGFwZVR5cGUsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIC8qIHB1c2hpbmcgdGhlIG1vdmVtZW50IHRvIGFjdGlvblN0YXRlIGFmdGVyIHRoZSBlbmQgcG9zaXRpb24gKi9cclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgIFwibW92ZVwiLFxyXG4gICAgICAgICAgICAgIG1vdmVtZW50LmFkZChlLnRhcmdldC5nZXRQb3NpdGlvbigpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBlbGxpcHNlRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBzaGFwZVR5cGUsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgZWxsaXBzZUV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKFxyXG4gICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGVcclxuICAgICAgICApOyAvKiBDcmVhdGUgYW4gZXZlbnQgb2JqIGZvciB0aGUgZWxsaXBzZSAqL1xyXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xyXG4gICAgICAgICAgLyogRG8gbm90IGNyZWF0ZSBwcm9jZXNzIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUgZnJvbSBqc29uICovXHJcbiAgICAgICAgICB2YXIgY3VycmVudFByb2Nlc3MgPSBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnNoYXBlKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogRWxsaXBzZSB0cmFuc2Zvcm1lciBzZXR1cCAqL1xyXG5cclxuICAgICAgICB2YXIgZWxsaXBzZVRyYW5zZm9tZXIgPSB0b29sc1ZQRmFjdG9yeS5lbGxpcHNlVHJhbnNmb21lcihcclxuICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgYmFzZUxheWVyLFxyXG4gICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBlbGxpcHNlVHJhbnNmb21lci5zZXQoc2hhcGVPYmplY3Quc2hhcGUucmFkaXVzKCkpO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGVsbGlwc2VUcmFuc2ZvbWVyLmdldEdyb3VwKCkpO1xyXG5cclxuICAgICAgICBlbGxpcHNlRXZlbnQucmVnaXN0ZXIoXCJkcmFnbW92ZS5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGVsbGlwc2VUcmFuc2ZvbWVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgIGVsbGlwc2VUcmFuc2ZvbWVyID0gdG9vbHNWUEZhY3RvcnkuZWxsaXBzZVRyYW5zZm9tZXIoXHJcbiAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICBiYXNlTGF5ZXIsXHJcbiAgICAgICAgICAgIHNoYXBlT2JqZWN0LnNoYXBlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgZWxsaXBzZVRyYW5zZm9tZXIuc2V0KHNoYXBlT2JqZWN0LnNoYXBlLnJhZGl1cygpKTtcclxuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGVsbGlwc2VUcmFuc2ZvbWVyLmdldEdyb3VwKCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlbGxpcHNlRXZlbnQucmVnaXN0ZXIoXCJjbGljay5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnNoYXBlLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIC8qIHJlbW92ZSBvdGhlciB0cmFuc2Zvcm1lcnMgKi9cclxuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5zaGFwZSk7XHJcbiAgICAgICAgICB2bS5vcGVuSW5mb1dpZGdldCgpO1xyXG4gICAgICAgICAgLyogQXJlYSBjYWxjdWxhdGlvbiAqL1xyXG4gICAgICAgICAgdmFyIHNjYWxlID1cclxuICAgICAgICAgICAgY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZSA9PT0gMFxyXG4gICAgICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgOiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlO1xyXG5cclxuICAgICAgICAgIG1ldHJpY3Muc2V0U2hhcGVJbmZvKHtcclxuICAgICAgICAgICAgYXJlYTogdG9vbHNWUEZhY3RvcnkuZWxsaXBzZUFyZWEoc2hhcGVPYmplY3Quc2hhcGUucmFkaXVzKCksIHNjYWxlKSxcclxuICAgICAgICAgICAgdW5pdDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS51bml0XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBlbGxpcHNlVHJhbnNmb21lci5kZXN0cm95KCk7XHJcbiAgICAgICAgICBlbGxpcHNlVHJhbnNmb21lciA9IHRvb2xzVlBGYWN0b3J5LmVsbGlwc2VUcmFuc2ZvbWVyKFxyXG4gICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgYmFzZUxheWVyLFxyXG4gICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGVsbGlwc2VUcmFuc2ZvbWVyLnNldChzaGFwZU9iamVjdC5zaGFwZS5yYWRpdXMoKSk7XHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChlbGxpcHNlVHJhbnNmb21lci5nZXRHcm91cCgpKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcblxyXG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcclxuICAgICAgICAgIHZtLnNob3dQYW5lbCA9IHRydWU7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVsbGlwc2VFdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybUVsbGlwc2VcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgLyogQXJlYSBjYWxjdWxhdGlvbiAqL1xyXG5cclxuICAgICAgICAgIHZhciBzY2FsZSA9XHJcbiAgICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWUgPT09IDBcclxuICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgIDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZTtcclxuXHJcbiAgICAgICAgICBtZXRyaWNzLnNldFNoYXBlSW5mbyh7XHJcbiAgICAgICAgICAgIGFyZWE6IHRvb2xzVlBGYWN0b3J5LmVsbGlwc2VBcmVhKHNoYXBlT2JqZWN0LnNoYXBlLnJhZGl1cygpLCBzY2FsZSksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcclxuICAgICAgICAgIHZtLnNob3dQYW5lbCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIERyYWdzdGFydCBhbmQgZHJhZ2VuZCBtb3ZlbWVudHMgZm9yIHVuZG8vcmVkbyBzdGF0ZXNcclxuICAgICAgICAgICovXHJcbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XHJcblxyXG4gICAgICAgIGVsbGlwc2VFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWxsaXBzZUV2ZW50LnJlZ2lzdGVyKFwiZHJhZ2VuZC5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIC8qIHB1c2hpbmcgdGhlIG1vdmVtZW50IHRvIGFjdGlvblN0YXRlIGFmdGVyIHRoZSBlbmQgcG9zaXRpb24gKi9cclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgIFwibW92ZVwiLFxyXG4gICAgICAgICAgICAgIG1vdmVtZW50LmFkZChlLnRhcmdldC5nZXRQb3NpdGlvbigpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBwb2x5Z29uRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBwcm9jZXNzKSB7XHJcbiAgICAgICAgdmFyIHBvbHlnb25FdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb25cclxuICAgICAgICApOyAvKiBDcmVhdGUgYW4gZXZlbnQgb2JqIGZvciB0aGUgcG9seWdvbiAqL1xyXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xyXG4gICAgICAgICAgLyogRG8gbm90IGNyZWF0ZSBwcm9jZXNzIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUgZnJvbSBqc29uICovXHJcbiAgICAgICAgICB2YXIgY3VycmVudFByb2Nlc3MgPSBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnBvbHlnb24pO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MubW92ZVRvVG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIGluaXRpYXRpbmcgY3VzdG9tIHRyYW5zZm9ybWVycyAqL1xyXG4gICAgICAgIHZhciBjdXN0b21UcmFuc2Zvcm1lciA9IHRvb2xzVlBGYWN0b3J5LmN1c3RvbVRyYW5zZm9ybWVyKFxyXG4gICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICBiYXNlTGF5ZXIsXHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLFxyXG4gICAgICAgICAgZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGN1c3RvbVRyYW5zZm9ybWVyLnNldChzaGFwZU9iamVjdC5wb2x5Z29uLnBvaW50cygpKTtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChjdXN0b21UcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGEgZHJhZ21vdmUgbWV0aG9kIHRvIGJpbmQgZHJhZ21vdmUgYW5kIGNsaWNrIGV2ZW50IHRvIHRoZSBjdXN0b20gdHJhbnNmb3JtZXJcclxuICAgICAgICAgICovXHJcbiAgICAgICAgcG9seWdvbkV2ZW50LnJlZ2lzdGVyKFwiZHJhZ21vdmUucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xyXG4gICAgICAgICAgICB4OiBzaGFwZU9iamVjdC5wb2x5Z29uLngoKSxcclxuICAgICAgICAgICAgeTogc2hhcGVPYmplY3QucG9seWdvbi55KClcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcImNsaWNrLnBvbHlnb25cIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgY3VzdG9tVHJhbnNmb3JtZXIudXBkYXRlKHtcclxuICAgICAgICAgICAgeDogc2hhcGVPYmplY3QucG9seWdvbi54KCksXHJcbiAgICAgICAgICAgIHk6IHNoYXBlT2JqZWN0LnBvbHlnb24ueSgpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIERyYWdzdGFydCBhbmQgZHJhZ2VuZCBtb3ZlbWVudHMgZm9yIHVuZG8vcmVkbyBzdGF0ZXNcclxuICAgICAgICAgICovXHJcbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XHJcblxyXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcG9seWdvbkV2ZW50LnJlZ2lzdGVyKFwiZHJhZ2VuZC5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIC8qIHB1c2hpbmcgdGhlIG1vdmVtZW50IHRvIGFjdGlvblN0YXRlIGFmdGVyIHRoZSBlbmQgcG9zaXRpb24gKi9cclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLFxyXG4gICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgXCJtb3ZlXCIsXHJcbiAgICAgICAgICAgICAgbW92ZW1lbnQuYWRkKGUudGFyZ2V0LmdldFBvc2l0aW9uKCkpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGN1c3RvbSB0cmFuc2Zvcm1lciBldmVudCB0byB0aGUgY3JlYXRlZCBwb2x5Z29uXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybVBvbHlnb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcblxyXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xyXG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5wb2x5Z29uQXJlYShcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLnBvaW50cygpLFxyXG4gICAgICAgICAgICAgIHNjYWxlXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xyXG5cclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24ucG9pbnRzKGN1c3RvbVRyYW5zZm9ybWVyLmdldFBvaW50cygpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xyXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbi5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5wb2x5Z29uKTtcclxuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcblxyXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xyXG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5wb2x5Z29uQXJlYShcclxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLnBvaW50cygpLFxyXG4gICAgICAgICAgICAgIHNjYWxlXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xyXG4gICAgICAgICAgdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmFkZChjdXN0b21UcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGZyZWVIYW5kRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBwcm9jZXNzKSB7XHJcbiAgICAgICAgdmFyIGZyZWVIYW5kRXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoXHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uXHJcbiAgICAgICAgKTsgLyogQ3JlYXRlIGFuIGV2ZW50IG9iaiBmb3IgdGhlIHBvbHlnb24gKi9cclxuICAgICAgICBpZiAoIXByb2Nlc3MpIHtcclxuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xyXG4gICAgICAgICAgdmFyIGN1cnJlbnRQcm9jZXNzID0gcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLmFkZChzaGFwZU9iamVjdC5wb2x5Z29uKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgRHJhZ3N0YXJ0IGFuZCBkcmFnZW5kIG1vdmVtZW50cyBmb3IgdW5kby9yZWRvIHN0YXRlc1xyXG4gICAgICAgICAgKi9cclxuICAgICAgICB2YXIgbW92ZW1lbnQgPSBjb21tb25WUEZhY3RvcnkubW92ZW1lbnQoKTtcclxuXHJcbiAgICAgICAgZnJlZUhhbmRFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnJlZUhhbmRFdmVudC5yZWdpc3RlcihcImRyYWdlbmQucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAvKiBwdXNoaW5nIHRoZSBtb3ZlbWVudCB0byBhY3Rpb25TdGF0ZSBhZnRlciB0aGUgZW5kIHBvc2l0aW9uICovXHJcbiAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcclxuICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbixcclxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgIFwibW92ZVwiLFxyXG4gICAgICAgICAgICAgIG1vdmVtZW50LmFkZChlLnRhcmdldC5nZXRQb3NpdGlvbigpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBFbmFibGUgdHJhbnNmb3JtZXIgb24gc2VsZWN0ICovXHJcbiAgICAgICAgZnJlZUhhbmRFdmVudC5yZWdpc3RlcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbi5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5wb2x5Z29uKTtcclxuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcbiAgICAgICAgICBtZXRyaWNzLnNldFNoYXBlSW5mbyh7XHJcbiAgICAgICAgICAgIGFyZWE6IHRvb2xzVlBGYWN0b3J5LnBvbHlnb25BcmVhKFxyXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24ucG9pbnRzKCksXHJcbiAgICAgICAgICAgICAgc2NhbGVcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgdW5pdDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS51bml0XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHZtLnNoYXBlSW5mbyA9IG1ldHJpY3MuZ2V0U2hhcGVJbmZvKCk7XHJcbiAgICAgICAgICB2bS5zaG93UGFuZWwgPSB0cnVlO1xyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGxpbmVFdmVudFdyYXBwZXIoc2hhcGVPYmplY3QsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgbGluZUV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKHNoYXBlT2JqZWN0LmxpbmUpO1xyXG5cclxuICAgICAgICBpZiAoIXByb2Nlc3MpIHtcclxuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xyXG4gICAgICAgICAgdmFyIGN1cnJlbnRQcm9jZXNzID0gcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLmFkZChzaGFwZU9iamVjdC5saW5lKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgRHJhZ3N0YXJ0IGFuZCBkcmFnZW5kIG1vdmVtZW50cyBmb3IgdW5kby9yZWRvIHN0YXRlc1xyXG4gICAgICAgICAgKi9cclxuICAgICAgICB2YXIgbW92ZW1lbnQgPSBjb21tb25WUEZhY3RvcnkubW92ZW1lbnQoKTtcclxuXHJcbiAgICAgICAgbGluZUV2ZW50LnJlZ2lzdGVyKFwiZHJhZ3N0YXJ0LmxpbmVcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxyXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRQb3NpdGlvbigpXHJcbiAgICAgICAgICApOyAvKiBHcmFiYmluZyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbW92ZW1lbnQgKi9cclxuICAgICAgICB9KTtcclxuICAgICAgICBsaW5lRXZlbnQucmVnaXN0ZXIoXCJkcmFnZW5kLmxpbmVcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgLyogcHVzaGluZyB0aGUgbW92ZW1lbnQgdG8gYWN0aW9uU3RhdGUgYWZ0ZXIgdGhlIGVuZCBwb3NpdGlvbiAqL1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LmxpbmUsXHJcbiAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICBcIm1vdmVcIixcclxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xyXG4gICAgICAgIGxpbmVFdmVudC5yZWdpc3RlcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2hhcGVPYmplY3QubGluZS5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqZWN0LmxpbmUpO1xyXG4gICAgICAgICAgdm0ub3BlbkluZm9XaWRnZXQoKTtcclxuICAgICAgICAgIC8vdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBmcmVlSGFuZE1hcmtlcldyYXBwZXIoc2hhcGVPYmplY3QsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgZnJlZUhhbmRFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb25cclxuICAgICAgICApOyAvKiBDcmVhdGUgYW4gZXZlbnQgb2JqIGZvciB0aGUgcG9seWdvbiAqL1xyXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xyXG4gICAgICAgICAgLyogRG8gbm90IGNyZWF0ZSBwcm9jZXNzIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUgZnJvbSBqc29uICovXHJcbiAgICAgICAgICB2YXIgY3VycmVudFByb2Nlc3MgPSBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnBvbHlnb24pO1xyXG4gICAgICAgICAgY3VycmVudFByb2Nlc3MubW92ZVRvVG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIFxyXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHZhciBtb3ZlbWVudCA9IGNvbW1vblZQRmFjdG9yeS5tb3ZlbWVudCgpO1xyXG5cclxuICAgICAgICBmcmVlSGFuZEV2ZW50LnJlZ2lzdGVyKFwiZHJhZ3N0YXJ0LmZyZWVIYW5kTWFya2VyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnJlZUhhbmRFdmVudC5yZWdpc3RlcihcImRyYWdlbmQuZnJlZUhhbmRNYXJrZXJcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgLyogcHVzaGluZyB0aGUgbW92ZW1lbnQgdG8gYWN0aW9uU3RhdGUgYWZ0ZXIgdGhlIGVuZCBwb3NpdGlvbiAqL1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24sXHJcbiAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICBcIm1vdmVcIixcclxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xyXG4gICAgICAgIGZyZWVIYW5kRXZlbnQucmVnaXN0ZXIoXCJjbGljay5mcmVlSGFuZE1hcmtlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24ubW92ZVRvVG9wKCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG5cclxuICAgICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqZWN0LnBvbHlnb24pO1xyXG4gICAgICAgICAgdm0ub3BlbkluZm9XaWRnZXQoKTtcclxuXHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gYmV6aWVyRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBwcm9jZXNzKSB7XHJcbiAgICAgICAgdmFyIGJlemllckV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKFxyXG4gICAgICAgICAgc2hhcGVPYmplY3QubGluZVxyXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBwb2x5Z29uICovXHJcbiAgICAgICAgaWYgKCFwcm9jZXNzKSB7XHJcbiAgICAgICAgICAvKiBEbyBub3QgY3JlYXRlIHByb2Nlc3MgaWYgaXQncyBhbHJlYWR5IGF2YWlsYWJsZSBmcm9tIGpzb24gKi9cclxuICAgICAgICAgIHZhciBjdXJyZW50UHJvY2VzcyA9IHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCk7XHJcbiAgICAgICAgICBjdXJyZW50UHJvY2Vzcy5hZGQoc2hhcGVPYmplY3QubGluZSk7XHJcbiAgICAgICAgICBjdXJyZW50UHJvY2Vzcy5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogaW5pdGlhdGluZyBjdXN0b20gdHJhbnNmb3JtZXJzICovXHJcbiAgICAgICAgdmFyIGJlemllclRyYW5zZm9ybWVyID0gdG9vbHNWUEZhY3RvcnkuYmV6aWVyVHJhbnNmb3JtZXIoXHJcbiAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgIGJhc2VMYXllcixcclxuICAgICAgICAgIHNoYXBlT2JqZWN0LmxpbmVcclxuICAgICAgICApO1xyXG4gICAgICAgIGJlemllclRyYW5zZm9ybWVyLnNldChzaGFwZU9iamVjdC5saW5lLnBvaW50cygpKTtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChiZXppZXJUcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGEgZHJhZ21vdmUgbWV0aG9kIHRvIGJpbmQgZHJhZ21vdmUgYW5kIGNsaWNrIGV2ZW50IHRvIHRoZSBjdXN0b20gdHJhbnNmb3JtZXJcclxuICAgICAgICAgICovXHJcbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJkcmFnbW92ZS5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGJlemllclRyYW5zZm9ybWVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHg6IHNoYXBlT2JqZWN0LmxpbmUueCgpLFxyXG4gICAgICAgICAgICB5OiBzaGFwZU9iamVjdC5saW5lLnkoKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJjbGljay5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGJlemllclRyYW5zZm9ybWVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHg6IHNoYXBlT2JqZWN0LmxpbmUueCgpLFxyXG4gICAgICAgICAgICB5OiBzaGFwZU9iamVjdC5saW5lLnkoKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIFxyXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHZhciBtb3ZlbWVudCA9IGNvbW1vblZQRmFjdG9yeS5tb3ZlbWVudCgpO1xyXG5cclxuICAgICAgICBiZXppZXJFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIG1vdmVtZW50LmFkZChcclxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJkcmFnZW5kLnBvbHlnb25cIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgLyogcHVzaGluZyB0aGUgbW92ZW1lbnQgdG8gYWN0aW9uU3RhdGUgYWZ0ZXIgdGhlIGVuZCBwb3NpdGlvbiAqL1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LmxpbmUsXHJcbiAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICBcIm1vdmVcIixcclxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgUmVnaXN0ZXJpbmcgY3VzdG9tIHRyYW5zZm9ybWVyIGV2ZW50IHRvIHRoZSBjcmVhdGVkIHBvbHlnb25cclxuICAgICAgICAgICovXHJcbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJ0cmFuc2Zvcm1CZXppZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzaGFwZU9iamVjdC5saW5lLnBvaW50cyhiZXppZXJUcmFuc2Zvcm1lci5nZXRQb2ludHMoKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIEVuYWJsZSB0cmFuc2Zvcm1lciBvbiBzZWxlY3QgKi9cclxuICAgICAgICBiZXppZXJFdmVudC5yZWdpc3RlcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2hhcGVPYmplY3QubGluZS5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5saW5lKTtcclxuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XHJcbiAgICAgICAgICB2YXIgc2NhbGUgPVxyXG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXHJcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XHJcblxyXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xyXG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5wb2x5Z29uQXJlYShzaGFwZU9iamVjdC5saW5lLnBvaW50cygpLCBzY2FsZSksXHJcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xyXG4gICAgICAgICAgdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmFkZChiZXppZXJUcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHRleHRFdmVudFdyYXBwZXIoZ3JvdXAsIHByb2Nlc3MpIHtcclxuICAgICAgICB2YXIgdGV4dEV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKFxyXG4gICAgICAgICAgZ3JvdXBcclxuICAgICAgICApOyAvKiBDcmVhdGUgYW4gZXZlbnQgb2JqIGZvciB0aGUgc2hhcGUgKi9cclxuICAgICAgICBpZiAoIXByb2Nlc3MpIHtcclxuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xyXG4gICAgICAgICAgdmFyIGN1cnJlbnRQcm9jZXNzID0gcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKTtcclxuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLmFkZChncm91cCk7XHJcbiAgICAgICAgICBjdXJyZW50UHJvY2Vzcy5tb3ZlVG9Ub3AoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGluaXRpYXRpbmcgY3VzdG9tIHRyYW5zZm9ybWVycyAqL1xyXG4gICAgICAgIHZhciBjdXN0b21UcmFuc2Zvcm1lciA9IHRvb2xzVlBGYWN0b3J5LmN1c3RvbVRyYW5zZm9ybWVyKFxyXG4gICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICBiYXNlTGF5ZXIsXHJcbiAgICAgICAgICBncm91cCxcclxuICAgICAgICAgIHRydWVcclxuICAgICAgICApO1xyXG4gICAgICAgIHZhciB3cmFwcGVyID0gZ3JvdXAuZ2V0Q2hpbGRyZW4oKVswXTtcclxuICAgICAgICB2YXIgdGV4dCA9IGdyb3VwLmdldENoaWxkcmVuKClbMV07XHJcblxyXG4gICAgICAgIGN1c3RvbVRyYW5zZm9ybWVyLnNldCh3cmFwcGVyLnBvaW50cygpKTtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChjdXN0b21UcmFuc2Zvcm1lci5nZXRHcm91cCgpKTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGEgZHJhZ21vdmUgbWV0aG9kIHRvIGJpbmQgZHJhZ21vdmUgYW5kIGNsaWNrIGV2ZW50IHRvIHRoZSBjdXN0b20gdHJhbnNmb3JtZXJcclxuICAgICAgICAgICovXHJcbiAgICAgICAgdGV4dEV2ZW50LnJlZ2lzdGVyKFwiZHJhZ21vdmUudGV4dEdyb3VwXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGN1c3RvbVRyYW5zZm9ybWVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHg6IGdyb3VwLngoKSxcclxuICAgICAgICAgICAgeTogZ3JvdXAueSgpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGN1c3RvbSB0cmFuc2Zvcm1lciBldmVudCB0byB0aGUgY3JlYXRlZCBwb2x5Z29uXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHRleHRFdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybVBvbHlnb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB3cmFwcGVyLnBvaW50cyhjdXN0b21UcmFuc2Zvcm1lci5nZXRQb2ludHMoKSk7XHJcblxyXG4gICAgICAgICAgdmFyIHVwZGF0ZWRQb2ludHMgPSB3cmFwcGVyLnBvaW50cygpO1xyXG5cclxuICAgICAgICAgIHRleHQud2lkdGgoTWF0aC5hYnModXBkYXRlZFBvaW50c1swXSAtIHVwZGF0ZWRQb2ludHNbMl0pIC0gMTApO1xyXG4gICAgICAgICAgdGV4dC5wb3NpdGlvbih7XHJcbiAgICAgICAgICAgIHg6IHVwZGF0ZWRQb2ludHNbMF0gKyA1LFxyXG4gICAgICAgICAgICB5OiB1cGRhdGVkUG9pbnRzWzFdICsgNVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBFbmFibGUgdHJhbnNmb3JtZXIgb24gc2VsZWN0ICovXHJcbiAgICAgICAgdGV4dEV2ZW50LnJlZ2lzdGVyKFwiY2xpY2sudGV4dEdyb3VwXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZ3JvdXAubW92ZVRvVG9wKCk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldCh0ZXh0KTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xyXG4gICAgICAgICAgICB4OiBncm91cC54KCksXHJcbiAgICAgICAgICAgIHk6IGdyb3VwLnkoKVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuYWRkKGN1c3RvbVRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xyXG4gICAgICAgICAgd3JhcHBlci5zdHJva2UoXCJncmV5XCIpO1xyXG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIHZtLm9wZW5UZXh0SW5mb1dpZGdldCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiAgXHJcbiAgICAgICAgICAgIERyYWdzdGFydCBhbmQgZHJhZ2VuZCBtb3ZlbWVudHMgZm9yIHVuZG8vcmVkbyBzdGF0ZXNcclxuICAgICAgICAgICovXHJcbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XHJcblxyXG4gICAgICAgIHRleHRFdmVudC5yZWdpc3RlcihcImRyYWdzdGFydC50ZXh0R3JvdXBcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxyXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRQb3NpdGlvbigpXHJcbiAgICAgICAgICApOyAvKiBHcmFiYmluZyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbW92ZW1lbnQgKi9cclxuICAgICAgICB9KTtcclxuICAgICAgICB0ZXh0RXZlbnQucmVnaXN0ZXIoXCJkcmFnZW5kLnRleHRHcm91cFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAvKiBwdXNoaW5nIHRoZSBtb3ZlbWVudCB0byBhY3Rpb25TdGF0ZSBhZnRlciB0aGUgZW5kIHBvc2l0aW9uICovXHJcbiAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcclxuICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICAgICAgZ3JvdXAsXHJcbiAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICBcIm1vdmVcIixcclxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogQXR0YWNoIGV2ZW50cyB3aGVuIHNoYXBlcyBhcmUgbG9hZGVkIGZyb20ganNvbiAqL1xyXG4gICAgICAoZnVuY3Rpb24obG9hZFR5cGUpIHtcclxuICAgICAgICBpZiAobG9hZFR5cGUpIHtcclxuICAgICAgICAgIC8qIFNlYXJjaCBmb3IgZ3JvdXBzIHdpdGggdGhlIG5hbWUgcHJvY2VzcyBhbmQgZmV0Y2ggdGhlIHNoYXBlcyAqL1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGJhc2VMYXllci5nZXRDaGlsZHJlbigpLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIGlmICgvcHJvY2VzcyovLnRlc3QoeC5uYW1lKCkpKSB7XHJcbiAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHguZ2V0Q2hpbGRyZW4oKSwgZnVuY3Rpb24oY2hpbGQpIHtcclxuICAgICAgICAgICAgICAgIC8qIEZvciBjaXJjbGUgYW5kIGVsbGlwc2UgKi9cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuY2xhc3NOYW1lID09PSBcIkVsbGlwc2VcIikge1xyXG4gICAgICAgICAgICAgICAgICBlbGxpcHNlRXZlbnRXcmFwcGVyKFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJlbGxpcHNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgLyogRm9yIGxpbmVzIGFuZCBwb2x5Z29ucyAqL1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NOYW1lID09PSBcIkxpbmVcIiB8fFxyXG4gICAgICAgICAgICAgICAgICBjaGlsZC5jbGFzc05hbWUgPT09IFwiQXJyb3dcIlxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8qIENoZWNrIGlmIGdpdmVuIHNoYXBlIGlzIGEgcmVjdGFuZ2xlIG9yIGEgcG9seWdvbiAqL1xyXG4gICAgICAgICAgICAgICAgICB2YXIgc2hhcGVOYW1lID0gY2hpbGQubmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoL1JlY3QqLy50ZXN0KHNoYXBlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWN0YW5nbGVFdmVudFdyYXBwZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicmVjdGFuZ2xlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvcG9seWdvbiovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvbHlnb25FdmVudFdyYXBwZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb246IGNoaWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL2xpbmUqLy50ZXN0KHNoYXBlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lRXZlbnRXcmFwcGVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9mcmVlSGFuZCovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyZWVIYW5kRXZlbnRXcmFwcGVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uOiBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9tYXJrZXJGcmVlSGFuZCovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyZWVIYW5kTWFya2VyV3JhcHBlcihcclxuICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWdvbjogY2hpbGRcclxuICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgLyogRm9yIHRleHQgKi9cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL3RleHRHcm91cCovLnRlc3QoY2hpbGQubmFtZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICB0ZXh0RXZlbnRXcmFwcGVyKGNoaWxkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9KShsb2FkRnJvbUpzb24pO1xyXG5cclxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogXHJcbiAgICAgICAgICBFbmQgb2YgZXZlbnRzXHJcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcclxuICAgICAgICAgIFZpZXcgZnVuY3Rpb25zXHJcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgICAvKiBGdW5jdGlvbiB0byBkcmF3IHJlY3RhbmdsZS9zcXVhcmUgKi9cclxuICAgICAgdm0ucmVjdGFuZ2xlID0gZnVuY3Rpb24oc3F1YXJlKSB7XHJcbiAgICAgICAgdmFyIHNoYXBlVHlwZSA9IHNxdWFyZSA/IFwic3F1YXJlXCIgOiBcInJlY3RhbmdsZVwiO1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJzaGFwZXMuXCIgKyBzaGFwZVR5cGUpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcclxuICAgICAgICBjb25zb2xlLmxvZyh2bS5jdXJyZW50RHJhd1N0YXRlLnNoYXBlcy5zcXVhcmUpO1xyXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLlwiICsgc2hhcGVUeXBlLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJzaGFwZXMuXCIgKyBzaGFwZVR5cGUpKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVTaGFwZShcclxuICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5zaGFwZSk7XHJcbiAgICAgICAgICAgICAgLyogQWRkaW5nIGFjdGlvbiBoYW5kbGVycyBmb3IgdW5kbyByZWRvICovXHJcblxyXG4gICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvKiBBZGQgcmVjdGFuZ2xlIHRyYW5zZm9ybWVycyAqL1xyXG4gICAgICAgICAgICAgIHJlY3RhbmdsZUV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCwgc2hhcGVUeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcclxuICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS5cIiArIHNoYXBlVHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLlwiICsgc2hhcGVUeXBlKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1NoYXBlKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICBzcXVhcmVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIEZ1bmN0aW9uIHRvIGRyYXcgZWxsaXBzZS9jaXJjbGUgKi9cclxuICAgICAgdm0uZWxsaXBzZSA9IGZ1bmN0aW9uKGNpcmNsZSkge1xyXG4gICAgICAgIHZhciBzaGFwZVR5cGUgPSBjaXJjbGUgPyBcImNpcmNsZVwiIDogXCJlbGxpcHNlXCI7XHJcbiAgICAgICAgZHJhd1N0YXRlLnNldChcInNoYXBlcy5cIiArIHNoYXBlVHlwZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xyXG5cclxuICAgICAgICAvKiBFdmVudCBjb25maWd1cmF0aW9uICovXHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwiY2xpY2suXCIgKyBzaGFwZVR5cGUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy5cIiArIHNoYXBlVHlwZSkpIHtcclxuICAgICAgICAgICAgdmFyIHNoYXBlT2JqZWN0ID0gc2hhcGVzVlBGYWN0b3J5LmNyZWF0ZVNoYXBlKFxyXG4gICAgICAgICAgICAgIDEsXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChzaGFwZU9iamVjdC5zdGFydCkge1xyXG4gICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3Quc2hhcGUpO1xyXG4gICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG5cclxuICAgICAgICAgICAgICBlbGxpcHNlRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBzaGFwZVR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcclxuICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS5cIiArIHNoYXBlVHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLlwiICsgc2hhcGVUeXBlKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1NoYXBlKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICBjaXJjbGVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIEZ1bmN0aW9uIHRvIGRyYXcgcG9seWdvbiAqL1xyXG4gICAgICB2bS5wb2x5Z29uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZHJhd1N0YXRlLnNldChcInNoYXBlcy5wb2x5Z29uXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcclxuXHJcbiAgICAgICAgLyogRXZlbnQgY29uZmlndXJhdGlvbiAqL1xyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwiY2xpY2sucG9seWdvblwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJzaGFwZXMucG9seWdvblwiKSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlUG9seWdvbihcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbixcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY3JlYXRlXCJcclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3QucG9seWdvbik7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIFBvbHlnb24gZmluaXNoIGJsb2NrICovXHJcblxyXG4gICAgICAgICAgICAgICAgcG9seWdvbkV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS5wb2x5Z29uXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy5wb2x5Z29uXCIpKSB7XHJcbiAgICAgICAgICAgIHNoYXBlc1ZQRmFjdG9yeS5kcmF3UG9seWdvbihcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIEZ1bmN0aW9uIHRvIGRyYXcgYSBmcmVlaGFuZCBzaGFwZSAqL1xyXG4gICAgICB2bS5mcmVlSGFuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJtZWFzdXJlbWVudC5mcmVlSGFuZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY3Jvc3NoYWlyXCI7XHJcblxyXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlZG93bi5mcmVlaGFuZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtZWFzdXJlbWVudC5mcmVlSGFuZFwiKSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlUG9seWdvbihcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVPYmplY3QpIHtcclxuICAgICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5wb2x5Z29uKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLyogUG9seWdvbiBmaW5pc2ggYmxvY2sgKi9cclxuXHJcbiAgICAgICAgICAgICAgICBmcmVlSGFuZEV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS5mcmVlaGFuZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtZWFzdXJlbWVudC5mcmVlSGFuZFwiKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1BvbHlnb24oXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIE1hcmtlciBmdW5jdGlvbnMgKi9cclxuICAgICAgdm0uc2ltcGxlTGluZSA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICBkcmF3U3RhdGUuc2V0KFwibWFya2luZ3MuXCIgKyB0eXBlKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY3Jvc3NoYWlyXCI7XHJcblxyXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLlwiICsgdHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3MuXCIgKyB0eXBlKSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlTGluZShcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgdHlwZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVPYmplY3QpIHtcclxuICAgICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5saW5lLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5saW5lKTtcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIFBvbHlnb24gZmluaXNoIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgICBsaW5lRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICAgICAgZHJhd1N0YXRlLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLlwiICsgdHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3MuXCIgKyB0eXBlKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd0xpbmUoXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5iZXppZXJMaW5lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZHJhd1N0YXRlLnNldChcIm1hcmtpbmdzLmJlemllclwiKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY3Jvc3NoYWlyXCI7XHJcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJjbGljay5iZXppZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3MuYmV6aWVyXCIpKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVCZXppZXJMaW5lKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVPYmplY3QpIHtcclxuICAgICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5saW5lLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5saW5lKTtcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIFBvbHlnb24gZmluaXNoIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgICBiZXppZXJFdmVudFdyYXBwZXIoc2hhcGVPYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIHNoYXBlc1ZQRmFjdG9yeS5kZXN0cm95U2hhcGUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZW1vdmUuYmV6aWVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcIm1hcmtpbmdzLmJlemllclwiKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd0JlemllckxpbmUoXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBGcmVlIGhhbmQgbWFya2VyIGZ1bmN0aW9ucyAqL1xyXG4gICAgICB2bS5mcmVlaGFuZE1hcmtlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJzaGFwZXMuZnJlZUhhbmRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xyXG5cclxuICAgICAgICAvKiBFdmVudCBjb25maWd1cmF0aW9uICovXHJcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWRvd24uZnJlZWhhbmRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLmZyZWVIYW5kXCIpKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVQb2x5Z29uKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbixcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY3JlYXRlXCJcclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3QucG9seWdvbik7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZyZWVIYW5kTWFya2VyV3JhcHBlcihzaGFwZU9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICAgICAgZHJhd1N0YXRlLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLmZyZWVoYW5kXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy5mcmVlSGFuZFwiKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1BvbHlnb24oXHJcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXHJcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLnRleHRXaWRnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBkcmF3U3RhdGUuc2V0KFwic2hhcGVzLnRleHRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xyXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLnRleHRXcmFwcGVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy50ZXh0XCIpKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVTaGFwZShcclxuICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5zaGFwZSk7XHJcbiAgICAgICAgICAgICAgLyogQWRkaW5nIGFjdGlvbiBoYW5kbGVycyBmb3IgdW5kbyByZWRvICovXHJcblxyXG4gICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcclxuICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcclxuICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGdyb3VwIGZvciB0ZXh0XHJcblxyXG4gICAgICAgICAgICAgIHZhciB0ZXh0R3JvdXAgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlVGV4dEdyb3VwKCk7XHJcblxyXG4gICAgICAgICAgICAgIHRleHRHcm91cC5hZGQoc2hhcGVPYmplY3Quc2hhcGUpO1xyXG5cclxuICAgICAgICAgICAgICAvKiBBZGQgcHJvcGVydGllcyAqL1xyXG4gICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzaGFwZU9iamVjdC5zaGFwZS5wb2ludHMoKTtcclxuICAgICAgICAgICAgICB2YXIgdGV4dFByb3BzID0ge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgeDogcG9pbnRzWzBdICsgMTAsXHJcbiAgICAgICAgICAgICAgICAgIHk6IHBvaW50c1sxXSArIDEwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IE1hdGguYWJzKHBvaW50c1swXSAtIHBvaW50c1syXSkgLSAxMFxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgdmFyIHRleHRPYmogPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlVGV4dCh0ZXh0UHJvcHMpO1xyXG4gICAgICAgICAgICAgIHRleHRHcm91cC5hZGQodGV4dE9iaik7XHJcblxyXG4gICAgICAgICAgICAgIHRleHRFdmVudFdyYXBwZXIodGV4dEdyb3VwKTtcclxuXHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcclxuICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XHJcblxyXG4gICAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS50ZXh0V3JhcHBlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJzaGFwZXMudGV4dFwiKSkge1xyXG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1NoYXBlKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICBcIndyYXBwZXJcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0ubWFudWFsU2VsZWN0aW9uID0gZnVuY3Rpb24oc2hhcGVPYmopIHtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIHNlbGVjdGVkU2hhcGUucmVzZXQoKTtcclxuICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iaik7XHJcbiAgICAgICAgc2hhcGVPYmouZmlyZShcImNsaWNrXCIpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uZHJhZ1NlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJtYXJraW5ncy5zZWxlY3Rpb25cIik7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcclxuICAgICAgICAvKiBFdmVudCBjb25maWd1cmF0aW9uICovXHJcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWRvd24uc2VsZWN0aW9uXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcIm1hcmtpbmdzLnNlbGVjdGlvblwiKSkge1xyXG4gICAgICAgICAgICB2bS5zZWxlY3RBbGxTaGFwZXMoZmFsc2UpO1xyXG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlU2hhcGUoXHJcbiAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5zaGFwZSk7XHJcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2V1cC5zZWxlY3Rpb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3Muc2VsZWN0aW9uXCIpKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xyXG5cclxuICAgICAgICAgICAgLyogU2VsZWN0aW9uIGxvZ2ljICovXHJcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25Qb2ludHMgPSBzaGFwZXNWUEZhY3RvcnkuY2FuY2VsRHJhd2luZygpO1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRTaGFwZXMgPSBzaGFwZXNWUEZhY3Rvcnkuc2VsZWN0U2hhcGVzKFxyXG4gICAgICAgICAgICAgIGJhc2VMYXllcixcclxuICAgICAgICAgICAgICBzZWxlY3Rpb25Qb2ludHNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkU2hhcGVOYW1lcyA9IHNlbGVjdGVkU2hhcGVzLm1hcChmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHgubmFtZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNlbGVjdGlvblN0b3JlLnN0b3JlKHNlbGVjdGVkU2hhcGVzKTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnByb2Nlc3NlcywgZnVuY3Rpb24ocHJvY2Vzcykge1xyXG4gICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcm9jZXNzLmdldENoaWxkcmVuKCksIGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRTaGFwZU5hbWVzLmluZGV4T2YoY2hpbGQubmFtZSgpKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLnNlbGVjdGlvblwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtYXJraW5ncy5zZWxlY3Rpb25cIikpIHtcclxuICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRyYXdTaGFwZShcclxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcclxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxyXG4gICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgXCJncmFiYmVyXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLnNlbGVjdEFsbFNoYXBlcyA9IGZ1bmN0aW9uKHRvZ2dsZVZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFsbFNoYXBlcyA9IHNoYXBlc1ZQRmFjdG9yeS5leHRyYWN0QWxsU2hhcGVzKGJhc2VMYXllcik7XHJcbiAgICAgICAgaWYgKHRvZ2dsZVZhbHVlKSB7XHJcbiAgICAgICAgICBzZWxlY3Rpb25TdG9yZS5zdG9yZShhbGxTaGFwZXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxlY3Rpb25TdG9yZS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goYWxsU2hhcGVzLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICB4LnNlbGVjdGVkID0gdG9nZ2xlVmFsdWUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS50b2dnbGVTaGFwZVZpc2liaWxpdHkgPSBmdW5jdGlvbihzaGFwZSkge1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgc2hhcGUudmlzaWJsZSghc2hhcGUudmlzaWJsZSgpKTtcclxuICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uY2FsaWJyYXRvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJtZWFzdXJlbWVudC5jYWxpYnJhdG9yXCIpO1xyXG4gICAgICAgIGNhbGlicmF0b3IgPSBzaGFwZXNWUEZhY3RvcnkuY2FsaWJyYXRvcihzdGFnZSwgYmFzZUxheWVyKTtcclxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLmNhbGlicmF0b3JcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWVhc3VyZW1lbnQuY2FsaWJyYXRvclwiKSkge1xyXG4gICAgICAgICAgICBjYWxpYnJhdG9yKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLmNhbGlicmF0b3JcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWVhc3VyZW1lbnQuY2FsaWJyYXRvclwiKSkge1xyXG4gICAgICAgICAgICBjYWxpYnJhdG9yKFxyXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxyXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyogQ2FsaWJyYXRpb24gaGFuZGxpbmcgKi9cclxuXHJcbiAgICAgICRzY29wZS4kb24oXCJjYWxpYnJhdGVkXCIsIGZ1bmN0aW9uKGUsIGNhbGlicmF0ZWRMaW5lKSB7XHJcbiAgICAgICAgLy8gdmFyIHZhbHVlID0gd2luZG93LnByb21wdCgnUGxlYXNlIGVudGVyIGEgc2NhbGUnKTtcclxuICAgICAgICB2YXIgdmFsdWU7XHJcbiAgICAgICAgJChcIiNjYWxpYnJhdGVNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcblxyXG4gICAgICAgIC8qIERpc3RhbmNlIG9mIHRoZSBsaW5lICovXHJcbiAgICAgICAgdmFyIHBvaW50cyA9IGNhbGlicmF0ZWRMaW5lLnBvaW50cygpO1xyXG4gICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChcclxuICAgICAgICAgIE1hdGgucG93KHBvaW50c1swXSAtIHBvaW50c1syXSwgMikgK1xyXG4gICAgICAgICAgICBNYXRoLnBvdyhwb2ludHNbMV0gLSBwb2ludHNbM10sIDIpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdm0uY2FsaWJyYXRpb25EaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgIHZtLnNhdmVDYWxpYnJhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gdm0uY2FsaWJyYXRpb25TY2FsZS52YWx1ZTtcclxuXHJcbiAgICAgICAgICB2YXIgc2NhbGU7XHJcblxyXG4gICAgICAgICAgc2NhbGUgPSBwYXJzZUludCh2YWx1ZSkgLyBkaXN0YW5jZTtcclxuXHJcbiAgICAgICAgICAvKiBTZXR0aW5nIGNhbGlicmF0aW9uIHZhbHVlIHRvIHRoYXQgaXQgY2FuIGJlIGZldGNoZWQgZ2xvYmFsbHkgKi9cclxuICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuc2V0KHtcclxuICAgICAgICAgICAgdmFsdWU6IHNjYWxlLFxyXG4gICAgICAgICAgICB1bml0OiB2bS5jYWxpYnJhdGlvblNjYWxlLnVuaXRcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHZtLmNhbGlicmF0aW9uRGF0YSA9IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCk7XHJcblxyXG4gICAgICAgICAgdm0uc2hvd1BhbmVsID0gdHJ1ZTtcclxuICAgICAgICAgIHZtLnNoYXBlSW5mbyA9IG1ldHJpY3MuZ2V0U2hhcGVJbmZvKCk7XHJcbiAgICAgICAgICBjYWxpYnJhdGVkTGluZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG5cclxuICAgICAgICAgICQoXCIjY2FsaWJyYXRlTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICQoXCIjY2FsaWJyYXRlTW9kYWxcIikub24oXCJoaWRlLmJzLm1vZGFsXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGNhbGlicmF0ZWRMaW5lLmRlc3Ryb3koKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdm0uZGVsZXRlU2hhcGUgPSBmdW5jdGlvbihzaGFwZU9iaikge1xyXG4gICAgICAgIHZhciBzaGFwZSA9IHNoYXBlT2JqID8gc2hhcGVPYmogOiBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgIGlmIChzaGFwZSkge1xyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZSxcclxuICAgICAgICAgICAgICBzaGFwZS5nZXRQYXJlbnQoKSxcclxuICAgICAgICAgICAgICBcImRlbGV0ZVwiXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBzaGFwZS5yZW1vdmUoKTtcclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB2bS5jbG9zZUluZm9XaWRnZXQoKTtcclxuICAgICAgICAgIHZtLmNsb3NlVGV4dEluZm9XaWRnZXQoKTtcclxuICAgICAgICAgIHNlbGVjdGVkU2hhcGUucmVzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5vcGVuSW5mb1dpZGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzaGFwZSA9IHNlbGVjdGVkU2hhcGUuZ2V0KCk7XHJcbiAgICAgICAgdm0uaW5mb1dpZGdldFByb3BzID0ge1xyXG4gICAgICAgICAgbmFtZTogc2hhcGUubmFtZSgpLFxyXG4gICAgICAgICAgY29sb3JUeXBlOiBcInN0cm9rZVwiLFxyXG4gICAgICAgICAgc3Ryb2tlOiBzaGFwZS5zdHJva2UoKSxcclxuICAgICAgICAgIGZpbGw6IHNoYXBlLmZpbGwoKSxcclxuICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2bS5zaGFwZUluZm9XaWRnZXQgPSB0cnVlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uY29sb3JUeXBlcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0eXBlOiBcIlN0cm9rZVwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwic3Ryb2tlXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHR5cGU6IFwiRmlsbFwiLFxyXG4gICAgICAgICAgdmFsdWU6IFwiZmlsbFwiXHJcbiAgICAgICAgfVxyXG4gICAgICBdO1xyXG5cclxuICAgICAgdm0udGV4dENvbG9yVHlwZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogXCJCYWNrZ3JvdW5kXCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJzdHJva2VcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogXCJGb250XCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJmaWxsXCJcclxuICAgICAgICB9XHJcbiAgICAgIF07XHJcblxyXG4gICAgICB2bS5mb250U3R5bGVzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHR5cGU6IFwiTm9ybWFsXCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJub3JtYWxcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogXCJCb2xkXCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJib2xkXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHR5cGU6IFwiSXRhbGljXCIsXHJcbiAgICAgICAgICB2YWx1ZTogXCJpdGFsaWNcIlxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuXHJcbiAgICAgIHZtLndlYlNhZmVGb250cyA9IFtcclxuICAgICAgICBcIkFyaWFsXCIsXHJcbiAgICAgICAgXCJDYWxpYnJpXCIsXHJcbiAgICAgICAgXCJIZWx2ZXRpY2FcIixcclxuICAgICAgICBcIlRpbWVzIE5ldyBSb21hblwiLFxyXG4gICAgICAgIFwiVGltZXNcIixcclxuICAgICAgICBcIkNvdXJpZXIgTmV3XCIsXHJcbiAgICAgICAgXCJDb3VyaWVyXCIsXHJcbiAgICAgICAgXCJWZXJkYW5hXCIsXHJcbiAgICAgICAgXCJHZW9yZ2lhXCIsXHJcbiAgICAgICAgXCJQYWxhdGlub1wiLFxyXG4gICAgICAgIFwiR2FyYW1vbmRcIixcclxuICAgICAgICBcIkJvb2ttYW5cIixcclxuICAgICAgICBcIkNvbWljIFNhbnMgTVNcIixcclxuICAgICAgICBcIlRyZWJ1Y2hldCBNU1wiLFxyXG4gICAgICAgIFwiQXJpYWwgQmxhY2tcIixcclxuICAgICAgICBcIkltcGFjdFwiXHJcbiAgICAgIF07XHJcblxyXG4gICAgICB2bS5vcGVuVGV4dEluZm9XaWRnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgIHZtLnRleHRJbmZvV2lkZ2V0UHJvcHMgPSB7XHJcbiAgICAgICAgICBjb2xvclR5cGU6IFwic3Ryb2tlXCIsXHJcbiAgICAgICAgICB0ZXh0OiBzaGFwZS50ZXh0KCksXHJcbiAgICAgICAgICBmb250U2l6ZTogc2hhcGUuZm9udFNpemUoKSxcclxuICAgICAgICAgIGZvbnRTdHlsZTogc2hhcGUuZm9udFN0eWxlKCksXHJcbiAgICAgICAgICBmb250RmFtaWx5OiBzaGFwZS5mb250RmFtaWx5KCksXHJcbiAgICAgICAgICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxyXG4gICAgICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlLnN0cm9rZVdpZHRoKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZtLnRleHRJbmZvV2lkZ2V0ID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5jaGFuZ2VUZXh0SW5mbyA9IGZ1bmN0aW9uKHByb3AsIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICBzaGFwZVtwcm9wXSh2YWx1ZSk7XHJcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmluZm9XaWRnZXRTdHJva2UgPSBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgIC8vIHZhciBzdHJva2VIaXN0b3J5ID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlUHJvcGVydHlIaXN0b3J5KClcclxuICAgICAgICAvLyB2YXIgcHJvcHMgPSB7XHJcbiAgICAgICAgLy8gICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxyXG4gICAgICAgIC8vICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgIC8vICAgc3Ryb2tlV2lkdGg6IHNoYXBlLnN0cm9rZVdpZHRoKClcclxuICAgICAgICAvLyB9O1xyXG4gICAgICAgIC8vIHN0cm9rZUhpc3RvcnkuYWRkKHByb3BzKTtcclxuICAgICAgICAvLyB2YXIgZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgIGlmKGRvbmUpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgdmFyIGVuZFByb3BzID0ge1xyXG4gICAgICAgIC8vICAgICAgIHN0cm9rZTogc2hhcGUuc3Ryb2tlKCksXHJcbiAgICAgICAgLy8gICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgIC8vICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXHJcbiAgICAgICAgLy8gICAgIH07XHJcbiAgICAgICAgLy8gICAgIGFjdGlvblN0YXRlcy5wdXNoKGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKHN0YWdlLCBzaGFwZSwgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSwgJ3NoYXBlUHJvcHMnLCBzdHJva2VIaXN0b3J5LmFkZChlbmRQcm9wcykpKTtcclxuICAgICAgICAvLyAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgLy8gICB9XHJcbiAgICAgICAgLy8gfSwgMTAwMCk7XHJcblxyXG4gICAgICAgIHNoYXBlLnN0cm9rZVdpZHRoKHZhbCk7XHJcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciBzaGFwZVByb3BIaXN0b3J5ID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlUHJvcGVydHlIaXN0b3J5KCk7XHJcblxyXG4gICAgICB2bS5pbmZvV2lkZ2V0RXZlbnRzID0ge1xyXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbihhcGksIGNvbG9yLCAkZXZlbnQpIHtcclxuICAgICAgICAgIHZhciBzaGFwZSA9IHNlbGVjdGVkU2hhcGUuZ2V0KCk7XHJcbiAgICAgICAgICBpZiAodm0uaW5mb1dpZGdldFByb3BzLmNvbG9yVHlwZSA9PT0gXCJmaWxsXCIpIHtcclxuICAgICAgICAgICAgc2hhcGUuZmlsbChjb2xvcik7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHZtLmluZm9XaWRnZXRQcm9wcy5jb2xvclR5cGUgPT09IFwic3Ryb2tlXCIpIHtcclxuICAgICAgICAgICAgc2hhcGUuc3Ryb2tlKGNvbG9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKiBmb3Igc2hhcGUgdW5kbyBhbmQgcmVkbyAqL1xyXG4gICAgICAgIG9uT3BlbjogZnVuY3Rpb24oYXBpLCBjb2xvciwgJGV2ZW50KSB7XHJcbiAgICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgICAgdmFyIHByb3BzID0ge1xyXG4gICAgICAgICAgICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxyXG4gICAgICAgICAgICBmaWxsOiBzaGFwZS5maWxsKCksXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgc2hhcGVQcm9wSGlzdG9yeS5hZGQocHJvcHMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DbG9zZTogZnVuY3Rpb24oYXBpLCBjb2xvciwgJGV2ZW50KSB7XHJcbiAgICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xyXG4gICAgICAgICAgdmFyIHByb3BzID0ge1xyXG4gICAgICAgICAgICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxyXG4gICAgICAgICAgICBmaWxsOiBzaGFwZS5maWxsKCksXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlLFxyXG4gICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXHJcbiAgICAgICAgICAgICAgXCJzaGFwZVByb3BzXCIsXHJcbiAgICAgICAgICAgICAgc2hhcGVQcm9wSGlzdG9yeS5hZGQocHJvcHMpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICAvKiBSZXNldCBzaGFwZSBwcm9wcyBoaXN0b3J5ICovXHJcbiAgICAgICAgICBzaGFwZVByb3BIaXN0b3J5ID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlUHJvcGVydHlIaXN0b3J5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0udGV4dEluZm9XaWRnZXRFdmVudHMgPSB7XHJcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKGFwaSwgY29sb3IsICRldmVudCkge1xyXG4gICAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICAgIGlmICh2bS50ZXh0SW5mb1dpZGdldFByb3BzLmNvbG9yVHlwZSA9PT0gXCJmaWxsXCIpIHtcclxuICAgICAgICAgICAgc2hhcGUuZmlsbChjb2xvcik7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHZtLnRleHRJbmZvV2lkZ2V0UHJvcHMuY29sb3JUeXBlID09PSBcInN0cm9rZVwiKSB7XHJcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gc2hhcGUuZ2V0UGFyZW50KCkuZmluZChcIkxpbmVcIik7XHJcbiAgICAgICAgICAgIHdyYXBwZXIuZmlsbChjb2xvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyogZm9yIHNoYXBlIHVuZG8gYW5kIHJlZG8gKi9cclxuICAgICAgICBvbk9wZW46IGZ1bmN0aW9uKGFwaSwgY29sb3IsICRldmVudCkge1xyXG4gICAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICAgIHZhciBwcm9wcyA9IHtcclxuICAgICAgICAgICAgc3Ryb2tlOiBzaGFwZS5zdHJva2UoKSxcclxuICAgICAgICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGUuc3Ryb2tlV2lkdGgoKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHNoYXBlUHJvcEhpc3RvcnkuYWRkKHByb3BzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uKGFwaSwgY29sb3IsICRldmVudCkge1xyXG4gICAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICAgIHZhciBwcm9wcyA9IHtcclxuICAgICAgICAgICAgc3Ryb2tlOiBzaGFwZS5zdHJva2UoKSxcclxuICAgICAgICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGUuc3Ryb2tlV2lkdGgoKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxyXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcclxuICAgICAgICAgICAgICBzdGFnZSxcclxuICAgICAgICAgICAgICBzaGFwZSxcclxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxyXG4gICAgICAgICAgICAgIFwic2hhcGVQcm9wc1wiLFxyXG4gICAgICAgICAgICAgIHNoYXBlUHJvcEhpc3RvcnkuYWRkKHByb3BzKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgLyogUmVzZXQgc2hhcGUgcHJvcHMgaGlzdG9yeSAqL1xyXG4gICAgICAgICAgc2hhcGVQcm9wSGlzdG9yeSA9IGNvbW1vblZQRmFjdG9yeS5zaGFwZVByb3BlcnR5SGlzdG9yeSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmNsb3NlSW5mb1dpZGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZtLnNoYXBlSW5mb1dpZGdldCA9IGZhbHNlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uY2xvc2VUZXh0SW5mb1dpZGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcclxuICAgICAgICBpZiAodGV4dCAmJiB0ZXh0Lm5hbWUoKSA9PT0gXCJ0ZXh0XCIpIHtcclxuICAgICAgICAgIHZhciBncm91cCA9IHRleHQuZ2V0UGFyZW50KCk7XHJcbiAgICAgICAgICB2YXIgd3JhcHBlciA9IGdyb3VwLmZpbmQoXCJMaW5lXCIpWzBdO1xyXG4gICAgICAgICAgd3JhcHBlci5zdHJva2UobnVsbCk7XHJcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdm0udGV4dEluZm9XaWRnZXQgPSBmYWxzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIEVuZCBvZiBzaGFwZSBldmVudHMgKi9cclxuXHJcbiAgICAgIC8qIFBhbiBpbWFnZSAqL1xyXG4gICAgICB2bS5jdXJyZW50UGFuU3RhdGUgPSB0cnVlO1xyXG4gICAgICB2bS5wYW5JbWFnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZtLmN1cnJlbnRQYW5TdGF0ZSA9IGJhc2VMYXllci5kcmFnZ2FibGUoKTtcclxuICAgICAgICB2bS5jdXJyZW50UGFuU3RhdGVcclxuICAgICAgICAgID8gKGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCIpXHJcbiAgICAgICAgICA6IChkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwibW92ZVwiKTtcclxuICAgICAgICBiYXNlTGF5ZXIuZHJhZ2dhYmxlKCF2bS5jdXJyZW50UGFuU3RhdGUpO1xyXG4gICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBVbmRvL1JlZG8gKi9cclxuXHJcbiAgICAgIHZtLnVuZG9PclJlZG8gPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICAgICAgLyogdHlwZSAwIC0gdW5kbyAsIDEgLSByZWRvICovXHJcbiAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICB0eXBlID09PSAxID8gYWN0aW9uU3RhdGVzLnJlZG8oKSA6IGFjdGlvblN0YXRlcy51bmRvKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBEb3dubG9hZHMgKi9cclxuXHJcbiAgICAgIHZtLmRvd25sb2FkSW1hZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGF0YVVSTCA9IHN0YWdlLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgICAgbGluay5kb3dubG9hZCA9IFwicm9vZnBsYW5faW1hZ2VfXCIgKyBEYXRlLm5vdygpO1xyXG4gICAgICAgIGxpbmsuaHJlZiA9IGRhdGFVUkw7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAgICAgICBsaW5rLmNsaWNrKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmRvd25sb2FkRmlsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBqc29uID0gc3RhZ2UudG9KU09OKCk7XHJcbiAgICAgICAgdmFyIGZpbGUgPSBuZXcgQmxvYihbanNvbl0sIHtcclxuICAgICAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSBcInJvb2ZwbGFuX2pzb25fXCIgKyBEYXRlLm5vdygpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgbGluay5jbGljaygpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5zYXZlUm9vZlBsYW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIHZhciBqc29uID0gc3RhZ2UudG9KU09OKCk7XHJcblxyXG4gICAgICAgIC8qIEdldCBhc3NvY2lhdGlvbnMgYW5kIHByb2Nlc3MgdGhlbSBiZWZvcmUgc2F2aW5nICovXHJcblxyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5zYXZlUm9vZlBsYW4ocm9vZlBsYW4uX2lkLCB7XHJcbiAgICAgICAgICAgIGpzb25TdHJpbmc6IGpzb24sXHJcbiAgICAgICAgICAgIGNhbGlicmF0aW9uOiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLFxyXG4gICAgICAgICAgICBjb3VudERhdGE6IHNoYXBlc1ZQRmFjdG9yeS5nZXRTaGFwZUlkKCksXHJcbiAgICAgICAgICAgIGFzc29jaWF0aW9uczogdm0uYXNzb2NpYXRpb25zLmdldEFzc29jaWF0aW9uc0ZvclNhdmUoKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgLmdldFByb2plY3RSb29mUGxhbnMobG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJyb29mUGxhblByb2plY3RcIikpXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcInJvb2ZQbGFuc1wiLCByZXNwLmRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBQcm9jZXNzIG1ldGhvZHMgKi9cclxuXHJcbiAgICAgIHZtLmhpZGVQcm9jZXNzID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIHByb2Nlc3NTdG9yZS5oaWRlUHJvY2VzcyhpbmRleCk7XHJcbiAgICAgIH07XHJcbiAgICAgIHZtLnNob3dQcm9jZXNzID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICBwcm9jZXNzU3RvcmUuc2hvd1Byb2Nlc3MoaW5kZXgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uYWRkUHJvY2VzcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHByb2Nlc3NTdG9yZS5jcmVhdGVQcm9jZXNzKCk7XHJcbiAgICAgICAgdm0ucHJvY2Vzc2VzID0gcHJvY2Vzc1N0b3JlLmdldFByb2Nlc3NlcygpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdm0uc2VsZWN0TGF5ZXIgPSBmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgdm0uc2VsZWN0ZWRJbmRleCA9IGk7XHJcbiAgICAgICAgcHJvY2Vzc1N0b3JlLnNldEN1cnJlbnQoaSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKiBJbml0aWFsbHkgbG9hZCAxc3QgbGF5ZXIgKi9cclxuICAgICAgdm0uc2VsZWN0TGF5ZXIoMCk7XHJcblxyXG4gICAgICB2bS5zZWxlY3RPclVuc2VsZWN0ID0gZnVuY3Rpb24oc2hhcGUpIHtcclxuICAgICAgICBzaGFwZS5zZWxlY3RlZFxyXG4gICAgICAgICAgPyBzZWxlY3Rpb25TdG9yZS5wdXNoKHNoYXBlKVxyXG4gICAgICAgICAgOiBzZWxlY3Rpb25TdG9yZS5wdWxsKHNoYXBlLm5hbWUoKSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5sYXllckljb25OYW1lID0gZnVuY3Rpb24oc2hhcGVOYW1lKSB7XHJcbiAgICAgICAgaWYgKC9SZWN0Ki8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJzcXVhcmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKC9FbGxpcHNlKi8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJjaXJjbGVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKC9wb2x5Z29uKi8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJwb2x5Z29uXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgvbGluZSovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgcmV0dXJuIFwibGluZVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoL3RleHRHcm91cCovLnRlc3Qoc2hhcGVOYW1lKSkge1xyXG4gICAgICAgICAgcmV0dXJuIFwidGV4dFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoL2ZyZWVIYW5kKi8udGVzdChzaGFwZU5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJwZW5jaWxcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5oaWRlU2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGVkU2hhcGVzID0gc2VsZWN0aW9uU3RvcmUuZ2V0KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRTaGFwZXMpO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xyXG4gICAgICAgICAgc2hhcGUudmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmRlbGV0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxlY3RlZFNoYXBlcyA9IHNlbGVjdGlvblN0b3JlLmdldCgpO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xyXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXHJcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxyXG4gICAgICAgICAgICAgIHN0YWdlLFxyXG4gICAgICAgICAgICAgIHNoYXBlLFxyXG4gICAgICAgICAgICAgIHNoYXBlLmdldFBhcmVudCgpLFxyXG4gICAgICAgICAgICAgIFwiZGVsZXRlXCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHNoYXBlLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJhc2VMYXllci5kcmF3KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2bS5sb2FkTWF0ZXJpYWwgPSBzaGFwZVByb3AgPT4ge1xyXG4gICAgICAgICQoXCIjbG9hZE1hdGVyaWFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZtLmNyZWF0ZUFzc29jaWF0aW9uID0gKHNoYXBlSWQsIGVudGl0eUlkLCB0eXBlKSA9PiB7XHJcbiAgICAgICAgdm0uYXNzb2NpYXRpb25zLmNyZWF0ZUFzc29jaWF0aW9uKHNoYXBlSWQsIGVudGl0eUlkLCB0eXBlKTtcclxuICAgICAgICAkKFwiI2xvYWRNYXRlcmlhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAkc2NvcGUuJG9uKFwic2VsZWN0ZWRNYXRlcmlhbFwiLCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2VsZWN0ZWRNYXRlcmlhbC0tLS1cIiwgZGF0YSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogXHJcbiAgICAgICAgICBFbmQgb2YgdmlldyBmdW5jdGlvbnNcclxuICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIH1cclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZGlyZWN0aXZlKFwiY2FudmFzUGRmXCIsIGNhbnZhc1BkZik7XHJcblxyXG4gIGZ1bmN0aW9uIGNhbnZhc1BkZigkcm9vdFNjb3BlLCBhcGlGYWN0b3J5LCAkdGltZW91dCwgZ2xvYmFscywgTm90aWZpY2F0aW9uKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogXCJBXCIsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY3VycmVudDogXCI9XCJcclxuICAgICAgfSxcclxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG4gICAgICAgIGdsb2JhbHMucmVuZGVyUGFnZSgkc2NvcGUuY3VycmVudCwgZWxlbVswXSk7XHJcbiAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5kaXJlY3RpdmUoXCJmaWxlUGlja2VyXCIsIGZpbGVQaWNrZXIpO1xyXG5cclxuICBmdW5jdGlvbiBmaWxlUGlja2VyKCRyb290U2NvcGUsIGFwaUZhY3RvcnksICR0aW1lb3V0LCBnbG9iYWxzLCBOb3RpZmljYXRpb24pIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiBcIkVcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2ZpbGVQaWNrZXIuaHRtbFwiLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGZvbGRlcnM6IFwiPVwiLFxyXG4gICAgICAgIHNvdXJjZTogXCI9XCIsXHJcbiAgICAgICAgc291cmNlZmlsZTogXCI9XCIsXHJcbiAgICAgICAgc291cmNlZGlyOiBcIj1cIlxyXG4gICAgICB9LFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW0sIGF0dHJzKSB7XHJcbiAgICAgICAgbGV0IGZvbGRlclBhdGhzID0gW107XHJcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0U3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICAgICAgJHNjb3BlLmZpbGVzID0gW107XHJcbiAgICAgICAgJHNjb3BlLmZvbGRlck5hbWUgPSBcIlJvb3QgRm9sZGVyXCI7XHJcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRGb2xkZXIgPSBcIlwiO1xyXG4gICAgICAgICRzY29wZS5zZWxlY3RlZEZvbGRlciA9IG51bGw7XHJcbiAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICRzY29wZS52aWV3Rm9sZGVyID0gZm9sZGVyID0+IHtcclxuICAgICAgICAgIGxldCBuYW1lID0gZm9sZGVyLm5hbWU7XHJcbiAgICAgICAgICBmb2xkZXJQYXRocy5wdXNoKGZvbGRlcik7XHJcbiAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRGb2xkZXI7XHJcbiAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgIC52aWV3SGllcmFyY2h5KGZvbGRlci5faWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEZvbGRlciA9IGZvbGRlcjtcclxuICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudEZvbGRlciA9IGZvbGRlci5uYW1lO1xyXG4gICAgICAgICAgICAgICRzY29wZS5mb2xkZXJzID0gcmVzcC5kYXRhLmZvbGRlcnM7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZpbGVzID0gcmVzcC5kYXRhLmZpbGVzO1xyXG4gICAgICAgICAgICAgICRzY29wZS5icmVhZENydW1icyA9IHJlc3AuZGF0YS5icmVhZGNydW1icztcclxuICAgICAgICAgICAgICAkc2NvcGUuZm9sZGVyTmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb2xkZXJOYW1lID09IFwiUm9vdCBGb2xkZXJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5zZWxlY3RGaWxlID0gKGZpbGUsIGJyZWFkQ3J1bWJzKSA9PiB7XHJcbiAgICAgICAgICBmaWxlLmJyZWFkQ3J1bWJzID0gYnJlYWRDcnVtYnM7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJsb2FkZXJcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJzZWxlY3RlZFJvb2ZQbGFuRG9jXCIsIGZpbGUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5iYWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgZm9sZGVyUGF0aHMucG9wKCk7XHJcblxyXG4gICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBmb2xkZXJQYXRoc1tmb2xkZXJQYXRocy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgIGNvbnN0IGFwaU5hbWUgPSBwcmV2aW91cyA/IFwidmlld0hpZXJhcmNoeVwiIDogXCJnZXRIaWVyYXJjaHlcIjtcclxuICAgICAgICAgIGNvbnN0IHBhcmFtID0gcHJldmlvdXMgPyBwcmV2aW91cy5faWQgOiBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkO1xyXG5cclxuICAgICAgICAgIGFwaUZhY3RvcnlbYXBpTmFtZV0ocGFyYW0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEZvbGRlciA9IHByZXZpb3VzIHx8IG51bGw7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRGb2xkZXIgPSBwcmV2aW91cyA/IHByZXZpb3VzLm5hbWUgOiBudWxsO1xyXG4gICAgICAgICAgICAgICRzY29wZS5mb2xkZXJzID0gcHJldmlvdXNcclxuICAgICAgICAgICAgICAgID8gcmVzcC5kYXRhLmZvbGRlcnNcclxuICAgICAgICAgICAgICAgIDogcmVzcC5kYXRhLmRhdGEuaGllcmFyY2hpZXM7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZpbGVzID0gcHJldmlvdXMgPyByZXNwLmRhdGEuZmlsZXMgOiBbXTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZm9sZGVyTmFtZSA9IHByZXZpb3VzID8gcHJldmlvdXMubmFtZSA6IFwiUm9vdCBGb2xkZXJcIjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb2xkZXJOYW1lID09IFwiUm9vdCBGb2xkZXJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5tb3ZlVG8gPSAoZm9sZGVyLCBzb3VyY2UpID0+IHtcclxuICAgICAgICAgIGlmICghZm9sZGVyKSB7XHJcbiAgICAgICAgICAgIC8qIHJldHVybiBpZiBubyBmb2xkZXIgaXMgc2VsZWN0ZWQgKi9cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICBhc3NldElkOiAkc2NvcGUuc291cmNlZmlsZS5faWQsXHJcbiAgICAgICAgICAgIHNvdXJjZUlkOiBzb3VyY2UuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBkZXN0SWQ6IGZvbGRlci5faWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICAvKiBTdGVwIDE6IE1vdmUgYXNzZXQgKi9cclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLm1vdmVBc3NldHMocGF5bG9hZClcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgLyogU3RlcCAyOiByZW1vdmUgZmlsZSBmcm9tIHRoZSBzb3VyY2UgZGlyIGlmIHN1Y2Nlc3NmdWwgKi9cclxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNvdXJjZWRpcikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvdXJjZWRpciA9ICRzY29wZS5zb3VyY2VkaXIuZmlsdGVyKFxyXG4gICAgICAgICAgICAgICAgICB4ID0+IHguX2lkICE9PSAkc2NvcGUuc291cmNlZmlsZS5faWRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiRmlsZSBNb3ZlZCBTdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAgICAgJChcIiNtb3ZlVG9cIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZSgnYXV0b0NvbXBsZXRlJywgZnVuY3Rpb24oJHRpbWVvdXQpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlFbGVtZW50LmF1dG9jb21wbGV0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBzY29wZVtpQXR0cnMudWlJdGVtc10sXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaUVsZW1lbnQudHJpZ2dlcignaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH0pKCk7XHJcbiAgXHJcbiAgKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoJ2VyclNyYycsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgZWxlbWVudC5iaW5kKCdlcnJvcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGF0dHJzLnNyYyAhPSBhdHRycy5lcnJTcmMpIHtcclxuICAgICAgICAgICAgYXR0cnMuJHNldCgnc3JjJywgYXR0cnMuZXJyU3JjKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59KSgpO1xyXG4gICIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZGlyZWN0aXZlKFwibWF0ZXJpYWxQaWNrZXJcIiwgbWF0ZXJpYWxQaWNrZXIpO1xyXG5cclxuICBmdW5jdGlvbiBtYXRlcmlhbFBpY2tlcihcclxuICAgICRyb290U2NvcGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgTm90aWZpY2F0aW9uXHJcbiAgKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogXCJFXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9tYXRlcmlhbFBpY2tlci5odG1sXCIsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgbWF0ZXJpYWxUeXBlOiBcIj1cIixcclxuICAgICAgICBzZWxlY3RlZE1hdGVyaWFsOiBcIj1cIixcclxuICAgICAgICBjdXJyZW50U2hhcGU6IFwiPVwiLFxyXG4gICAgICAgIGFzc29jaWF0aW9uczogXCI9XCJcclxuICAgICAgfSxcclxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG4gICAgICAgIC8vIGxldCBtYXRlcmlhbFR5cGUgPSBhbmd1bGFyLmNvcHkobWF0ZXJpYWxUeXBlLnR5cGUpO1xyXG5cclxuICAgICAgICAvKiAkc2NvcGUuJHdhdGNoKCdtYXRlcmlhbFR5cGUnLChuZXdWYWwsIG9sZFZhbCkgPT4ge1xyXG4gICAgICAgICAgaWYob2xkVmFsLnR5cGUgPT09IG5ld1ZhbC50eXBlKSByZXR1cm47XHJcbiAgICAgICAgICAvLyBnZXQgTWF0ZXJpYWwgTGlzdFxyXG4gICAgICAgICAgaWYgKG5ld1ZhbC50eXBlID09ICdtYXRlcmlhbCcpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1hdGVyaWFsTGlzdCA9IFtdXHJcbiAgICAgICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbE1hdGVyaWFscygpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm1hdGVyaWFsTGlzdCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICB9KS5jYXRjaChlID0+IHsgfSk7XHJcblxyXG4gICAgICAgICAgfSBlbHNlIGlmIChuZXdWYWwudHlwZSA9PSAnRENQJykge1xyXG4gICAgICAgICAgICAkc2NvcGUubWF0ZXJpYWxMaXN0ID0gW11cclxuICAgICAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsQ29tYm9NYXRlcmlhbHMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICRzY29wZS5tYXRlcmlhbExpc3QgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7IH0pO1xyXG5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tYXRlcmlhbExpc3QgPSBbXVxyXG4gICAgICAgICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxFcXVpcG1lbnRzKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAkc2NvcGUubWF0ZXJpYWxMaXN0ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4geyB9KTtcclxuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdHJ1ZSkgKi9cclxuXHJcbiAgICAgICAgLy8gZ2V0IE1hdGVyaWFsIExpc3RcclxuICAgICAgICAkc2NvcGUubWF0ZXJpYWxMaXN0ID0gW107XHJcbiAgICAgICAgJHNjb3BlLmVudGl0eVR5cGUgPSAxO1xyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5saXN0QWxsTWF0ZXJpYWxzKClcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAkc2NvcGUubWF0ZXJpYWxMaXN0ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE1hdGVyaWFsID0gYW5ndWxhci5jb3B5KCRzY29wZS5tYXRlcmlhbExpc3RbMF0pO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHt9KTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IERDUCBMaXN0XHJcbiAgICAgICAgJHNjb3BlLmRjcExpc3QgPSBbXTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAubGlzdEFsbENvbWJvTWF0ZXJpYWxzKClcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAkc2NvcGUuZGNwTGlzdCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHt9KTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IEVxdWlvbWVudCBMaXN0XHJcbiAgICAgICAgJHNjb3BlLmVxdWlwbWVudExpc3QgPSBbXTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAubGlzdEFsbEVxdWlwbWVudHMoKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICRzY29wZS5lcXVpcG1lbnRMaXN0ID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge30pO1xyXG5cclxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbEluZm8gPSBtYXRlcmlhbCA9PiB7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJzZWxlY3RlZE1hdGVyaWFsXCIsIG1hdGVyaWFsKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKG1hdGVyaWFsKTtcclxuICAgICAgICAgICRzY29wZS5tYXRlcmlhbEltYWdlcyA9IG1hdGVyaWFsO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5tYXRlcmlhbFNlbGVjdGlvbiA9IGl0ZW0gPT4ge1xyXG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTWF0ZXJpYWwgPSBpdGVtO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5yZXNldFNlbGVjdGVkTWF0ZXJpYWwgPSB2YWwgPT4ge1xyXG4gICAgICAgICAgaWYgKCEkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuY3VycmVudFNoYXBlKTtcclxuICAgICAgICAgIGlmICh2YWwgPT0gMCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCA9IGFuZ3VsYXIuY29weSgkc2NvcGUubWF0ZXJpYWxMaXN0WzBdKTtcclxuICAgICAgICAgICAgJHNjb3BlLmVudGl0eVR5cGUgPSB2YWwgKyAxO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh2YWwgPT0gMSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCA9IGFuZ3VsYXIuY29weSgkc2NvcGUuZGNwTGlzdFswXSk7XHJcbiAgICAgICAgICAgICRzY29wZS5lbnRpdHlUeXBlID0gdmFsICsgMTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE1hdGVyaWFsID0gYW5ndWxhci5jb3B5KCRzY29wZS5lcXVpcG1lbnRMaXN0WzBdKTtcclxuICAgICAgICAgICAgJHNjb3BlLmVudGl0eVR5cGUgPSB2YWwgKyAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5hc3NpZ25NYXRlcmlhbCA9IChzaGFwZUlkLCBlbnRpdHlJZCwgdHlwZSkgPT4ge1xyXG4gICAgICAgICAgJChcIiNsb2FkTWF0ZXJpYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgJHNjb3BlLmFzc29jaWF0aW9ucy5jcmVhdGVBc3NvY2lhdGlvbihzaGFwZUlkLCBlbnRpdHlJZCwgdHlwZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgLyogQ3VycmVudHkgY29udmVydG9yICovXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmlsdGVyKFwiY29udmVydEN1cnJlbmN5XCIsIGNvbnZlcnRDdXJyZW5jeSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbnZlcnRDdXJyZW5jeSgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgY29udmVyc2lvblJhdGUpIHtcclxuICAgICAgaWYgKCFpbnB1dCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBpbnB1dCAqIGNvbnZlcnNpb25SYXRlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyogUm91bmQgbnVtYmVyICovXHJcblxyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZpbHRlcihcInJvdW5kTnVtXCIsIHJvdW5kTnVtKTtcclxuXHJcbiAgZnVuY3Rpb24gcm91bmROdW0oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHBsYWNlKSB7XHJcbiAgICAgIGlmICghaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gTnVtYmVyKGlucHV0KS50b0ZpeGVkKHBsYWNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qIEZldGNoIHRodW1ibmFpbCAqL1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5maWx0ZXIoXCJmZXRjaFRodW1ibmFpbFwiLCBmZXRjaFRodW1ibmFpbCk7XHJcblxyXG4gIGZ1bmN0aW9uIGZldGNoVGh1bWJuYWlsKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XHJcbiAgICAgIGlmICghaW5wdXQpIHJldHVybjtcclxuICAgICAgcmV0dXJuIC9jbG91ZGluYXJ5Ly50ZXN0KGlucHV0LnNlY3VyZV91cmwpXHJcbiAgICAgICAgPyBpbnB1dC5zZWN1cmVfdXJsLnJlcGxhY2UoL1xcLnBkZi8sIFwiLnBuZ1wiKVxyXG4gICAgICAgIDogaW5wdXQudGh1bWJuYWlsO1xyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiJdfQ==
